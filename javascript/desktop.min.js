/*! For license information please see desktop.min.js.LICENSE */ ! function (e) {
    var t = {};

    function n(i) {
        if (t[i]) return t[i].exports;
        var r = t[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return e[i].call(r.exports, r, r.exports, n), r.l = !0, r.exports
    }
    n.m = e, n.c = t, n.d = function (e, t, i) {
        n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: i
        })
    }, n.r = function (e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }, n.t = function (e, t) {
        if (1 & t && (e = n(e)), 8 & t) return e;
        if (4 & t && "object" == typeof e && e && e.__esModule) return e;
        var i = Object.create(null);
        if (n.r(i), Object.defineProperty(i, "default", {
                enumerable: !0,
                value: e
            }), 2 & t && "string" != typeof e)
            for (var r in e) n.d(i, r, function (t) {
                return e[t]
            }.bind(null, r));
        return i
    }, n.n = function (e) {
        var t = e && e.__esModule ? function () {
            return e.default
        } : function () {
            return e
        };
        return n.d(t, "a", t), t
    }, n.o = function (e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }, n.p = "", n(n.s = 273)
}([function (e, t, n) {
    "use strict";
    var i = n(3),
        r = n.n(i),
        o = n(38),
        a = n.n(o);
    t.a = new function e() {
        r()(this, e), this.md = new a.a(window.navigator.userAgent), this.IOS = this.md.is("iOS"), this.ANDROID = this.md.is("AndroidOS"), this.IS_IE = window.navigator.userAgent.indexOf("MSIE ") > 0 || !!window.navigator.userAgent.match(/Trident.*rv\:11\./), this.IS_LTE_IE_10 = void 0 !== Function("/*@cc_on return document.documentMode===10@*/")(), this.IS_SAFARI = !!window.navigator.userAgent.match(/Version\/[\d\.]+.*Safari/), this.IS_CHROME = /Chrome/i.test(window.navigator.userAgent), this.IS_FF = window.navigator.userAgent.toLowerCase().indexOf("firefox") > -1, this.getOS = function () {
            var e = window.navigator.userAgent,
                t = window.navigator.platform,
                n = null;
            return -1 !== ["Macintosh", "MacIntel", "MacPPC", "Mac68K"].indexOf(t) ? n = "Mac OS" : -1 !== ["iPhone", "iPad", "iPod"].indexOf(t) ? n = "iOS" : -1 !== ["Win32", "Win64", "Windows", "WinCE"].indexOf(t) ? n = "Windows" : /Android/.test(e) ? n = "Android" : !n && /Linux/.test(t) && (n = "Linux"), n
        }, this.isTouchDevice = function () {
            try {
                return document.createEvent("TouchEvent"), !0
            } catch (e) {
                return !1
            }
        }, this.MOBILE = this.md.phone(), this.TABLET = this.md.tablet() || this.isTouchDevice() && "Mac OS" === this.getOS(), this.DESKTOP = !this.MOBILE && !this.TABLET, this.resources = {
            images: [],
            textures: [],
            sounds: [],
            videos: [],
            models: [],
            fontsTextures: [],
            jsons: [],
            getImage: function (e) {
                return this.images.find((function (t) {
                    return t.id === e
                }))
            },
            getTexture: function (e) {
                return this.textures.find((function (t) {
                    return t.id === e
                }))
            },
            getSound: function (e) {
                return this.sounds.find((function (t) {
                    return t.id === e
                }))
            },
            getVideo: function (e) {
                return this.videos.find((function (t) {
                    return t.id === e
                }))
            },
            getModel: function (e) {
                return this.models.find((function (t) {
                    return t.id === e
                }))
            },
            getFontsTexture: function (e) {
                return this.fontsTextures.find((function (t) {
                    return t.id === e
                }))
            },
            getJSON: function (e) {
                return this.jsons.find((function (t) {
                    return t.id === e
                }))
            }
        }, this.global = {}
    }
}, function (e, t, n) {
    "use strict";

    function i(e) {
        var t = document.createElement("div");
        return t.innerHTML = e, t.firstChild
    }
    var r = function (e) {
            for (var t = e.childNodes, n = 0; n < t.length; n++)
                if (t[n].nodeType === window.Node.TEXT_NODE) {
                    var i = t[n].textContent,
                        r = document.createElement("div");
                    r.classList.add("js-letters__container"), r.classList.add("letters__container");
                    for (var o = i.split(" "), a = 0; a < o.length; a++) {
                        var s = document.createElement("div");
                        s.classList.add("js-textContainer__word"), s.classList.add("textContainer__word");
                        for (var l = 0; l < o[a].length; l++) {
                            var c = document.createElement("span");
                            c.classList.add("js-textContainer__letter"), c.classList.add("textContainer__letter"), c.innerHTML = o[a][l], s.appendChild(c)
                        }
                        r.appendChild(s)
                    }
                    t[n].parentNode.replaceChild(r, t[n])
                } return t
        },
        o = function (e, t) {
            e.style.webkitTransform = t, e.style.MozTransform = t, e.style.msTransform = t, e.style.OTransform = t, e.style.transform = t
        },
        a = function (e) {
            for (var t = e.childNodes, n = 0; n < t.length; n++)
                if (t[n].nodeType === window.Node.TEXT_NODE) {
                    var i = t[n].textContent,
                        r = document.createElement("div");
                    r.classList.add("js-letters__container"), r.classList.add("letters__container");
                    for (var o = i.split(" "), a = 0; a < o.length; a++) {
                        var s = document.createElement("div");
                        s.classList.add("js-textContainer__word"), s.classList.add("textContainer__word");
                        var l = document.createElement("div");
                        l.classList.add("js-textContainer__subWord"), l.classList.add("textContainer__subWord"), l.textContent = o[a], s.appendChild(l), r.appendChild(s)
                    }
                    t[n].parentNode.replaceChild(r, t[n])
                } return t
        };
    n.d(t, "a", (function () {
        return i
    })), n.d(t, "b", (function () {
        return r
    })), n.d(t, "c", (function () {
        return o
    })), n.d(t, "d", (function () {
        return a
    }))
}, function (e, t) {
    e.exports = function (e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
}, function (e, t) {
    e.exports = function (e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }
}, function (e, t) {
    function n(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }
    e.exports = function (e, t, i) {
        return t && n(e.prototype, t), i && n(e, i), e
    }
}, function (e, t, n) {
    "use strict";

    function i(e, t, n, i) {
        var r = Object.getOwnPropertyDescriptor(e, n);
        if (r) {
            var o = r.value;
            r.value = function () {
                if (this[t] !== i) {
                    this[t] = i;
                    for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++) n[r] = arguments[r];
                    o.call.apply(o, [this].concat(n))
                }
            }, Object.defineProperty(e, n, r)
        } else e[n] = function () {
            this[t] !== i && (this[t] = i)
        }
    }

    function r(e, t, n, r) {
        return function (o) {
            var a = "_".concat(e);
            o.prototype[a] = r, i(o.prototype, a, t, !0), i(o.prototype, a, n, !1), o.prototype[e] = function () {
                return this[a]
            }
        }
    }

    function o() {
        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return r("visible", "show", "hide", e)
    }

    function a() {
        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return r("active", "activate", "deactivate", e)
    }

    function s() {
        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return r("enabled", "enable", "disable", e)
    }

    function l() {
        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return r("focused", "focus", "blur", e)
    }

    function c() {
        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
        return r("opened", "open", "close", e)
    }
    n.d(t, "e", (function () {
        return o
    })), n.d(t, "a", (function () {
        return a
    })), n.d(t, "b", (function () {
        return s
    })), n.d(t, "c", (function () {
        return l
    })), n.d(t, "d", (function () {
        return c
    }))
}, function (e, t, n) {
    "use strict";
    var i = Object.defineProperty;

    function r(e, t, n) {
        var r = n.configurable,
            o = n.enumerable,
            a = n.initializer,
            s = n.value;
        return {
            configurable: r,
            enumerable: o,
            get: function () {
                if (this !== e) {
                    var n = a ? a.call(this) : s;
                    return i(this, t, {
                        configurable: r,
                        enumerable: o,
                        writable: !0,
                        value: n
                    }), n
                }
            },
            set: E(t)
        }
    }

    function o() {
        for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
        return b(r, t)
    }
    var a, s, l, c, u, h, d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
        return typeof e
    } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };

    function p(e, t, n, i) {
        n && Object.defineProperty(e, t, {
            enumerable: n.enumerable,
            configurable: n.configurable,
            writable: n.writable,
            value: n.initializer ? n.initializer.call(i) : void 0
        })
    }

    function f(e, t, n, i, r) {
        var o = {};
        return Object.keys(i).forEach((function (e) {
            o[e] = i[e]
        })), o.enumerable = !!o.enumerable, o.configurable = !!o.configurable, ("value" in o || o.initializer) && (o.writable = !0), o = n.slice().reverse().reduce((function (n, i) {
            return i(e, t, n) || n
        }), o), r && void 0 !== o.initializer && (o.value = o.initializer ? o.initializer.call(r) : void 0, o.initializer = void 0), void 0 === o.initializer && (Object.defineProperty(e, t, o), o = null), o
    }

    function m(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }
    var v = Object.defineProperty,
        g = Object.getOwnPropertyDescriptor,
        y = Object.getOwnPropertyNames,
        _ = Object.getOwnPropertySymbols;

    function b(e, t) {
        return function (e) {
            if (!e || !e.hasOwnProperty) return !1;
            for (var t = ["value", "initializer", "get", "set"], n = 0, i = t.length; n < i; n++)
                if (e.hasOwnProperty(t[n])) return !0;
            return !1
        }(t[t.length - 1]) ? e.apply(void 0, m(t).concat([
            []
        ])) : function () {
            return e.apply(void 0, m(Array.prototype.slice.call(arguments)).concat([t]))
        }
    }
    var w = (s = f((a = function e() {
            ! function (e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), p(this, "debounceTimeoutIds", s, this), p(this, "throttleTimeoutIds", l, this), p(this, "throttlePreviousTimestamps", c, this), p(this, "throttleTrailingArgs", u, this), p(this, "profileLastRan", h, this)
        }).prototype, "debounceTimeoutIds", [o], {
            enumerable: !0,
            initializer: function () {
                return {}
            }
        }), l = f(a.prototype, "throttleTimeoutIds", [o], {
            enumerable: !0,
            initializer: function () {
                return {}
            }
        }), c = f(a.prototype, "throttlePreviousTimestamps", [o], {
            enumerable: !0,
            initializer: function () {
                return {}
            }
        }), u = f(a.prototype, "throttleTrailingArgs", [o], {
            enumerable: !0,
            initializer: function () {
                return null
            }
        }), h = f(a.prototype, "profileLastRan", [o], {
            enumerable: !0,
            initializer: function () {
                return null
            }
        }), a),
        x = "function" == typeof Symbol ? Symbol("__core_decorators__") : "__core_decorators__";

    function T(e) {
        return !1 === e.hasOwnProperty(x) && v(e, x, {
            value: new w
        }), e[x]
    }
    var S = _ ? function (e) {
        return y(e).concat(_(e))
    } : y;

    function M(e) {
        var t = {};
        return S(e).forEach((function (n) {
            return t[n] = g(e, n)
        })), t
    }

    function E(e) {
        return function (t) {
            return Object.defineProperty(this, e, {
                configurable: !0,
                writable: !0,
                enumerable: !0,
                value: t
            }), t
        }
    }

    function A(e, t) {
        return e.bind ? e.bind(t) : function () {
            return e.apply(t, arguments)
        }
    }
    var P = "object" === ("undefined" == typeof console ? "undefined" : d(console)) && console && "function" == typeof console.warn ? A(console.warn, console) : function () {};
    var C = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
            return typeof e
        } : function (e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        },
        L = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }
            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }();
    var O = /^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/;
    ! function () {
        function e(t, n, i, r) {
            ! function (e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this.parentKlass = t, this.childKlass = n, this.parentDescriptor = i, this.childDescriptor = r
        }
        L(e, [{
            key: "_getTopic",
            value: function (e) {
                return void 0 === e ? null : "value" in e ? e.value : "get" in e ? e.get : "set" in e ? e.set : void 0
            }
        }, {
            key: "_extractTopicSignature",
            value: function (e) {
                switch (void 0 === e ? "undefined" : C(e)) {
                    case "function":
                        return this._extractFunctionSignature(e);
                    default:
                        return this.key
                }
            }
        }, {
            key: "_extractFunctionSignature",
            value: function (e) {
                var t = this;
                return e.toString().replace(O, (function (e) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t.key,
                        i = arguments[2];
                    return n + i
                }))
            }
        }, {
            key: "key",
            get: function () {
                return this.childDescriptor.key
            }
        }, {
            key: "parentNotation",
            get: function () {
                return this.parentKlass.constructor.name + "#" + this.parentPropertySignature
            }
        }, {
            key: "childNotation",
            get: function () {
                return this.childKlass.constructor.name + "#" + this.childPropertySignature
            }
        }, {
            key: "parentTopic",
            get: function () {
                return this._getTopic(this.parentDescriptor)
            }
        }, {
            key: "childTopic",
            get: function () {
                return this._getTopic(this.childDescriptor)
            }
        }, {
            key: "parentPropertySignature",
            get: function () {
                return this._extractTopicSignature(this.parentTopic)
            }
        }, {
            key: "childPropertySignature",
            get: function () {
                return this._extractTopicSignature(this.childTopic)
            }
        }]), L(e, [{
            key: "assert",
            value: function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                !0 !== e && this.error("{child} does not properly override {parent}" + t)
            }
        }, {
            key: "error",
            value: function (e) {
                var t = this;
                throw e = e.replace("{parent}", (function (e) {
                    return t.parentNotation
                })).replace("{child}", (function (e) {
                    return t.childNotation
                })), new SyntaxError(e)
            }
        }])
    }();
    Object.assign;
    Object.assign, "function" == typeof Symbol && Symbol.iterator;
    Object.assign;

    function R(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }
    var k = Object.defineProperty,
        I = Object.getPrototypeOf,
        D = void 0;

    function B(e) {
        for (var t = M(e.prototype), n = S(t), i = 0, r = n.length; i < r; i++) {
            var o = n[i],
                a = t[o];
            "function" == typeof a.value && "constructor" !== o && k(e.prototype, o, N(e.prototype, o, a))
        }
    }

    function N(e, t, n) {
        var i = n.value,
            r = n.configurable,
            o = n.enumerable;
        if ("function" != typeof i) throw new SyntaxError("@autobind can only be used on functions, not: " + i);
        var a = e.constructor;
        return {
            configurable: r,
            enumerable: o,
            get: function () {
                if (this === e) return i;
                if (this.constructor !== a && I(this).constructor === a) return i;
                if (this.constructor !== a && t in this.constructor.prototype) return function (e, t) {
                    if ("undefined" == typeof WeakMap) throw new Error("Using @autobind on " + t.name + "() requires WeakMap support due to its use of super." + t.name + "()\n      See https://github.com/jayphelps/core-decorators.js/issues/20");
                    D || (D = new WeakMap), !1 === D.has(e) && D.set(e, new WeakMap);
                    var n = D.get(e);
                    return !1 === n.has(t) && n.set(t, A(t, e)), n.get(t)
                }(this, i);
                var n = A(i, this);
                return k(this, t, {
                    configurable: !0,
                    writable: !0,
                    enumerable: !1,
                    value: n
                }), n
            },
            set: E(t)
        }
    }

    function G(e) {
        return 1 === e.length ? B.apply(void 0, R(e)) : N.apply(void 0, R(e))
    }

    function j() {
        for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
        return 0 === t.length ? function () {
            return G(arguments)
        } : G(t)
    }
    Object.assign;
    Object.assign;
    Object.defineProperty;
    "function" == typeof Symbol && Symbol.iterator, Object.defineProperty, Object.getPrototypeOf;
    Object.assign;
    var H = {};
    console.time && console.time.bind(console), console.timeEnd && console.timeEnd.bind(console);
    Object.assign, Object.getPrototypeOf, Object.getOwnPropertyDescriptor;
    var F = Object.assign || function (e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i])
            }
            return e
        },
        U = function (e, t) {
            if (Array.isArray(e)) return e;
            if (Symbol.iterator in Object(e)) return function (e, t) {
                var n = [],
                    i = !0,
                    r = !1,
                    o = void 0;
                try {
                    for (var a, s = e[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); i = !0);
                } catch (e) {
                    r = !0, o = e
                } finally {
                    try {
                        !i && s.return && s.return()
                    } finally {
                        if (r) throw o
                    }
                }
                return n
            }(e, t);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        },
        z = (console, {
            profile: console.profile ? A(console.profile, console) : function () {},
            profileEnd: console.profileEnd ? A(console.profileEnd, console) : function () {},
            warn: P
        });

    function V(e, t, n, i) {
        var r = U(i, 3),
            o = r[0],
            a = void 0 === o ? null : o,
            s = r[1],
            l = void 0 !== s && s,
            c = r[2],
            u = void 0 === c ? z : c;
        if (!W.__enabled) return W.__warned || (u.warn("console.profile is not supported. All @profile decorators are disabled."), W.__warned = !0), n;
        var h = n.value;
        if (null === a && (a = e.constructor.name + "." + t), "function" != typeof h) throw new SyntaxError("@profile can only be used on functions, not: " + h);
        return F({}, n, {
            value: function () {
                var e = Date.now(),
                    t = T(this);
                (!0 === l && !t.profileLastRan || !1 === l || "number" == typeof l && e - t.profileLastRan > l || "function" == typeof l && l.apply(this, arguments)) && (u.profile(a), t.profileLastRan = e);
                try {
                    return h.apply(this, arguments)
                } finally {
                    u.profileEnd(a)
                }
            }
        })
    }

    function W() {
        for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
        return b(V, t)
    }
    W.__enabled = !!console.profile, W.__warned = !1;
    Object.defineProperty, Object.getOwnPropertyDescriptor;
    n.d(t, "a", (function () {
        return j
    }))
}, function (e, t, n) {
    "use strict";
    n.d(t, "b", (function () {
        return i
    })), n.d(t, "d", (function () {
        return r
    })), n.d(t, "c", (function () {
        return o
    })), n.d(t, "a", (function () {
        return a
    }));
    var i = "home",
        r = "project",
        o = "menu",
        a = "about"
}, function (e, t, n) {
    "use strict";
    t.a = {
        images: [{
            id: "about-1",
            url: "images/about/about-1.jpg",
            description: ""
        }, {
            id: "about-2",
            url: "images/about/about-2.jpg",
            description: ""
        }, {
            id: "about-3",
            url: "images/about/about-3.jpg",
            description: ""
        }],
        textures: [],
        sounds: [{
            id: "intro",
            url: "audio/intro.mp3",
            analyser: !1
        }, {
            id: "crackling",
            url: "audio/crepitement_seul.mp3",
            analyser: !1
        }, {
            id: "birth-of-the-cool-boplicity",
            url: "audio/albums/BIRTH_OF_THE_COOL/01_miles-davis-boplicity.mp3",
            analyser: !1
        }, {
            id: "birth-of-the-cool-israel",
            url: "audio/albums/BIRTH_OF_THE_COOL/miles-davis-israel.mp3",
            analyser: !1
        }, {
            id: "birth-of-the-cool-moon-dreams",
            url: "audio/albums/BIRTH_OF_THE_COOL/moon-dreams.mp3",
            analyser: !1
        }, {
            id: "miles-tones-milestones",
            url: "audio/albums/MILESTONES/01_miles-davis-milestones-official-audio.mp3",
            analyser: !1
        }, {
            id: "miles-tones-straight-no-chaser",
            url: "audio/albums/MILESTONES/miles-davis-straight-no-chaser.mp3",
            analyser: !1
        }, {
            id: "miles-tones-sids-ahead",
            url: "audio/albums/MILESTONES/sids-ahead-miles-davis.mp3",
            analyser: !1
        }, {
            id: "kind-of-blue-so-what",
            url: "audio/albums/KIND_OF_BLUE/01_So What.mp3",
            analyser: !1
        }, {
            id: "kind-of-blue-all-blues",
            url: "audio/albums/KIND_OF_BLUE/miles-davis-all-blues-audio.mp3",
            analyser: !1
        }, {
            id: "kind-of-blue-flamenco-sketches",
            url: "audio/albums/KIND_OF_BLUE/miles-davis-flamenco-sketches.mp3",
            analyser: !1
        }, {
            id: "in-a-silent-way-inasilentway",
            url: "audio/albums/IN_A_SILENT_WAY/01_in-a-silent-way-new-mix.mp3",
            analyser: !1
        }, {
            id: "in-a-silent-way-mademoiselle-mabry",
            url: "audio/albums/IN_A_SILENT_WAY/mademoiselle-mabry-new-mix.mp3",
            analyser: !1
        }, {
            id: "in-a-silent-way-peaceful",
            url: "audio/albums/IN_A_SILENT_WAY/shhh-peaceful-new-mix(1).mp3",
            analyser: !1
        }],
        videos: [{
            id: "about-video-1",
            url: "videos/about/video01.mp4"
        }, {
            id: "about-video-2",
            url: "videos/about/video02.mp4"
        }],
        models: [],
        jsons: [],
        fontsTextures: [],
        fonts: []
    }
}, function (e, t) {
    e.exports = function (e, t, n, i, r) {
        var o = {};
        return Object.keys(i).forEach((function (e) {
            o[e] = i[e]
        })), o.enumerable = !!o.enumerable, o.configurable = !!o.configurable, ("value" in o || o.initializer) && (o.writable = !0), o = n.slice().reverse().reduce((function (n, i) {
            return i(e, t, n) || n
        }), o), r && void 0 !== o.initializer && (o.value = o.initializer ? o.initializer.call(r) : void 0, o.initializer = void 0), void 0 === o.initializer && (Object.defineProperty(e, t, o), o = null), o
    }
}, function (e, t, n) {
    ! function (t) {
        function n() {
            this._listeners = [], this.dispatchCount = 0
        }
        var i = n.prototype;
        i.add = a, i.addOnce = function (e, t, n, i) {
            if (!e) throw "Callback function is missing!";
            var o = this,
                s = function () {
                    return o.remove.call(o, e, t), e.apply(t, r.call(arguments, 0))
                };
            1 === (i = r.call(arguments, 0)).length && i.push(void 0);
            i.splice(2, 0, s), a.apply(o, i)
        }, i.remove = function (e, t) {
            if (!e) return this._listeners.length = 0, !0;
            var n, i = this._listeners,
                r = i.length;
            for (; r--;)
                if ((n = i[r]).f === e && (!t || n.c === t)) return n.j = 0, i.splice(r, 1), !0;
            return !1
        }, i.dispatch = function (e) {
            e = r.call(arguments, 0), this.dispatchCount++;
            var t, n, i = this.dispatchCount,
                o = this._listeners,
                a = o.length;
            for (; a--;)
                if ((t = o[a]) && t.j < i && (t.j = i, !1 === t.r.apply(t.c, t.a.concat(e)))) {
                    n = t;
                    break
                } o = this._listeners, a = o.length;
            for (; a--;) o[a].j = 0;
            return n
        };
        var r = Array.prototype.slice;

        function o(e) {
            e.sort((function (e, t) {
                return e = e.p, (t = t.p) < e ? 1 : e > t ? -1 : 0
            }))
        }

        function a(e, t, n, i) {
            if (!e) throw "Callback function is missing!";
            n = n || 0;
            for (var a, s, l, c = this._listeners, u = c.length; u--;)
                if ((a = c[u]).f === e && a.c === t) return !1;
            "function" == typeof n && (s = n, n = i, l = 4), c.unshift({
                f: e,
                c: t,
                p: n,
                r: s || e,
                a: r.call(arguments, l || 3),
                j: 0
            }), o(c)
        }
        e.exports = n
    }()
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i, r, o = g(n(166));
    n(170);
    var a = g(n(51)),
        s = g(n(58)),
        l = g(n(124)),
        c = g(n(132)),
        u = g(n(133)),
        h = g(n(232)),
        d = g(n(233)),
        p = g(n(234)),
        f = g(n(241)),
        m = g(n(242)),
        v = g(n(135));

    function g(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var y = new c.default(a.default, a.default.destination);

    function _(e) {
        return y.find(e)
    }

    function b(e) {
        var t = new f.default(a.default, y.gain);
        return e && e.forEach((function (e) {
            return t.add(e)
        })), t
    }

    function w(e) {
        var t = l.default.getSupportedFile(e.src || e.url || e.data || e),
            n = new p.default(Object.assign({}, e || {}, {
                src: t,
                context: a.default,
                destination: y.gain
            }));
        return n.isTouchLocked = M, e && (n.id = e.id || e.name || "", n.loop = !!e.loop, n.volume = e.volume, n.effects = e.effects || []), y.add(n), n
    }

    function x(e, t) {
        var n = w(e).prepare();
        return t && t.add(n.loader), n
    }

    function T(e) {
        var t = e.src || e.url || e.data || e,
            n = void 0,
            i = void 0;
        if (l.default.containsURL(t)) n = x(e), i = n.loader;
        else {
            if (!Array.isArray(t) || !l.default.containsURL(t[0].src || t[0].url)) {
                var r = "sono.load: No audio file URLs found in config.";
                if (!e.onError) throw new Error(r);
                return e.onError("[ERROR] " + r), null
            }
            n = [], i = new u.default.Group, t.forEach((function (e) {
                return n.push(x(e, i))
            }))
        }
        return e.onProgress && i.on("progress", (function (t) {
            return e.onProgress(t)
        })), e.onComplete && i.once("complete", (function () {
            i.off("progress"), e.onComplete(n)
        })), i.once("error", (function (t) {
            i.off("error"), e.onError ? e.onError(t) : console.error(t)
        })), i.start(), n
    }

    function S(e) {
        if (l.default.containsURL(e)) return T(e);
        var t = w(e);
        return t.data = e.data || e, t
    }
    var M = (0, m.default)(a.default, (function () {
            M = !1, y.sounds.forEach((function (e) {
                return e.isTouchLocked = !1
            }))
        })),
        E = [];

    function A() {
        for (; E.length;) E.pop().play()
    }
    var P = (0, d.default)((function () {
        y.sounds.forEach((function (e) {
            e.playing && (e.pause(), E.push(e))
        }))
    }), A);
    var C = (i = {
        canPlay: l.default.canPlay,
        context: a.default,
        create: S,
        createGroup: b,
        createSound: S,
        destroyAll: function () {
            return y.destroy(), C
        },
        destroy: function (e) {
            return y.find(e, (function (e) {
                return e.destroy()
            })), C
        },
        effects: y.effects,
        extensions: l.default.extensions,
        fade: function (e, t) {
            return y.fade(e, t), C
        },
        file: l.default,
        gain: y.gain,
        getOfflineContext: v.default.getOfflineContext,
        get: _,
        getSound: _,
        group: b,
        hasWebAudio: !a.default.isFake,
        isSupported: l.default.extensions.length > 0,
        load: T,
        log: function () {
            return (0, h.default)(C)
        },
        mute: function () {
            return y.mute(), C
        },
        pause: function (e) {
            return y.find(e, (function (e) {
                return e.pause()
            })), C
        },
        pauseAll: function () {
            return y.pause(), C
        },
        play: function (e, t, n) {
            return y.find(e, (function (e) {
                return e.play(t, n)
            })), C
        },
        register: function (e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : s.default.prototype;
            return n[e] = t, C[e] = t, t
        },
        resumeAll: function () {
            return y.resume(), C
        },
        stop: function (e) {
            return y.find(e, (function (e) {
                return e.stop()
            })), C
        },
        stopAll: function () {
            return y.stop(), C
        },
        unMute: function () {
            return y.unMute(), C
        },
        utils: v.default,
        VERSION: "2.1.6"
    }, "effects", (r = {}).effects = r.effects || {}, r.effects.get = function () {
        return y.effects
    }, "effects", r.effects = r.effects || {}, r.effects.set = function (e) {
        y.effects.removeAll().add(e)
    }, "fx", r.fx = r.fx || {}, r.fx.get = function () {
        return this.effects
    }, "fx", r.fx = r.fx || {}, r.fx.set = function (e) {
        this.effects = e
    }, "isTouchLocked", r.isTouchLocked = r.isTouchLocked || {}, r.isTouchLocked.get = function () {
        return M
    }, "playInBackground", r.playInBackground = r.playInBackground || {}, r.playInBackground.get = function () {
        return !P.enabled
    }, "playInBackground", r.playInBackground = r.playInBackground || {}, r.playInBackground.set = function (e) {
        P.enabled = !e, e || A()
    }, "sounds", r.sounds = r.sounds || {}, r.sounds.get = function () {
        return y.sounds.slice(0)
    }, "volume", r.volume = r.volume || {}, r.volume.get = function () {
        return y.volume
    }, "volume", r.volume = r.volume || {}, r.volume.set = function (e) {
        y.volume = e
    }, i.__test = {
        Effects: s.default,
        Group: c.default,
        Sound: p.default
    }, (0, o.default)(i, r), i);
    t.default = C
}, function (e, t, n) {
    "use strict";
    n.r(t),
        function (e) {
            n.d(t, "ACESFilmicToneMapping", (function () {
                return le
            })), n.d(t, "AddEquation", (function () {
                return L
            })), n.d(t, "AddOperation", (function () {
                return ne
            })), n.d(t, "AdditiveBlending", (function () {
                return E
            })), n.d(t, "AlphaFormat", (function () {
                return Ue
            })), n.d(t, "AlwaysDepth", (function () {
                return X
            })), n.d(t, "AlwaysStencilFunc", (function () {
                return hn
            })), n.d(t, "AmbientLight", (function () {
                return Ku
            })), n.d(t, "AmbientLightProbe", (function () {
                return _h
            })), n.d(t, "AnimationClip", (function () {
                return iu
            })), n.d(t, "AnimationLoader", (function () {
                return hu
            })), n.d(t, "AnimationMixer", (function () {
                return Jh
            })), n.d(t, "AnimationObjectGroup", (function () {
                return Xh
            })), n.d(t, "AnimationUtils", (function () {
                return Vc
            })), n.d(t, "ArcCurve", (function () {
                return _u
            })), n.d(t, "ArrayCamera", (function () {
                return fs
            })), n.d(t, "ArrowHelper", (function () {
                return Nd
            })), n.d(t, "Audio", (function () {
                return Ch
            })), n.d(t, "AudioAnalyser", (function () {
                return Dh
            })), n.d(t, "AudioContext", (function () {
                return fh
            })), n.d(t, "AudioListener", (function () {
                return Ph
            })), n.d(t, "AudioLoader", (function () {
                return mh
            })), n.d(t, "AxesHelper", (function () {
                return Gd
            })), n.d(t, "AxisHelper", (function () {
                return Vp
            })), n.d(t, "BackSide", (function () {
                return g
            })), n.d(t, "BasicDepthPacking", (function () {
                return Wt
            })), n.d(t, "BasicShadowMap", (function () {
                return d
            })), n.d(t, "BinaryTextureLoader", (function () {
                return Jp
            })), n.d(t, "Bone", (function () {
                return qs
            })), n.d(t, "BooleanKeyframeTrack", (function () {
                return Kc
            })), n.d(t, "BoundingBoxHelper", (function () {
                return Wp
            })), n.d(t, "Box2", (function () {
                return rd
            })), n.d(t, "Box3", (function () {
                return Si
            })), n.d(t, "Box3Helper", (function () {
                return Rd
            })), n.d(t, "BoxBufferGeometry", (function () {
                return to
            })), n.d(t, "BoxGeometry", (function () {
                return eo
            })), n.d(t, "BoxHelper", (function () {
                return Od
            })), n.d(t, "BufferAttribute", (function () {
                return cr
            })), n.d(t, "BufferGeometry", (function () {
                return Pr
            })), n.d(t, "BufferGeometryLoader", (function () {
                return nh
            })), n.d(t, "ByteType", (function () {
                return Oe
            })), n.d(t, "Cache", (function () {
                return ou
            })), n.d(t, "Camera", (function () {
                return ao
            })), n.d(t, "CameraHelper", (function () {
                return Pd
            })), n.d(t, "CanvasRenderer", (function () {
                return $p
            })), n.d(t, "CanvasTexture", (function () {
                return yl
            })), n.d(t, "CatmullRomCurve3", (function () {
                return Mu
            })), n.d(t, "CineonToneMapping", (function () {
                return se
            })), n.d(t, "CircleBufferGeometry", (function () {
                return Oc
            })), n.d(t, "CircleGeometry", (function () {
                return Lc
            })), n.d(t, "ClampToEdgeWrapping", (function () {
                return ye
            })), n.d(t, "Clock", (function () {
                return Th
            })), n.d(t, "ClosedSplineCurve3", (function () {
                return Fp
            })), n.d(t, "Color", (function () {
                return er
            })), n.d(t, "ColorKeyframeTrack", (function () {
                return Zc
            })), n.d(t, "CompressedTexture", (function () {
                return gl
            })), n.d(t, "CompressedTextureLoader", (function () {
                return du
            })), n.d(t, "ConeBufferGeometry", (function () {
                return Cc
            })), n.d(t, "ConeGeometry", (function () {
                return Pc
            })), n.d(t, "CubeCamera", (function () {
                return lo
            })), n.d(t, "CubeGeometry", (function () {
                return eo
            })), n.d(t, "CubeReflectionMapping", (function () {
                return ue
            })), n.d(t, "CubeRefractionMapping", (function () {
                return he
            })), n.d(t, "CubeTexture", (function () {
                return ko
            })), n.d(t, "CubeTextureLoader", (function () {
                return mu
            })), n.d(t, "CubeUVReflectionMapping", (function () {
                return me
            })), n.d(t, "CubeUVRefractionMapping", (function () {
                return ve
            })), n.d(t, "CubicBezierCurve", (function () {
                return Cu
            })), n.d(t, "CubicBezierCurve3", (function () {
                return Lu
            })), n.d(t, "CubicInterpolant", (function () {
                return qc
            })), n.d(t, "CullFaceBack", (function () {
                return s
            })), n.d(t, "CullFaceFront", (function () {
                return l
            })), n.d(t, "CullFaceFrontBack", (function () {
                return c
            })), n.d(t, "CullFaceNone", (function () {
                return a
            })), n.d(t, "Curve", (function () {
                return gu
            })), n.d(t, "CurvePath", (function () {
                return Nu
            })), n.d(t, "CustomBlending", (function () {
                return C
            })), n.d(t, "CylinderBufferGeometry", (function () {
                return Ac
            })), n.d(t, "CylinderGeometry", (function () {
                return Ec
            })), n.d(t, "Cylindrical", (function () {
                return nd
            })), n.d(t, "DataTexture", (function () {
                return uo
            })), n.d(t, "DataTexture2DArray", (function () {
                return Io
            })), n.d(t, "DataTexture3D", (function () {
                return Do
            })), n.d(t, "DataTextureLoader", (function () {
                return pu
            })), n.d(t, "DecrementStencilOp", (function () {
                return Qt
            })), n.d(t, "DecrementWrapStencilOp", (function () {
                return tn
            })), n.d(t, "DefaultLoadingManager", (function () {
                return su
            })), n.d(t, "DepthFormat", (function () {
                return Ye
            })), n.d(t, "DepthStencilFormat", (function () {
                return Je
            })), n.d(t, "DepthTexture", (function () {
                return _l
            })), n.d(t, "DirectionalLight", (function () {
                return Ju
            })), n.d(t, "DirectionalLightHelper", (function () {
                return Md
            })), n.d(t, "DirectionalLightShadow", (function () {
                return Yu
            })), n.d(t, "DiscreteInterpolant", (function () {
                return Yc
            })), n.d(t, "DodecahedronBufferGeometry", (function () {
                return Rl
            })), n.d(t, "DodecahedronGeometry", (function () {
                return Ol
            })), n.d(t, "DoubleSide", (function () {
                return y
            })), n.d(t, "DstAlphaFactor", (function () {
                return F
            })), n.d(t, "DstColorFactor", (function () {
                return z
            })), n.d(t, "DynamicBufferAttribute", (function () {
                return Op
            })), n.d(t, "DynamicCopyUsage", (function () {
                return _n
            })), n.d(t, "DynamicDrawUsage", (function () {
                return pn
            })), n.d(t, "DynamicReadUsage", (function () {
                return vn
            })), n.d(t, "EdgesGeometry", (function () {
                return Mc
            })), n.d(t, "EdgesHelper", (function () {
                return qp
            })), n.d(t, "EllipseCurve", (function () {
                return yu
            })), n.d(t, "EqualDepth", (function () {
                return K
            })), n.d(t, "EqualStencilFunc", (function () {
                return an
            })), n.d(t, "EquirectangularReflectionMapping", (function () {
                return de
            })), n.d(t, "EquirectangularRefractionMapping", (function () {
                return pe
            })), n.d(t, "Euler", (function () {
                return Yn
            })), n.d(t, "EventDispatcher", (function () {
                return wn
            })), n.d(t, "ExtrudeBufferGeometry", (function () {
                return hc
            })), n.d(t, "ExtrudeGeometry", (function () {
                return uc
            })), n.d(t, "Face3", (function () {
                return rr
            })), n.d(t, "Face4", (function () {
                return _p
            })), n.d(t, "FaceColors", (function () {
                return x
            })), n.d(t, "FileLoader", (function () {
                return uu
            })), n.d(t, "FlatShading", (function () {
                return _
            })), n.d(t, "Float32Attribute", (function () {
                return jp
            })), n.d(t, "Float32BufferAttribute", (function () {
                return gr
            })), n.d(t, "Float64Attribute", (function () {
                return Hp
            })), n.d(t, "Float64BufferAttribute", (function () {
                return yr
            })), n.d(t, "FloatType", (function () {
                return Be
            })), n.d(t, "Fog", (function () {
                return _s
            })), n.d(t, "FogExp2", (function () {
                return ys
            })), n.d(t, "Font", (function () {
                return hh
            })), n.d(t, "FontLoader", (function () {
                return ph
            })), n.d(t, "FrontFaceDirectionCCW", (function () {
                return h
            })), n.d(t, "FrontFaceDirectionCW", (function () {
                return u
            })), n.d(t, "FrontSide", (function () {
                return v
            })), n.d(t, "Frustum", (function () {
                return fo
            })), n.d(t, "GammaEncoding", (function () {
                return jt
            })), n.d(t, "Geometry", (function () {
                return Qr
            })), n.d(t, "GeometryUtils", (function () {
                return Zp
            })), n.d(t, "GreaterDepth", (function () {
                return $
            })), n.d(t, "GreaterEqualDepth", (function () {
                return Z
            })), n.d(t, "GreaterEqualStencilFunc", (function () {
                return un
            })), n.d(t, "GreaterStencilFunc", (function () {
                return ln
            })), n.d(t, "GridHelper", (function () {
                return bd
            })), n.d(t, "Group", (function () {
                return ms
            })), n.d(t, "HalfFloatType", (function () {
                return Ne
            })), n.d(t, "HemisphereLight", (function () {
                return Fu
            })), n.d(t, "HemisphereLightHelper", (function () {
                return _d
            })), n.d(t, "HemisphereLightProbe", (function () {
                return yh
            })), n.d(t, "IcosahedronBufferGeometry", (function () {
                return Ll
            })), n.d(t, "IcosahedronGeometry", (function () {
                return Cl
            })), n.d(t, "ImageBitmapLoader", (function () {
                return ch
            })), n.d(t, "ImageLoader", (function () {
                return fu
            })), n.d(t, "ImageUtils", (function () {
                return Pn
            })), n.d(t, "ImmediateRenderObject", (function () {
                return ld
            })), n.d(t, "IncrementStencilOp", (function () {
                return $t
            })), n.d(t, "IncrementWrapStencilOp", (function () {
                return en
            })), n.d(t, "InstancedBufferAttribute", (function () {
                return th
            })), n.d(t, "InstancedBufferGeometry", (function () {
                return eh
            })), n.d(t, "InstancedInterleavedBuffer", (function () {
                return Zh
            })), n.d(t, "InstancedMesh", (function () {
                return Zs
            })), n.d(t, "Int16Attribute", (function () {
                return Dp
            })), n.d(t, "Int16BufferAttribute", (function () {
                return pr
            })), n.d(t, "Int32Attribute", (function () {
                return Np
            })), n.d(t, "Int32BufferAttribute", (function () {
                return mr
            })), n.d(t, "Int8Attribute", (function () {
                return Rp
            })), n.d(t, "Int8BufferAttribute", (function () {
                return ur
            })), n.d(t, "IntType", (function () {
                return Ie
            })), n.d(t, "InterleavedBuffer", (function () {
                return bs
            })), n.d(t, "InterleavedBufferAttribute", (function () {
                return Ts
            })), n.d(t, "Interpolant", (function () {
                return Wc
            })), n.d(t, "InterpolateDiscrete", (function () {
                return Pt
            })), n.d(t, "InterpolateLinear", (function () {
                return Ct
            })), n.d(t, "InterpolateSmooth", (function () {
                return Lt
            })), n.d(t, "InvertStencilOp", (function () {
                return nn
            })), n.d(t, "JSONLoader", (function () {
                return Qp
            })), n.d(t, "KeepStencilOp", (function () {
                return Kt
            })), n.d(t, "KeyframeTrack", (function () {
                return Jc
            })), n.d(t, "LOD", (function () {
                return Fs
            })), n.d(t, "LatheBufferGeometry", (function () {
                return wc
            })), n.d(t, "LatheGeometry", (function () {
                return bc
            })), n.d(t, "Layers", (function () {
                return Jn
            })), n.d(t, "LensFlare", (function () {
                return tf
            })), n.d(t, "LessDepth", (function () {
                return Y
            })), n.d(t, "LessEqualDepth", (function () {
                return J
            })), n.d(t, "LessEqualStencilFunc", (function () {
                return sn
            })), n.d(t, "LessStencilFunc", (function () {
                return on
            })), n.d(t, "Light", (function () {
                return Hu
            })), n.d(t, "LightProbe", (function () {
                return gh
            })), n.d(t, "LightShadow", (function () {
                return Uu
            })), n.d(t, "Line", (function () {
                return rl
            })), n.d(t, "Line3", (function () {
                return sd
            })), n.d(t, "LineBasicMaterial", (function () {
                return $s
            })), n.d(t, "LineCurve", (function () {
                return Ou
            })), n.d(t, "LineCurve3", (function () {
                return Ru
            })), n.d(t, "LineDashedMaterial", (function () {
                return Uc
            })), n.d(t, "LineLoop", (function () {
                return ll
            })), n.d(t, "LinePieces", (function () {
                return wp
            })), n.d(t, "LineSegments", (function () {
                return sl
            })), n.d(t, "LineStrip", (function () {
                return bp
            })), n.d(t, "LinearEncoding", (function () {
                return Nt
            })), n.d(t, "LinearFilter", (function () {
                return Me
            })), n.d(t, "LinearInterpolant", (function () {
                return Xc
            })), n.d(t, "LinearMipMapLinearFilter", (function () {
                return Ce
            })), n.d(t, "LinearMipMapNearestFilter", (function () {
                return Ae
            })), n.d(t, "LinearMipmapLinearFilter", (function () {
                return Pe
            })), n.d(t, "LinearMipmapNearestFilter", (function () {
                return Ee
            })), n.d(t, "LinearToneMapping", (function () {
                return re
            })), n.d(t, "Loader", (function () {
                return lu
            })), n.d(t, "LoaderUtils", (function () {
                return Qu
            })), n.d(t, "LoadingManager", (function () {
                return au
            })), n.d(t, "LogLuvEncoding", (function () {
                return Ft
            })), n.d(t, "LoopOnce", (function () {
                return Mt
            })), n.d(t, "LoopPingPong", (function () {
                return At
            })), n.d(t, "LoopRepeat", (function () {
                return Et
            })), n.d(t, "LuminanceAlphaFormat", (function () {
                return qe
            })), n.d(t, "LuminanceFormat", (function () {
                return We
            })), n.d(t, "MOUSE", (function () {
                return r
            })), n.d(t, "Material", (function () {
                return ar
            })), n.d(t, "MaterialLoader", (function () {
                return $u
            })), n.d(t, "Math", (function () {
                return Mn
            })), n.d(t, "MathUtils", (function () {
                return Mn
            })), n.d(t, "Matrix3", (function () {
                return An
            })), n.d(t, "Matrix4", (function () {
                return Wn
            })), n.d(t, "MaxEquation", (function () {
                return I
            })), n.d(t, "Mesh", (function () {
                return qr
            })), n.d(t, "MeshBasicMaterial", (function () {
                return sr
            })), n.d(t, "MeshDepthMaterial", (function () {
                return as
            })), n.d(t, "MeshDistanceMaterial", (function () {
                return ss
            })), n.d(t, "MeshFaceMaterial", (function () {
                return xp
            })), n.d(t, "MeshLambertMaterial", (function () {
                return Hc
            })), n.d(t, "MeshMatcapMaterial", (function () {
                return Fc
            })), n.d(t, "MeshNormalMaterial", (function () {
                return jc
            })), n.d(t, "MeshPhongMaterial", (function () {
                return Nc
            })), n.d(t, "MeshPhysicalMaterial", (function () {
                return Bc
            })), n.d(t, "MeshStandardMaterial", (function () {
                return Dc
            })), n.d(t, "MeshToonMaterial", (function () {
                return Gc
            })), n.d(t, "MinEquation", (function () {
                return k
            })), n.d(t, "MirroredRepeatWrapping", (function () {
                return _e
            })), n.d(t, "MixOperation", (function () {
                return te
            })), n.d(t, "MultiMaterial", (function () {
                return Tp
            })), n.d(t, "MultiplyBlending", (function () {
                return P
            })), n.d(t, "MultiplyOperation", (function () {
                return ee
            })), n.d(t, "NearestFilter", (function () {
                return be
            })), n.d(t, "NearestMipMapLinearFilter", (function () {
                return Se
            })), n.d(t, "NearestMipMapNearestFilter", (function () {
                return xe
            })), n.d(t, "NearestMipmapLinearFilter", (function () {
                return Te
            })), n.d(t, "NearestMipmapNearestFilter", (function () {
                return we
            })), n.d(t, "NeverDepth", (function () {
                return q
            })), n.d(t, "NeverStencilFunc", (function () {
                return rn
            })), n.d(t, "NoBlending", (function () {
                return S
            })), n.d(t, "NoColors", (function () {
                return w
            })), n.d(t, "NoToneMapping", (function () {
                return ie
            })), n.d(t, "NormalBlending", (function () {
                return M
            })), n.d(t, "NotEqualDepth", (function () {
                return Q
            })), n.d(t, "NotEqualStencilFunc", (function () {
                return cn
            })), n.d(t, "NumberKeyframeTrack", (function () {
                return $c
            })), n.d(t, "Object3D", (function () {
                return ci
            })), n.d(t, "ObjectLoader", (function () {
                return rh
            })), n.d(t, "ObjectSpaceNormalMap", (function () {
                return Yt
            })), n.d(t, "OctahedronBufferGeometry", (function () {
                return Pl
            })), n.d(t, "OctahedronGeometry", (function () {
                return Al
            })), n.d(t, "OneFactor", (function () {
                return B
            })), n.d(t, "OneMinusDstAlphaFactor", (function () {
                return U
            })), n.d(t, "OneMinusDstColorFactor", (function () {
                return V
            })), n.d(t, "OneMinusSrcAlphaFactor", (function () {
                return H
            })), n.d(t, "OneMinusSrcColorFactor", (function () {
                return G
            })), n.d(t, "OrthographicCamera", (function () {
                return Xu
            })), n.d(t, "PCFShadowMap", (function () {
                return p
            })), n.d(t, "PCFSoftShadowMap", (function () {
                return f
            })), n.d(t, "PMREMGenerator", (function () {
                return ap
            })), n.d(t, "ParametricBufferGeometry", (function () {
                return xl
            })), n.d(t, "ParametricGeometry", (function () {
                return wl
            })), n.d(t, "Particle", (function () {
                return Mp
            })), n.d(t, "ParticleBasicMaterial", (function () {
                return Pp
            })), n.d(t, "ParticleSystem", (function () {
                return Ep
            })), n.d(t, "ParticleSystemMaterial", (function () {
                return Cp
            })), n.d(t, "Path", (function () {
                return Gu
            })), n.d(t, "PerspectiveCamera", (function () {
                return so
            })), n.d(t, "Plane", (function () {
                return ji
            })), n.d(t, "PlaneBufferGeometry", (function () {
                return _o
            })), n.d(t, "PlaneGeometry", (function () {
                return yo
            })), n.d(t, "PlaneHelper", (function () {
                return kd
            })), n.d(t, "PointCloud", (function () {
                return Sp
            })), n.d(t, "PointCloudMaterial", (function () {
                return Ap
            })), n.d(t, "PointLight", (function () {
                return qu
            })), n.d(t, "PointLightHelper", (function () {
                return md
            })), n.d(t, "Points", (function () {
                return fl
            })), n.d(t, "PointsMaterial", (function () {
                return cl
            })), n.d(t, "PolarGridHelper", (function () {
                return wd
            })), n.d(t, "PolyhedronBufferGeometry", (function () {
                return Sl
            })), n.d(t, "PolyhedronGeometry", (function () {
                return Tl
            })), n.d(t, "PositionalAudio", (function () {
                return Ih
            })), n.d(t, "PropertyBinding", (function () {
                return qh
            })), n.d(t, "PropertyMixer", (function () {
                return Bh
            })), n.d(t, "QuadraticBezierCurve", (function () {
                return ku
            })), n.d(t, "QuadraticBezierCurve3", (function () {
                return Iu
            })), n.d(t, "Quaternion", (function () {
                return In
            })), n.d(t, "QuaternionKeyframeTrack", (function () {
                return eu
            })), n.d(t, "QuaternionLinearInterpolant", (function () {
                return Qc
            })), n.d(t, "REVISION", (function () {
                return i
            })), n.d(t, "RGBADepthPacking", (function () {
                return qt
            })), n.d(t, "RGBAFormat", (function () {
                return Ve
            })), n.d(t, "RGBAIntegerFormat", (function () {
                return tt
            })), n.d(t, "RGBA_ASTC_10x10_Format", (function () {
                return xt
            })), n.d(t, "RGBA_ASTC_10x5_Format", (function () {
                return _t
            })), n.d(t, "RGBA_ASTC_10x6_Format", (function () {
                return bt
            })), n.d(t, "RGBA_ASTC_10x8_Format", (function () {
                return wt
            })), n.d(t, "RGBA_ASTC_12x10_Format", (function () {
                return Tt
            })), n.d(t, "RGBA_ASTC_12x12_Format", (function () {
                return St
            })), n.d(t, "RGBA_ASTC_4x4_Format", (function () {
                return ht
            })), n.d(t, "RGBA_ASTC_5x4_Format", (function () {
                return dt
            })), n.d(t, "RGBA_ASTC_5x5_Format", (function () {
                return pt
            })), n.d(t, "RGBA_ASTC_6x5_Format", (function () {
                return ft
            })), n.d(t, "RGBA_ASTC_6x6_Format", (function () {
                return mt
            })), n.d(t, "RGBA_ASTC_8x5_Format", (function () {
                return vt
            })), n.d(t, "RGBA_ASTC_8x6_Format", (function () {
                return gt
            })), n.d(t, "RGBA_ASTC_8x8_Format", (function () {
                return yt
            })), n.d(t, "RGBA_PVRTC_2BPPV1_Format", (function () {
                return ct
            })), n.d(t, "RGBA_PVRTC_4BPPV1_Format", (function () {
                return lt
            })), n.d(t, "RGBA_S3TC_DXT1_Format", (function () {
                return it
            })), n.d(t, "RGBA_S3TC_DXT3_Format", (function () {
                return rt
            })), n.d(t, "RGBA_S3TC_DXT5_Format", (function () {
                return ot
            })), n.d(t, "RGBDEncoding", (function () {
                return Vt
            })), n.d(t, "RGBEEncoding", (function () {
                return Ht
            })), n.d(t, "RGBEFormat", (function () {
                return Xe
            })), n.d(t, "RGBFormat", (function () {
                return ze
            })), n.d(t, "RGBIntegerFormat", (function () {
                return et
            })), n.d(t, "RGBM16Encoding", (function () {
                return zt
            })), n.d(t, "RGBM7Encoding", (function () {
                return Ut
            })), n.d(t, "RGB_ETC1_Format", (function () {
                return ut
            })), n.d(t, "RGB_PVRTC_2BPPV1_Format", (function () {
                return st
            })), n.d(t, "RGB_PVRTC_4BPPV1_Format", (function () {
                return at
            })), n.d(t, "RGB_S3TC_DXT1_Format", (function () {
                return nt
            })), n.d(t, "RGFormat", (function () {
                return $e
            })), n.d(t, "RGIntegerFormat", (function () {
                return Qe
            })), n.d(t, "RawShaderMaterial", (function () {
                return Ic
            })), n.d(t, "Ray", (function () {
                return Di
            })), n.d(t, "Raycaster", (function () {
                return $h
            })), n.d(t, "RectAreaLight", (function () {
                return Zu
            })), n.d(t, "RedFormat", (function () {
                return Ke
            })), n.d(t, "RedIntegerFormat", (function () {
                return Ze
            })), n.d(t, "ReinhardToneMapping", (function () {
                return oe
            })), n.d(t, "RepeatWrapping", (function () {
                return ge
            })), n.d(t, "ReplaceStencilOp", (function () {
                return Zt
            })), n.d(t, "ReverseSubtractEquation", (function () {
                return R
            })), n.d(t, "RingBufferGeometry", (function () {
                return _c
            })), n.d(t, "RingGeometry", (function () {
                return yc
            })), n.d(t, "Scene", (function () {
                return ui
            })), n.d(t, "SceneUtils", (function () {
                return ef
            })), n.d(t, "ShaderChunk", (function () {
                return bo
            })), n.d(t, "ShaderLib", (function () {
                return wo
            })), n.d(t, "ShaderMaterial", (function () {
                return oo
            })), n.d(t, "ShadowMaterial", (function () {
                return kc
            })), n.d(t, "Shape", (function () {
                return ju
            })), n.d(t, "ShapeBufferGeometry", (function () {
                return Tc
            })), n.d(t, "ShapeGeometry", (function () {
                return xc
            })), n.d(t, "ShapePath", (function () {
                return uh
            })), n.d(t, "ShapeUtils", (function () {
                return sc
            })), n.d(t, "ShortType", (function () {
                return Re
            })), n.d(t, "Skeleton", (function () {
                return Ws
            })), n.d(t, "SkeletonHelper", (function () {
                return fd
            })), n.d(t, "SkinnedMesh", (function () {
                return Us
            })), n.d(t, "SmoothShading", (function () {
                return b
            })), n.d(t, "Sphere", (function () {
                return Ai
            })), n.d(t, "SphereBufferGeometry", (function () {
                return gc
            })), n.d(t, "SphereGeometry", (function () {
                return vc
            })), n.d(t, "Spherical", (function () {
                return td
            })), n.d(t, "SphericalHarmonics3", (function () {
                return vh
            })), n.d(t, "SphericalReflectionMapping", (function () {
                return fe
            })), n.d(t, "Spline", (function () {
                return zp
            })), n.d(t, "SplineCurve", (function () {
                return Du
            })), n.d(t, "SplineCurve3", (function () {
                return Up
            })), n.d(t, "SpotLight", (function () {
                return Vu
            })), n.d(t, "SpotLightHelper", (function () {
                return ud
            })), n.d(t, "SpotLightShadow", (function () {
                return zu
            })), n.d(t, "Sprite", (function () {
                return Ns
            })), n.d(t, "SpriteMaterial", (function () {
                return Ss
            })), n.d(t, "SrcAlphaFactor", (function () {
                return j
            })), n.d(t, "SrcAlphaSaturateFactor", (function () {
                return W
            })), n.d(t, "SrcColorFactor", (function () {
                return N
            })), n.d(t, "StaticCopyUsage", (function () {
                return yn
            })), n.d(t, "StaticDrawUsage", (function () {
                return dn
            })), n.d(t, "StaticReadUsage", (function () {
                return mn
            })), n.d(t, "StereoCamera", (function () {
                return xh
            })), n.d(t, "StreamCopyUsage", (function () {
                return bn
            })), n.d(t, "StreamDrawUsage", (function () {
                return fn
            })), n.d(t, "StreamReadUsage", (function () {
                return gn
            })), n.d(t, "StringKeyframeTrack", (function () {
                return tu
            })), n.d(t, "SubtractEquation", (function () {
                return O
            })), n.d(t, "SubtractiveBlending", (function () {
                return A
            })), n.d(t, "TOUCH", (function () {
                return o
            })), n.d(t, "TangentSpaceNormalMap", (function () {
                return Xt
            })), n.d(t, "TetrahedronBufferGeometry", (function () {
                return El
            })), n.d(t, "TetrahedronGeometry", (function () {
                return Ml
            })), n.d(t, "TextBufferGeometry", (function () {
                return mc
            })), n.d(t, "TextGeometry", (function () {
                return fc
            })), n.d(t, "Texture", (function () {
                return Ln
            })), n.d(t, "TextureLoader", (function () {
                return vu
            })), n.d(t, "TorusBufferGeometry", (function () {
                return Gl
            })), n.d(t, "TorusGeometry", (function () {
                return Nl
            })), n.d(t, "TorusKnotBufferGeometry", (function () {
                return Bl
            })), n.d(t, "TorusKnotGeometry", (function () {
                return Dl
            })), n.d(t, "Triangle", (function () {
                return Ki
            })), n.d(t, "TriangleFanDrawMode", (function () {
                return Bt
            })), n.d(t, "TriangleStripDrawMode", (function () {
                return Dt
            })), n.d(t, "TrianglesDrawMode", (function () {
                return It
            })), n.d(t, "TubeBufferGeometry", (function () {
                return Il
            })), n.d(t, "TubeGeometry", (function () {
                return kl
            })), n.d(t, "UVMapping", (function () {
                return ce
            })), n.d(t, "Uint16Attribute", (function () {
                return Bp
            })), n.d(t, "Uint16BufferAttribute", (function () {
                return fr
            })), n.d(t, "Uint32Attribute", (function () {
                return Gp
            })), n.d(t, "Uint32BufferAttribute", (function () {
                return vr
            })), n.d(t, "Uint8Attribute", (function () {
                return kp
            })), n.d(t, "Uint8BufferAttribute", (function () {
                return hr
            })), n.d(t, "Uint8ClampedAttribute", (function () {
                return Ip
            })), n.d(t, "Uint8ClampedBufferAttribute", (function () {
                return dr
            })), n.d(t, "Uncharted2ToneMapping", (function () {
                return ae
            })), n.d(t, "Uniform", (function () {
                return Kh
            })), n.d(t, "UniformsLib", (function () {
                return mo
            })), n.d(t, "UniformsUtils", (function () {
                return ro
            })), n.d(t, "UnsignedByteType", (function () {
                return Le
            })), n.d(t, "UnsignedInt248Type", (function () {
                return Fe
            })), n.d(t, "UnsignedIntType", (function () {
                return De
            })), n.d(t, "UnsignedShort4444Type", (function () {
                return Ge
            })), n.d(t, "UnsignedShort5551Type", (function () {
                return je
            })), n.d(t, "UnsignedShort565Type", (function () {
                return He
            })), n.d(t, "UnsignedShortType", (function () {
                return ke
            })), n.d(t, "VSMShadowMap", (function () {
                return m
            })), n.d(t, "Vector2", (function () {
                return En
            })), n.d(t, "Vector3", (function () {
                return Nn
            })), n.d(t, "Vector4", (function () {
                return On
            })), n.d(t, "VectorKeyframeTrack", (function () {
                return nu
            })), n.d(t, "Vertex", (function () {
                return Lp
            })), n.d(t, "VertexColors", (function () {
                return T
            })), n.d(t, "VideoTexture", (function () {
                return vl
            })), n.d(t, "WebGLCubeRenderTarget", (function () {
                return co
            })), n.d(t, "WebGLMultisampleRenderTarget", (function () {
                return kn
            })), n.d(t, "WebGLRenderTarget", (function () {
                return Rn
            })), n.d(t, "WebGLRenderTargetCube", (function () {
                return Kp
            })), n.d(t, "WebGLRenderer", (function () {
                return gs
            })), n.d(t, "WebGLUtils", (function () {
                return hs
            })), n.d(t, "WireframeGeometry", (function () {
                return bl
            })), n.d(t, "WireframeHelper", (function () {
                return Xp
            })), n.d(t, "WrapAroundEnding", (function () {
                return kt
            })), n.d(t, "XHRLoader", (function () {
                return Yp
            })), n.d(t, "ZeroCurvatureEnding", (function () {
                return Ot
            })), n.d(t, "ZeroFactor", (function () {
                return D
            })), n.d(t, "ZeroSlopeEnding", (function () {
                return Rt
            })), n.d(t, "ZeroStencilOp", (function () {
                return Jt
            })), n.d(t, "sRGBEncoding", (function () {
                return Gt
            })), void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)), void 0 === Number.isInteger && (Number.isInteger = function (e) {
                return "number" == typeof e && isFinite(e) && Math.floor(e) === e
            }), void 0 === Math.sign && (Math.sign = function (e) {
                return e < 0 ? -1 : e > 0 ? 1 : +e
            }), "name" in Function.prototype == !1 && Object.defineProperty(Function.prototype, "name", {
                get: function () {
                    return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]
                }
            }), void 0 === Object.assign && (Object.assign = function (e) {
                if (null == e) throw new TypeError("Cannot convert undefined or null to object");
                for (var t = Object(e), n = 1; n < arguments.length; n++) {
                    var i = arguments[n];
                    if (null != i)
                        for (var r in i) Object.prototype.hasOwnProperty.call(i, r) && (t[r] = i[r])
                }
                return t
            });
            var i = "113",
                r = {
                    LEFT: 0,
                    MIDDLE: 1,
                    RIGHT: 2,
                    ROTATE: 0,
                    DOLLY: 1,
                    PAN: 2
                },
                o = {
                    ROTATE: 0,
                    PAN: 1,
                    DOLLY_PAN: 2,
                    DOLLY_ROTATE: 3
                },
                a = 0,
                s = 1,
                l = 2,
                c = 3,
                u = 0,
                h = 1,
                d = 0,
                p = 1,
                f = 2,
                m = 3,
                v = 0,
                g = 1,
                y = 2,
                _ = 1,
                b = 2,
                w = 0,
                x = 1,
                T = 2,
                S = 0,
                M = 1,
                E = 2,
                A = 3,
                P = 4,
                C = 5,
                L = 100,
                O = 101,
                R = 102,
                k = 103,
                I = 104,
                D = 200,
                B = 201,
                N = 202,
                G = 203,
                j = 204,
                H = 205,
                F = 206,
                U = 207,
                z = 208,
                V = 209,
                W = 210,
                q = 0,
                X = 1,
                Y = 2,
                J = 3,
                K = 4,
                Z = 5,
                $ = 6,
                Q = 7,
                ee = 0,
                te = 1,
                ne = 2,
                ie = 0,
                re = 1,
                oe = 2,
                ae = 3,
                se = 4,
                le = 5,
                ce = 300,
                ue = 301,
                he = 302,
                de = 303,
                pe = 304,
                fe = 305,
                me = 306,
                ve = 307,
                ge = 1e3,
                ye = 1001,
                _e = 1002,
                be = 1003,
                we = 1004,
                xe = 1004,
                Te = 1005,
                Se = 1005,
                Me = 1006,
                Ee = 1007,
                Ae = 1007,
                Pe = 1008,
                Ce = 1008,
                Le = 1009,
                Oe = 1010,
                Re = 1011,
                ke = 1012,
                Ie = 1013,
                De = 1014,
                Be = 1015,
                Ne = 1016,
                Ge = 1017,
                je = 1018,
                He = 1019,
                Fe = 1020,
                Ue = 1021,
                ze = 1022,
                Ve = 1023,
                We = 1024,
                qe = 1025,
                Xe = Ve,
                Ye = 1026,
                Je = 1027,
                Ke = 1028,
                Ze = 1029,
                $e = 1030,
                Qe = 1031,
                et = 1032,
                tt = 1033,
                nt = 33776,
                it = 33777,
                rt = 33778,
                ot = 33779,
                at = 35840,
                st = 35841,
                lt = 35842,
                ct = 35843,
                ut = 36196,
                ht = 37808,
                dt = 37809,
                pt = 37810,
                ft = 37811,
                mt = 37812,
                vt = 37813,
                gt = 37814,
                yt = 37815,
                _t = 37816,
                bt = 37817,
                wt = 37818,
                xt = 37819,
                Tt = 37820,
                St = 37821,
                Mt = 2200,
                Et = 2201,
                At = 2202,
                Pt = 2300,
                Ct = 2301,
                Lt = 2302,
                Ot = 2400,
                Rt = 2401,
                kt = 2402,
                It = 0,
                Dt = 1,
                Bt = 2,
                Nt = 3e3,
                Gt = 3001,
                jt = 3007,
                Ht = 3002,
                Ft = 3003,
                Ut = 3004,
                zt = 3005,
                Vt = 3006,
                Wt = 3200,
                qt = 3201,
                Xt = 0,
                Yt = 1,
                Jt = 0,
                Kt = 7680,
                Zt = 7681,
                $t = 7682,
                Qt = 7683,
                en = 34055,
                tn = 34056,
                nn = 5386,
                rn = 512,
                on = 513,
                an = 514,
                sn = 515,
                ln = 516,
                cn = 517,
                un = 518,
                hn = 519,
                dn = 35044,
                pn = 35048,
                fn = 35040,
                mn = 35045,
                vn = 35049,
                gn = 35041,
                yn = 35046,
                _n = 35050,
                bn = 35042;

            function wn() {}
            Object.assign(wn.prototype, {
                addEventListener: function (e, t) {
                    void 0 === this._listeners && (this._listeners = {});
                    var n = this._listeners;
                    void 0 === n[e] && (n[e] = []), -1 === n[e].indexOf(t) && n[e].push(t)
                },
                hasEventListener: function (e, t) {
                    if (void 0 === this._listeners) return !1;
                    var n = this._listeners;
                    return void 0 !== n[e] && -1 !== n[e].indexOf(t)
                },
                removeEventListener: function (e, t) {
                    if (void 0 !== this._listeners) {
                        var n = this._listeners[e];
                        if (void 0 !== n) {
                            var i = n.indexOf(t); - 1 !== i && n.splice(i, 1)
                        }
                    }
                },
                dispatchEvent: function (e) {
                    if (void 0 !== this._listeners) {
                        var t = this._listeners[e.type];
                        if (void 0 !== t) {
                            e.target = this;
                            for (var n = t.slice(0), i = 0, r = n.length; i < r; i++) n[i].call(this, e)
                        }
                    }
                }
            });
            for (var xn = [], Tn = 0; Tn < 256; Tn++) xn[Tn] = (Tn < 16 ? "0" : "") + Tn.toString(16);
            var Sn, Mn = {
                DEG2RAD: Math.PI / 180,
                RAD2DEG: 180 / Math.PI,
                generateUUID: function () {
                    var e = 4294967295 * Math.random() | 0,
                        t = 4294967295 * Math.random() | 0,
                        n = 4294967295 * Math.random() | 0,
                        i = 4294967295 * Math.random() | 0;
                    return (xn[255 & e] + xn[e >> 8 & 255] + xn[e >> 16 & 255] + xn[e >> 24 & 255] + "-" + xn[255 & t] + xn[t >> 8 & 255] + "-" + xn[t >> 16 & 15 | 64] + xn[t >> 24 & 255] + "-" + xn[63 & n | 128] + xn[n >> 8 & 255] + "-" + xn[n >> 16 & 255] + xn[n >> 24 & 255] + xn[255 & i] + xn[i >> 8 & 255] + xn[i >> 16 & 255] + xn[i >> 24 & 255]).toUpperCase()
                },
                clamp: function (e, t, n) {
                    return Math.max(t, Math.min(n, e))
                },
                euclideanModulo: function (e, t) {
                    return (e % t + t) % t
                },
                mapLinear: function (e, t, n, i, r) {
                    return i + (e - t) * (r - i) / (n - t)
                },
                lerp: function (e, t, n) {
                    return (1 - n) * e + n * t
                },
                smoothstep: function (e, t, n) {
                    return e <= t ? 0 : e >= n ? 1 : (e = (e - t) / (n - t)) * e * (3 - 2 * e)
                },
                smootherstep: function (e, t, n) {
                    return e <= t ? 0 : e >= n ? 1 : (e = (e - t) / (n - t)) * e * e * (e * (6 * e - 15) + 10)
                },
                randInt: function (e, t) {
                    return e + Math.floor(Math.random() * (t - e + 1))
                },
                randFloat: function (e, t) {
                    return e + Math.random() * (t - e)
                },
                randFloatSpread: function (e) {
                    return e * (.5 - Math.random())
                },
                degToRad: function (e) {
                    return e * Mn.DEG2RAD
                },
                radToDeg: function (e) {
                    return e * Mn.RAD2DEG
                },
                isPowerOfTwo: function (e) {
                    return 0 == (e & e - 1) && 0 !== e
                },
                ceilPowerOfTwo: function (e) {
                    return Math.pow(2, Math.ceil(Math.log(e) / Math.LN2))
                },
                floorPowerOfTwo: function (e) {
                    return Math.pow(2, Math.floor(Math.log(e) / Math.LN2))
                },
                setQuaternionFromProperEuler: function (e, t, n, i, r) {
                    var o = Math.cos,
                        a = Math.sin,
                        s = o(n / 2),
                        l = a(n / 2),
                        c = o((t + i) / 2),
                        u = a((t + i) / 2),
                        h = o((t - i) / 2),
                        d = a((t - i) / 2),
                        p = o((i - t) / 2),
                        f = a((i - t) / 2);
                    "XYX" === r ? e.set(s * u, l * h, l * d, s * c) : "YZY" === r ? e.set(l * d, s * u, l * h, s * c) : "ZXZ" === r ? e.set(l * h, l * d, s * u, s * c) : "XZX" === r ? e.set(s * u, l * f, l * p, s * c) : "YXY" === r ? e.set(l * p, s * u, l * f, s * c) : "ZYZ" === r ? e.set(l * f, l * p, s * u, s * c) : console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")
                }
            };

            function En(e, t) {
                this.x = e || 0, this.y = t || 0
            }

            function An() {
                this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1], arguments.length > 0 && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
            }
            Object.defineProperties(En.prototype, {
                width: {
                    get: function () {
                        return this.x
                    },
                    set: function (e) {
                        this.x = e
                    }
                },
                height: {
                    get: function () {
                        return this.y
                    },
                    set: function (e) {
                        this.y = e
                    }
                }
            }), Object.assign(En.prototype, {
                isVector2: !0,
                set: function (e, t) {
                    return this.x = e, this.y = t, this
                },
                setScalar: function (e) {
                    return this.x = e, this.y = e, this
                },
                setX: function (e) {
                    return this.x = e, this
                },
                setY: function (e) {
                    return this.y = e, this
                },
                setComponent: function (e, t) {
                    switch (e) {
                        case 0:
                            this.x = t;
                            break;
                        case 1:
                            this.y = t;
                            break;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                    return this
                },
                getComponent: function (e) {
                    switch (e) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                },
                clone: function () {
                    return new this.constructor(this.x, this.y)
                },
                copy: function (e) {
                    return this.x = e.x, this.y = e.y, this
                },
                add: function (e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this)
                },
                addScalar: function (e) {
                    return this.x += e, this.y += e, this
                },
                addVectors: function (e, t) {
                    return this.x = e.x + t.x, this.y = e.y + t.y, this
                },
                addScaledVector: function (e, t) {
                    return this.x += e.x * t, this.y += e.y * t, this
                },
                sub: function (e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this)
                },
                subScalar: function (e) {
                    return this.x -= e, this.y -= e, this
                },
                subVectors: function (e, t) {
                    return this.x = e.x - t.x, this.y = e.y - t.y, this
                },
                multiply: function (e) {
                    return this.x *= e.x, this.y *= e.y, this
                },
                multiplyScalar: function (e) {
                    return this.x *= e, this.y *= e, this
                },
                divide: function (e) {
                    return this.x /= e.x, this.y /= e.y, this
                },
                divideScalar: function (e) {
                    return this.multiplyScalar(1 / e)
                },
                applyMatrix3: function (e) {
                    var t = this.x,
                        n = this.y,
                        i = e.elements;
                    return this.x = i[0] * t + i[3] * n + i[6], this.y = i[1] * t + i[4] * n + i[7], this
                },
                min: function (e) {
                    return this.x = Math.min(this.x, e.x), this.y = Math.min(this.y, e.y), this
                },
                max: function (e) {
                    return this.x = Math.max(this.x, e.x), this.y = Math.max(this.y, e.y), this
                },
                clamp: function (e, t) {
                    return this.x = Math.max(e.x, Math.min(t.x, this.x)), this.y = Math.max(e.y, Math.min(t.y, this.y)), this
                },
                clampScalar: function (e, t) {
                    return this.x = Math.max(e, Math.min(t, this.x)), this.y = Math.max(e, Math.min(t, this.y)), this
                },
                clampLength: function (e, t) {
                    var n = this.length();
                    return this.divideScalar(n || 1).multiplyScalar(Math.max(e, Math.min(t, n)))
                },
                floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
                },
                ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
                },
                round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this
                },
                roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this
                },
                negate: function () {
                    return this.x = -this.x, this.y = -this.y, this
                },
                dot: function (e) {
                    return this.x * e.x + this.y * e.y
                },
                cross: function (e) {
                    return this.x * e.y - this.y * e.x
                },
                lengthSq: function () {
                    return this.x * this.x + this.y * this.y
                },
                length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y)
                },
                manhattanLength: function () {
                    return Math.abs(this.x) + Math.abs(this.y)
                },
                normalize: function () {
                    return this.divideScalar(this.length() || 1)
                },
                angle: function () {
                    var e = Math.atan2(this.y, this.x);
                    return e < 0 && (e += 2 * Math.PI), e
                },
                distanceTo: function (e) {
                    return Math.sqrt(this.distanceToSquared(e))
                },
                distanceToSquared: function (e) {
                    var t = this.x - e.x,
                        n = this.y - e.y;
                    return t * t + n * n
                },
                manhattanDistanceTo: function (e) {
                    return Math.abs(this.x - e.x) + Math.abs(this.y - e.y)
                },
                setLength: function (e) {
                    return this.normalize().multiplyScalar(e)
                },
                lerp: function (e, t) {
                    return this.x += (e.x - this.x) * t, this.y += (e.y - this.y) * t, this
                },
                lerpVectors: function (e, t, n) {
                    return this.subVectors(t, e).multiplyScalar(n).add(e)
                },
                equals: function (e) {
                    return e.x === this.x && e.y === this.y
                },
                fromArray: function (e, t) {
                    return void 0 === t && (t = 0), this.x = e[t], this.y = e[t + 1], this
                },
                toArray: function (e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this.x, e[t + 1] = this.y, e
                },
                fromBufferAttribute: function (e, t, n) {
                    return void 0 !== n && console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."), this.x = e.getX(t), this.y = e.getY(t), this
                },
                rotateAround: function (e, t) {
                    var n = Math.cos(t),
                        i = Math.sin(t),
                        r = this.x - e.x,
                        o = this.y - e.y;
                    return this.x = r * n - o * i + e.x, this.y = r * i + o * n + e.y, this
                }
            }), Object.assign(An.prototype, {
                isMatrix3: !0,
                set: function (e, t, n, i, r, o, a, s, l) {
                    var c = this.elements;
                    return c[0] = e, c[1] = i, c[2] = a, c[3] = t, c[4] = r, c[5] = s, c[6] = n, c[7] = o, c[8] = l, this
                },
                identity: function () {
                    return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this
                },
                clone: function () {
                    return (new this.constructor).fromArray(this.elements)
                },
                copy: function (e) {
                    var t = this.elements,
                        n = e.elements;
                    return t[0] = n[0], t[1] = n[1], t[2] = n[2], t[3] = n[3], t[4] = n[4], t[5] = n[5], t[6] = n[6], t[7] = n[7], t[8] = n[8], this
                },
                setFromMatrix4: function (e) {
                    var t = e.elements;
                    return this.set(t[0], t[4], t[8], t[1], t[5], t[9], t[2], t[6], t[10]), this
                },
                multiply: function (e) {
                    return this.multiplyMatrices(this, e)
                },
                premultiply: function (e) {
                    return this.multiplyMatrices(e, this)
                },
                multiplyMatrices: function (e, t) {
                    var n = e.elements,
                        i = t.elements,
                        r = this.elements,
                        o = n[0],
                        a = n[3],
                        s = n[6],
                        l = n[1],
                        c = n[4],
                        u = n[7],
                        h = n[2],
                        d = n[5],
                        p = n[8],
                        f = i[0],
                        m = i[3],
                        v = i[6],
                        g = i[1],
                        y = i[4],
                        _ = i[7],
                        b = i[2],
                        w = i[5],
                        x = i[8];
                    return r[0] = o * f + a * g + s * b, r[3] = o * m + a * y + s * w, r[6] = o * v + a * _ + s * x, r[1] = l * f + c * g + u * b, r[4] = l * m + c * y + u * w, r[7] = l * v + c * _ + u * x, r[2] = h * f + d * g + p * b, r[5] = h * m + d * y + p * w, r[8] = h * v + d * _ + p * x, this
                },
                multiplyScalar: function (e) {
                    var t = this.elements;
                    return t[0] *= e, t[3] *= e, t[6] *= e, t[1] *= e, t[4] *= e, t[7] *= e, t[2] *= e, t[5] *= e, t[8] *= e, this
                },
                determinant: function () {
                    var e = this.elements,
                        t = e[0],
                        n = e[1],
                        i = e[2],
                        r = e[3],
                        o = e[4],
                        a = e[5],
                        s = e[6],
                        l = e[7],
                        c = e[8];
                    return t * o * c - t * a * l - n * r * c + n * a * s + i * r * l - i * o * s
                },
                getInverse: function (e, t) {
                    e && e.isMatrix4 && console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");
                    var n = e.elements,
                        i = this.elements,
                        r = n[0],
                        o = n[1],
                        a = n[2],
                        s = n[3],
                        l = n[4],
                        c = n[5],
                        u = n[6],
                        h = n[7],
                        d = n[8],
                        p = d * l - c * h,
                        f = c * u - d * s,
                        m = h * s - l * u,
                        v = r * p + o * f + a * m;
                    if (0 === v) {
                        var g = "THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";
                        if (!0 === t) throw new Error(g);
                        return console.warn(g), this.identity()
                    }
                    var y = 1 / v;
                    return i[0] = p * y, i[1] = (a * h - d * o) * y, i[2] = (c * o - a * l) * y, i[3] = f * y, i[4] = (d * r - a * u) * y, i[5] = (a * s - c * r) * y, i[6] = m * y, i[7] = (o * u - h * r) * y, i[8] = (l * r - o * s) * y, this
                },
                transpose: function () {
                    var e, t = this.elements;
                    return e = t[1], t[1] = t[3], t[3] = e, e = t[2], t[2] = t[6], t[6] = e, e = t[5], t[5] = t[7], t[7] = e, this
                },
                getNormalMatrix: function (e) {
                    return this.setFromMatrix4(e).getInverse(this).transpose()
                },
                transposeIntoArray: function (e) {
                    var t = this.elements;
                    return e[0] = t[0], e[1] = t[3], e[2] = t[6], e[3] = t[1], e[4] = t[4], e[5] = t[7], e[6] = t[2], e[7] = t[5], e[8] = t[8], this
                },
                setUvTransform: function (e, t, n, i, r, o, a) {
                    var s = Math.cos(r),
                        l = Math.sin(r);
                    this.set(n * s, n * l, -n * (s * o + l * a) + o + e, -i * l, i * s, -i * (-l * o + s * a) + a + t, 0, 0, 1)
                },
                scale: function (e, t) {
                    var n = this.elements;
                    return n[0] *= e, n[3] *= e, n[6] *= e, n[1] *= t, n[4] *= t, n[7] *= t, this
                },
                rotate: function (e) {
                    var t = Math.cos(e),
                        n = Math.sin(e),
                        i = this.elements,
                        r = i[0],
                        o = i[3],
                        a = i[6],
                        s = i[1],
                        l = i[4],
                        c = i[7];
                    return i[0] = t * r + n * s, i[3] = t * o + n * l, i[6] = t * a + n * c, i[1] = -n * r + t * s, i[4] = -n * o + t * l, i[7] = -n * a + t * c, this
                },
                translate: function (e, t) {
                    var n = this.elements;
                    return n[0] += e * n[2], n[3] += e * n[5], n[6] += e * n[8], n[1] += t * n[2], n[4] += t * n[5], n[7] += t * n[8], this
                },
                equals: function (e) {
                    for (var t = this.elements, n = e.elements, i = 0; i < 9; i++)
                        if (t[i] !== n[i]) return !1;
                    return !0
                },
                fromArray: function (e, t) {
                    void 0 === t && (t = 0);
                    for (var n = 0; n < 9; n++) this.elements[n] = e[n + t];
                    return this
                },
                toArray: function (e, t) {
                    void 0 === e && (e = []), void 0 === t && (t = 0);
                    var n = this.elements;
                    return e[t] = n[0], e[t + 1] = n[1], e[t + 2] = n[2], e[t + 3] = n[3], e[t + 4] = n[4], e[t + 5] = n[5], e[t + 6] = n[6], e[t + 7] = n[7], e[t + 8] = n[8], e
                }
            });
            var Pn = {
                    getDataURL: function (e) {
                        var t;
                        if ("undefined" == typeof HTMLCanvasElement) return e.src;
                        if (e instanceof HTMLCanvasElement) t = e;
                        else {
                            void 0 === Sn && (Sn = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")), Sn.width = e.width, Sn.height = e.height;
                            var n = Sn.getContext("2d");
                            e instanceof ImageData ? n.putImageData(e, 0, 0) : n.drawImage(e, 0, 0, e.width, e.height), t = Sn
                        }
                        return t.width > 2048 || t.height > 2048 ? t.toDataURL("image/jpeg", .6) : t.toDataURL("image/png")
                    }
                },
                Cn = 0;

            function Ln(e, t, n, i, r, o, a, s, l, c) {
                Object.defineProperty(this, "id", {
                    value: Cn++
                }), this.uuid = Mn.generateUUID(), this.name = "", this.image = void 0 !== e ? e : Ln.DEFAULT_IMAGE, this.mipmaps = [], this.mapping = void 0 !== t ? t : Ln.DEFAULT_MAPPING, this.wrapS = void 0 !== n ? n : ye, this.wrapT = void 0 !== i ? i : ye, this.magFilter = void 0 !== r ? r : Me, this.minFilter = void 0 !== o ? o : Pe, this.anisotropy = void 0 !== l ? l : 1, this.format = void 0 !== a ? a : Ve, this.internalFormat = null, this.type = void 0 !== s ? s : Le, this.offset = new En(0, 0), this.repeat = new En(1, 1), this.center = new En(0, 0), this.rotation = 0, this.matrixAutoUpdate = !0, this.matrix = new An, this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.encoding = void 0 !== c ? c : Nt, this.version = 0, this.onUpdate = null
            }

            function On(e, t, n, i) {
                this.x = e || 0, this.y = t || 0, this.z = n || 0, this.w = void 0 !== i ? i : 1
            }

            function Rn(e, t, n) {
                this.width = e, this.height = t, this.scissor = new On(0, 0, e, t), this.scissorTest = !1, this.viewport = new On(0, 0, e, t), n = n || {}, this.texture = new Ln(void 0, n.mapping, n.wrapS, n.wrapT, n.magFilter, n.minFilter, n.format, n.type, n.anisotropy, n.encoding), this.texture.image = {}, this.texture.image.width = e, this.texture.image.height = t, this.texture.generateMipmaps = void 0 !== n.generateMipmaps && n.generateMipmaps, this.texture.minFilter = void 0 !== n.minFilter ? n.minFilter : Me, this.depthBuffer = void 0 === n.depthBuffer || n.depthBuffer, this.stencilBuffer = void 0 === n.stencilBuffer || n.stencilBuffer, this.depthTexture = void 0 !== n.depthTexture ? n.depthTexture : null
            }

            function kn(e, t, n) {
                Rn.call(this, e, t, n), this.samples = 4
            }

            function In(e, t, n, i) {
                this._x = e || 0, this._y = t || 0, this._z = n || 0, this._w = void 0 !== i ? i : 1
            }
            Ln.DEFAULT_IMAGE = void 0, Ln.DEFAULT_MAPPING = ce, Ln.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: Ln,
                isTexture: !0,
                updateMatrix: function () {
                    this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y)
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.name = e.name, this.image = e.image, this.mipmaps = e.mipmaps.slice(0), this.mapping = e.mapping, this.wrapS = e.wrapS, this.wrapT = e.wrapT, this.magFilter = e.magFilter, this.minFilter = e.minFilter, this.anisotropy = e.anisotropy, this.format = e.format, this.internalFormat = e.internalFormat, this.type = e.type, this.offset.copy(e.offset), this.repeat.copy(e.repeat), this.center.copy(e.center), this.rotation = e.rotation, this.matrixAutoUpdate = e.matrixAutoUpdate, this.matrix.copy(e.matrix), this.generateMipmaps = e.generateMipmaps, this.premultiplyAlpha = e.premultiplyAlpha, this.flipY = e.flipY, this.unpackAlignment = e.unpackAlignment, this.encoding = e.encoding, this
                },
                toJSON: function (e) {
                    var t = void 0 === e || "string" == typeof e;
                    if (!t && void 0 !== e.textures[this.uuid]) return e.textures[this.uuid];
                    var n = {
                        metadata: {
                            version: 4.5,
                            type: "Texture",
                            generator: "Texture.toJSON"
                        },
                        uuid: this.uuid,
                        name: this.name,
                        mapping: this.mapping,
                        repeat: [this.repeat.x, this.repeat.y],
                        offset: [this.offset.x, this.offset.y],
                        center: [this.center.x, this.center.y],
                        rotation: this.rotation,
                        wrap: [this.wrapS, this.wrapT],
                        format: this.format,
                        type: this.type,
                        encoding: this.encoding,
                        minFilter: this.minFilter,
                        magFilter: this.magFilter,
                        anisotropy: this.anisotropy,
                        flipY: this.flipY,
                        premultiplyAlpha: this.premultiplyAlpha,
                        unpackAlignment: this.unpackAlignment
                    };
                    if (void 0 !== this.image) {
                        var i = this.image;
                        if (void 0 === i.uuid && (i.uuid = Mn.generateUUID()), !t && void 0 === e.images[i.uuid]) {
                            var r;
                            if (Array.isArray(i)) {
                                r = [];
                                for (var o = 0, a = i.length; o < a; o++) r.push(Pn.getDataURL(i[o]))
                            } else r = Pn.getDataURL(i);
                            e.images[i.uuid] = {
                                uuid: i.uuid,
                                url: r
                            }
                        }
                        n.image = i.uuid
                    }
                    return t || (e.textures[this.uuid] = n), n
                },
                dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                },
                transformUv: function (e) {
                    if (this.mapping !== ce) return e;
                    if (e.applyMatrix3(this.matrix), e.x < 0 || e.x > 1) switch (this.wrapS) {
                        case ge:
                            e.x = e.x - Math.floor(e.x);
                            break;
                        case ye:
                            e.x = e.x < 0 ? 0 : 1;
                            break;
                        case _e:
                            1 === Math.abs(Math.floor(e.x) % 2) ? e.x = Math.ceil(e.x) - e.x : e.x = e.x - Math.floor(e.x)
                    }
                    if (e.y < 0 || e.y > 1) switch (this.wrapT) {
                        case ge:
                            e.y = e.y - Math.floor(e.y);
                            break;
                        case ye:
                            e.y = e.y < 0 ? 0 : 1;
                            break;
                        case _e:
                            1 === Math.abs(Math.floor(e.y) % 2) ? e.y = Math.ceil(e.y) - e.y : e.y = e.y - Math.floor(e.y)
                    }
                    return this.flipY && (e.y = 1 - e.y), e
                }
            }), Object.defineProperty(Ln.prototype, "needsUpdate", {
                set: function (e) {
                    !0 === e && this.version++
                }
            }), Object.defineProperties(On.prototype, {
                width: {
                    get: function () {
                        return this.z
                    },
                    set: function (e) {
                        this.z = e
                    }
                },
                height: {
                    get: function () {
                        return this.w
                    },
                    set: function (e) {
                        this.w = e
                    }
                }
            }), Object.assign(On.prototype, {
                isVector4: !0,
                set: function (e, t, n, i) {
                    return this.x = e, this.y = t, this.z = n, this.w = i, this
                },
                setScalar: function (e) {
                    return this.x = e, this.y = e, this.z = e, this.w = e, this
                },
                setX: function (e) {
                    return this.x = e, this
                },
                setY: function (e) {
                    return this.y = e, this
                },
                setZ: function (e) {
                    return this.z = e, this
                },
                setW: function (e) {
                    return this.w = e, this
                },
                setComponent: function (e, t) {
                    switch (e) {
                        case 0:
                            this.x = t;
                            break;
                        case 1:
                            this.y = t;
                            break;
                        case 2:
                            this.z = t;
                            break;
                        case 3:
                            this.w = t;
                            break;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                    return this
                },
                getComponent: function (e) {
                    switch (e) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        case 2:
                            return this.z;
                        case 3:
                            return this.w;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                },
                clone: function () {
                    return new this.constructor(this.x, this.y, this.z, this.w)
                },
                copy: function (e) {
                    return this.x = e.x, this.y = e.y, this.z = e.z, this.w = void 0 !== e.w ? e.w : 1, this
                },
                add: function (e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this.z += e.z, this.w += e.w, this)
                },
                addScalar: function (e) {
                    return this.x += e, this.y += e, this.z += e, this.w += e, this
                },
                addVectors: function (e, t) {
                    return this.x = e.x + t.x, this.y = e.y + t.y, this.z = e.z + t.z, this.w = e.w + t.w, this
                },
                addScaledVector: function (e, t) {
                    return this.x += e.x * t, this.y += e.y * t, this.z += e.z * t, this.w += e.w * t, this
                },
                sub: function (e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this.z -= e.z, this.w -= e.w, this)
                },
                subScalar: function (e) {
                    return this.x -= e, this.y -= e, this.z -= e, this.w -= e, this
                },
                subVectors: function (e, t) {
                    return this.x = e.x - t.x, this.y = e.y - t.y, this.z = e.z - t.z, this.w = e.w - t.w, this
                },
                multiplyScalar: function (e) {
                    return this.x *= e, this.y *= e, this.z *= e, this.w *= e, this
                },
                applyMatrix4: function (e) {
                    var t = this.x,
                        n = this.y,
                        i = this.z,
                        r = this.w,
                        o = e.elements;
                    return this.x = o[0] * t + o[4] * n + o[8] * i + o[12] * r, this.y = o[1] * t + o[5] * n + o[9] * i + o[13] * r, this.z = o[2] * t + o[6] * n + o[10] * i + o[14] * r, this.w = o[3] * t + o[7] * n + o[11] * i + o[15] * r, this
                },
                divideScalar: function (e) {
                    return this.multiplyScalar(1 / e)
                },
                setAxisAngleFromQuaternion: function (e) {
                    this.w = 2 * Math.acos(e.w);
                    var t = Math.sqrt(1 - e.w * e.w);
                    return t < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = e.x / t, this.y = e.y / t, this.z = e.z / t), this
                },
                setAxisAngleFromRotationMatrix: function (e) {
                    var t, n, i, r, o = e.elements,
                        a = o[0],
                        s = o[4],
                        l = o[8],
                        c = o[1],
                        u = o[5],
                        h = o[9],
                        d = o[2],
                        p = o[6],
                        f = o[10];
                    if (Math.abs(s - c) < .01 && Math.abs(l - d) < .01 && Math.abs(h - p) < .01) {
                        if (Math.abs(s + c) < .1 && Math.abs(l + d) < .1 && Math.abs(h + p) < .1 && Math.abs(a + u + f - 3) < .1) return this.set(1, 0, 0, 0), this;
                        t = Math.PI;
                        var m = (a + 1) / 2,
                            v = (u + 1) / 2,
                            g = (f + 1) / 2,
                            y = (s + c) / 4,
                            _ = (l + d) / 4,
                            b = (h + p) / 4;
                        return m > v && m > g ? m < .01 ? (n = 0, i = .707106781, r = .707106781) : (i = y / (n = Math.sqrt(m)), r = _ / n) : v > g ? v < .01 ? (n = .707106781, i = 0, r = .707106781) : (n = y / (i = Math.sqrt(v)), r = b / i) : g < .01 ? (n = .707106781, i = .707106781, r = 0) : (n = _ / (r = Math.sqrt(g)), i = b / r), this.set(n, i, r, t), this
                    }
                    var w = Math.sqrt((p - h) * (p - h) + (l - d) * (l - d) + (c - s) * (c - s));
                    return Math.abs(w) < .001 && (w = 1), this.x = (p - h) / w, this.y = (l - d) / w, this.z = (c - s) / w, this.w = Math.acos((a + u + f - 1) / 2), this
                },
                min: function (e) {
                    return this.x = Math.min(this.x, e.x), this.y = Math.min(this.y, e.y), this.z = Math.min(this.z, e.z), this.w = Math.min(this.w, e.w), this
                },
                max: function (e) {
                    return this.x = Math.max(this.x, e.x), this.y = Math.max(this.y, e.y), this.z = Math.max(this.z, e.z), this.w = Math.max(this.w, e.w), this
                },
                clamp: function (e, t) {
                    return this.x = Math.max(e.x, Math.min(t.x, this.x)), this.y = Math.max(e.y, Math.min(t.y, this.y)), this.z = Math.max(e.z, Math.min(t.z, this.z)), this.w = Math.max(e.w, Math.min(t.w, this.w)), this
                },
                clampScalar: function (e, t) {
                    return this.x = Math.max(e, Math.min(t, this.x)), this.y = Math.max(e, Math.min(t, this.y)), this.z = Math.max(e, Math.min(t, this.z)), this.w = Math.max(e, Math.min(t, this.w)), this
                },
                clampLength: function (e, t) {
                    var n = this.length();
                    return this.divideScalar(n || 1).multiplyScalar(Math.max(e, Math.min(t, n)))
                },
                floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this
                },
                ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this
                },
                round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this
                },
                roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this
                },
                negate: function () {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this
                },
                dot: function (e) {
                    return this.x * e.x + this.y * e.y + this.z * e.z + this.w * e.w
                },
                lengthSq: function () {
                    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
                },
                length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
                },
                manhattanLength: function () {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
                },
                normalize: function () {
                    return this.divideScalar(this.length() || 1)
                },
                setLength: function (e) {
                    return this.normalize().multiplyScalar(e)
                },
                lerp: function (e, t) {
                    return this.x += (e.x - this.x) * t, this.y += (e.y - this.y) * t, this.z += (e.z - this.z) * t, this.w += (e.w - this.w) * t, this
                },
                lerpVectors: function (e, t, n) {
                    return this.subVectors(t, e).multiplyScalar(n).add(e)
                },
                equals: function (e) {
                    return e.x === this.x && e.y === this.y && e.z === this.z && e.w === this.w
                },
                fromArray: function (e, t) {
                    return void 0 === t && (t = 0), this.x = e[t], this.y = e[t + 1], this.z = e[t + 2], this.w = e[t + 3], this
                },
                toArray: function (e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this.x, e[t + 1] = this.y, e[t + 2] = this.z, e[t + 3] = this.w, e
                },
                fromBufferAttribute: function (e, t, n) {
                    return void 0 !== n && console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."), this.x = e.getX(t), this.y = e.getY(t), this.z = e.getZ(t), this.w = e.getW(t), this
                }
            }), Rn.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: Rn,
                isWebGLRenderTarget: !0,
                setSize: function (e, t) {
                    this.width === e && this.height === t || (this.width = e, this.height = t, this.texture.image.width = e, this.texture.image.height = t, this.dispose()), this.viewport.set(0, 0, e, t), this.scissor.set(0, 0, e, t)
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.width = e.width, this.height = e.height, this.viewport.copy(e.viewport), this.texture = e.texture.clone(), this.depthBuffer = e.depthBuffer, this.stencilBuffer = e.stencilBuffer, this.depthTexture = e.depthTexture, this
                },
                dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            }), kn.prototype = Object.assign(Object.create(Rn.prototype), {
                constructor: kn,
                isWebGLMultisampleRenderTarget: !0,
                copy: function (e) {
                    return Rn.prototype.copy.call(this, e), this.samples = e.samples, this
                }
            }), Object.assign(In, {
                slerp: function (e, t, n, i) {
                    return n.copy(e).slerp(t, i)
                },
                slerpFlat: function (e, t, n, i, r, o, a) {
                    var s = n[i + 0],
                        l = n[i + 1],
                        c = n[i + 2],
                        u = n[i + 3],
                        h = r[o + 0],
                        d = r[o + 1],
                        p = r[o + 2],
                        f = r[o + 3];
                    if (u !== f || s !== h || l !== d || c !== p) {
                        var m = 1 - a,
                            v = s * h + l * d + c * p + u * f,
                            g = v >= 0 ? 1 : -1,
                            y = 1 - v * v;
                        if (y > Number.EPSILON) {
                            var _ = Math.sqrt(y),
                                b = Math.atan2(_, v * g);
                            m = Math.sin(m * b) / _, a = Math.sin(a * b) / _
                        }
                        var w = a * g;
                        if (s = s * m + h * w, l = l * m + d * w, c = c * m + p * w, u = u * m + f * w, m === 1 - a) {
                            var x = 1 / Math.sqrt(s * s + l * l + c * c + u * u);
                            s *= x, l *= x, c *= x, u *= x
                        }
                    }
                    e[t] = s, e[t + 1] = l, e[t + 2] = c, e[t + 3] = u
                }
            }), Object.defineProperties(In.prototype, {
                x: {
                    get: function () {
                        return this._x
                    },
                    set: function (e) {
                        this._x = e, this._onChangeCallback()
                    }
                },
                y: {
                    get: function () {
                        return this._y
                    },
                    set: function (e) {
                        this._y = e, this._onChangeCallback()
                    }
                },
                z: {
                    get: function () {
                        return this._z
                    },
                    set: function (e) {
                        this._z = e, this._onChangeCallback()
                    }
                },
                w: {
                    get: function () {
                        return this._w
                    },
                    set: function (e) {
                        this._w = e, this._onChangeCallback()
                    }
                }
            }), Object.assign(In.prototype, {
                isQuaternion: !0,
                set: function (e, t, n, i) {
                    return this._x = e, this._y = t, this._z = n, this._w = i, this._onChangeCallback(), this
                },
                clone: function () {
                    return new this.constructor(this._x, this._y, this._z, this._w)
                },
                copy: function (e) {
                    return this._x = e.x, this._y = e.y, this._z = e.z, this._w = e.w, this._onChangeCallback(), this
                },
                setFromEuler: function (e, t) {
                    if (!e || !e.isEuler) throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
                    var n = e._x,
                        i = e._y,
                        r = e._z,
                        o = e.order,
                        a = Math.cos,
                        s = Math.sin,
                        l = a(n / 2),
                        c = a(i / 2),
                        u = a(r / 2),
                        h = s(n / 2),
                        d = s(i / 2),
                        p = s(r / 2);
                    return "XYZ" === o ? (this._x = h * c * u + l * d * p, this._y = l * d * u - h * c * p, this._z = l * c * p + h * d * u, this._w = l * c * u - h * d * p) : "YXZ" === o ? (this._x = h * c * u + l * d * p, this._y = l * d * u - h * c * p, this._z = l * c * p - h * d * u, this._w = l * c * u + h * d * p) : "ZXY" === o ? (this._x = h * c * u - l * d * p, this._y = l * d * u + h * c * p, this._z = l * c * p + h * d * u, this._w = l * c * u - h * d * p) : "ZYX" === o ? (this._x = h * c * u - l * d * p, this._y = l * d * u + h * c * p, this._z = l * c * p - h * d * u, this._w = l * c * u + h * d * p) : "YZX" === o ? (this._x = h * c * u + l * d * p, this._y = l * d * u + h * c * p, this._z = l * c * p - h * d * u, this._w = l * c * u - h * d * p) : "XZY" === o && (this._x = h * c * u - l * d * p, this._y = l * d * u - h * c * p, this._z = l * c * p + h * d * u, this._w = l * c * u + h * d * p), !1 !== t && this._onChangeCallback(), this
                },
                setFromAxisAngle: function (e, t) {
                    var n = t / 2,
                        i = Math.sin(n);
                    return this._x = e.x * i, this._y = e.y * i, this._z = e.z * i, this._w = Math.cos(n), this._onChangeCallback(), this
                },
                setFromRotationMatrix: function (e) {
                    var t, n = e.elements,
                        i = n[0],
                        r = n[4],
                        o = n[8],
                        a = n[1],
                        s = n[5],
                        l = n[9],
                        c = n[2],
                        u = n[6],
                        h = n[10],
                        d = i + s + h;
                    return d > 0 ? (t = .5 / Math.sqrt(d + 1), this._w = .25 / t, this._x = (u - l) * t, this._y = (o - c) * t, this._z = (a - r) * t) : i > s && i > h ? (t = 2 * Math.sqrt(1 + i - s - h), this._w = (u - l) / t, this._x = .25 * t, this._y = (r + a) / t, this._z = (o + c) / t) : s > h ? (t = 2 * Math.sqrt(1 + s - i - h), this._w = (o - c) / t, this._x = (r + a) / t, this._y = .25 * t, this._z = (l + u) / t) : (t = 2 * Math.sqrt(1 + h - i - s), this._w = (a - r) / t, this._x = (o + c) / t, this._y = (l + u) / t, this._z = .25 * t), this._onChangeCallback(), this
                },
                setFromUnitVectors: function (e, t) {
                    var n = e.dot(t) + 1;
                    return n < 1e-6 ? (n = 0, Math.abs(e.x) > Math.abs(e.z) ? (this._x = -e.y, this._y = e.x, this._z = 0, this._w = n) : (this._x = 0, this._y = -e.z, this._z = e.y, this._w = n)) : (this._x = e.y * t.z - e.z * t.y, this._y = e.z * t.x - e.x * t.z, this._z = e.x * t.y - e.y * t.x, this._w = n), this.normalize()
                },
                angleTo: function (e) {
                    return 2 * Math.acos(Math.abs(Mn.clamp(this.dot(e), -1, 1)))
                },
                rotateTowards: function (e, t) {
                    var n = this.angleTo(e);
                    if (0 === n) return this;
                    var i = Math.min(1, t / n);
                    return this.slerp(e, i), this
                },
                inverse: function () {
                    return this.conjugate()
                },
                conjugate: function () {
                    return this._x *= -1, this._y *= -1, this._z *= -1, this._onChangeCallback(), this
                },
                dot: function (e) {
                    return this._x * e._x + this._y * e._y + this._z * e._z + this._w * e._w
                },
                lengthSq: function () {
                    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
                },
                length: function () {
                    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
                },
                normalize: function () {
                    var e = this.length();
                    return 0 === e ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (e = 1 / e, this._x = this._x * e, this._y = this._y * e, this._z = this._z * e, this._w = this._w * e), this._onChangeCallback(), this
                },
                multiply: function (e, t) {
                    return void 0 !== t ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."), this.multiplyQuaternions(e, t)) : this.multiplyQuaternions(this, e)
                },
                premultiply: function (e) {
                    return this.multiplyQuaternions(e, this)
                },
                multiplyQuaternions: function (e, t) {
                    var n = e._x,
                        i = e._y,
                        r = e._z,
                        o = e._w,
                        a = t._x,
                        s = t._y,
                        l = t._z,
                        c = t._w;
                    return this._x = n * c + o * a + i * l - r * s, this._y = i * c + o * s + r * a - n * l, this._z = r * c + o * l + n * s - i * a, this._w = o * c - n * a - i * s - r * l, this._onChangeCallback(), this
                },
                slerp: function (e, t) {
                    if (0 === t) return this;
                    if (1 === t) return this.copy(e);
                    var n = this._x,
                        i = this._y,
                        r = this._z,
                        o = this._w,
                        a = o * e._w + n * e._x + i * e._y + r * e._z;
                    if (a < 0 ? (this._w = -e._w, this._x = -e._x, this._y = -e._y, this._z = -e._z, a = -a) : this.copy(e), a >= 1) return this._w = o, this._x = n, this._y = i, this._z = r, this;
                    var s = 1 - a * a;
                    if (s <= Number.EPSILON) {
                        var l = 1 - t;
                        return this._w = l * o + t * this._w, this._x = l * n + t * this._x, this._y = l * i + t * this._y, this._z = l * r + t * this._z, this.normalize(), this._onChangeCallback(), this
                    }
                    var c = Math.sqrt(s),
                        u = Math.atan2(c, a),
                        h = Math.sin((1 - t) * u) / c,
                        d = Math.sin(t * u) / c;
                    return this._w = o * h + this._w * d, this._x = n * h + this._x * d, this._y = i * h + this._y * d, this._z = r * h + this._z * d, this._onChangeCallback(), this
                },
                equals: function (e) {
                    return e._x === this._x && e._y === this._y && e._z === this._z && e._w === this._w
                },
                fromArray: function (e, t) {
                    return void 0 === t && (t = 0), this._x = e[t], this._y = e[t + 1], this._z = e[t + 2], this._w = e[t + 3], this._onChangeCallback(), this
                },
                toArray: function (e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this._x, e[t + 1] = this._y, e[t + 2] = this._z, e[t + 3] = this._w, e
                },
                _onChange: function (e) {
                    return this._onChangeCallback = e, this
                },
                _onChangeCallback: function () {}
            });
            var Dn = new Nn,
                Bn = new In;

            function Nn(e, t, n) {
                this.x = e || 0, this.y = t || 0, this.z = n || 0
            }
            Object.assign(Nn.prototype, {
                isVector3: !0,
                set: function (e, t, n) {
                    return this.x = e, this.y = t, this.z = n, this
                },
                setScalar: function (e) {
                    return this.x = e, this.y = e, this.z = e, this
                },
                setX: function (e) {
                    return this.x = e, this
                },
                setY: function (e) {
                    return this.y = e, this
                },
                setZ: function (e) {
                    return this.z = e, this
                },
                setComponent: function (e, t) {
                    switch (e) {
                        case 0:
                            this.x = t;
                            break;
                        case 1:
                            this.y = t;
                            break;
                        case 2:
                            this.z = t;
                            break;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                    return this
                },
                getComponent: function (e) {
                    switch (e) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        case 2:
                            return this.z;
                        default:
                            throw new Error("index is out of range: " + e)
                    }
                },
                clone: function () {
                    return new this.constructor(this.x, this.y, this.z)
                },
                copy: function (e) {
                    return this.x = e.x, this.y = e.y, this.z = e.z, this
                },
                add: function (e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this.z += e.z, this)
                },
                addScalar: function (e) {
                    return this.x += e, this.y += e, this.z += e, this
                },
                addVectors: function (e, t) {
                    return this.x = e.x + t.x, this.y = e.y + t.y, this.z = e.z + t.z, this
                },
                addScaledVector: function (e, t) {
                    return this.x += e.x * t, this.y += e.y * t, this.z += e.z * t, this
                },
                sub: function (e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this.z -= e.z, this)
                },
                subScalar: function (e) {
                    return this.x -= e, this.y -= e, this.z -= e, this
                },
                subVectors: function (e, t) {
                    return this.x = e.x - t.x, this.y = e.y - t.y, this.z = e.z - t.z, this
                },
                multiply: function (e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."), this.multiplyVectors(e, t)) : (this.x *= e.x, this.y *= e.y, this.z *= e.z, this)
                },
                multiplyScalar: function (e) {
                    return this.x *= e, this.y *= e, this.z *= e, this
                },
                multiplyVectors: function (e, t) {
                    return this.x = e.x * t.x, this.y = e.y * t.y, this.z = e.z * t.z, this
                },
                applyEuler: function (e) {
                    return e && e.isEuler || console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."), this.applyQuaternion(Bn.setFromEuler(e))
                },
                applyAxisAngle: function (e, t) {
                    return this.applyQuaternion(Bn.setFromAxisAngle(e, t))
                },
                applyMatrix3: function (e) {
                    var t = this.x,
                        n = this.y,
                        i = this.z,
                        r = e.elements;
                    return this.x = r[0] * t + r[3] * n + r[6] * i, this.y = r[1] * t + r[4] * n + r[7] * i, this.z = r[2] * t + r[5] * n + r[8] * i, this
                },
                applyNormalMatrix: function (e) {
                    return this.applyMatrix3(e).normalize()
                },
                applyMatrix4: function (e) {
                    var t = this.x,
                        n = this.y,
                        i = this.z,
                        r = e.elements,
                        o = 1 / (r[3] * t + r[7] * n + r[11] * i + r[15]);
                    return this.x = (r[0] * t + r[4] * n + r[8] * i + r[12]) * o, this.y = (r[1] * t + r[5] * n + r[9] * i + r[13]) * o, this.z = (r[2] * t + r[6] * n + r[10] * i + r[14]) * o, this
                },
                applyQuaternion: function (e) {
                    var t = this.x,
                        n = this.y,
                        i = this.z,
                        r = e.x,
                        o = e.y,
                        a = e.z,
                        s = e.w,
                        l = s * t + o * i - a * n,
                        c = s * n + a * t - r * i,
                        u = s * i + r * n - o * t,
                        h = -r * t - o * n - a * i;
                    return this.x = l * s + h * -r + c * -a - u * -o, this.y = c * s + h * -o + u * -r - l * -a, this.z = u * s + h * -a + l * -o - c * -r, this
                },
                project: function (e) {
                    return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)
                },
                unproject: function (e) {
                    return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)
                },
                transformDirection: function (e) {
                    var t = this.x,
                        n = this.y,
                        i = this.z,
                        r = e.elements;
                    return this.x = r[0] * t + r[4] * n + r[8] * i, this.y = r[1] * t + r[5] * n + r[9] * i, this.z = r[2] * t + r[6] * n + r[10] * i, this.normalize()
                },
                divide: function (e) {
                    return this.x /= e.x, this.y /= e.y, this.z /= e.z, this
                },
                divideScalar: function (e) {
                    return this.multiplyScalar(1 / e)
                },
                min: function (e) {
                    return this.x = Math.min(this.x, e.x), this.y = Math.min(this.y, e.y), this.z = Math.min(this.z, e.z), this
                },
                max: function (e) {
                    return this.x = Math.max(this.x, e.x), this.y = Math.max(this.y, e.y), this.z = Math.max(this.z, e.z), this
                },
                clamp: function (e, t) {
                    return this.x = Math.max(e.x, Math.min(t.x, this.x)), this.y = Math.max(e.y, Math.min(t.y, this.y)), this.z = Math.max(e.z, Math.min(t.z, this.z)), this
                },
                clampScalar: function (e, t) {
                    return this.x = Math.max(e, Math.min(t, this.x)), this.y = Math.max(e, Math.min(t, this.y)), this.z = Math.max(e, Math.min(t, this.z)), this
                },
                clampLength: function (e, t) {
                    var n = this.length();
                    return this.divideScalar(n || 1).multiplyScalar(Math.max(e, Math.min(t, n)))
                },
                floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this
                },
                ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this
                },
                round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this
                },
                roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this
                },
                negate: function () {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this
                },
                dot: function (e) {
                    return this.x * e.x + this.y * e.y + this.z * e.z
                },
                lengthSq: function () {
                    return this.x * this.x + this.y * this.y + this.z * this.z
                },
                length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
                },
                manhattanLength: function () {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
                },
                normalize: function () {
                    return this.divideScalar(this.length() || 1)
                },
                setLength: function (e) {
                    return this.normalize().multiplyScalar(e)
                },
                lerp: function (e, t) {
                    return this.x += (e.x - this.x) * t, this.y += (e.y - this.y) * t, this.z += (e.z - this.z) * t, this
                },
                lerpVectors: function (e, t, n) {
                    return this.subVectors(t, e).multiplyScalar(n).add(e)
                },
                cross: function (e, t) {
                    return void 0 !== t ? (console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."), this.crossVectors(e, t)) : this.crossVectors(this, e)
                },
                crossVectors: function (e, t) {
                    var n = e.x,
                        i = e.y,
                        r = e.z,
                        o = t.x,
                        a = t.y,
                        s = t.z;
                    return this.x = i * s - r * a, this.y = r * o - n * s, this.z = n * a - i * o, this
                },
                projectOnVector: function (e) {
                    var t = e.lengthSq();
                    if (0 === t) return this.set(0, 0, 0);
                    var n = e.dot(this) / t;
                    return this.copy(e).multiplyScalar(n)
                },
                projectOnPlane: function (e) {
                    return Dn.copy(this).projectOnVector(e), this.sub(Dn)
                },
                reflect: function (e) {
                    return this.sub(Dn.copy(e).multiplyScalar(2 * this.dot(e)))
                },
                angleTo: function (e) {
                    var t = Math.sqrt(this.lengthSq() * e.lengthSq());
                    if (0 === t) return Math.PI / 2;
                    var n = this.dot(e) / t;
                    return Math.acos(Mn.clamp(n, -1, 1))
                },
                distanceTo: function (e) {
                    return Math.sqrt(this.distanceToSquared(e))
                },
                distanceToSquared: function (e) {
                    var t = this.x - e.x,
                        n = this.y - e.y,
                        i = this.z - e.z;
                    return t * t + n * n + i * i
                },
                manhattanDistanceTo: function (e) {
                    return Math.abs(this.x - e.x) + Math.abs(this.y - e.y) + Math.abs(this.z - e.z)
                },
                setFromSpherical: function (e) {
                    return this.setFromSphericalCoords(e.radius, e.phi, e.theta)
                },
                setFromSphericalCoords: function (e, t, n) {
                    var i = Math.sin(t) * e;
                    return this.x = i * Math.sin(n), this.y = Math.cos(t) * e, this.z = i * Math.cos(n), this
                },
                setFromCylindrical: function (e) {
                    return this.setFromCylindricalCoords(e.radius, e.theta, e.y)
                },
                setFromCylindricalCoords: function (e, t, n) {
                    return this.x = e * Math.sin(t), this.y = n, this.z = e * Math.cos(t), this
                },
                setFromMatrixPosition: function (e) {
                    var t = e.elements;
                    return this.x = t[12], this.y = t[13], this.z = t[14], this
                },
                setFromMatrixScale: function (e) {
                    var t = this.setFromMatrixColumn(e, 0).length(),
                        n = this.setFromMatrixColumn(e, 1).length(),
                        i = this.setFromMatrixColumn(e, 2).length();
                    return this.x = t, this.y = n, this.z = i, this
                },
                setFromMatrixColumn: function (e, t) {
                    return this.fromArray(e.elements, 4 * t)
                },
                setFromMatrix3Column: function (e, t) {
                    return this.fromArray(e.elements, 3 * t)
                },
                equals: function (e) {
                    return e.x === this.x && e.y === this.y && e.z === this.z
                },
                fromArray: function (e, t) {
                    return void 0 === t && (t = 0), this.x = e[t], this.y = e[t + 1], this.z = e[t + 2], this
                },
                toArray: function (e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this.x, e[t + 1] = this.y, e[t + 2] = this.z, e
                },
                fromBufferAttribute: function (e, t, n) {
                    return void 0 !== n && console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."), this.x = e.getX(t), this.y = e.getY(t), this.z = e.getZ(t), this
                }
            });
            var Gn = new Nn,
                jn = new Wn,
                Hn = new Nn(0, 0, 0),
                Fn = new Nn(1, 1, 1),
                Un = new Nn,
                zn = new Nn,
                Vn = new Nn;

            function Wn() {
                this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], arguments.length > 0 && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
            }
            Object.assign(Wn.prototype, {
                isMatrix4: !0,
                set: function (e, t, n, i, r, o, a, s, l, c, u, h, d, p, f, m) {
                    var v = this.elements;
                    return v[0] = e, v[4] = t, v[8] = n, v[12] = i, v[1] = r, v[5] = o, v[9] = a, v[13] = s, v[2] = l, v[6] = c, v[10] = u, v[14] = h, v[3] = d, v[7] = p, v[11] = f, v[15] = m, this
                },
                identity: function () {
                    return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                },
                clone: function () {
                    return (new Wn).fromArray(this.elements)
                },
                copy: function (e) {
                    var t = this.elements,
                        n = e.elements;
                    return t[0] = n[0], t[1] = n[1], t[2] = n[2], t[3] = n[3], t[4] = n[4], t[5] = n[5], t[6] = n[6], t[7] = n[7], t[8] = n[8], t[9] = n[9], t[10] = n[10], t[11] = n[11], t[12] = n[12], t[13] = n[13], t[14] = n[14], t[15] = n[15], this
                },
                copyPosition: function (e) {
                    var t = this.elements,
                        n = e.elements;
                    return t[12] = n[12], t[13] = n[13], t[14] = n[14], this
                },
                extractBasis: function (e, t, n) {
                    return e.setFromMatrixColumn(this, 0), t.setFromMatrixColumn(this, 1), n.setFromMatrixColumn(this, 2), this
                },
                makeBasis: function (e, t, n) {
                    return this.set(e.x, t.x, n.x, 0, e.y, t.y, n.y, 0, e.z, t.z, n.z, 0, 0, 0, 0, 1), this
                },
                extractRotation: function (e) {
                    var t = this.elements,
                        n = e.elements,
                        i = 1 / Gn.setFromMatrixColumn(e, 0).length(),
                        r = 1 / Gn.setFromMatrixColumn(e, 1).length(),
                        o = 1 / Gn.setFromMatrixColumn(e, 2).length();
                    return t[0] = n[0] * i, t[1] = n[1] * i, t[2] = n[2] * i, t[3] = 0, t[4] = n[4] * r, t[5] = n[5] * r, t[6] = n[6] * r, t[7] = 0, t[8] = n[8] * o, t[9] = n[9] * o, t[10] = n[10] * o, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this
                },
                makeRotationFromEuler: function (e) {
                    e && e.isEuler || console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
                    var t = this.elements,
                        n = e.x,
                        i = e.y,
                        r = e.z,
                        o = Math.cos(n),
                        a = Math.sin(n),
                        s = Math.cos(i),
                        l = Math.sin(i),
                        c = Math.cos(r),
                        u = Math.sin(r);
                    if ("XYZ" === e.order) {
                        var h = o * c,
                            d = o * u,
                            p = a * c,
                            f = a * u;
                        t[0] = s * c, t[4] = -s * u, t[8] = l, t[1] = d + p * l, t[5] = h - f * l, t[9] = -a * s, t[2] = f - h * l, t[6] = p + d * l, t[10] = o * s
                    } else if ("YXZ" === e.order) {
                        var m = s * c,
                            v = s * u,
                            g = l * c,
                            y = l * u;
                        t[0] = m + y * a, t[4] = g * a - v, t[8] = o * l, t[1] = o * u, t[5] = o * c, t[9] = -a, t[2] = v * a - g, t[6] = y + m * a, t[10] = o * s
                    } else if ("ZXY" === e.order) {
                        m = s * c, v = s * u, g = l * c, y = l * u;
                        t[0] = m - y * a, t[4] = -o * u, t[8] = g + v * a, t[1] = v + g * a, t[5] = o * c, t[9] = y - m * a, t[2] = -o * l, t[6] = a, t[10] = o * s
                    } else if ("ZYX" === e.order) {
                        h = o * c, d = o * u, p = a * c, f = a * u;
                        t[0] = s * c, t[4] = p * l - d, t[8] = h * l + f, t[1] = s * u, t[5] = f * l + h, t[9] = d * l - p, t[2] = -l, t[6] = a * s, t[10] = o * s
                    } else if ("YZX" === e.order) {
                        var _ = o * s,
                            b = o * l,
                            w = a * s,
                            x = a * l;
                        t[0] = s * c, t[4] = x - _ * u, t[8] = w * u + b, t[1] = u, t[5] = o * c, t[9] = -a * c, t[2] = -l * c, t[6] = b * u + w, t[10] = _ - x * u
                    } else if ("XZY" === e.order) {
                        _ = o * s, b = o * l, w = a * s, x = a * l;
                        t[0] = s * c, t[4] = -u, t[8] = l * c, t[1] = _ * u + x, t[5] = o * c, t[9] = b * u - w, t[2] = w * u - b, t[6] = a * c, t[10] = x * u + _
                    }
                    return t[3] = 0, t[7] = 0, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this
                },
                makeRotationFromQuaternion: function (e) {
                    return this.compose(Hn, e, Fn)
                },
                lookAt: function (e, t, n) {
                    var i = this.elements;
                    return Vn.subVectors(e, t), 0 === Vn.lengthSq() && (Vn.z = 1), Vn.normalize(), Un.crossVectors(n, Vn), 0 === Un.lengthSq() && (1 === Math.abs(n.z) ? Vn.x += 1e-4 : Vn.z += 1e-4, Vn.normalize(), Un.crossVectors(n, Vn)), Un.normalize(), zn.crossVectors(Vn, Un), i[0] = Un.x, i[4] = zn.x, i[8] = Vn.x, i[1] = Un.y, i[5] = zn.y, i[9] = Vn.y, i[2] = Un.z, i[6] = zn.z, i[10] = Vn.z, this
                },
                multiply: function (e, t) {
                    return void 0 !== t ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."), this.multiplyMatrices(e, t)) : this.multiplyMatrices(this, e)
                },
                premultiply: function (e) {
                    return this.multiplyMatrices(e, this)
                },
                multiplyMatrices: function (e, t) {
                    var n = e.elements,
                        i = t.elements,
                        r = this.elements,
                        o = n[0],
                        a = n[4],
                        s = n[8],
                        l = n[12],
                        c = n[1],
                        u = n[5],
                        h = n[9],
                        d = n[13],
                        p = n[2],
                        f = n[6],
                        m = n[10],
                        v = n[14],
                        g = n[3],
                        y = n[7],
                        _ = n[11],
                        b = n[15],
                        w = i[0],
                        x = i[4],
                        T = i[8],
                        S = i[12],
                        M = i[1],
                        E = i[5],
                        A = i[9],
                        P = i[13],
                        C = i[2],
                        L = i[6],
                        O = i[10],
                        R = i[14],
                        k = i[3],
                        I = i[7],
                        D = i[11],
                        B = i[15];
                    return r[0] = o * w + a * M + s * C + l * k, r[4] = o * x + a * E + s * L + l * I, r[8] = o * T + a * A + s * O + l * D, r[12] = o * S + a * P + s * R + l * B, r[1] = c * w + u * M + h * C + d * k, r[5] = c * x + u * E + h * L + d * I, r[9] = c * T + u * A + h * O + d * D, r[13] = c * S + u * P + h * R + d * B, r[2] = p * w + f * M + m * C + v * k, r[6] = p * x + f * E + m * L + v * I, r[10] = p * T + f * A + m * O + v * D, r[14] = p * S + f * P + m * R + v * B, r[3] = g * w + y * M + _ * C + b * k, r[7] = g * x + y * E + _ * L + b * I, r[11] = g * T + y * A + _ * O + b * D, r[15] = g * S + y * P + _ * R + b * B, this
                },
                multiplyScalar: function (e) {
                    var t = this.elements;
                    return t[0] *= e, t[4] *= e, t[8] *= e, t[12] *= e, t[1] *= e, t[5] *= e, t[9] *= e, t[13] *= e, t[2] *= e, t[6] *= e, t[10] *= e, t[14] *= e, t[3] *= e, t[7] *= e, t[11] *= e, t[15] *= e, this
                },
                determinant: function () {
                    var e = this.elements,
                        t = e[0],
                        n = e[4],
                        i = e[8],
                        r = e[12],
                        o = e[1],
                        a = e[5],
                        s = e[9],
                        l = e[13],
                        c = e[2],
                        u = e[6],
                        h = e[10],
                        d = e[14];
                    return e[3] * (+r * s * u - i * l * u - r * a * h + n * l * h + i * a * d - n * s * d) + e[7] * (+t * s * d - t * l * h + r * o * h - i * o * d + i * l * c - r * s * c) + e[11] * (+t * l * u - t * a * d - r * o * u + n * o * d + r * a * c - n * l * c) + e[15] * (-i * a * c - t * s * u + t * a * h + i * o * u - n * o * h + n * s * c)
                },
                transpose: function () {
                    var e, t = this.elements;
                    return e = t[1], t[1] = t[4], t[4] = e, e = t[2], t[2] = t[8], t[8] = e, e = t[6], t[6] = t[9], t[9] = e, e = t[3], t[3] = t[12], t[12] = e, e = t[7], t[7] = t[13], t[13] = e, e = t[11], t[11] = t[14], t[14] = e, this
                },
                setPosition: function (e, t, n) {
                    var i = this.elements;
                    return e.isVector3 ? (i[12] = e.x, i[13] = e.y, i[14] = e.z) : (i[12] = e, i[13] = t, i[14] = n), this
                },
                getInverse: function (e, t) {
                    var n = this.elements,
                        i = e.elements,
                        r = i[0],
                        o = i[1],
                        a = i[2],
                        s = i[3],
                        l = i[4],
                        c = i[5],
                        u = i[6],
                        h = i[7],
                        d = i[8],
                        p = i[9],
                        f = i[10],
                        m = i[11],
                        v = i[12],
                        g = i[13],
                        y = i[14],
                        _ = i[15],
                        b = p * y * h - g * f * h + g * u * m - c * y * m - p * u * _ + c * f * _,
                        w = v * f * h - d * y * h - v * u * m + l * y * m + d * u * _ - l * f * _,
                        x = d * g * h - v * p * h + v * c * m - l * g * m - d * c * _ + l * p * _,
                        T = v * p * u - d * g * u - v * c * f + l * g * f + d * c * y - l * p * y,
                        S = r * b + o * w + a * x + s * T;
                    if (0 === S) {
                        var M = "THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";
                        if (!0 === t) throw new Error(M);
                        return console.warn(M), this.identity()
                    }
                    var E = 1 / S;
                    return n[0] = b * E, n[1] = (g * f * s - p * y * s - g * a * m + o * y * m + p * a * _ - o * f * _) * E, n[2] = (c * y * s - g * u * s + g * a * h - o * y * h - c * a * _ + o * u * _) * E, n[3] = (p * u * s - c * f * s - p * a * h + o * f * h + c * a * m - o * u * m) * E, n[4] = w * E, n[5] = (d * y * s - v * f * s + v * a * m - r * y * m - d * a * _ + r * f * _) * E, n[6] = (v * u * s - l * y * s - v * a * h + r * y * h + l * a * _ - r * u * _) * E, n[7] = (l * f * s - d * u * s + d * a * h - r * f * h - l * a * m + r * u * m) * E, n[8] = x * E, n[9] = (v * p * s - d * g * s - v * o * m + r * g * m + d * o * _ - r * p * _) * E, n[10] = (l * g * s - v * c * s + v * o * h - r * g * h - l * o * _ + r * c * _) * E, n[11] = (d * c * s - l * p * s - d * o * h + r * p * h + l * o * m - r * c * m) * E, n[12] = T * E, n[13] = (d * g * a - v * p * a + v * o * f - r * g * f - d * o * y + r * p * y) * E, n[14] = (v * c * a - l * g * a - v * o * u + r * g * u + l * o * y - r * c * y) * E, n[15] = (l * p * a - d * c * a + d * o * u - r * p * u - l * o * f + r * c * f) * E, this
                },
                scale: function (e) {
                    var t = this.elements,
                        n = e.x,
                        i = e.y,
                        r = e.z;
                    return t[0] *= n, t[4] *= i, t[8] *= r, t[1] *= n, t[5] *= i, t[9] *= r, t[2] *= n, t[6] *= i, t[10] *= r, t[3] *= n, t[7] *= i, t[11] *= r, this
                },
                getMaxScaleOnAxis: function () {
                    var e = this.elements,
                        t = e[0] * e[0] + e[1] * e[1] + e[2] * e[2],
                        n = e[4] * e[4] + e[5] * e[5] + e[6] * e[6],
                        i = e[8] * e[8] + e[9] * e[9] + e[10] * e[10];
                    return Math.sqrt(Math.max(t, n, i))
                },
                makeTranslation: function (e, t, n) {
                    return this.set(1, 0, 0, e, 0, 1, 0, t, 0, 0, 1, n, 0, 0, 0, 1), this
                },
                makeRotationX: function (e) {
                    var t = Math.cos(e),
                        n = Math.sin(e);
                    return this.set(1, 0, 0, 0, 0, t, -n, 0, 0, n, t, 0, 0, 0, 0, 1), this
                },
                makeRotationY: function (e) {
                    var t = Math.cos(e),
                        n = Math.sin(e);
                    return this.set(t, 0, n, 0, 0, 1, 0, 0, -n, 0, t, 0, 0, 0, 0, 1), this
                },
                makeRotationZ: function (e) {
                    var t = Math.cos(e),
                        n = Math.sin(e);
                    return this.set(t, -n, 0, 0, n, t, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                },
                makeRotationAxis: function (e, t) {
                    var n = Math.cos(t),
                        i = Math.sin(t),
                        r = 1 - n,
                        o = e.x,
                        a = e.y,
                        s = e.z,
                        l = r * o,
                        c = r * a;
                    return this.set(l * o + n, l * a - i * s, l * s + i * a, 0, l * a + i * s, c * a + n, c * s - i * o, 0, l * s - i * a, c * s + i * o, r * s * s + n, 0, 0, 0, 0, 1), this
                },
                makeScale: function (e, t, n) {
                    return this.set(e, 0, 0, 0, 0, t, 0, 0, 0, 0, n, 0, 0, 0, 0, 1), this
                },
                makeShear: function (e, t, n) {
                    return this.set(1, t, n, 0, e, 1, n, 0, e, t, 1, 0, 0, 0, 0, 1), this
                },
                compose: function (e, t, n) {
                    var i = this.elements,
                        r = t._x,
                        o = t._y,
                        a = t._z,
                        s = t._w,
                        l = r + r,
                        c = o + o,
                        u = a + a,
                        h = r * l,
                        d = r * c,
                        p = r * u,
                        f = o * c,
                        m = o * u,
                        v = a * u,
                        g = s * l,
                        y = s * c,
                        _ = s * u,
                        b = n.x,
                        w = n.y,
                        x = n.z;
                    return i[0] = (1 - (f + v)) * b, i[1] = (d + _) * b, i[2] = (p - y) * b, i[3] = 0, i[4] = (d - _) * w, i[5] = (1 - (h + v)) * w, i[6] = (m + g) * w, i[7] = 0, i[8] = (p + y) * x, i[9] = (m - g) * x, i[10] = (1 - (h + f)) * x, i[11] = 0, i[12] = e.x, i[13] = e.y, i[14] = e.z, i[15] = 1, this
                },
                decompose: function (e, t, n) {
                    var i = this.elements,
                        r = Gn.set(i[0], i[1], i[2]).length(),
                        o = Gn.set(i[4], i[5], i[6]).length(),
                        a = Gn.set(i[8], i[9], i[10]).length();
                    this.determinant() < 0 && (r = -r), e.x = i[12], e.y = i[13], e.z = i[14], jn.copy(this);
                    var s = 1 / r,
                        l = 1 / o,
                        c = 1 / a;
                    return jn.elements[0] *= s, jn.elements[1] *= s, jn.elements[2] *= s, jn.elements[4] *= l, jn.elements[5] *= l, jn.elements[6] *= l, jn.elements[8] *= c, jn.elements[9] *= c, jn.elements[10] *= c, t.setFromRotationMatrix(jn), n.x = r, n.y = o, n.z = a, this
                },
                makePerspective: function (e, t, n, i, r, o) {
                    void 0 === o && console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");
                    var a = this.elements,
                        s = 2 * r / (t - e),
                        l = 2 * r / (n - i),
                        c = (t + e) / (t - e),
                        u = (n + i) / (n - i),
                        h = -(o + r) / (o - r),
                        d = -2 * o * r / (o - r);
                    return a[0] = s, a[4] = 0, a[8] = c, a[12] = 0, a[1] = 0, a[5] = l, a[9] = u, a[13] = 0, a[2] = 0, a[6] = 0, a[10] = h, a[14] = d, a[3] = 0, a[7] = 0, a[11] = -1, a[15] = 0, this
                },
                makeOrthographic: function (e, t, n, i, r, o) {
                    var a = this.elements,
                        s = 1 / (t - e),
                        l = 1 / (n - i),
                        c = 1 / (o - r),
                        u = (t + e) * s,
                        h = (n + i) * l,
                        d = (o + r) * c;
                    return a[0] = 2 * s, a[4] = 0, a[8] = 0, a[12] = -u, a[1] = 0, a[5] = 2 * l, a[9] = 0, a[13] = -h, a[2] = 0, a[6] = 0, a[10] = -2 * c, a[14] = -d, a[3] = 0, a[7] = 0, a[11] = 0, a[15] = 1, this
                },
                equals: function (e) {
                    for (var t = this.elements, n = e.elements, i = 0; i < 16; i++)
                        if (t[i] !== n[i]) return !1;
                    return !0
                },
                fromArray: function (e, t) {
                    void 0 === t && (t = 0);
                    for (var n = 0; n < 16; n++) this.elements[n] = e[n + t];
                    return this
                },
                toArray: function (e, t) {
                    void 0 === e && (e = []), void 0 === t && (t = 0);
                    var n = this.elements;
                    return e[t] = n[0], e[t + 1] = n[1], e[t + 2] = n[2], e[t + 3] = n[3], e[t + 4] = n[4], e[t + 5] = n[5], e[t + 6] = n[6], e[t + 7] = n[7], e[t + 8] = n[8], e[t + 9] = n[9], e[t + 10] = n[10], e[t + 11] = n[11], e[t + 12] = n[12], e[t + 13] = n[13], e[t + 14] = n[14], e[t + 15] = n[15], e
                }
            });
            var qn = new Wn,
                Xn = new In;

            function Yn(e, t, n, i) {
                this._x = e || 0, this._y = t || 0, this._z = n || 0, this._order = i || Yn.DefaultOrder
            }

            function Jn() {
                this.mask = 1
            }
            Yn.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"], Yn.DefaultOrder = "XYZ", Object.defineProperties(Yn.prototype, {
                x: {
                    get: function () {
                        return this._x
                    },
                    set: function (e) {
                        this._x = e, this._onChangeCallback()
                    }
                },
                y: {
                    get: function () {
                        return this._y
                    },
                    set: function (e) {
                        this._y = e, this._onChangeCallback()
                    }
                },
                z: {
                    get: function () {
                        return this._z
                    },
                    set: function (e) {
                        this._z = e, this._onChangeCallback()
                    }
                },
                order: {
                    get: function () {
                        return this._order
                    },
                    set: function (e) {
                        this._order = e, this._onChangeCallback()
                    }
                }
            }), Object.assign(Yn.prototype, {
                isEuler: !0,
                set: function (e, t, n, i) {
                    return this._x = e, this._y = t, this._z = n, this._order = i || this._order, this._onChangeCallback(), this
                },
                clone: function () {
                    return new this.constructor(this._x, this._y, this._z, this._order)
                },
                copy: function (e) {
                    return this._x = e._x, this._y = e._y, this._z = e._z, this._order = e._order, this._onChangeCallback(), this
                },
                setFromRotationMatrix: function (e, t, n) {
                    var i = Mn.clamp,
                        r = e.elements,
                        o = r[0],
                        a = r[4],
                        s = r[8],
                        l = r[1],
                        c = r[5],
                        u = r[9],
                        h = r[2],
                        d = r[6],
                        p = r[10];
                    return "XYZ" === (t = t || this._order) ? (this._y = Math.asin(i(s, -1, 1)), Math.abs(s) < .9999999 ? (this._x = Math.atan2(-u, p), this._z = Math.atan2(-a, o)) : (this._x = Math.atan2(d, c), this._z = 0)) : "YXZ" === t ? (this._x = Math.asin(-i(u, -1, 1)), Math.abs(u) < .9999999 ? (this._y = Math.atan2(s, p), this._z = Math.atan2(l, c)) : (this._y = Math.atan2(-h, o), this._z = 0)) : "ZXY" === t ? (this._x = Math.asin(i(d, -1, 1)), Math.abs(d) < .9999999 ? (this._y = Math.atan2(-h, p), this._z = Math.atan2(-a, c)) : (this._y = 0, this._z = Math.atan2(l, o))) : "ZYX" === t ? (this._y = Math.asin(-i(h, -1, 1)), Math.abs(h) < .9999999 ? (this._x = Math.atan2(d, p), this._z = Math.atan2(l, o)) : (this._x = 0, this._z = Math.atan2(-a, c))) : "YZX" === t ? (this._z = Math.asin(i(l, -1, 1)), Math.abs(l) < .9999999 ? (this._x = Math.atan2(-u, c), this._y = Math.atan2(-h, o)) : (this._x = 0, this._y = Math.atan2(s, p))) : "XZY" === t ? (this._z = Math.asin(-i(a, -1, 1)), Math.abs(a) < .9999999 ? (this._x = Math.atan2(d, c), this._y = Math.atan2(s, o)) : (this._x = Math.atan2(-u, p), this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + t), this._order = t, !1 !== n && this._onChangeCallback(), this
                },
                setFromQuaternion: function (e, t, n) {
                    return qn.makeRotationFromQuaternion(e), this.setFromRotationMatrix(qn, t, n)
                },
                setFromVector3: function (e, t) {
                    return this.set(e.x, e.y, e.z, t || this._order)
                },
                reorder: function (e) {
                    return Xn.setFromEuler(this), this.setFromQuaternion(Xn, e)
                },
                equals: function (e) {
                    return e._x === this._x && e._y === this._y && e._z === this._z && e._order === this._order
                },
                fromArray: function (e) {
                    return this._x = e[0], this._y = e[1], this._z = e[2], void 0 !== e[3] && (this._order = e[3]), this._onChangeCallback(), this
                },
                toArray: function (e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this._x, e[t + 1] = this._y, e[t + 2] = this._z, e[t + 3] = this._order, e
                },
                toVector3: function (e) {
                    return e ? e.set(this._x, this._y, this._z) : new Nn(this._x, this._y, this._z)
                },
                _onChange: function (e) {
                    return this._onChangeCallback = e, this
                },
                _onChangeCallback: function () {}
            }), Object.assign(Jn.prototype, {
                set: function (e) {
                    this.mask = 1 << e | 0
                },
                enable: function (e) {
                    this.mask |= 1 << e | 0
                },
                enableAll: function () {
                    this.mask = -1
                },
                toggle: function (e) {
                    this.mask ^= 1 << e | 0
                },
                disable: function (e) {
                    this.mask &= ~(1 << e | 0)
                },
                disableAll: function () {
                    this.mask = 0
                },
                test: function (e) {
                    return 0 != (this.mask & e.mask)
                }
            });
            var Kn = 0,
                Zn = new Nn,
                $n = new In,
                Qn = new Wn,
                ei = new Nn,
                ti = new Nn,
                ni = new Nn,
                ii = new In,
                ri = new Nn(1, 0, 0),
                oi = new Nn(0, 1, 0),
                ai = new Nn(0, 0, 1),
                si = {
                    type: "added"
                },
                li = {
                    type: "removed"
                };

            function ci() {
                Object.defineProperty(this, "id", {
                    value: Kn++
                }), this.uuid = Mn.generateUUID(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = ci.DefaultUp.clone();
                var e = new Nn,
                    t = new Yn,
                    n = new In,
                    i = new Nn(1, 1, 1);
                t._onChange((function () {
                    n.setFromEuler(t, !1)
                })), n._onChange((function () {
                    t.setFromQuaternion(n, void 0, !1)
                })), Object.defineProperties(this, {
                    position: {
                        configurable: !0,
                        enumerable: !0,
                        value: e
                    },
                    rotation: {
                        configurable: !0,
                        enumerable: !0,
                        value: t
                    },
                    quaternion: {
                        configurable: !0,
                        enumerable: !0,
                        value: n
                    },
                    scale: {
                        configurable: !0,
                        enumerable: !0,
                        value: i
                    },
                    modelViewMatrix: {
                        value: new Wn
                    },
                    normalMatrix: {
                        value: new An
                    }
                }), this.matrix = new Wn, this.matrixWorld = new Wn, this.matrixAutoUpdate = ci.DefaultMatrixAutoUpdate, this.matrixWorldNeedsUpdate = !1, this.layers = new Jn, this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.userData = {}
            }

            function ui() {
                ci.call(this), this.type = "Scene", this.background = null, this.environment = null, this.fog = null, this.overrideMaterial = null, this.autoUpdate = !0, "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", {
                    detail: this
                }))
            }
            ci.DefaultUp = new Nn(0, 1, 0), ci.DefaultMatrixAutoUpdate = !0, ci.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: ci,
                isObject3D: !0,
                onBeforeRender: function () {},
                onAfterRender: function () {},
                applyMatrix4: function (e) {
                    this.matrixAutoUpdate && this.updateMatrix(), this.matrix.premultiply(e), this.matrix.decompose(this.position, this.quaternion, this.scale)
                },
                applyQuaternion: function (e) {
                    return this.quaternion.premultiply(e), this
                },
                setRotationFromAxisAngle: function (e, t) {
                    this.quaternion.setFromAxisAngle(e, t)
                },
                setRotationFromEuler: function (e) {
                    this.quaternion.setFromEuler(e, !0)
                },
                setRotationFromMatrix: function (e) {
                    this.quaternion.setFromRotationMatrix(e)
                },
                setRotationFromQuaternion: function (e) {
                    this.quaternion.copy(e)
                },
                rotateOnAxis: function (e, t) {
                    return $n.setFromAxisAngle(e, t), this.quaternion.multiply($n), this
                },
                rotateOnWorldAxis: function (e, t) {
                    return $n.setFromAxisAngle(e, t), this.quaternion.premultiply($n), this
                },
                rotateX: function (e) {
                    return this.rotateOnAxis(ri, e)
                },
                rotateY: function (e) {
                    return this.rotateOnAxis(oi, e)
                },
                rotateZ: function (e) {
                    return this.rotateOnAxis(ai, e)
                },
                translateOnAxis: function (e, t) {
                    return Zn.copy(e).applyQuaternion(this.quaternion), this.position.add(Zn.multiplyScalar(t)), this
                },
                translateX: function (e) {
                    return this.translateOnAxis(ri, e)
                },
                translateY: function (e) {
                    return this.translateOnAxis(oi, e)
                },
                translateZ: function (e) {
                    return this.translateOnAxis(ai, e)
                },
                localToWorld: function (e) {
                    return e.applyMatrix4(this.matrixWorld)
                },
                worldToLocal: function (e) {
                    return e.applyMatrix4(Qn.getInverse(this.matrixWorld))
                },
                lookAt: function (e, t, n) {
                    e.isVector3 ? ei.copy(e) : ei.set(e, t, n);
                    var i = this.parent;
                    this.updateWorldMatrix(!0, !1), ti.setFromMatrixPosition(this.matrixWorld), this.isCamera || this.isLight ? Qn.lookAt(ti, ei, this.up) : Qn.lookAt(ei, ti, this.up), this.quaternion.setFromRotationMatrix(Qn), i && (Qn.extractRotation(i.matrixWorld), $n.setFromRotationMatrix(Qn), this.quaternion.premultiply($n.inverse()))
                },
                add: function (e) {
                    if (arguments.length > 1) {
                        for (var t = 0; t < arguments.length; t++) this.add(arguments[t]);
                        return this
                    }
                    return e === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", e), this) : (e && e.isObject3D ? (null !== e.parent && e.parent.remove(e), e.parent = this, this.children.push(e), e.dispatchEvent(si)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", e), this)
                },
                remove: function (e) {
                    if (arguments.length > 1) {
                        for (var t = 0; t < arguments.length; t++) this.remove(arguments[t]);
                        return this
                    }
                    var n = this.children.indexOf(e);
                    return -1 !== n && (e.parent = null, this.children.splice(n, 1), e.dispatchEvent(li)), this
                },
                attach: function (e) {
                    return this.updateWorldMatrix(!0, !1), Qn.getInverse(this.matrixWorld), null !== e.parent && (e.parent.updateWorldMatrix(!0, !1), Qn.multiply(e.parent.matrixWorld)), e.applyMatrix4(Qn), e.updateWorldMatrix(!1, !1), this.add(e), this
                },
                getObjectById: function (e) {
                    return this.getObjectByProperty("id", e)
                },
                getObjectByName: function (e) {
                    return this.getObjectByProperty("name", e)
                },
                getObjectByProperty: function (e, t) {
                    if (this[e] === t) return this;
                    for (var n = 0, i = this.children.length; n < i; n++) {
                        var r = this.children[n].getObjectByProperty(e, t);
                        if (void 0 !== r) return r
                    }
                },
                getWorldPosition: function (e) {
                    return void 0 === e && (console.warn("THREE.Object3D: .getWorldPosition() target is now required"), e = new Nn), this.updateMatrixWorld(!0), e.setFromMatrixPosition(this.matrixWorld)
                },
                getWorldQuaternion: function (e) {
                    return void 0 === e && (console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"), e = new In), this.updateMatrixWorld(!0), this.matrixWorld.decompose(ti, e, ni), e
                },
                getWorldScale: function (e) {
                    return void 0 === e && (console.warn("THREE.Object3D: .getWorldScale() target is now required"), e = new Nn), this.updateMatrixWorld(!0), this.matrixWorld.decompose(ti, ii, e), e
                },
                getWorldDirection: function (e) {
                    void 0 === e && (console.warn("THREE.Object3D: .getWorldDirection() target is now required"), e = new Nn), this.updateMatrixWorld(!0);
                    var t = this.matrixWorld.elements;
                    return e.set(t[8], t[9], t[10]).normalize()
                },
                raycast: function () {},
                traverse: function (e) {
                    e(this);
                    for (var t = this.children, n = 0, i = t.length; n < i; n++) t[n].traverse(e)
                },
                traverseVisible: function (e) {
                    if (!1 !== this.visible) {
                        e(this);
                        for (var t = this.children, n = 0, i = t.length; n < i; n++) t[n].traverseVisible(e)
                    }
                },
                traverseAncestors: function (e) {
                    var t = this.parent;
                    null !== t && (e(t), t.traverseAncestors(e))
                },
                updateMatrix: function () {
                    this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0
                },
                updateMatrixWorld: function (e) {
                    this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || e) && (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, e = !0);
                    for (var t = this.children, n = 0, i = t.length; n < i; n++) t[n].updateMatrixWorld(e)
                },
                updateWorldMatrix: function (e, t) {
                    var n = this.parent;
                    if (!0 === e && null !== n && n.updateWorldMatrix(!0, !1), this.matrixAutoUpdate && this.updateMatrix(), null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), !0 === t)
                        for (var i = this.children, r = 0, o = i.length; r < o; r++) i[r].updateWorldMatrix(!1, !0)
                },
                toJSON: function (e) {
                    var t = void 0 === e || "string" == typeof e,
                        n = {};
                    t && (e = {
                        geometries: {},
                        materials: {},
                        textures: {},
                        images: {},
                        shapes: {}
                    }, n.metadata = {
                        version: 4.5,
                        type: "Object",
                        generator: "Object3D.toJSON"
                    });
                    var i = {};

                    function r(t, n) {
                        return void 0 === t[n.uuid] && (t[n.uuid] = n.toJSON(e)), n.uuid
                    }
                    if (i.uuid = this.uuid, i.type = this.type, "" !== this.name && (i.name = this.name), !0 === this.castShadow && (i.castShadow = !0), !0 === this.receiveShadow && (i.receiveShadow = !0), !1 === this.visible && (i.visible = !1), !1 === this.frustumCulled && (i.frustumCulled = !1), 0 !== this.renderOrder && (i.renderOrder = this.renderOrder), "{}" !== JSON.stringify(this.userData) && (i.userData = this.userData), i.layers = this.layers.mask, i.matrix = this.matrix.toArray(), !1 === this.matrixAutoUpdate && (i.matrixAutoUpdate = !1), this.isInstancedMesh && (i.type = "InstancedMesh", i.count = this.count, i.instanceMatrix = this.instanceMatrix.toJSON()), this.isMesh || this.isLine || this.isPoints) {
                        i.geometry = r(e.geometries, this.geometry);
                        var o = this.geometry.parameters;
                        if (void 0 !== o && void 0 !== o.shapes) {
                            var a = o.shapes;
                            if (Array.isArray(a))
                                for (var s = 0, l = a.length; s < l; s++) {
                                    var c = a[s];
                                    r(e.shapes, c)
                                } else r(e.shapes, a)
                        }
                    }
                    if (void 0 !== this.material)
                        if (Array.isArray(this.material)) {
                            var u = [];
                            for (s = 0, l = this.material.length; s < l; s++) u.push(r(e.materials, this.material[s]));
                            i.material = u
                        } else i.material = r(e.materials, this.material);
                    if (this.children.length > 0) {
                        i.children = [];
                        for (s = 0; s < this.children.length; s++) i.children.push(this.children[s].toJSON(e).object)
                    }
                    if (t) {
                        var h = m(e.geometries),
                            d = m(e.materials),
                            p = m(e.textures),
                            f = m(e.images);
                        a = m(e.shapes);
                        h.length > 0 && (n.geometries = h), d.length > 0 && (n.materials = d), p.length > 0 && (n.textures = p), f.length > 0 && (n.images = f), a.length > 0 && (n.shapes = a)
                    }
                    return n.object = i, n;

                    function m(e) {
                        var t = [];
                        for (var n in e) {
                            var i = e[n];
                            delete i.metadata, t.push(i)
                        }
                        return t
                    }
                },
                clone: function (e) {
                    return (new this.constructor).copy(this, e)
                },
                copy: function (e, t) {
                    if (void 0 === t && (t = !0), this.name = e.name, this.up.copy(e.up), this.position.copy(e.position), this.quaternion.copy(e.quaternion), this.scale.copy(e.scale), this.matrix.copy(e.matrix), this.matrixWorld.copy(e.matrixWorld), this.matrixAutoUpdate = e.matrixAutoUpdate, this.matrixWorldNeedsUpdate = e.matrixWorldNeedsUpdate, this.layers.mask = e.layers.mask, this.visible = e.visible, this.castShadow = e.castShadow, this.receiveShadow = e.receiveShadow, this.frustumCulled = e.frustumCulled, this.renderOrder = e.renderOrder, this.userData = JSON.parse(JSON.stringify(e.userData)), !0 === t)
                        for (var n = 0; n < e.children.length; n++) {
                            var i = e.children[n];
                            this.add(i.clone())
                        }
                    return this
                }
            }), ui.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: ui,
                isScene: !0,
                copy: function (e, t) {
                    return ci.prototype.copy.call(this, e, t), null !== e.background && (this.background = e.background.clone()), null !== e.environment && (this.environment = e.environment.clone()), null !== e.fog && (this.fog = e.fog.clone()), null !== e.overrideMaterial && (this.overrideMaterial = e.overrideMaterial.clone()), this.autoUpdate = e.autoUpdate, this.matrixAutoUpdate = e.matrixAutoUpdate, this
                },
                toJSON: function (e) {
                    var t = ci.prototype.toJSON.call(this, e);
                    return null !== this.background && (t.object.background = this.background.toJSON(e)), null !== this.environment && (t.object.environment = this.environment.toJSON(e)), null !== this.fog && (t.object.fog = this.fog.toJSON()), t
                },
                dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            });
            var hi = [new Nn, new Nn, new Nn, new Nn, new Nn, new Nn, new Nn, new Nn],
                di = new Nn,
                pi = new Si,
                fi = new Nn,
                mi = new Nn,
                vi = new Nn,
                gi = new Nn,
                yi = new Nn,
                _i = new Nn,
                bi = new Nn,
                wi = new Nn,
                xi = new Nn,
                Ti = new Nn;

            function Si(e, t) {
                this.min = void 0 !== e ? e : new Nn(1 / 0, 1 / 0, 1 / 0), this.max = void 0 !== t ? t : new Nn(-1 / 0, -1 / 0, -1 / 0)
            }

            function Mi(e, t, n, i, r) {
                var o, a;
                for (o = 0, a = e.length - 3; o <= a; o += 3) {
                    Ti.fromArray(e, o);
                    var s = r.x * Math.abs(Ti.x) + r.y * Math.abs(Ti.y) + r.z * Math.abs(Ti.z),
                        l = t.dot(Ti),
                        c = n.dot(Ti),
                        u = i.dot(Ti);
                    if (Math.max(-Math.max(l, c, u), Math.min(l, c, u)) > s) return !1
                }
                return !0
            }
            Object.assign(Si.prototype, {
                isBox3: !0,
                set: function (e, t) {
                    return this.min.copy(e), this.max.copy(t), this
                },
                setFromArray: function (e) {
                    for (var t = 1 / 0, n = 1 / 0, i = 1 / 0, r = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, l = e.length; s < l; s += 3) {
                        var c = e[s],
                            u = e[s + 1],
                            h = e[s + 2];
                        c < t && (t = c), u < n && (n = u), h < i && (i = h), c > r && (r = c), u > o && (o = u), h > a && (a = h)
                    }
                    return this.min.set(t, n, i), this.max.set(r, o, a), this
                },
                setFromBufferAttribute: function (e) {
                    for (var t = 1 / 0, n = 1 / 0, i = 1 / 0, r = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, l = e.count; s < l; s++) {
                        var c = e.getX(s),
                            u = e.getY(s),
                            h = e.getZ(s);
                        c < t && (t = c), u < n && (n = u), h < i && (i = h), c > r && (r = c), u > o && (o = u), h > a && (a = h)
                    }
                    return this.min.set(t, n, i), this.max.set(r, o, a), this
                },
                setFromPoints: function (e) {
                    this.makeEmpty();
                    for (var t = 0, n = e.length; t < n; t++) this.expandByPoint(e[t]);
                    return this
                },
                setFromCenterAndSize: function (e, t) {
                    var n = di.copy(t).multiplyScalar(.5);
                    return this.min.copy(e).sub(n), this.max.copy(e).add(n), this
                },
                setFromObject: function (e) {
                    return this.makeEmpty(), this.expandByObject(e)
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.min.copy(e.min), this.max.copy(e.max), this
                },
                makeEmpty: function () {
                    return this.min.x = this.min.y = this.min.z = 1 / 0, this.max.x = this.max.y = this.max.z = -1 / 0, this
                },
                isEmpty: function () {
                    return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
                },
                getCenter: function (e) {
                    return void 0 === e && (console.warn("THREE.Box3: .getCenter() target is now required"), e = new Nn), this.isEmpty() ? e.set(0, 0, 0) : e.addVectors(this.min, this.max).multiplyScalar(.5)
                },
                getSize: function (e) {
                    return void 0 === e && (console.warn("THREE.Box3: .getSize() target is now required"), e = new Nn), this.isEmpty() ? e.set(0, 0, 0) : e.subVectors(this.max, this.min)
                },
                expandByPoint: function (e) {
                    return this.min.min(e), this.max.max(e), this
                },
                expandByVector: function (e) {
                    return this.min.sub(e), this.max.add(e), this
                },
                expandByScalar: function (e) {
                    return this.min.addScalar(-e), this.max.addScalar(e), this
                },
                expandByObject: function (e) {
                    e.updateWorldMatrix(!1, !1);
                    var t = e.geometry;
                    void 0 !== t && (null === t.boundingBox && t.computeBoundingBox(), pi.copy(t.boundingBox), pi.applyMatrix4(e.matrixWorld), this.expandByPoint(pi.min), this.expandByPoint(pi.max));
                    for (var n = e.children, i = 0, r = n.length; i < r; i++) this.expandByObject(n[i]);
                    return this
                },
                containsPoint: function (e) {
                    return !(e.x < this.min.x || e.x > this.max.x || e.y < this.min.y || e.y > this.max.y || e.z < this.min.z || e.z > this.max.z)
                },
                containsBox: function (e) {
                    return this.min.x <= e.min.x && e.max.x <= this.max.x && this.min.y <= e.min.y && e.max.y <= this.max.y && this.min.z <= e.min.z && e.max.z <= this.max.z
                },
                getParameter: function (e, t) {
                    return void 0 === t && (console.warn("THREE.Box3: .getParameter() target is now required"), t = new Nn), t.set((e.x - this.min.x) / (this.max.x - this.min.x), (e.y - this.min.y) / (this.max.y - this.min.y), (e.z - this.min.z) / (this.max.z - this.min.z))
                },
                intersectsBox: function (e) {
                    return !(e.max.x < this.min.x || e.min.x > this.max.x || e.max.y < this.min.y || e.min.y > this.max.y || e.max.z < this.min.z || e.min.z > this.max.z)
                },
                intersectsSphere: function (e) {
                    return this.clampPoint(e.center, di), di.distanceToSquared(e.center) <= e.radius * e.radius
                },
                intersectsPlane: function (e) {
                    var t, n;
                    return e.normal.x > 0 ? (t = e.normal.x * this.min.x, n = e.normal.x * this.max.x) : (t = e.normal.x * this.max.x, n = e.normal.x * this.min.x), e.normal.y > 0 ? (t += e.normal.y * this.min.y, n += e.normal.y * this.max.y) : (t += e.normal.y * this.max.y, n += e.normal.y * this.min.y), e.normal.z > 0 ? (t += e.normal.z * this.min.z, n += e.normal.z * this.max.z) : (t += e.normal.z * this.max.z, n += e.normal.z * this.min.z), t <= -e.constant && n >= -e.constant
                },
                intersectsTriangle: function (e) {
                    if (this.isEmpty()) return !1;
                    this.getCenter(bi), wi.subVectors(this.max, bi), fi.subVectors(e.a, bi), mi.subVectors(e.b, bi), vi.subVectors(e.c, bi), gi.subVectors(mi, fi), yi.subVectors(vi, mi), _i.subVectors(fi, vi);
                    var t = [0, -gi.z, gi.y, 0, -yi.z, yi.y, 0, -_i.z, _i.y, gi.z, 0, -gi.x, yi.z, 0, -yi.x, _i.z, 0, -_i.x, -gi.y, gi.x, 0, -yi.y, yi.x, 0, -_i.y, _i.x, 0];
                    return !!Mi(t, fi, mi, vi, wi) && (!!Mi(t = [1, 0, 0, 0, 1, 0, 0, 0, 1], fi, mi, vi, wi) && (xi.crossVectors(gi, yi), Mi(t = [xi.x, xi.y, xi.z], fi, mi, vi, wi)))
                },
                clampPoint: function (e, t) {
                    return void 0 === t && (console.warn("THREE.Box3: .clampPoint() target is now required"), t = new Nn), t.copy(e).clamp(this.min, this.max)
                },
                distanceToPoint: function (e) {
                    return di.copy(e).clamp(this.min, this.max).sub(e).length()
                },
                getBoundingSphere: function (e) {
                    return void 0 === e && console.error("THREE.Box3: .getBoundingSphere() target is now required"), this.getCenter(e.center), e.radius = .5 * this.getSize(di).length(), e
                },
                intersect: function (e) {
                    return this.min.max(e.min), this.max.min(e.max), this.isEmpty() && this.makeEmpty(), this
                },
                union: function (e) {
                    return this.min.min(e.min), this.max.max(e.max), this
                },
                applyMatrix4: function (e) {
                    return this.isEmpty() ? this : (hi[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(e), hi[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(e), hi[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(e), hi[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(e), hi[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(e), hi[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(e), hi[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(e), hi[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(e), this.setFromPoints(hi), this)
                },
                translate: function (e) {
                    return this.min.add(e), this.max.add(e), this
                },
                equals: function (e) {
                    return e.min.equals(this.min) && e.max.equals(this.max)
                }
            });
            var Ei = new Si;

            function Ai(e, t) {
                this.center = void 0 !== e ? e : new Nn, this.radius = void 0 !== t ? t : 0
            }
            Object.assign(Ai.prototype, {
                set: function (e, t) {
                    return this.center.copy(e), this.radius = t, this
                },
                setFromPoints: function (e, t) {
                    var n = this.center;
                    void 0 !== t ? n.copy(t) : Ei.setFromPoints(e).getCenter(n);
                    for (var i = 0, r = 0, o = e.length; r < o; r++) i = Math.max(i, n.distanceToSquared(e[r]));
                    return this.radius = Math.sqrt(i), this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.center.copy(e.center), this.radius = e.radius, this
                },
                empty: function () {
                    return this.radius <= 0
                },
                containsPoint: function (e) {
                    return e.distanceToSquared(this.center) <= this.radius * this.radius
                },
                distanceToPoint: function (e) {
                    return e.distanceTo(this.center) - this.radius
                },
                intersectsSphere: function (e) {
                    var t = this.radius + e.radius;
                    return e.center.distanceToSquared(this.center) <= t * t
                },
                intersectsBox: function (e) {
                    return e.intersectsSphere(this)
                },
                intersectsPlane: function (e) {
                    return Math.abs(e.distanceToPoint(this.center)) <= this.radius
                },
                clampPoint: function (e, t) {
                    var n = this.center.distanceToSquared(e);
                    return void 0 === t && (console.warn("THREE.Sphere: .clampPoint() target is now required"), t = new Nn), t.copy(e), n > this.radius * this.radius && (t.sub(this.center).normalize(), t.multiplyScalar(this.radius).add(this.center)), t
                },
                getBoundingBox: function (e) {
                    return void 0 === e && (console.warn("THREE.Sphere: .getBoundingBox() target is now required"), e = new Si), e.set(this.center, this.center), e.expandByScalar(this.radius), e
                },
                applyMatrix4: function (e) {
                    return this.center.applyMatrix4(e), this.radius = this.radius * e.getMaxScaleOnAxis(), this
                },
                translate: function (e) {
                    return this.center.add(e), this
                },
                equals: function (e) {
                    return e.center.equals(this.center) && e.radius === this.radius
                }
            });
            var Pi = new Nn,
                Ci = new Nn,
                Li = new Nn,
                Oi = new Nn,
                Ri = new Nn,
                ki = new Nn,
                Ii = new Nn;

            function Di(e, t) {
                this.origin = void 0 !== e ? e : new Nn, this.direction = void 0 !== t ? t : new Nn(0, 0, -1)
            }
            Object.assign(Di.prototype, {
                set: function (e, t) {
                    return this.origin.copy(e), this.direction.copy(t), this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.origin.copy(e.origin), this.direction.copy(e.direction), this
                },
                at: function (e, t) {
                    return void 0 === t && (console.warn("THREE.Ray: .at() target is now required"), t = new Nn), t.copy(this.direction).multiplyScalar(e).add(this.origin)
                },
                lookAt: function (e) {
                    return this.direction.copy(e).sub(this.origin).normalize(), this
                },
                recast: function (e) {
                    return this.origin.copy(this.at(e, Pi)), this
                },
                closestPointToPoint: function (e, t) {
                    void 0 === t && (console.warn("THREE.Ray: .closestPointToPoint() target is now required"), t = new Nn), t.subVectors(e, this.origin);
                    var n = t.dot(this.direction);
                    return n < 0 ? t.copy(this.origin) : t.copy(this.direction).multiplyScalar(n).add(this.origin)
                },
                distanceToPoint: function (e) {
                    return Math.sqrt(this.distanceSqToPoint(e))
                },
                distanceSqToPoint: function (e) {
                    var t = Pi.subVectors(e, this.origin).dot(this.direction);
                    return t < 0 ? this.origin.distanceToSquared(e) : (Pi.copy(this.direction).multiplyScalar(t).add(this.origin), Pi.distanceToSquared(e))
                },
                distanceSqToSegment: function (e, t, n, i) {
                    Ci.copy(e).add(t).multiplyScalar(.5), Li.copy(t).sub(e).normalize(), Oi.copy(this.origin).sub(Ci);
                    var r, o, a, s, l = .5 * e.distanceTo(t),
                        c = -this.direction.dot(Li),
                        u = Oi.dot(this.direction),
                        h = -Oi.dot(Li),
                        d = Oi.lengthSq(),
                        p = Math.abs(1 - c * c);
                    if (p > 0)
                        if (o = c * u - h, s = l * p, (r = c * h - u) >= 0)
                            if (o >= -s)
                                if (o <= s) {
                                    var f = 1 / p;
                                    a = (r *= f) * (r + c * (o *= f) + 2 * u) + o * (c * r + o + 2 * h) + d
                                } else o = l, a = -(r = Math.max(0, -(c * o + u))) * r + o * (o + 2 * h) + d;
                    else o = -l, a = -(r = Math.max(0, -(c * o + u))) * r + o * (o + 2 * h) + d;
                    else o <= -s ? a = -(r = Math.max(0, -(-c * l + u))) * r + (o = r > 0 ? -l : Math.min(Math.max(-l, -h), l)) * (o + 2 * h) + d : o <= s ? (r = 0, a = (o = Math.min(Math.max(-l, -h), l)) * (o + 2 * h) + d) : a = -(r = Math.max(0, -(c * l + u))) * r + (o = r > 0 ? l : Math.min(Math.max(-l, -h), l)) * (o + 2 * h) + d;
                    else o = c > 0 ? -l : l, a = -(r = Math.max(0, -(c * o + u))) * r + o * (o + 2 * h) + d;
                    return n && n.copy(this.direction).multiplyScalar(r).add(this.origin), i && i.copy(Li).multiplyScalar(o).add(Ci), a
                },
                intersectSphere: function (e, t) {
                    Pi.subVectors(e.center, this.origin);
                    var n = Pi.dot(this.direction),
                        i = Pi.dot(Pi) - n * n,
                        r = e.radius * e.radius;
                    if (i > r) return null;
                    var o = Math.sqrt(r - i),
                        a = n - o,
                        s = n + o;
                    return a < 0 && s < 0 ? null : a < 0 ? this.at(s, t) : this.at(a, t)
                },
                intersectsSphere: function (e) {
                    return this.distanceSqToPoint(e.center) <= e.radius * e.radius
                },
                distanceToPlane: function (e) {
                    var t = e.normal.dot(this.direction);
                    if (0 === t) return 0 === e.distanceToPoint(this.origin) ? 0 : null;
                    var n = -(this.origin.dot(e.normal) + e.constant) / t;
                    return n >= 0 ? n : null
                },
                intersectPlane: function (e, t) {
                    var n = this.distanceToPlane(e);
                    return null === n ? null : this.at(n, t)
                },
                intersectsPlane: function (e) {
                    var t = e.distanceToPoint(this.origin);
                    return 0 === t || e.normal.dot(this.direction) * t < 0
                },
                intersectBox: function (e, t) {
                    var n, i, r, o, a, s, l = 1 / this.direction.x,
                        c = 1 / this.direction.y,
                        u = 1 / this.direction.z,
                        h = this.origin;
                    return l >= 0 ? (n = (e.min.x - h.x) * l, i = (e.max.x - h.x) * l) : (n = (e.max.x - h.x) * l, i = (e.min.x - h.x) * l), c >= 0 ? (r = (e.min.y - h.y) * c, o = (e.max.y - h.y) * c) : (r = (e.max.y - h.y) * c, o = (e.min.y - h.y) * c), n > o || r > i ? null : ((r > n || n != n) && (n = r), (o < i || i != i) && (i = o), u >= 0 ? (a = (e.min.z - h.z) * u, s = (e.max.z - h.z) * u) : (a = (e.max.z - h.z) * u, s = (e.min.z - h.z) * u), n > s || a > i ? null : ((a > n || n != n) && (n = a), (s < i || i != i) && (i = s), i < 0 ? null : this.at(n >= 0 ? n : i, t)))
                },
                intersectsBox: function (e) {
                    return null !== this.intersectBox(e, Pi)
                },
                intersectTriangle: function (e, t, n, i, r) {
                    Ri.subVectors(t, e), ki.subVectors(n, e), Ii.crossVectors(Ri, ki);
                    var o, a = this.direction.dot(Ii);
                    if (a > 0) {
                        if (i) return null;
                        o = 1
                    } else {
                        if (!(a < 0)) return null;
                        o = -1, a = -a
                    }
                    Oi.subVectors(this.origin, e);
                    var s = o * this.direction.dot(ki.crossVectors(Oi, ki));
                    if (s < 0) return null;
                    var l = o * this.direction.dot(Ri.cross(Oi));
                    if (l < 0) return null;
                    if (s + l > a) return null;
                    var c = -o * Oi.dot(Ii);
                    return c < 0 ? null : this.at(c / a, r)
                },
                applyMatrix4: function (e) {
                    return this.origin.applyMatrix4(e), this.direction.transformDirection(e), this
                },
                equals: function (e) {
                    return e.origin.equals(this.origin) && e.direction.equals(this.direction)
                }
            });
            var Bi = new Nn,
                Ni = new Nn,
                Gi = new An;

            function ji(e, t) {
                this.normal = void 0 !== e ? e : new Nn(1, 0, 0), this.constant = void 0 !== t ? t : 0
            }
            Object.assign(ji.prototype, {
                isPlane: !0,
                set: function (e, t) {
                    return this.normal.copy(e), this.constant = t, this
                },
                setComponents: function (e, t, n, i) {
                    return this.normal.set(e, t, n), this.constant = i, this
                },
                setFromNormalAndCoplanarPoint: function (e, t) {
                    return this.normal.copy(e), this.constant = -t.dot(this.normal), this
                },
                setFromCoplanarPoints: function (e, t, n) {
                    var i = Bi.subVectors(n, t).cross(Ni.subVectors(e, t)).normalize();
                    return this.setFromNormalAndCoplanarPoint(i, e), this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.normal.copy(e.normal), this.constant = e.constant, this
                },
                normalize: function () {
                    var e = 1 / this.normal.length();
                    return this.normal.multiplyScalar(e), this.constant *= e, this
                },
                negate: function () {
                    return this.constant *= -1, this.normal.negate(), this
                },
                distanceToPoint: function (e) {
                    return this.normal.dot(e) + this.constant
                },
                distanceToSphere: function (e) {
                    return this.distanceToPoint(e.center) - e.radius
                },
                projectPoint: function (e, t) {
                    return void 0 === t && (console.warn("THREE.Plane: .projectPoint() target is now required"), t = new Nn), t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)
                },
                intersectLine: function (e, t) {
                    void 0 === t && (console.warn("THREE.Plane: .intersectLine() target is now required"), t = new Nn);
                    var n = e.delta(Bi),
                        i = this.normal.dot(n);
                    if (0 === i) return 0 === this.distanceToPoint(e.start) ? t.copy(e.start) : void 0;
                    var r = -(e.start.dot(this.normal) + this.constant) / i;
                    return r < 0 || r > 1 ? void 0 : t.copy(n).multiplyScalar(r).add(e.start)
                },
                intersectsLine: function (e) {
                    var t = this.distanceToPoint(e.start),
                        n = this.distanceToPoint(e.end);
                    return t < 0 && n > 0 || n < 0 && t > 0
                },
                intersectsBox: function (e) {
                    return e.intersectsPlane(this)
                },
                intersectsSphere: function (e) {
                    return e.intersectsPlane(this)
                },
                coplanarPoint: function (e) {
                    return void 0 === e && (console.warn("THREE.Plane: .coplanarPoint() target is now required"), e = new Nn), e.copy(this.normal).multiplyScalar(-this.constant)
                },
                applyMatrix4: function (e, t) {
                    var n = t || Gi.getNormalMatrix(e),
                        i = this.coplanarPoint(Bi).applyMatrix4(e),
                        r = this.normal.applyMatrix3(n).normalize();
                    return this.constant = -i.dot(r), this
                },
                translate: function (e) {
                    return this.constant -= e.dot(this.normal), this
                },
                equals: function (e) {
                    return e.normal.equals(this.normal) && e.constant === this.constant
                }
            });
            var Hi = new Nn,
                Fi = new Nn,
                Ui = new Nn,
                zi = new Nn,
                Vi = new Nn,
                Wi = new Nn,
                qi = new Nn,
                Xi = new Nn,
                Yi = new Nn,
                Ji = new Nn;

            function Ki(e, t, n) {
                this.a = void 0 !== e ? e : new Nn, this.b = void 0 !== t ? t : new Nn, this.c = void 0 !== n ? n : new Nn
            }
            Object.assign(Ki, {
                getNormal: function (e, t, n, i) {
                    void 0 === i && (console.warn("THREE.Triangle: .getNormal() target is now required"), i = new Nn), i.subVectors(n, t), Hi.subVectors(e, t), i.cross(Hi);
                    var r = i.lengthSq();
                    return r > 0 ? i.multiplyScalar(1 / Math.sqrt(r)) : i.set(0, 0, 0)
                },
                getBarycoord: function (e, t, n, i, r) {
                    Hi.subVectors(i, t), Fi.subVectors(n, t), Ui.subVectors(e, t);
                    var o = Hi.dot(Hi),
                        a = Hi.dot(Fi),
                        s = Hi.dot(Ui),
                        l = Fi.dot(Fi),
                        c = Fi.dot(Ui),
                        u = o * l - a * a;
                    if (void 0 === r && (console.warn("THREE.Triangle: .getBarycoord() target is now required"), r = new Nn), 0 === u) return r.set(-2, -1, -1);
                    var h = 1 / u,
                        d = (l * s - a * c) * h,
                        p = (o * c - a * s) * h;
                    return r.set(1 - d - p, p, d)
                },
                containsPoint: function (e, t, n, i) {
                    return Ki.getBarycoord(e, t, n, i, zi), zi.x >= 0 && zi.y >= 0 && zi.x + zi.y <= 1
                },
                getUV: function (e, t, n, i, r, o, a, s) {
                    return this.getBarycoord(e, t, n, i, zi), s.set(0, 0), s.addScaledVector(r, zi.x), s.addScaledVector(o, zi.y), s.addScaledVector(a, zi.z), s
                },
                isFrontFacing: function (e, t, n, i) {
                    return Hi.subVectors(n, t), Fi.subVectors(e, t), Hi.cross(Fi).dot(i) < 0
                }
            }), Object.assign(Ki.prototype, {
                set: function (e, t, n) {
                    return this.a.copy(e), this.b.copy(t), this.c.copy(n), this
                },
                setFromPointsAndIndices: function (e, t, n, i) {
                    return this.a.copy(e[t]), this.b.copy(e[n]), this.c.copy(e[i]), this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.a.copy(e.a), this.b.copy(e.b), this.c.copy(e.c), this
                },
                getArea: function () {
                    return Hi.subVectors(this.c, this.b), Fi.subVectors(this.a, this.b), .5 * Hi.cross(Fi).length()
                },
                getMidpoint: function (e) {
                    return void 0 === e && (console.warn("THREE.Triangle: .getMidpoint() target is now required"), e = new Nn), e.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
                },
                getNormal: function (e) {
                    return Ki.getNormal(this.a, this.b, this.c, e)
                },
                getPlane: function (e) {
                    return void 0 === e && (console.warn("THREE.Triangle: .getPlane() target is now required"), e = new ji), e.setFromCoplanarPoints(this.a, this.b, this.c)
                },
                getBarycoord: function (e, t) {
                    return Ki.getBarycoord(e, this.a, this.b, this.c, t)
                },
                getUV: function (e, t, n, i, r) {
                    return Ki.getUV(e, this.a, this.b, this.c, t, n, i, r)
                },
                containsPoint: function (e) {
                    return Ki.containsPoint(e, this.a, this.b, this.c)
                },
                isFrontFacing: function (e) {
                    return Ki.isFrontFacing(this.a, this.b, this.c, e)
                },
                intersectsBox: function (e) {
                    return e.intersectsTriangle(this)
                },
                closestPointToPoint: function (e, t) {
                    void 0 === t && (console.warn("THREE.Triangle: .closestPointToPoint() target is now required"), t = new Nn);
                    var n, i, r = this.a,
                        o = this.b,
                        a = this.c;
                    Vi.subVectors(o, r), Wi.subVectors(a, r), Xi.subVectors(e, r);
                    var s = Vi.dot(Xi),
                        l = Wi.dot(Xi);
                    if (s <= 0 && l <= 0) return t.copy(r);
                    Yi.subVectors(e, o);
                    var c = Vi.dot(Yi),
                        u = Wi.dot(Yi);
                    if (c >= 0 && u <= c) return t.copy(o);
                    var h = s * u - c * l;
                    if (h <= 0 && s >= 0 && c <= 0) return n = s / (s - c), t.copy(r).addScaledVector(Vi, n);
                    Ji.subVectors(e, a);
                    var d = Vi.dot(Ji),
                        p = Wi.dot(Ji);
                    if (p >= 0 && d <= p) return t.copy(a);
                    var f = d * l - s * p;
                    if (f <= 0 && l >= 0 && p <= 0) return i = l / (l - p), t.copy(r).addScaledVector(Wi, i);
                    var m = c * p - d * u;
                    if (m <= 0 && u - c >= 0 && d - p >= 0) return qi.subVectors(a, o), i = (u - c) / (u - c + (d - p)), t.copy(o).addScaledVector(qi, i);
                    var v = 1 / (m + f + h);
                    return n = f * v, i = h * v, t.copy(r).addScaledVector(Vi, n).addScaledVector(Wi, i)
                },
                equals: function (e) {
                    return e.a.equals(this.a) && e.b.equals(this.b) && e.c.equals(this.c)
                }
            });
            var Zi = {
                    aliceblue: 15792383,
                    antiquewhite: 16444375,
                    aqua: 65535,
                    aquamarine: 8388564,
                    azure: 15794175,
                    beige: 16119260,
                    bisque: 16770244,
                    black: 0,
                    blanchedalmond: 16772045,
                    blue: 255,
                    blueviolet: 9055202,
                    brown: 10824234,
                    burlywood: 14596231,
                    cadetblue: 6266528,
                    chartreuse: 8388352,
                    chocolate: 13789470,
                    coral: 16744272,
                    cornflowerblue: 6591981,
                    cornsilk: 16775388,
                    crimson: 14423100,
                    cyan: 65535,
                    darkblue: 139,
                    darkcyan: 35723,
                    darkgoldenrod: 12092939,
                    darkgray: 11119017,
                    darkgreen: 25600,
                    darkgrey: 11119017,
                    darkkhaki: 12433259,
                    darkmagenta: 9109643,
                    darkolivegreen: 5597999,
                    darkorange: 16747520,
                    darkorchid: 10040012,
                    darkred: 9109504,
                    darksalmon: 15308410,
                    darkseagreen: 9419919,
                    darkslateblue: 4734347,
                    darkslategray: 3100495,
                    darkslategrey: 3100495,
                    darkturquoise: 52945,
                    darkviolet: 9699539,
                    deeppink: 16716947,
                    deepskyblue: 49151,
                    dimgray: 6908265,
                    dimgrey: 6908265,
                    dodgerblue: 2003199,
                    firebrick: 11674146,
                    floralwhite: 16775920,
                    forestgreen: 2263842,
                    fuchsia: 16711935,
                    gainsboro: 14474460,
                    ghostwhite: 16316671,
                    gold: 16766720,
                    goldenrod: 14329120,
                    gray: 8421504,
                    green: 32768,
                    greenyellow: 11403055,
                    grey: 8421504,
                    honeydew: 15794160,
                    hotpink: 16738740,
                    indianred: 13458524,
                    indigo: 4915330,
                    ivory: 16777200,
                    khaki: 15787660,
                    lavender: 15132410,
                    lavenderblush: 16773365,
                    lawngreen: 8190976,
                    lemonchiffon: 16775885,
                    lightblue: 11393254,
                    lightcoral: 15761536,
                    lightcyan: 14745599,
                    lightgoldenrodyellow: 16448210,
                    lightgray: 13882323,
                    lightgreen: 9498256,
                    lightgrey: 13882323,
                    lightpink: 16758465,
                    lightsalmon: 16752762,
                    lightseagreen: 2142890,
                    lightskyblue: 8900346,
                    lightslategray: 7833753,
                    lightslategrey: 7833753,
                    lightsteelblue: 11584734,
                    lightyellow: 16777184,
                    lime: 65280,
                    limegreen: 3329330,
                    linen: 16445670,
                    magenta: 16711935,
                    maroon: 8388608,
                    mediumaquamarine: 6737322,
                    mediumblue: 205,
                    mediumorchid: 12211667,
                    mediumpurple: 9662683,
                    mediumseagreen: 3978097,
                    mediumslateblue: 8087790,
                    mediumspringgreen: 64154,
                    mediumturquoise: 4772300,
                    mediumvioletred: 13047173,
                    midnightblue: 1644912,
                    mintcream: 16121850,
                    mistyrose: 16770273,
                    moccasin: 16770229,
                    navajowhite: 16768685,
                    navy: 128,
                    oldlace: 16643558,
                    olive: 8421376,
                    olivedrab: 7048739,
                    orange: 16753920,
                    orangered: 16729344,
                    orchid: 14315734,
                    palegoldenrod: 15657130,
                    palegreen: 10025880,
                    paleturquoise: 11529966,
                    palevioletred: 14381203,
                    papayawhip: 16773077,
                    peachpuff: 16767673,
                    peru: 13468991,
                    pink: 16761035,
                    plum: 14524637,
                    powderblue: 11591910,
                    purple: 8388736,
                    rebeccapurple: 6697881,
                    red: 16711680,
                    rosybrown: 12357519,
                    royalblue: 4286945,
                    saddlebrown: 9127187,
                    salmon: 16416882,
                    sandybrown: 16032864,
                    seagreen: 3050327,
                    seashell: 16774638,
                    sienna: 10506797,
                    silver: 12632256,
                    skyblue: 8900331,
                    slateblue: 6970061,
                    slategray: 7372944,
                    slategrey: 7372944,
                    snow: 16775930,
                    springgreen: 65407,
                    steelblue: 4620980,
                    tan: 13808780,
                    teal: 32896,
                    thistle: 14204888,
                    tomato: 16737095,
                    turquoise: 4251856,
                    violet: 15631086,
                    wheat: 16113331,
                    white: 16777215,
                    whitesmoke: 16119285,
                    yellow: 16776960,
                    yellowgreen: 10145074
                },
                $i = {
                    h: 0,
                    s: 0,
                    l: 0
                },
                Qi = {
                    h: 0,
                    s: 0,
                    l: 0
                };

            function er(e, t, n) {
                return void 0 === t && void 0 === n ? this.set(e) : this.setRGB(e, t, n)
            }

            function tr(e, t, n) {
                return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + 6 * (t - e) * (2 / 3 - n) : e
            }

            function nr(e) {
                return e < .04045 ? .0773993808 * e : Math.pow(.9478672986 * e + .0521327014, 2.4)
            }

            function ir(e) {
                return e < .0031308 ? 12.92 * e : 1.055 * Math.pow(e, .41666) - .055
            }

            function rr(e, t, n, i, r, o) {
                this.a = e, this.b = t, this.c = n, this.normal = i && i.isVector3 ? i : new Nn, this.vertexNormals = Array.isArray(i) ? i : [], this.color = r && r.isColor ? r : new er, this.vertexColors = Array.isArray(r) ? r : [], this.materialIndex = void 0 !== o ? o : 0
            }
            Object.assign(er.prototype, {
                isColor: !0,
                r: 1,
                g: 1,
                b: 1,
                set: function (e) {
                    return e && e.isColor ? this.copy(e) : "number" == typeof e ? this.setHex(e) : "string" == typeof e && this.setStyle(e), this
                },
                setScalar: function (e) {
                    return this.r = e, this.g = e, this.b = e, this
                },
                setHex: function (e) {
                    return e = Math.floor(e), this.r = (e >> 16 & 255) / 255, this.g = (e >> 8 & 255) / 255, this.b = (255 & e) / 255, this
                },
                setRGB: function (e, t, n) {
                    return this.r = e, this.g = t, this.b = n, this
                },
                setHSL: function (e, t, n) {
                    if (e = Mn.euclideanModulo(e, 1), t = Mn.clamp(t, 0, 1), n = Mn.clamp(n, 0, 1), 0 === t) this.r = this.g = this.b = n;
                    else {
                        var i = n <= .5 ? n * (1 + t) : n + t - n * t,
                            r = 2 * n - i;
                        this.r = tr(r, i, e + 1 / 3), this.g = tr(r, i, e), this.b = tr(r, i, e - 1 / 3)
                    }
                    return this
                },
                setStyle: function (e) {
                    function t(t) {
                        void 0 !== t && parseFloat(t) < 1 && console.warn("THREE.Color: Alpha component of " + e + " will be ignored.")
                    }
                    var n;
                    if (n = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)) {
                        var i, r = n[1],
                            o = n[2];
                        switch (r) {
                            case "rgb":
                            case "rgba":
                                if (i = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(255, parseInt(i[1], 10)) / 255, this.g = Math.min(255, parseInt(i[2], 10)) / 255, this.b = Math.min(255, parseInt(i[3], 10)) / 255, t(i[5]), this;
                                if (i = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) return this.r = Math.min(100, parseInt(i[1], 10)) / 100, this.g = Math.min(100, parseInt(i[2], 10)) / 100, this.b = Math.min(100, parseInt(i[3], 10)) / 100, t(i[5]), this;
                                break;
                            case "hsl":
                            case "hsla":
                                if (i = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) {
                                    var a = parseFloat(i[1]) / 360,
                                        s = parseInt(i[2], 10) / 100,
                                        l = parseInt(i[3], 10) / 100;
                                    return t(i[5]), this.setHSL(a, s, l)
                                }
                        }
                    } else if (n = /^\#([A-Fa-f0-9]+)$/.exec(e)) {
                        var c = n[1],
                            u = c.length;
                        if (3 === u) return this.r = parseInt(c.charAt(0) + c.charAt(0), 16) / 255, this.g = parseInt(c.charAt(1) + c.charAt(1), 16) / 255, this.b = parseInt(c.charAt(2) + c.charAt(2), 16) / 255, this;
                        if (6 === u) return this.r = parseInt(c.charAt(0) + c.charAt(1), 16) / 255, this.g = parseInt(c.charAt(2) + c.charAt(3), 16) / 255, this.b = parseInt(c.charAt(4) + c.charAt(5), 16) / 255, this
                    }
                    return e && e.length > 0 ? this.setColorName(e) : this
                },
                setColorName: function (e) {
                    var t = Zi[e];
                    return void 0 !== t ? this.setHex(t) : console.warn("THREE.Color: Unknown color " + e), this
                },
                clone: function () {
                    return new this.constructor(this.r, this.g, this.b)
                },
                copy: function (e) {
                    return this.r = e.r, this.g = e.g, this.b = e.b, this
                },
                copyGammaToLinear: function (e, t) {
                    return void 0 === t && (t = 2), this.r = Math.pow(e.r, t), this.g = Math.pow(e.g, t), this.b = Math.pow(e.b, t), this
                },
                copyLinearToGamma: function (e, t) {
                    void 0 === t && (t = 2);
                    var n = t > 0 ? 1 / t : 1;
                    return this.r = Math.pow(e.r, n), this.g = Math.pow(e.g, n), this.b = Math.pow(e.b, n), this
                },
                convertGammaToLinear: function (e) {
                    return this.copyGammaToLinear(this, e), this
                },
                convertLinearToGamma: function (e) {
                    return this.copyLinearToGamma(this, e), this
                },
                copySRGBToLinear: function (e) {
                    return this.r = nr(e.r), this.g = nr(e.g), this.b = nr(e.b), this
                },
                copyLinearToSRGB: function (e) {
                    return this.r = ir(e.r), this.g = ir(e.g), this.b = ir(e.b), this
                },
                convertSRGBToLinear: function () {
                    return this.copySRGBToLinear(this), this
                },
                convertLinearToSRGB: function () {
                    return this.copyLinearToSRGB(this), this
                },
                getHex: function () {
                    return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
                },
                getHexString: function () {
                    return ("000000" + this.getHex().toString(16)).slice(-6)
                },
                getHSL: function (e) {
                    void 0 === e && (console.warn("THREE.Color: .getHSL() target is now required"), e = {
                        h: 0,
                        s: 0,
                        l: 0
                    });
                    var t, n, i = this.r,
                        r = this.g,
                        o = this.b,
                        a = Math.max(i, r, o),
                        s = Math.min(i, r, o),
                        l = (s + a) / 2;
                    if (s === a) t = 0, n = 0;
                    else {
                        var c = a - s;
                        switch (n = l <= .5 ? c / (a + s) : c / (2 - a - s), a) {
                            case i:
                                t = (r - o) / c + (r < o ? 6 : 0);
                                break;
                            case r:
                                t = (o - i) / c + 2;
                                break;
                            case o:
                                t = (i - r) / c + 4
                        }
                        t /= 6
                    }
                    return e.h = t, e.s = n, e.l = l, e
                },
                getStyle: function () {
                    return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
                },
                offsetHSL: function (e, t, n) {
                    return this.getHSL($i), $i.h += e, $i.s += t, $i.l += n, this.setHSL($i.h, $i.s, $i.l), this
                },
                add: function (e) {
                    return this.r += e.r, this.g += e.g, this.b += e.b, this
                },
                addColors: function (e, t) {
                    return this.r = e.r + t.r, this.g = e.g + t.g, this.b = e.b + t.b, this
                },
                addScalar: function (e) {
                    return this.r += e, this.g += e, this.b += e, this
                },
                sub: function (e) {
                    return this.r = Math.max(0, this.r - e.r), this.g = Math.max(0, this.g - e.g), this.b = Math.max(0, this.b - e.b), this
                },
                multiply: function (e) {
                    return this.r *= e.r, this.g *= e.g, this.b *= e.b, this
                },
                multiplyScalar: function (e) {
                    return this.r *= e, this.g *= e, this.b *= e, this
                },
                lerp: function (e, t) {
                    return this.r += (e.r - this.r) * t, this.g += (e.g - this.g) * t, this.b += (e.b - this.b) * t, this
                },
                lerpHSL: function (e, t) {
                    this.getHSL($i), e.getHSL(Qi);
                    var n = Mn.lerp($i.h, Qi.h, t),
                        i = Mn.lerp($i.s, Qi.s, t),
                        r = Mn.lerp($i.l, Qi.l, t);
                    return this.setHSL(n, i, r), this
                },
                equals: function (e) {
                    return e.r === this.r && e.g === this.g && e.b === this.b
                },
                fromArray: function (e, t) {
                    return void 0 === t && (t = 0), this.r = e[t], this.g = e[t + 1], this.b = e[t + 2], this
                },
                toArray: function (e, t) {
                    return void 0 === e && (e = []), void 0 === t && (t = 0), e[t] = this.r, e[t + 1] = this.g, e[t + 2] = this.b, e
                },
                toJSON: function () {
                    return this.getHex()
                }
            }), er.NAMES = Zi, Object.assign(rr.prototype, {
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    this.a = e.a, this.b = e.b, this.c = e.c, this.normal.copy(e.normal), this.color.copy(e.color), this.materialIndex = e.materialIndex;
                    for (var t = 0, n = e.vertexNormals.length; t < n; t++) this.vertexNormals[t] = e.vertexNormals[t].clone();
                    for (t = 0, n = e.vertexColors.length; t < n; t++) this.vertexColors[t] = e.vertexColors[t].clone();
                    return this
                }
            });
            var or = 0;

            function ar() {
                Object.defineProperty(this, "id", {
                    value: or++
                }), this.uuid = Mn.generateUUID(), this.name = "", this.type = "Material", this.fog = !0, this.blending = M, this.side = v, this.flatShading = !1, this.vertexTangents = !1, this.vertexColors = w, this.opacity = 1, this.transparent = !1, this.blendSrc = j, this.blendDst = H, this.blendEquation = L, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.depthFunc = J, this.depthTest = !0, this.depthWrite = !0, this.stencilWriteMask = 255, this.stencilFunc = hn, this.stencilRef = 0, this.stencilFuncMask = 255, this.stencilFail = Kt, this.stencilZFail = Kt, this.stencilZPass = Kt, this.stencilWrite = !1, this.clippingPlanes = null, this.clipIntersection = !1, this.clipShadows = !1, this.shadowSide = null, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.dithering = !1, this.alphaTest = 0, this.premultipliedAlpha = !1, this.visible = !0, this.toneMapped = !0, this.userData = {}, this.version = 0
            }

            function sr(e) {
                ar.call(this), this.type = "MeshBasicMaterial", this.color = new er(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = ee, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.setValues(e)
            }
            ar.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: ar,
                isMaterial: !0,
                onBeforeCompile: function () {},
                setValues: function (e) {
                    if (void 0 !== e)
                        for (var t in e) {
                            var n = e[t];
                            if (void 0 !== n)
                                if ("shading" !== t) {
                                    var i = this[t];
                                    void 0 !== i ? i && i.isColor ? i.set(n) : i && i.isVector3 && n && n.isVector3 ? i.copy(n) : this[t] = n : console.warn("THREE." + this.type + ": '" + t + "' is not a property of this material.")
                                } else console.warn("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead."), this.flatShading = n === _;
                            else console.warn("THREE.Material: '" + t + "' parameter is undefined.")
                        }
                },
                toJSON: function (e) {
                    var t = void 0 === e || "string" == typeof e;
                    t && (e = {
                        textures: {},
                        images: {}
                    });
                    var n = {
                        metadata: {
                            version: 4.5,
                            type: "Material",
                            generator: "Material.toJSON"
                        }
                    };

                    function i(e) {
                        var t = [];
                        for (var n in e) {
                            var i = e[n];
                            delete i.metadata, t.push(i)
                        }
                        return t
                    }
                    if (n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), this.color && this.color.isColor && (n.color = this.color.getHex()), void 0 !== this.roughness && (n.roughness = this.roughness), void 0 !== this.metalness && (n.metalness = this.metalness), this.sheen && this.sheen.isColor && (n.sheen = this.sheen.getHex()), this.emissive && this.emissive.isColor && (n.emissive = this.emissive.getHex()), this.emissiveIntensity && 1 !== this.emissiveIntensity && (n.emissiveIntensity = this.emissiveIntensity), this.specular && this.specular.isColor && (n.specular = this.specular.getHex()), void 0 !== this.shininess && (n.shininess = this.shininess), void 0 !== this.clearcoat && (n.clearcoat = this.clearcoat), void 0 !== this.clearcoatRoughness && (n.clearcoatRoughness = this.clearcoatRoughness), this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture && (n.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(e).uuid, n.clearcoatNormalScale = this.clearcoatNormalScale.toArray()), this.map && this.map.isTexture && (n.map = this.map.toJSON(e).uuid), this.matcap && this.matcap.isTexture && (n.matcap = this.matcap.toJSON(e).uuid), this.alphaMap && this.alphaMap.isTexture && (n.alphaMap = this.alphaMap.toJSON(e).uuid), this.lightMap && this.lightMap.isTexture && (n.lightMap = this.lightMap.toJSON(e).uuid), this.aoMap && this.aoMap.isTexture && (n.aoMap = this.aoMap.toJSON(e).uuid, n.aoMapIntensity = this.aoMapIntensity), this.bumpMap && this.bumpMap.isTexture && (n.bumpMap = this.bumpMap.toJSON(e).uuid, n.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (n.normalMap = this.normalMap.toJSON(e).uuid, n.normalMapType = this.normalMapType, n.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (n.displacementMap = this.displacementMap.toJSON(e).uuid, n.displacementScale = this.displacementScale, n.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (n.roughnessMap = this.roughnessMap.toJSON(e).uuid), this.metalnessMap && this.metalnessMap.isTexture && (n.metalnessMap = this.metalnessMap.toJSON(e).uuid), this.emissiveMap && this.emissiveMap.isTexture && (n.emissiveMap = this.emissiveMap.toJSON(e).uuid), this.specularMap && this.specularMap.isTexture && (n.specularMap = this.specularMap.toJSON(e).uuid), this.envMap && this.envMap.isTexture && (n.envMap = this.envMap.toJSON(e).uuid, n.reflectivity = this.reflectivity, n.refractionRatio = this.refractionRatio, void 0 !== this.combine && (n.combine = this.combine), void 0 !== this.envMapIntensity && (n.envMapIntensity = this.envMapIntensity)), this.gradientMap && this.gradientMap.isTexture && (n.gradientMap = this.gradientMap.toJSON(e).uuid), void 0 !== this.size && (n.size = this.size), void 0 !== this.sizeAttenuation && (n.sizeAttenuation = this.sizeAttenuation), this.blending !== M && (n.blending = this.blending), !0 === this.flatShading && (n.flatShading = this.flatShading), this.side !== v && (n.side = this.side), this.vertexColors !== w && (n.vertexColors = this.vertexColors), this.opacity < 1 && (n.opacity = this.opacity), !0 === this.transparent && (n.transparent = this.transparent), n.depthFunc = this.depthFunc, n.depthTest = this.depthTest, n.depthWrite = this.depthWrite, n.stencilWrite = this.stencilWrite, n.stencilWriteMask = this.stencilWriteMask, n.stencilFunc = this.stencilFunc, n.stencilRef = this.stencilRef, n.stencilFuncMask = this.stencilFuncMask, n.stencilFail = this.stencilFail, n.stencilZFail = this.stencilZFail, n.stencilZPass = this.stencilZPass, this.rotation && 0 !== this.rotation && (n.rotation = this.rotation), !0 === this.polygonOffset && (n.polygonOffset = !0), 0 !== this.polygonOffsetFactor && (n.polygonOffsetFactor = this.polygonOffsetFactor), 0 !== this.polygonOffsetUnits && (n.polygonOffsetUnits = this.polygonOffsetUnits), this.linewidth && 1 !== this.linewidth && (n.linewidth = this.linewidth), void 0 !== this.dashSize && (n.dashSize = this.dashSize), void 0 !== this.gapSize && (n.gapSize = this.gapSize), void 0 !== this.scale && (n.scale = this.scale), !0 === this.dithering && (n.dithering = !0), this.alphaTest > 0 && (n.alphaTest = this.alphaTest), !0 === this.premultipliedAlpha && (n.premultipliedAlpha = this.premultipliedAlpha), !0 === this.wireframe && (n.wireframe = this.wireframe), this.wireframeLinewidth > 1 && (n.wireframeLinewidth = this.wireframeLinewidth), "round" !== this.wireframeLinecap && (n.wireframeLinecap = this.wireframeLinecap), "round" !== this.wireframeLinejoin && (n.wireframeLinejoin = this.wireframeLinejoin), !0 === this.morphTargets && (n.morphTargets = !0), !0 === this.morphNormals && (n.morphNormals = !0), !0 === this.skinning && (n.skinning = !0), !1 === this.visible && (n.visible = !1), !1 === this.toneMapped && (n.toneMapped = !1), "{}" !== JSON.stringify(this.userData) && (n.userData = this.userData), t) {
                        var r = i(e.textures),
                            o = i(e.images);
                        r.length > 0 && (n.textures = r), o.length > 0 && (n.images = o)
                    }
                    return n
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    this.name = e.name, this.fog = e.fog, this.blending = e.blending, this.side = e.side, this.flatShading = e.flatShading, this.vertexTangents = e.vertexTangents, this.vertexColors = e.vertexColors, this.opacity = e.opacity, this.transparent = e.transparent, this.blendSrc = e.blendSrc, this.blendDst = e.blendDst, this.blendEquation = e.blendEquation, this.blendSrcAlpha = e.blendSrcAlpha, this.blendDstAlpha = e.blendDstAlpha, this.blendEquationAlpha = e.blendEquationAlpha, this.depthFunc = e.depthFunc, this.depthTest = e.depthTest, this.depthWrite = e.depthWrite, this.stencilWriteMask = e.stencilWriteMask, this.stencilFunc = e.stencilFunc, this.stencilRef = e.stencilRef, this.stencilFuncMask = e.stencilFuncMask, this.stencilFail = e.stencilFail, this.stencilZFail = e.stencilZFail, this.stencilZPass = e.stencilZPass, this.stencilWrite = e.stencilWrite;
                    var t = e.clippingPlanes,
                        n = null;
                    if (null !== t) {
                        var i = t.length;
                        n = new Array(i);
                        for (var r = 0; r !== i; ++r) n[r] = t[r].clone()
                    }
                    return this.clippingPlanes = n, this.clipIntersection = e.clipIntersection, this.clipShadows = e.clipShadows, this.shadowSide = e.shadowSide, this.colorWrite = e.colorWrite, this.precision = e.precision, this.polygonOffset = e.polygonOffset, this.polygonOffsetFactor = e.polygonOffsetFactor, this.polygonOffsetUnits = e.polygonOffsetUnits, this.dithering = e.dithering, this.alphaTest = e.alphaTest, this.premultipliedAlpha = e.premultipliedAlpha, this.visible = e.visible, this.toneMapped = e.toneMapped, this.userData = JSON.parse(JSON.stringify(e.userData)), this
                },
                dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            }), Object.defineProperty(ar.prototype, "needsUpdate", {
                set: function (e) {
                    !0 === e && this.version++
                }
            }), sr.prototype = Object.create(ar.prototype), sr.prototype.constructor = sr, sr.prototype.isMeshBasicMaterial = !0, sr.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.map = e.map, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.specularMap = e.specularMap, this.alphaMap = e.alphaMap, this.envMap = e.envMap, this.combine = e.combine, this.reflectivity = e.reflectivity, this.refractionRatio = e.refractionRatio, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this
            };
            var lr = new Nn;

            function cr(e, t, n) {
                if (Array.isArray(e)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                this.name = "", this.array = e, this.itemSize = t, this.count = void 0 !== e ? e.length / t : 0, this.normalized = !0 === n, this.usage = dn, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.version = 0
            }

            function ur(e, t, n) {
                cr.call(this, new Int8Array(e), t, n)
            }

            function hr(e, t, n) {
                cr.call(this, new Uint8Array(e), t, n)
            }

            function dr(e, t, n) {
                cr.call(this, new Uint8ClampedArray(e), t, n)
            }

            function pr(e, t, n) {
                cr.call(this, new Int16Array(e), t, n)
            }

            function fr(e, t, n) {
                cr.call(this, new Uint16Array(e), t, n)
            }

            function mr(e, t, n) {
                cr.call(this, new Int32Array(e), t, n)
            }

            function vr(e, t, n) {
                cr.call(this, new Uint32Array(e), t, n)
            }

            function gr(e, t, n) {
                cr.call(this, new Float32Array(e), t, n)
            }

            function yr(e, t, n) {
                cr.call(this, new Float64Array(e), t, n)
            }

            function _r() {
                this.vertices = [], this.normals = [], this.colors = [], this.uvs = [], this.uvs2 = [], this.groups = [], this.morphTargets = {}, this.skinWeights = [], this.skinIndices = [], this.boundingBox = null, this.boundingSphere = null, this.verticesNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.groupsNeedUpdate = !1
            }

            function br(e) {
                if (0 === e.length) return -1 / 0;
                for (var t = e[0], n = 1, i = e.length; n < i; ++n) e[n] > t && (t = e[n]);
                return t
            }
            Object.defineProperty(cr.prototype, "needsUpdate", {
                set: function (e) {
                    !0 === e && this.version++
                }
            }), Object.assign(cr.prototype, {
                isBufferAttribute: !0,
                onUploadCallback: function () {},
                setUsage: function (e) {
                    return this.usage = e, this
                },
                copy: function (e) {
                    return this.name = e.name, this.array = new e.array.constructor(e.array), this.itemSize = e.itemSize, this.count = e.count, this.normalized = e.normalized, this.usage = e.usage, this
                },
                copyAt: function (e, t, n) {
                    e *= this.itemSize, n *= t.itemSize;
                    for (var i = 0, r = this.itemSize; i < r; i++) this.array[e + i] = t.array[n + i];
                    return this
                },
                copyArray: function (e) {
                    return this.array.set(e), this
                },
                copyColorsArray: function (e) {
                    for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        void 0 === o && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", i), o = new er), t[n++] = o.r, t[n++] = o.g, t[n++] = o.b
                    }
                    return this
                },
                copyVector2sArray: function (e) {
                    for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        void 0 === o && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", i), o = new En), t[n++] = o.x, t[n++] = o.y
                    }
                    return this
                },
                copyVector3sArray: function (e) {
                    for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        void 0 === o && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined", i), o = new Nn), t[n++] = o.x, t[n++] = o.y, t[n++] = o.z
                    }
                    return this
                },
                copyVector4sArray: function (e) {
                    for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        void 0 === o && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", i), o = new On), t[n++] = o.x, t[n++] = o.y, t[n++] = o.z, t[n++] = o.w
                    }
                    return this
                },
                applyMatrix3: function (e) {
                    for (var t = 0, n = this.count; t < n; t++) lr.x = this.getX(t), lr.y = this.getY(t), lr.z = this.getZ(t), lr.applyMatrix3(e), this.setXYZ(t, lr.x, lr.y, lr.z);
                    return this
                },
                applyMatrix4: function (e) {
                    for (var t = 0, n = this.count; t < n; t++) lr.x = this.getX(t), lr.y = this.getY(t), lr.z = this.getZ(t), lr.applyMatrix4(e), this.setXYZ(t, lr.x, lr.y, lr.z);
                    return this
                },
                applyNormalMatrix: function (e) {
                    for (var t = 0, n = this.count; t < n; t++) lr.x = this.getX(t), lr.y = this.getY(t), lr.z = this.getZ(t), lr.applyNormalMatrix(e), this.setXYZ(t, lr.x, lr.y, lr.z);
                    return this
                },
                transformDirection: function (e) {
                    for (var t = 0, n = this.count; t < n; t++) lr.x = this.getX(t), lr.y = this.getY(t), lr.z = this.getZ(t), lr.transformDirection(e), this.setXYZ(t, lr.x, lr.y, lr.z);
                    return this
                },
                set: function (e, t) {
                    return void 0 === t && (t = 0), this.array.set(e, t), this
                },
                getX: function (e) {
                    return this.array[e * this.itemSize]
                },
                setX: function (e, t) {
                    return this.array[e * this.itemSize] = t, this
                },
                getY: function (e) {
                    return this.array[e * this.itemSize + 1]
                },
                setY: function (e, t) {
                    return this.array[e * this.itemSize + 1] = t, this
                },
                getZ: function (e) {
                    return this.array[e * this.itemSize + 2]
                },
                setZ: function (e, t) {
                    return this.array[e * this.itemSize + 2] = t, this
                },
                getW: function (e) {
                    return this.array[e * this.itemSize + 3]
                },
                setW: function (e, t) {
                    return this.array[e * this.itemSize + 3] = t, this
                },
                setXY: function (e, t, n) {
                    return e *= this.itemSize, this.array[e + 0] = t, this.array[e + 1] = n, this
                },
                setXYZ: function (e, t, n, i) {
                    return e *= this.itemSize, this.array[e + 0] = t, this.array[e + 1] = n, this.array[e + 2] = i, this
                },
                setXYZW: function (e, t, n, i, r) {
                    return e *= this.itemSize, this.array[e + 0] = t, this.array[e + 1] = n, this.array[e + 2] = i, this.array[e + 3] = r, this
                },
                onUpload: function (e) {
                    return this.onUploadCallback = e, this
                },
                clone: function () {
                    return new this.constructor(this.array, this.itemSize).copy(this)
                },
                toJSON: function () {
                    return {
                        itemSize: this.itemSize,
                        type: this.array.constructor.name,
                        array: Array.prototype.slice.call(this.array),
                        normalized: this.normalized
                    }
                }
            }), ur.prototype = Object.create(cr.prototype), ur.prototype.constructor = ur, hr.prototype = Object.create(cr.prototype), hr.prototype.constructor = hr, dr.prototype = Object.create(cr.prototype), dr.prototype.constructor = dr, pr.prototype = Object.create(cr.prototype), pr.prototype.constructor = pr, fr.prototype = Object.create(cr.prototype), fr.prototype.constructor = fr, mr.prototype = Object.create(cr.prototype), mr.prototype.constructor = mr, vr.prototype = Object.create(cr.prototype), vr.prototype.constructor = vr, gr.prototype = Object.create(cr.prototype), gr.prototype.constructor = gr, yr.prototype = Object.create(cr.prototype), yr.prototype.constructor = yr, Object.assign(_r.prototype, {
                computeGroups: function (e) {
                    for (var t, n = [], i = void 0, r = e.faces, o = 0; o < r.length; o++) {
                        var a = r[o];
                        a.materialIndex !== i && (i = a.materialIndex, void 0 !== t && (t.count = 3 * o - t.start, n.push(t)), t = {
                            start: 3 * o,
                            materialIndex: i
                        })
                    }
                    void 0 !== t && (t.count = 3 * o - t.start, n.push(t)), this.groups = n
                },
                fromGeometry: function (e) {
                    var t, n = e.faces,
                        i = e.vertices,
                        r = e.faceVertexUvs,
                        o = r[0] && r[0].length > 0,
                        a = r[1] && r[1].length > 0,
                        s = e.morphTargets,
                        l = s.length;
                    if (l > 0) {
                        t = [];
                        for (var c = 0; c < l; c++) t[c] = {
                            name: s[c].name,
                            data: []
                        };
                        this.morphTargets.position = t
                    }
                    var u, h = e.morphNormals,
                        d = h.length;
                    if (d > 0) {
                        u = [];
                        for (c = 0; c < d; c++) u[c] = {
                            name: h[c].name,
                            data: []
                        };
                        this.morphTargets.normal = u
                    }
                    var p = e.skinIndices,
                        f = e.skinWeights,
                        m = p.length === i.length,
                        v = f.length === i.length;
                    i.length > 0 && 0 === n.length && console.error("THREE.DirectGeometry: Faceless geometries are not supported.");
                    for (c = 0; c < n.length; c++) {
                        var g = n[c];
                        this.vertices.push(i[g.a], i[g.b], i[g.c]);
                        var y = g.vertexNormals;
                        if (3 === y.length) this.normals.push(y[0], y[1], y[2]);
                        else {
                            var _ = g.normal;
                            this.normals.push(_, _, _)
                        }
                        var b, w = g.vertexColors;
                        if (3 === w.length) this.colors.push(w[0], w[1], w[2]);
                        else {
                            var x = g.color;
                            this.colors.push(x, x, x)
                        }
                        if (!0 === o) void 0 !== (b = r[0][c]) ? this.uvs.push(b[0], b[1], b[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ", c), this.uvs.push(new En, new En, new En));
                        if (!0 === a) void 0 !== (b = r[1][c]) ? this.uvs2.push(b[0], b[1], b[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", c), this.uvs2.push(new En, new En, new En));
                        for (var T = 0; T < l; T++) {
                            var S = s[T].vertices;
                            t[T].data.push(S[g.a], S[g.b], S[g.c])
                        }
                        for (T = 0; T < d; T++) {
                            var M = h[T].vertexNormals[c];
                            u[T].data.push(M.a, M.b, M.c)
                        }
                        m && this.skinIndices.push(p[g.a], p[g.b], p[g.c]), v && this.skinWeights.push(f[g.a], f[g.b], f[g.c])
                    }
                    return this.computeGroups(e), this.verticesNeedUpdate = e.verticesNeedUpdate, this.normalsNeedUpdate = e.normalsNeedUpdate, this.colorsNeedUpdate = e.colorsNeedUpdate, this.uvsNeedUpdate = e.uvsNeedUpdate, this.groupsNeedUpdate = e.groupsNeedUpdate, null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()), this
                }
            });
            var wr = 1,
                xr = new Wn,
                Tr = new ci,
                Sr = new Nn,
                Mr = new Si,
                Er = new Si,
                Ar = new Nn;

            function Pr() {
                Object.defineProperty(this, "id", {
                    value: wr += 2
                }), this.uuid = Mn.generateUUID(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.morphTargetsRelative = !1, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = {
                    start: 0,
                    count: 1 / 0
                }, this.userData = {}
            }
            Pr.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: Pr,
                isBufferGeometry: !0,
                getIndex: function () {
                    return this.index
                },
                setIndex: function (e) {
                    Array.isArray(e) ? this.index = new(br(e) > 65535 ? vr : fr)(e, 1) : this.index = e
                },
                getAttribute: function (e) {
                    return this.attributes[e]
                },
                setAttribute: function (e, t) {
                    return this.attributes[e] = t, this
                },
                deleteAttribute: function (e) {
                    return delete this.attributes[e], this
                },
                addGroup: function (e, t, n) {
                    this.groups.push({
                        start: e,
                        count: t,
                        materialIndex: void 0 !== n ? n : 0
                    })
                },
                clearGroups: function () {
                    this.groups = []
                },
                setDrawRange: function (e, t) {
                    this.drawRange.start = e, this.drawRange.count = t
                },
                applyMatrix4: function (e) {
                    var t = this.attributes.position;
                    void 0 !== t && (t.applyMatrix4(e), t.needsUpdate = !0);
                    var n = this.attributes.normal;
                    if (void 0 !== n) {
                        var i = (new An).getNormalMatrix(e);
                        n.applyNormalMatrix(i), n.needsUpdate = !0
                    }
                    var r = this.attributes.tangent;
                    return void 0 !== r && (r.transformDirection(e), r.needsUpdate = !0), null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this
                },
                rotateX: function (e) {
                    return xr.makeRotationX(e), this.applyMatrix4(xr), this
                },
                rotateY: function (e) {
                    return xr.makeRotationY(e), this.applyMatrix4(xr), this
                },
                rotateZ: function (e) {
                    return xr.makeRotationZ(e), this.applyMatrix4(xr), this
                },
                translate: function (e, t, n) {
                    return xr.makeTranslation(e, t, n), this.applyMatrix4(xr), this
                },
                scale: function (e, t, n) {
                    return xr.makeScale(e, t, n), this.applyMatrix4(xr), this
                },
                lookAt: function (e) {
                    return Tr.lookAt(e), Tr.updateMatrix(), this.applyMatrix4(Tr.matrix), this
                },
                center: function () {
                    return this.computeBoundingBox(), this.boundingBox.getCenter(Sr).negate(), this.translate(Sr.x, Sr.y, Sr.z), this
                },
                setFromObject: function (e) {
                    var t = e.geometry;
                    if (e.isPoints || e.isLine) {
                        var n = new gr(3 * t.vertices.length, 3),
                            i = new gr(3 * t.colors.length, 3);
                        if (this.setAttribute("position", n.copyVector3sArray(t.vertices)), this.setAttribute("color", i.copyColorsArray(t.colors)), t.lineDistances && t.lineDistances.length === t.vertices.length) {
                            var r = new gr(t.lineDistances.length, 1);
                            this.setAttribute("lineDistance", r.copyArray(t.lineDistances))
                        }
                        null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone())
                    } else e.isMesh && t && t.isGeometry && this.fromGeometry(t);
                    return this
                },
                setFromPoints: function (e) {
                    for (var t = [], n = 0, i = e.length; n < i; n++) {
                        var r = e[n];
                        t.push(r.x, r.y, r.z || 0)
                    }
                    return this.setAttribute("position", new gr(t, 3)), this
                },
                updateFromObject: function (e) {
                    var t, n = e.geometry;
                    if (e.isMesh) {
                        var i = n.__directGeometry;
                        if (!0 === n.elementsNeedUpdate && (i = void 0, n.elementsNeedUpdate = !1), void 0 === i) return this.fromGeometry(n);
                        i.verticesNeedUpdate = n.verticesNeedUpdate, i.normalsNeedUpdate = n.normalsNeedUpdate, i.colorsNeedUpdate = n.colorsNeedUpdate, i.uvsNeedUpdate = n.uvsNeedUpdate, i.groupsNeedUpdate = n.groupsNeedUpdate, n.verticesNeedUpdate = !1, n.normalsNeedUpdate = !1, n.colorsNeedUpdate = !1, n.uvsNeedUpdate = !1, n.groupsNeedUpdate = !1, n = i
                    }
                    return !0 === n.verticesNeedUpdate && (void 0 !== (t = this.attributes.position) && (t.copyVector3sArray(n.vertices), t.needsUpdate = !0), n.verticesNeedUpdate = !1), !0 === n.normalsNeedUpdate && (void 0 !== (t = this.attributes.normal) && (t.copyVector3sArray(n.normals), t.needsUpdate = !0), n.normalsNeedUpdate = !1), !0 === n.colorsNeedUpdate && (void 0 !== (t = this.attributes.color) && (t.copyColorsArray(n.colors), t.needsUpdate = !0), n.colorsNeedUpdate = !1), n.uvsNeedUpdate && (void 0 !== (t = this.attributes.uv) && (t.copyVector2sArray(n.uvs), t.needsUpdate = !0), n.uvsNeedUpdate = !1), n.lineDistancesNeedUpdate && (void 0 !== (t = this.attributes.lineDistance) && (t.copyArray(n.lineDistances), t.needsUpdate = !0), n.lineDistancesNeedUpdate = !1), n.groupsNeedUpdate && (n.computeGroups(e.geometry), this.groups = n.groups, n.groupsNeedUpdate = !1), this
                },
                fromGeometry: function (e) {
                    return e.__directGeometry = (new _r).fromGeometry(e), this.fromDirectGeometry(e.__directGeometry)
                },
                fromDirectGeometry: function (e) {
                    var t = new Float32Array(3 * e.vertices.length);
                    if (this.setAttribute("position", new cr(t, 3).copyVector3sArray(e.vertices)), e.normals.length > 0) {
                        var n = new Float32Array(3 * e.normals.length);
                        this.setAttribute("normal", new cr(n, 3).copyVector3sArray(e.normals))
                    }
                    if (e.colors.length > 0) {
                        var i = new Float32Array(3 * e.colors.length);
                        this.setAttribute("color", new cr(i, 3).copyColorsArray(e.colors))
                    }
                    if (e.uvs.length > 0) {
                        var r = new Float32Array(2 * e.uvs.length);
                        this.setAttribute("uv", new cr(r, 2).copyVector2sArray(e.uvs))
                    }
                    if (e.uvs2.length > 0) {
                        var o = new Float32Array(2 * e.uvs2.length);
                        this.setAttribute("uv2", new cr(o, 2).copyVector2sArray(e.uvs2))
                    }
                    for (var a in this.groups = e.groups, e.morphTargets) {
                        for (var s = [], l = e.morphTargets[a], c = 0, u = l.length; c < u; c++) {
                            var h = l[c],
                                d = new gr(3 * h.data.length, 3);
                            d.name = h.name, s.push(d.copyVector3sArray(h.data))
                        }
                        this.morphAttributes[a] = s
                    }
                    if (e.skinIndices.length > 0) {
                        var p = new gr(4 * e.skinIndices.length, 4);
                        this.setAttribute("skinIndex", p.copyVector4sArray(e.skinIndices))
                    }
                    if (e.skinWeights.length > 0) {
                        var f = new gr(4 * e.skinWeights.length, 4);
                        this.setAttribute("skinWeight", f.copyVector4sArray(e.skinWeights))
                    }
                    return null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()), this
                },
                computeBoundingBox: function () {
                    null === this.boundingBox && (this.boundingBox = new Si);
                    var e = this.attributes.position,
                        t = this.morphAttributes.position;
                    if (void 0 !== e) {
                        if (this.boundingBox.setFromBufferAttribute(e), t)
                            for (var n = 0, i = t.length; n < i; n++) {
                                var r = t[n];
                                Mr.setFromBufferAttribute(r), this.morphTargetsRelative ? (Ar.addVectors(this.boundingBox.min, Mr.min), this.boundingBox.expandByPoint(Ar), Ar.addVectors(this.boundingBox.max, Mr.max), this.boundingBox.expandByPoint(Ar)) : (this.boundingBox.expandByPoint(Mr.min), this.boundingBox.expandByPoint(Mr.max))
                            }
                    } else this.boundingBox.makeEmpty();
                    (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this)
                },
                computeBoundingSphere: function () {
                    null === this.boundingSphere && (this.boundingSphere = new Ai);
                    var e = this.attributes.position,
                        t = this.morphAttributes.position;
                    if (e) {
                        var n = this.boundingSphere.center;
                        if (Mr.setFromBufferAttribute(e), t)
                            for (var i = 0, r = t.length; i < r; i++) {
                                var o = t[i];
                                Er.setFromBufferAttribute(o), this.morphTargetsRelative ? (Ar.addVectors(Mr.min, Er.min), Mr.expandByPoint(Ar), Ar.addVectors(Mr.max, Er.max), Mr.expandByPoint(Ar)) : (Mr.expandByPoint(Er.min), Mr.expandByPoint(Er.max))
                            }
                        Mr.getCenter(n);
                        var a = 0;
                        for (i = 0, r = e.count; i < r; i++) Ar.fromBufferAttribute(e, i), a = Math.max(a, n.distanceToSquared(Ar));
                        if (t)
                            for (i = 0, r = t.length; i < r; i++) {
                                o = t[i];
                                for (var s = this.morphTargetsRelative, l = 0, c = o.count; l < c; l++) Ar.fromBufferAttribute(o, l), s && (Sr.fromBufferAttribute(e, l), Ar.add(Sr)), a = Math.max(a, n.distanceToSquared(Ar))
                            }
                        this.boundingSphere.radius = Math.sqrt(a), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this)
                    }
                },
                computeFaceNormals: function () {},
                computeVertexNormals: function () {
                    var e = this.index,
                        t = this.attributes;
                    if (t.position) {
                        var n = t.position.array;
                        if (void 0 === t.normal) this.setAttribute("normal", new cr(new Float32Array(n.length), 3));
                        else
                            for (var i = t.normal.array, r = 0, o = i.length; r < o; r++) i[r] = 0;
                        var a, s, l, c = t.normal.array,
                            u = new Nn,
                            h = new Nn,
                            d = new Nn,
                            p = new Nn,
                            f = new Nn;
                        if (e) {
                            var m = e.array;
                            for (r = 0, o = e.count; r < o; r += 3) a = 3 * m[r + 0], s = 3 * m[r + 1], l = 3 * m[r + 2], u.fromArray(n, a), h.fromArray(n, s), d.fromArray(n, l), p.subVectors(d, h), f.subVectors(u, h), p.cross(f), c[a] += p.x, c[a + 1] += p.y, c[a + 2] += p.z, c[s] += p.x, c[s + 1] += p.y, c[s + 2] += p.z, c[l] += p.x, c[l + 1] += p.y, c[l + 2] += p.z
                        } else
                            for (r = 0, o = n.length; r < o; r += 9) u.fromArray(n, r), h.fromArray(n, r + 3), d.fromArray(n, r + 6), p.subVectors(d, h), f.subVectors(u, h), p.cross(f), c[r] = p.x, c[r + 1] = p.y, c[r + 2] = p.z, c[r + 3] = p.x, c[r + 4] = p.y, c[r + 5] = p.z, c[r + 6] = p.x, c[r + 7] = p.y, c[r + 8] = p.z;
                        this.normalizeNormals(), t.normal.needsUpdate = !0
                    }
                },
                merge: function (e, t) {
                    if (e && e.isBufferGeometry) {
                        void 0 === t && (t = 0, console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));
                        var n = this.attributes;
                        for (var i in n)
                            if (void 0 !== e.attributes[i])
                                for (var r = n[i].array, o = e.attributes[i], a = o.array, s = o.itemSize * t, l = Math.min(a.length, r.length - s), c = 0, u = s; c < l; c++, u++) r[u] = a[c];
                        return this
                    }
                    console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", e)
                },
                normalizeNormals: function () {
                    for (var e = this.attributes.normal, t = 0, n = e.count; t < n; t++) Ar.x = e.getX(t), Ar.y = e.getY(t), Ar.z = e.getZ(t), Ar.normalize(), e.setXYZ(t, Ar.x, Ar.y, Ar.z)
                },
                toNonIndexed: function () {
                    function e(e, t) {
                        for (var n = e.array, i = e.itemSize, r = new n.constructor(t.length * i), o = 0, a = 0, s = 0, l = t.length; s < l; s++) {
                            o = t[s] * i;
                            for (var c = 0; c < i; c++) r[a++] = n[o++]
                        }
                        return new cr(r, i)
                    }
                    if (null === this.index) return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."), this;
                    var t = new Pr,
                        n = this.index.array,
                        i = this.attributes;
                    for (var r in i) {
                        var o = e(i[r], n);
                        t.setAttribute(r, o)
                    }
                    var a = this.morphAttributes;
                    for (r in a) {
                        for (var s = [], l = a[r], c = 0, u = l.length; c < u; c++) {
                            o = e(l[c], n);
                            s.push(o)
                        }
                        t.morphAttributes[r] = s
                    }
                    t.morphTargetsRelative = this.morphTargetsRelative;
                    for (var h = this.groups, d = (c = 0, h.length); c < d; c++) {
                        var p = h[c];
                        t.addGroup(p.start, p.count, p.materialIndex)
                    }
                    return t
                },
                toJSON: function () {
                    var e = {
                        metadata: {
                            version: 4.5,
                            type: "BufferGeometry",
                            generator: "BufferGeometry.toJSON"
                        }
                    };
                    if (e.uuid = this.uuid, e.type = this.type, "" !== this.name && (e.name = this.name), Object.keys(this.userData).length > 0 && (e.userData = this.userData), void 0 !== this.parameters) {
                        var t = this.parameters;
                        for (var n in t) void 0 !== t[n] && (e[n] = t[n]);
                        return e
                    }
                    e.data = {
                        attributes: {}
                    };
                    var i = this.index;
                    null !== i && (e.data.index = {
                        type: i.array.constructor.name,
                        array: Array.prototype.slice.call(i.array)
                    });
                    var r = this.attributes;
                    for (var n in r) {
                        var o = (d = r[n]).toJSON();
                        "" !== d.name && (o.name = d.name), e.data.attributes[n] = o
                    }
                    var a = {},
                        s = !1;
                    for (var n in this.morphAttributes) {
                        for (var l = this.morphAttributes[n], c = [], u = 0, h = l.length; u < h; u++) {
                            var d;
                            o = (d = l[u]).toJSON();
                            "" !== d.name && (o.name = d.name), c.push(o)
                        }
                        c.length > 0 && (a[n] = c, s = !0)
                    }
                    s && (e.data.morphAttributes = a, e.data.morphTargetsRelative = this.morphTargetsRelative);
                    var p = this.groups;
                    p.length > 0 && (e.data.groups = JSON.parse(JSON.stringify(p)));
                    var f = this.boundingSphere;
                    return null !== f && (e.data.boundingSphere = {
                        center: f.center.toArray(),
                        radius: f.radius
                    }), e
                },
                clone: function () {
                    return (new Pr).copy(this)
                },
                copy: function (e) {
                    var t, n, i;
                    this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.name = e.name;
                    var r = e.index;
                    null !== r && this.setIndex(r.clone());
                    var o = e.attributes;
                    for (t in o) {
                        var a = o[t];
                        this.setAttribute(t, a.clone())
                    }
                    var s = e.morphAttributes;
                    for (t in s) {
                        var l = [],
                            c = s[t];
                        for (n = 0, i = c.length; n < i; n++) l.push(c[n].clone());
                        this.morphAttributes[t] = l
                    }
                    this.morphTargetsRelative = e.morphTargetsRelative;
                    var u = e.groups;
                    for (n = 0, i = u.length; n < i; n++) {
                        var h = u[n];
                        this.addGroup(h.start, h.count, h.materialIndex)
                    }
                    var d = e.boundingBox;
                    null !== d && (this.boundingBox = d.clone());
                    var p = e.boundingSphere;
                    return null !== p && (this.boundingSphere = p.clone()), this.drawRange.start = e.drawRange.start, this.drawRange.count = e.drawRange.count, this.userData = e.userData, this
                },
                dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            });
            var Cr = new Wn,
                Lr = new Di,
                Or = new Ai,
                Rr = new Nn,
                kr = new Nn,
                Ir = new Nn,
                Dr = new Nn,
                Br = new Nn,
                Nr = new Nn,
                Gr = new Nn,
                jr = new Nn,
                Hr = new Nn,
                Fr = new En,
                Ur = new En,
                zr = new En,
                Vr = new Nn,
                Wr = new Nn;

            function qr(e, t) {
                ci.call(this), this.type = "Mesh", this.geometry = void 0 !== e ? e : new Pr, this.material = void 0 !== t ? t : new sr, this.updateMorphTargets()
            }

            function Xr(e, t, n, i, r, o, a, s) {
                if (null === (t.side === g ? i.intersectTriangle(a, o, r, !0, s) : i.intersectTriangle(r, o, a, t.side !== y, s))) return null;
                Wr.copy(s), Wr.applyMatrix4(e.matrixWorld);
                var l = n.ray.origin.distanceTo(Wr);
                return l < n.near || l > n.far ? null : {
                    distance: l,
                    point: Wr.clone(),
                    object: e
                }
            }

            function Yr(e, t, n, i, r, o, a, s, l, c, u, h) {
                Rr.fromBufferAttribute(r, c), kr.fromBufferAttribute(r, u), Ir.fromBufferAttribute(r, h);
                var d = e.morphTargetInfluences;
                if (t.morphTargets && o && d) {
                    Gr.set(0, 0, 0), jr.set(0, 0, 0), Hr.set(0, 0, 0);
                    for (var p = 0, f = o.length; p < f; p++) {
                        var m = d[p],
                            v = o[p];
                        0 !== m && (Dr.fromBufferAttribute(v, c), Br.fromBufferAttribute(v, u), Nr.fromBufferAttribute(v, h), a ? (Gr.addScaledVector(Dr, m), jr.addScaledVector(Br, m), Hr.addScaledVector(Nr, m)) : (Gr.addScaledVector(Dr.sub(Rr), m), jr.addScaledVector(Br.sub(kr), m), Hr.addScaledVector(Nr.sub(Ir), m)))
                    }
                    Rr.add(Gr), kr.add(jr), Ir.add(Hr)
                }
                var g = Xr(e, t, n, i, Rr, kr, Ir, Vr);
                if (g) {
                    s && (Fr.fromBufferAttribute(s, c), Ur.fromBufferAttribute(s, u), zr.fromBufferAttribute(s, h), g.uv = Ki.getUV(Vr, Rr, kr, Ir, Fr, Ur, zr, new En)), l && (Fr.fromBufferAttribute(l, c), Ur.fromBufferAttribute(l, u), zr.fromBufferAttribute(l, h), g.uv2 = Ki.getUV(Vr, Rr, kr, Ir, Fr, Ur, zr, new En));
                    var y = new rr(c, u, h);
                    Ki.getNormal(Rr, kr, Ir, y.normal), g.face = y
                }
                return g
            }
            qr.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: qr,
                isMesh: !0,
                copy: function (e) {
                    return ci.prototype.copy.call(this, e), void 0 !== e.morphTargetInfluences && (this.morphTargetInfluences = e.morphTargetInfluences.slice()), void 0 !== e.morphTargetDictionary && (this.morphTargetDictionary = Object.assign({}, e.morphTargetDictionary)), this
                },
                updateMorphTargets: function () {
                    var e, t, n, i = this.geometry;
                    if (i.isBufferGeometry) {
                        var r = i.morphAttributes,
                            o = Object.keys(r);
                        if (o.length > 0) {
                            var a = r[o[0]];
                            if (void 0 !== a)
                                for (this.morphTargetInfluences = [], this.morphTargetDictionary = {}, e = 0, t = a.length; e < t; e++) n = a[e].name || String(e), this.morphTargetInfluences.push(0), this.morphTargetDictionary[n] = e
                        }
                    } else {
                        var s = i.morphTargets;
                        void 0 !== s && s.length > 0 && console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")
                    }
                },
                raycast: function (e, t) {
                    var n, i = this.geometry,
                        r = this.material,
                        o = this.matrixWorld;
                    if (void 0 !== r && (null === i.boundingSphere && i.computeBoundingSphere(), Or.copy(i.boundingSphere), Or.applyMatrix4(o), !1 !== e.ray.intersectsSphere(Or) && (Cr.getInverse(o), Lr.copy(e.ray).applyMatrix4(Cr), null === i.boundingBox || !1 !== Lr.intersectsBox(i.boundingBox))))
                        if (i.isBufferGeometry) {
                            var a, s, l, c, u, h, d, p, f, m = i.index,
                                v = i.attributes.position,
                                g = i.morphAttributes.position,
                                y = i.morphTargetsRelative,
                                _ = i.attributes.uv,
                                b = i.attributes.uv2,
                                w = i.groups,
                                x = i.drawRange;
                            if (null !== m)
                                if (Array.isArray(r))
                                    for (c = 0, h = w.length; c < h; c++)
                                        for (f = r[(p = w[c]).materialIndex], u = Math.max(p.start, x.start), d = Math.min(p.start + p.count, x.start + x.count); u < d; u += 3) a = m.getX(u), s = m.getX(u + 1), l = m.getX(u + 2), (n = Yr(this, f, e, Lr, v, g, y, _, b, a, s, l)) && (n.faceIndex = Math.floor(u / 3), n.face.materialIndex = p.materialIndex, t.push(n));
                                else
                                    for (c = Math.max(0, x.start), h = Math.min(m.count, x.start + x.count); c < h; c += 3) a = m.getX(c), s = m.getX(c + 1), l = m.getX(c + 2), (n = Yr(this, r, e, Lr, v, g, y, _, b, a, s, l)) && (n.faceIndex = Math.floor(c / 3), t.push(n));
                            else if (void 0 !== v)
                                if (Array.isArray(r))
                                    for (c = 0, h = w.length; c < h; c++)
                                        for (f = r[(p = w[c]).materialIndex], u = Math.max(p.start, x.start), d = Math.min(p.start + p.count, x.start + x.count); u < d; u += 3)(n = Yr(this, f, e, Lr, v, g, y, _, b, a = u, s = u + 1, l = u + 2)) && (n.faceIndex = Math.floor(u / 3), n.face.materialIndex = p.materialIndex, t.push(n));
                                else
                                    for (c = Math.max(0, x.start), h = Math.min(v.count, x.start + x.count); c < h; c += 3)(n = Yr(this, r, e, Lr, v, g, y, _, b, a = c, s = c + 1, l = c + 2)) && (n.faceIndex = Math.floor(c / 3), t.push(n))
                        } else if (i.isGeometry) {
                        var T, S, M, E, A = Array.isArray(r),
                            P = i.vertices,
                            C = i.faces,
                            L = i.faceVertexUvs[0];
                        L.length > 0 && (E = L);
                        for (var O = 0, R = C.length; O < R; O++) {
                            var k = C[O],
                                I = A ? r[k.materialIndex] : r;
                            if (void 0 !== I && (T = P[k.a], S = P[k.b], M = P[k.c], n = Xr(this, I, e, Lr, T, S, M, Vr))) {
                                if (E && E[O]) {
                                    var D = E[O];
                                    Fr.copy(D[0]), Ur.copy(D[1]), zr.copy(D[2]), n.uv = Ki.getUV(Vr, T, S, M, Fr, Ur, zr, new En)
                                }
                                n.face = k, n.faceIndex = O, t.push(n)
                            }
                        }
                    }
                },
                clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            });
            var Jr = 0,
                Kr = new Wn,
                Zr = new ci,
                $r = new Nn;

            function Qr() {
                Object.defineProperty(this, "id", {
                    value: Jr += 2
                }), this.uuid = Mn.generateUUID(), this.name = "", this.type = "Geometry", this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
                    []
                ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.elementsNeedUpdate = !1, this.verticesNeedUpdate = !1, this.uvsNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.lineDistancesNeedUpdate = !1, this.groupsNeedUpdate = !1
            }
            Qr.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: Qr,
                isGeometry: !0,
                applyMatrix4: function (e) {
                    for (var t = (new An).getNormalMatrix(e), n = 0, i = this.vertices.length; n < i; n++) {
                        this.vertices[n].applyMatrix4(e)
                    }
                    for (n = 0, i = this.faces.length; n < i; n++) {
                        var r = this.faces[n];
                        r.normal.applyMatrix3(t).normalize();
                        for (var o = 0, a = r.vertexNormals.length; o < a; o++) r.vertexNormals[o].applyMatrix3(t).normalize()
                    }
                    return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this.verticesNeedUpdate = !0, this.normalsNeedUpdate = !0, this
                },
                rotateX: function (e) {
                    return Kr.makeRotationX(e), this.applyMatrix4(Kr), this
                },
                rotateY: function (e) {
                    return Kr.makeRotationY(e), this.applyMatrix4(Kr), this
                },
                rotateZ: function (e) {
                    return Kr.makeRotationZ(e), this.applyMatrix4(Kr), this
                },
                translate: function (e, t, n) {
                    return Kr.makeTranslation(e, t, n), this.applyMatrix4(Kr), this
                },
                scale: function (e, t, n) {
                    return Kr.makeScale(e, t, n), this.applyMatrix4(Kr), this
                },
                lookAt: function (e) {
                    return Zr.lookAt(e), Zr.updateMatrix(), this.applyMatrix4(Zr.matrix), this
                },
                fromBufferGeometry: function (e) {
                    var t = this,
                        n = null !== e.index ? e.index.array : void 0,
                        i = e.attributes;
                    if (void 0 === i.position) return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."), this;
                    var r = i.position.array,
                        o = void 0 !== i.normal ? i.normal.array : void 0,
                        a = void 0 !== i.color ? i.color.array : void 0,
                        s = void 0 !== i.uv ? i.uv.array : void 0,
                        l = void 0 !== i.uv2 ? i.uv2.array : void 0;
                    void 0 !== l && (this.faceVertexUvs[1] = []);
                    for (var c = 0; c < r.length; c += 3) t.vertices.push((new Nn).fromArray(r, c)), void 0 !== a && t.colors.push((new er).fromArray(a, c));

                    function u(e, n, i, r) {
                        var c = void 0 === a ? [] : [t.colors[e].clone(), t.colors[n].clone(), t.colors[i].clone()],
                            u = new rr(e, n, i, void 0 === o ? [] : [(new Nn).fromArray(o, 3 * e), (new Nn).fromArray(o, 3 * n), (new Nn).fromArray(o, 3 * i)], c, r);
                        t.faces.push(u), void 0 !== s && t.faceVertexUvs[0].push([(new En).fromArray(s, 2 * e), (new En).fromArray(s, 2 * n), (new En).fromArray(s, 2 * i)]), void 0 !== l && t.faceVertexUvs[1].push([(new En).fromArray(l, 2 * e), (new En).fromArray(l, 2 * n), (new En).fromArray(l, 2 * i)])
                    }
                    var h = e.groups;
                    if (h.length > 0)
                        for (c = 0; c < h.length; c++)
                            for (var d = h[c], p = d.start, f = p, m = p + d.count; f < m; f += 3) void 0 !== n ? u(n[f], n[f + 1], n[f + 2], d.materialIndex) : u(f, f + 1, f + 2, d.materialIndex);
                    else if (void 0 !== n)
                        for (c = 0; c < n.length; c += 3) u(n[c], n[c + 1], n[c + 2]);
                    else
                        for (c = 0; c < r.length / 3; c += 3) u(c, c + 1, c + 2);
                    return this.computeFaceNormals(), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()), null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), this
                },
                center: function () {
                    return this.computeBoundingBox(), this.boundingBox.getCenter($r).negate(), this.translate($r.x, $r.y, $r.z), this
                },
                normalize: function () {
                    this.computeBoundingSphere();
                    var e = this.boundingSphere.center,
                        t = this.boundingSphere.radius,
                        n = 0 === t ? 1 : 1 / t,
                        i = new Wn;
                    return i.set(n, 0, 0, -n * e.x, 0, n, 0, -n * e.y, 0, 0, n, -n * e.z, 0, 0, 0, 1), this.applyMatrix4(i), this
                },
                computeFaceNormals: function () {
                    for (var e = new Nn, t = new Nn, n = 0, i = this.faces.length; n < i; n++) {
                        var r = this.faces[n],
                            o = this.vertices[r.a],
                            a = this.vertices[r.b],
                            s = this.vertices[r.c];
                        e.subVectors(s, a), t.subVectors(o, a), e.cross(t), e.normalize(), r.normal.copy(e)
                    }
                },
                computeVertexNormals: function (e) {
                    var t, n, i, r, o, a;
                    for (void 0 === e && (e = !0), a = new Array(this.vertices.length), t = 0, n = this.vertices.length; t < n; t++) a[t] = new Nn;
                    if (e) {
                        var s, l, c, u = new Nn,
                            h = new Nn;
                        for (i = 0, r = this.faces.length; i < r; i++) o = this.faces[i], s = this.vertices[o.a], l = this.vertices[o.b], c = this.vertices[o.c], u.subVectors(c, l), h.subVectors(s, l), u.cross(h), a[o.a].add(u), a[o.b].add(u), a[o.c].add(u)
                    } else
                        for (this.computeFaceNormals(), i = 0, r = this.faces.length; i < r; i++) a[(o = this.faces[i]).a].add(o.normal), a[o.b].add(o.normal), a[o.c].add(o.normal);
                    for (t = 0, n = this.vertices.length; t < n; t++) a[t].normalize();
                    for (i = 0, r = this.faces.length; i < r; i++) {
                        var d = (o = this.faces[i]).vertexNormals;
                        3 === d.length ? (d[0].copy(a[o.a]), d[1].copy(a[o.b]), d[2].copy(a[o.c])) : (d[0] = a[o.a].clone(), d[1] = a[o.b].clone(), d[2] = a[o.c].clone())
                    }
                    this.faces.length > 0 && (this.normalsNeedUpdate = !0)
                },
                computeFlatVertexNormals: function () {
                    var e, t, n;
                    for (this.computeFaceNormals(), e = 0, t = this.faces.length; e < t; e++) {
                        var i = (n = this.faces[e]).vertexNormals;
                        3 === i.length ? (i[0].copy(n.normal), i[1].copy(n.normal), i[2].copy(n.normal)) : (i[0] = n.normal.clone(), i[1] = n.normal.clone(), i[2] = n.normal.clone())
                    }
                    this.faces.length > 0 && (this.normalsNeedUpdate = !0)
                },
                computeMorphNormals: function () {
                    var e, t, n, i, r;
                    for (n = 0, i = this.faces.length; n < i; n++)
                        for ((r = this.faces[n]).__originalFaceNormal ? r.__originalFaceNormal.copy(r.normal) : r.__originalFaceNormal = r.normal.clone(), r.__originalVertexNormals || (r.__originalVertexNormals = []), e = 0, t = r.vertexNormals.length; e < t; e++) r.__originalVertexNormals[e] ? r.__originalVertexNormals[e].copy(r.vertexNormals[e]) : r.__originalVertexNormals[e] = r.vertexNormals[e].clone();
                    var o = new Qr;
                    for (o.faces = this.faces, e = 0, t = this.morphTargets.length; e < t; e++) {
                        if (!this.morphNormals[e]) {
                            this.morphNormals[e] = {}, this.morphNormals[e].faceNormals = [], this.morphNormals[e].vertexNormals = [];
                            var a = this.morphNormals[e].faceNormals,
                                s = this.morphNormals[e].vertexNormals;
                            for (n = 0, i = this.faces.length; n < i; n++) l = new Nn, c = {
                                a: new Nn,
                                b: new Nn,
                                c: new Nn
                            }, a.push(l), s.push(c)
                        }
                        var l, c, u = this.morphNormals[e];
                        for (o.vertices = this.morphTargets[e].vertices, o.computeFaceNormals(), o.computeVertexNormals(), n = 0, i = this.faces.length; n < i; n++) r = this.faces[n], l = u.faceNormals[n], c = u.vertexNormals[n], l.copy(r.normal), c.a.copy(r.vertexNormals[0]), c.b.copy(r.vertexNormals[1]), c.c.copy(r.vertexNormals[2])
                    }
                    for (n = 0, i = this.faces.length; n < i; n++)(r = this.faces[n]).normal = r.__originalFaceNormal, r.vertexNormals = r.__originalVertexNormals
                },
                computeBoundingBox: function () {
                    null === this.boundingBox && (this.boundingBox = new Si), this.boundingBox.setFromPoints(this.vertices)
                },
                computeBoundingSphere: function () {
                    null === this.boundingSphere && (this.boundingSphere = new Ai), this.boundingSphere.setFromPoints(this.vertices)
                },
                merge: function (e, t, n) {
                    if (e && e.isGeometry) {
                        var i, r = this.vertices.length,
                            o = this.vertices,
                            a = e.vertices,
                            s = this.faces,
                            l = e.faces,
                            c = this.colors,
                            u = e.colors;
                        void 0 === n && (n = 0), void 0 !== t && (i = (new An).getNormalMatrix(t));
                        for (var h = 0, d = a.length; h < d; h++) {
                            var p = a[h].clone();
                            void 0 !== t && p.applyMatrix4(t), o.push(p)
                        }
                        for (h = 0, d = u.length; h < d; h++) c.push(u[h].clone());
                        for (h = 0, d = l.length; h < d; h++) {
                            var f, m, v, g = l[h],
                                y = g.vertexNormals,
                                _ = g.vertexColors;
                            (f = new rr(g.a + r, g.b + r, g.c + r)).normal.copy(g.normal), void 0 !== i && f.normal.applyMatrix3(i).normalize();
                            for (var b = 0, w = y.length; b < w; b++) m = y[b].clone(), void 0 !== i && m.applyMatrix3(i).normalize(), f.vertexNormals.push(m);
                            f.color.copy(g.color);
                            for (b = 0, w = _.length; b < w; b++) v = _[b], f.vertexColors.push(v.clone());
                            f.materialIndex = g.materialIndex + n, s.push(f)
                        }
                        for (h = 0, d = e.faceVertexUvs.length; h < d; h++) {
                            var x = e.faceVertexUvs[h];
                            void 0 === this.faceVertexUvs[h] && (this.faceVertexUvs[h] = []);
                            for (b = 0, w = x.length; b < w; b++) {
                                for (var T = x[b], S = [], M = 0, E = T.length; M < E; M++) S.push(T[M].clone());
                                this.faceVertexUvs[h].push(S)
                            }
                        }
                    } else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", e)
                },
                mergeMesh: function (e) {
                    e && e.isMesh ? (e.matrixAutoUpdate && e.updateMatrix(), this.merge(e.geometry, e.matrix)) : console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", e)
                },
                mergeVertices: function () {
                    var e, t, n, i, r, o, a, s, l = {},
                        c = [],
                        u = [],
                        h = Math.pow(10, 4);
                    for (n = 0, i = this.vertices.length; n < i; n++) e = this.vertices[n], void 0 === l[t = Math.round(e.x * h) + "_" + Math.round(e.y * h) + "_" + Math.round(e.z * h)] ? (l[t] = n, c.push(this.vertices[n]), u[n] = c.length - 1) : u[n] = u[l[t]];
                    var d = [];
                    for (n = 0, i = this.faces.length; n < i; n++) {
                        (r = this.faces[n]).a = u[r.a], r.b = u[r.b], r.c = u[r.c], o = [r.a, r.b, r.c];
                        for (var p = 0; p < 3; p++)
                            if (o[p] === o[(p + 1) % 3]) {
                                d.push(n);
                                break
                            }
                    }
                    for (n = d.length - 1; n >= 0; n--) {
                        var f = d[n];
                        for (this.faces.splice(f, 1), a = 0, s = this.faceVertexUvs.length; a < s; a++) this.faceVertexUvs[a].splice(f, 1)
                    }
                    var m = this.vertices.length - c.length;
                    return this.vertices = c, m
                },
                setFromPoints: function (e) {
                    this.vertices = [];
                    for (var t = 0, n = e.length; t < n; t++) {
                        var i = e[t];
                        this.vertices.push(new Nn(i.x, i.y, i.z || 0))
                    }
                    return this
                },
                sortFacesByMaterialIndex: function () {
                    for (var e = this.faces, t = e.length, n = 0; n < t; n++) e[n]._id = n;
                    e.sort((function (e, t) {
                        return e.materialIndex - t.materialIndex
                    }));
                    var i, r, o = this.faceVertexUvs[0],
                        a = this.faceVertexUvs[1];
                    o && o.length === t && (i = []), a && a.length === t && (r = []);
                    for (n = 0; n < t; n++) {
                        var s = e[n]._id;
                        i && i.push(o[s]), r && r.push(a[s])
                    }
                    i && (this.faceVertexUvs[0] = i), r && (this.faceVertexUvs[1] = r)
                },
                toJSON: function () {
                    var e = {
                        metadata: {
                            version: 4.5,
                            type: "Geometry",
                            generator: "Geometry.toJSON"
                        }
                    };
                    if (e.uuid = this.uuid, e.type = this.type, "" !== this.name && (e.name = this.name), void 0 !== this.parameters) {
                        var t = this.parameters;
                        for (var n in t) void 0 !== t[n] && (e[n] = t[n]);
                        return e
                    }
                    for (var i = [], r = 0; r < this.vertices.length; r++) {
                        var o = this.vertices[r];
                        i.push(o.x, o.y, o.z)
                    }
                    var a = [],
                        s = [],
                        l = {},
                        c = [],
                        u = {},
                        h = [],
                        d = {};
                    for (r = 0; r < this.faces.length; r++) {
                        var p = this.faces[r],
                            f = void 0 !== this.faceVertexUvs[0][r],
                            m = p.normal.length() > 0,
                            v = p.vertexNormals.length > 0,
                            g = 1 !== p.color.r || 1 !== p.color.g || 1 !== p.color.b,
                            y = p.vertexColors.length > 0,
                            _ = 0;
                        if (_ = T(_, 0, 0), _ = T(_, 1, !0), _ = T(_, 2, !1), _ = T(_, 3, f), _ = T(_, 4, m), _ = T(_, 5, v), _ = T(_, 6, g), _ = T(_, 7, y), a.push(_), a.push(p.a, p.b, p.c), a.push(p.materialIndex), f) {
                            var b = this.faceVertexUvs[0][r];
                            a.push(E(b[0]), E(b[1]), E(b[2]))
                        }
                        if (m && a.push(S(p.normal)), v) {
                            var w = p.vertexNormals;
                            a.push(S(w[0]), S(w[1]), S(w[2]))
                        }
                        if (g && a.push(M(p.color)), y) {
                            var x = p.vertexColors;
                            a.push(M(x[0]), M(x[1]), M(x[2]))
                        }
                    }

                    function T(e, t, n) {
                        return n ? e | 1 << t : e & ~(1 << t)
                    }

                    function S(e) {
                        var t = e.x.toString() + e.y.toString() + e.z.toString();
                        return void 0 !== l[t] ? l[t] : (l[t] = s.length / 3, s.push(e.x, e.y, e.z), l[t])
                    }

                    function M(e) {
                        var t = e.r.toString() + e.g.toString() + e.b.toString();
                        return void 0 !== u[t] ? u[t] : (u[t] = c.length, c.push(e.getHex()), u[t])
                    }

                    function E(e) {
                        var t = e.x.toString() + e.y.toString();
                        return void 0 !== d[t] ? d[t] : (d[t] = h.length / 2, h.push(e.x, e.y), d[t])
                    }
                    return e.data = {}, e.data.vertices = i, e.data.normals = s, c.length > 0 && (e.data.colors = c), h.length > 0 && (e.data.uvs = [h]), e.data.faces = a, e
                },
                clone: function () {
                    return (new Qr).copy(this)
                },
                copy: function (e) {
                    var t, n, i, r, o, a;
                    this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
                        []
                    ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.name = e.name;
                    var s = e.vertices;
                    for (t = 0, n = s.length; t < n; t++) this.vertices.push(s[t].clone());
                    var l = e.colors;
                    for (t = 0, n = l.length; t < n; t++) this.colors.push(l[t].clone());
                    var c = e.faces;
                    for (t = 0, n = c.length; t < n; t++) this.faces.push(c[t].clone());
                    for (t = 0, n = e.faceVertexUvs.length; t < n; t++) {
                        var u = e.faceVertexUvs[t];
                        for (void 0 === this.faceVertexUvs[t] && (this.faceVertexUvs[t] = []), i = 0, r = u.length; i < r; i++) {
                            var h = u[i],
                                d = [];
                            for (o = 0, a = h.length; o < a; o++) {
                                var p = h[o];
                                d.push(p.clone())
                            }
                            this.faceVertexUvs[t].push(d)
                        }
                    }
                    var f = e.morphTargets;
                    for (t = 0, n = f.length; t < n; t++) {
                        var m = {};
                        if (m.name = f[t].name, void 0 !== f[t].vertices)
                            for (m.vertices = [], i = 0, r = f[t].vertices.length; i < r; i++) m.vertices.push(f[t].vertices[i].clone());
                        if (void 0 !== f[t].normals)
                            for (m.normals = [], i = 0, r = f[t].normals.length; i < r; i++) m.normals.push(f[t].normals[i].clone());
                        this.morphTargets.push(m)
                    }
                    var v = e.morphNormals;
                    for (t = 0, n = v.length; t < n; t++) {
                        var g = {};
                        if (void 0 !== v[t].vertexNormals)
                            for (g.vertexNormals = [], i = 0, r = v[t].vertexNormals.length; i < r; i++) {
                                var y = v[t].vertexNormals[i],
                                    _ = {};
                                _.a = y.a.clone(), _.b = y.b.clone(), _.c = y.c.clone(), g.vertexNormals.push(_)
                            }
                        if (void 0 !== v[t].faceNormals)
                            for (g.faceNormals = [], i = 0, r = v[t].faceNormals.length; i < r; i++) g.faceNormals.push(v[t].faceNormals[i].clone());
                        this.morphNormals.push(g)
                    }
                    var b = e.skinWeights;
                    for (t = 0, n = b.length; t < n; t++) this.skinWeights.push(b[t].clone());
                    var w = e.skinIndices;
                    for (t = 0, n = w.length; t < n; t++) this.skinIndices.push(w[t].clone());
                    var x = e.lineDistances;
                    for (t = 0, n = x.length; t < n; t++) this.lineDistances.push(x[t]);
                    var T = e.boundingBox;
                    null !== T && (this.boundingBox = T.clone());
                    var S = e.boundingSphere;
                    return null !== S && (this.boundingSphere = S.clone()), this.elementsNeedUpdate = e.elementsNeedUpdate, this.verticesNeedUpdate = e.verticesNeedUpdate, this.uvsNeedUpdate = e.uvsNeedUpdate, this.normalsNeedUpdate = e.normalsNeedUpdate, this.colorsNeedUpdate = e.colorsNeedUpdate, this.lineDistancesNeedUpdate = e.lineDistancesNeedUpdate, this.groupsNeedUpdate = e.groupsNeedUpdate, this
                },
                dispose: function () {
                    this.dispatchEvent({
                        type: "dispose"
                    })
                }
            });
            class eo extends Qr {
                constructor(e, t, n, i, r, o) {
                    super(), this.type = "BoxGeometry", this.parameters = {
                        width: e,
                        height: t,
                        depth: n,
                        widthSegments: i,
                        heightSegments: r,
                        depthSegments: o
                    }, this.fromBufferGeometry(new to(e, t, n, i, r, o)), this.mergeVertices()
                }
            }
            class to extends Pr {
                constructor(e, t, n, i, r, o) {
                    super(), this.type = "BoxBufferGeometry", this.parameters = {
                        width: e,
                        height: t,
                        depth: n,
                        widthSegments: i,
                        heightSegments: r,
                        depthSegments: o
                    };
                    var a = this;
                    e = e || 1, t = t || 1, n = n || 1, i = Math.floor(i) || 1, r = Math.floor(r) || 1, o = Math.floor(o) || 1;
                    var s = [],
                        l = [],
                        c = [],
                        u = [],
                        h = 0,
                        d = 0;

                    function p(e, t, n, i, r, o, p, f, m, v, g) {
                        var y, _, b = o / m,
                            w = p / v,
                            x = o / 2,
                            T = p / 2,
                            S = f / 2,
                            M = m + 1,
                            E = v + 1,
                            A = 0,
                            P = 0,
                            C = new Nn;
                        for (_ = 0; _ < E; _++) {
                            var L = _ * w - T;
                            for (y = 0; y < M; y++) {
                                var O = y * b - x;
                                C[e] = O * i, C[t] = L * r, C[n] = S, l.push(C.x, C.y, C.z), C[e] = 0, C[t] = 0, C[n] = f > 0 ? 1 : -1, c.push(C.x, C.y, C.z), u.push(y / m), u.push(1 - _ / v), A += 1
                            }
                        }
                        for (_ = 0; _ < v; _++)
                            for (y = 0; y < m; y++) {
                                var R = h + y + M * _,
                                    k = h + y + M * (_ + 1),
                                    I = h + (y + 1) + M * (_ + 1),
                                    D = h + (y + 1) + M * _;
                                s.push(R, k, D), s.push(k, I, D), P += 6
                            }
                        a.addGroup(d, P, g), d += P, h += A
                    }
                    p("z", "y", "x", -1, -1, n, t, e, o, r, 0), p("z", "y", "x", 1, -1, n, t, -e, o, r, 1), p("x", "z", "y", 1, 1, e, n, t, i, o, 2), p("x", "z", "y", 1, -1, e, n, -t, i, o, 3), p("x", "y", "z", 1, -1, e, t, n, i, r, 4), p("x", "y", "z", -1, -1, e, t, -n, i, r, 5), this.setIndex(s), this.setAttribute("position", new gr(l, 3)), this.setAttribute("normal", new gr(c, 3)), this.setAttribute("uv", new gr(u, 2))
                }
            }

            function no(e) {
                var t = {};
                for (var n in e)
                    for (var i in t[n] = {}, e[n]) {
                        var r = e[n][i];
                        r && (r.isColor || r.isMatrix3 || r.isMatrix4 || r.isVector2 || r.isVector3 || r.isVector4 || r.isTexture) ? t[n][i] = r.clone() : Array.isArray(r) ? t[n][i] = r.slice() : t[n][i] = r
                    }
                return t
            }

            function io(e) {
                for (var t = {}, n = 0; n < e.length; n++) {
                    var i = no(e[n]);
                    for (var r in i) t[r] = i[r]
                }
                return t
            }
            var ro = {
                clone: no,
                merge: io
            };

            function oo(e) {
                ar.call(this), this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}", this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}", this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.clipping = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.extensions = {
                    derivatives: !1,
                    fragDepth: !1,
                    drawBuffers: !1,
                    shaderTextureLOD: !1
                }, this.defaultAttributeValues = {
                    color: [1, 1, 1],
                    uv: [0, 0],
                    uv2: [0, 0]
                }, this.index0AttributeName = void 0, this.uniformsNeedUpdate = !1, void 0 !== e && (void 0 !== e.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."), this.setValues(e))
            }

            function ao() {
                ci.call(this), this.type = "Camera", this.matrixWorldInverse = new Wn, this.projectionMatrix = new Wn, this.projectionMatrixInverse = new Wn
            }

            function so(e, t, n, i) {
                ao.call(this), this.type = "PerspectiveCamera", this.fov = void 0 !== e ? e : 50, this.zoom = 1, this.near = void 0 !== n ? n : .1, this.far = void 0 !== i ? i : 2e3, this.focus = 10, this.aspect = void 0 !== t ? t : 1, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix()
            }
            oo.prototype = Object.create(ar.prototype), oo.prototype.constructor = oo, oo.prototype.isShaderMaterial = !0, oo.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.fragmentShader = e.fragmentShader, this.vertexShader = e.vertexShader, this.uniforms = no(e.uniforms), this.defines = Object.assign({}, e.defines), this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.lights = e.lights, this.clipping = e.clipping, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this.extensions = e.extensions, this
            }, oo.prototype.toJSON = function (e) {
                var t = ar.prototype.toJSON.call(this, e);
                for (var n in t.uniforms = {}, this.uniforms) {
                    var i = this.uniforms[n].value;
                    i && i.isTexture ? t.uniforms[n] = {
                        type: "t",
                        value: i.toJSON(e).uuid
                    } : i && i.isColor ? t.uniforms[n] = {
                        type: "c",
                        value: i.getHex()
                    } : i && i.isVector2 ? t.uniforms[n] = {
                        type: "v2",
                        value: i.toArray()
                    } : i && i.isVector3 ? t.uniforms[n] = {
                        type: "v3",
                        value: i.toArray()
                    } : i && i.isVector4 ? t.uniforms[n] = {
                        type: "v4",
                        value: i.toArray()
                    } : i && i.isMatrix3 ? t.uniforms[n] = {
                        type: "m3",
                        value: i.toArray()
                    } : i && i.isMatrix4 ? t.uniforms[n] = {
                        type: "m4",
                        value: i.toArray()
                    } : t.uniforms[n] = {
                        value: i
                    }
                }
                Object.keys(this.defines).length > 0 && (t.defines = this.defines), t.vertexShader = this.vertexShader, t.fragmentShader = this.fragmentShader;
                var r = {};
                for (var o in this.extensions) !0 === this.extensions[o] && (r[o] = !0);
                return Object.keys(r).length > 0 && (t.extensions = r), t
            }, ao.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: ao,
                isCamera: !0,
                copy: function (e, t) {
                    return ci.prototype.copy.call(this, e, t), this.matrixWorldInverse.copy(e.matrixWorldInverse), this.projectionMatrix.copy(e.projectionMatrix), this.projectionMatrixInverse.copy(e.projectionMatrixInverse), this
                },
                getWorldDirection: function (e) {
                    void 0 === e && (console.warn("THREE.Camera: .getWorldDirection() target is now required"), e = new Nn), this.updateMatrixWorld(!0);
                    var t = this.matrixWorld.elements;
                    return e.set(-t[8], -t[9], -t[10]).normalize()
                },
                updateMatrixWorld: function (e) {
                    ci.prototype.updateMatrixWorld.call(this, e), this.matrixWorldInverse.getInverse(this.matrixWorld)
                },
                updateWorldMatrix: function (e, t) {
                    ci.prototype.updateWorldMatrix.call(this, e, t), this.matrixWorldInverse.getInverse(this.matrixWorld)
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                }
            }), so.prototype = Object.assign(Object.create(ao.prototype), {
                constructor: so,
                isPerspectiveCamera: !0,
                copy: function (e, t) {
                    return ao.prototype.copy.call(this, e, t), this.fov = e.fov, this.zoom = e.zoom, this.near = e.near, this.far = e.far, this.focus = e.focus, this.aspect = e.aspect, this.view = null === e.view ? null : Object.assign({}, e.view), this.filmGauge = e.filmGauge, this.filmOffset = e.filmOffset, this
                },
                setFocalLength: function (e) {
                    var t = .5 * this.getFilmHeight() / e;
                    this.fov = 2 * Mn.RAD2DEG * Math.atan(t), this.updateProjectionMatrix()
                },
                getFocalLength: function () {
                    var e = Math.tan(.5 * Mn.DEG2RAD * this.fov);
                    return .5 * this.getFilmHeight() / e
                },
                getEffectiveFOV: function () {
                    return 2 * Mn.RAD2DEG * Math.atan(Math.tan(.5 * Mn.DEG2RAD * this.fov) / this.zoom)
                },
                getFilmWidth: function () {
                    return this.filmGauge * Math.min(this.aspect, 1)
                },
                getFilmHeight: function () {
                    return this.filmGauge / Math.max(this.aspect, 1)
                },
                setViewOffset: function (e, t, n, i, r, o) {
                    this.aspect = e / t, null === this.view && (this.view = {
                        enabled: !0,
                        fullWidth: 1,
                        fullHeight: 1,
                        offsetX: 0,
                        offsetY: 0,
                        width: 1,
                        height: 1
                    }), this.view.enabled = !0, this.view.fullWidth = e, this.view.fullHeight = t, this.view.offsetX = n, this.view.offsetY = i, this.view.width = r, this.view.height = o, this.updateProjectionMatrix()
                },
                clearViewOffset: function () {
                    null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix()
                },
                updateProjectionMatrix: function () {
                    var e = this.near,
                        t = e * Math.tan(.5 * Mn.DEG2RAD * this.fov) / this.zoom,
                        n = 2 * t,
                        i = this.aspect * n,
                        r = -.5 * i,
                        o = this.view;
                    if (null !== this.view && this.view.enabled) {
                        var a = o.fullWidth,
                            s = o.fullHeight;
                        r += o.offsetX * i / a, t -= o.offsetY * n / s, i *= o.width / a, n *= o.height / s
                    }
                    var l = this.filmOffset;
                    0 !== l && (r += e * l / this.getFilmWidth()), this.projectionMatrix.makePerspective(r, r + i, t, t - n, e, this.far), this.projectionMatrixInverse.getInverse(this.projectionMatrix)
                },
                toJSON: function (e) {
                    var t = ci.prototype.toJSON.call(this, e);
                    return t.object.fov = this.fov, t.object.zoom = this.zoom, t.object.near = this.near, t.object.far = this.far, t.object.focus = this.focus, t.object.aspect = this.aspect, null !== this.view && (t.object.view = Object.assign({}, this.view)), t.object.filmGauge = this.filmGauge, t.object.filmOffset = this.filmOffset, t
                }
            });

            function lo(e, t, n, i) {
                ci.call(this), this.type = "CubeCamera";
                var r = new so(90, 1, e, t);
                r.up.set(0, -1, 0), r.lookAt(new Nn(1, 0, 0)), this.add(r);
                var o = new so(90, 1, e, t);
                o.up.set(0, -1, 0), o.lookAt(new Nn(-1, 0, 0)), this.add(o);
                var a = new so(90, 1, e, t);
                a.up.set(0, 0, 1), a.lookAt(new Nn(0, 1, 0)), this.add(a);
                var s = new so(90, 1, e, t);
                s.up.set(0, 0, -1), s.lookAt(new Nn(0, -1, 0)), this.add(s);
                var l = new so(90, 1, e, t);
                l.up.set(0, -1, 0), l.lookAt(new Nn(0, 0, 1)), this.add(l);
                var c = new so(90, 1, e, t);
                c.up.set(0, -1, 0), c.lookAt(new Nn(0, 0, -1)), this.add(c), i = i || {
                    format: ze,
                    magFilter: Me,
                    minFilter: Me
                }, this.renderTarget = new co(n, i), this.renderTarget.texture.name = "CubeCamera", this.update = function (e, t) {
                    null === this.parent && this.updateMatrixWorld();
                    var n = e.getRenderTarget(),
                        i = this.renderTarget,
                        u = i.texture.generateMipmaps;
                    i.texture.generateMipmaps = !1, e.setRenderTarget(i, 0), e.render(t, r), e.setRenderTarget(i, 1), e.render(t, o), e.setRenderTarget(i, 2), e.render(t, a), e.setRenderTarget(i, 3), e.render(t, s), e.setRenderTarget(i, 4), e.render(t, l), i.texture.generateMipmaps = u, e.setRenderTarget(i, 5), e.render(t, c), e.setRenderTarget(n)
                }, this.clear = function (e, t, n, i) {
                    for (var r = e.getRenderTarget(), o = this.renderTarget, a = 0; a < 6; a++) e.setRenderTarget(o, a), e.clear(t, n, i);
                    e.setRenderTarget(r)
                }
            }

            function co(e, t, n) {
                Number.isInteger(t) && (console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"), t = n), Rn.call(this, e, e, t)
            }

            function uo(e, t, n, i, r, o, a, s, l, c, u, h) {
                Ln.call(this, null, o, a, s, l, c, i, r, u, h), this.image = {
                    data: e || null,
                    width: t || 1,
                    height: n || 1
                }, this.magFilter = void 0 !== l ? l : be, this.minFilter = void 0 !== c ? c : be, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1, this.needsUpdate = !0
            }
            lo.prototype = Object.create(ci.prototype), lo.prototype.constructor = lo, co.prototype = Object.create(Rn.prototype), co.prototype.constructor = co, co.prototype.isWebGLCubeRenderTarget = !0, co.prototype.fromEquirectangularTexture = function (e, t) {
                this.texture.type = t.type, this.texture.format = t.format, this.texture.encoding = t.encoding;
                var n = new ui,
                    i = {
                        uniforms: {
                            tEquirect: {
                                value: null
                            }
                        },
                        vertexShader: ["varying vec3 vWorldDirection;", "vec3 transformDirection( in vec3 dir, in mat4 matrix ) {", "\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );", "}", "void main() {", "\tvWorldDirection = transformDirection( position, modelMatrix );", "\t#include <begin_vertex>", "\t#include <project_vertex>", "}"].join("\n"),
                        fragmentShader: ["uniform sampler2D tEquirect;", "varying vec3 vWorldDirection;", "#define RECIPROCAL_PI 0.31830988618", "#define RECIPROCAL_PI2 0.15915494", "void main() {", "\tvec3 direction = normalize( vWorldDirection );", "\tvec2 sampleUV;", "\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;", "\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;", "\tgl_FragColor = texture2D( tEquirect, sampleUV );", "}"].join("\n")
                    },
                    r = new oo({
                        type: "CubemapFromEquirect",
                        uniforms: no(i.uniforms),
                        vertexShader: i.vertexShader,
                        fragmentShader: i.fragmentShader,
                        side: g,
                        blending: S
                    });
                r.uniforms.tEquirect.value = t;
                var o = new qr(new to(5, 5, 5), r);
                n.add(o);
                var a = new lo(1, 10, 1);
                return a.renderTarget = this, a.renderTarget.texture.name = "CubeCameraTexture", a.update(e, n), o.geometry.dispose(), o.material.dispose(), this
            }, uo.prototype = Object.create(Ln.prototype), uo.prototype.constructor = uo, uo.prototype.isDataTexture = !0;
            var ho = new Ai,
                po = new Nn;

            function fo(e, t, n, i, r, o) {
                this.planes = [void 0 !== e ? e : new ji, void 0 !== t ? t : new ji, void 0 !== n ? n : new ji, void 0 !== i ? i : new ji, void 0 !== r ? r : new ji, void 0 !== o ? o : new ji]
            }
            Object.assign(fo.prototype, {
                set: function (e, t, n, i, r, o) {
                    var a = this.planes;
                    return a[0].copy(e), a[1].copy(t), a[2].copy(n), a[3].copy(i), a[4].copy(r), a[5].copy(o), this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    for (var t = this.planes, n = 0; n < 6; n++) t[n].copy(e.planes[n]);
                    return this
                },
                setFromProjectionMatrix: function (e) {
                    var t = this.planes,
                        n = e.elements,
                        i = n[0],
                        r = n[1],
                        o = n[2],
                        a = n[3],
                        s = n[4],
                        l = n[5],
                        c = n[6],
                        u = n[7],
                        h = n[8],
                        d = n[9],
                        p = n[10],
                        f = n[11],
                        m = n[12],
                        v = n[13],
                        g = n[14],
                        y = n[15];
                    return t[0].setComponents(a - i, u - s, f - h, y - m).normalize(), t[1].setComponents(a + i, u + s, f + h, y + m).normalize(), t[2].setComponents(a + r, u + l, f + d, y + v).normalize(), t[3].setComponents(a - r, u - l, f - d, y - v).normalize(), t[4].setComponents(a - o, u - c, f - p, y - g).normalize(), t[5].setComponents(a + o, u + c, f + p, y + g).normalize(), this
                },
                intersectsObject: function (e) {
                    var t = e.geometry;
                    return null === t.boundingSphere && t.computeBoundingSphere(), ho.copy(t.boundingSphere).applyMatrix4(e.matrixWorld), this.intersectsSphere(ho)
                },
                intersectsSprite: function (e) {
                    return ho.center.set(0, 0, 0), ho.radius = .7071067811865476, ho.applyMatrix4(e.matrixWorld), this.intersectsSphere(ho)
                },
                intersectsSphere: function (e) {
                    for (var t = this.planes, n = e.center, i = -e.radius, r = 0; r < 6; r++) {
                        if (t[r].distanceToPoint(n) < i) return !1
                    }
                    return !0
                },
                intersectsBox: function (e) {
                    for (var t = this.planes, n = 0; n < 6; n++) {
                        var i = t[n];
                        if (po.x = i.normal.x > 0 ? e.max.x : e.min.x, po.y = i.normal.y > 0 ? e.max.y : e.min.y, po.z = i.normal.z > 0 ? e.max.z : e.min.z, i.distanceToPoint(po) < 0) return !1
                    }
                    return !0
                },
                containsPoint: function (e) {
                    for (var t = this.planes, n = 0; n < 6; n++)
                        if (t[n].distanceToPoint(e) < 0) return !1;
                    return !0
                }
            });
            var mo = {
                common: {
                    diffuse: {
                        value: new er(15658734)
                    },
                    opacity: {
                        value: 1
                    },
                    map: {
                        value: null
                    },
                    uvTransform: {
                        value: new An
                    },
                    uv2Transform: {
                        value: new An
                    },
                    alphaMap: {
                        value: null
                    }
                },
                specularmap: {
                    specularMap: {
                        value: null
                    }
                },
                envmap: {
                    envMap: {
                        value: null
                    },
                    flipEnvMap: {
                        value: -1
                    },
                    reflectivity: {
                        value: 1
                    },
                    refractionRatio: {
                        value: .98
                    },
                    maxMipLevel: {
                        value: 0
                    }
                },
                aomap: {
                    aoMap: {
                        value: null
                    },
                    aoMapIntensity: {
                        value: 1
                    }
                },
                lightmap: {
                    lightMap: {
                        value: null
                    },
                    lightMapIntensity: {
                        value: 1
                    }
                },
                emissivemap: {
                    emissiveMap: {
                        value: null
                    }
                },
                bumpmap: {
                    bumpMap: {
                        value: null
                    },
                    bumpScale: {
                        value: 1
                    }
                },
                normalmap: {
                    normalMap: {
                        value: null
                    },
                    normalScale: {
                        value: new En(1, 1)
                    }
                },
                displacementmap: {
                    displacementMap: {
                        value: null
                    },
                    displacementScale: {
                        value: 1
                    },
                    displacementBias: {
                        value: 0
                    }
                },
                roughnessmap: {
                    roughnessMap: {
                        value: null
                    }
                },
                metalnessmap: {
                    metalnessMap: {
                        value: null
                    }
                },
                gradientmap: {
                    gradientMap: {
                        value: null
                    }
                },
                fog: {
                    fogDensity: {
                        value: 25e-5
                    },
                    fogNear: {
                        value: 1
                    },
                    fogFar: {
                        value: 2e3
                    },
                    fogColor: {
                        value: new er(16777215)
                    }
                },
                lights: {
                    ambientLightColor: {
                        value: []
                    },
                    lightProbe: {
                        value: []
                    },
                    directionalLights: {
                        value: [],
                        properties: {
                            direction: {},
                            color: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    directionalShadowMap: {
                        value: []
                    },
                    directionalShadowMatrix: {
                        value: []
                    },
                    spotLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            direction: {},
                            distance: {},
                            coneCos: {},
                            penumbraCos: {},
                            decay: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    spotShadowMap: {
                        value: []
                    },
                    spotShadowMatrix: {
                        value: []
                    },
                    pointLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            decay: {},
                            distance: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {},
                            shadowCameraNear: {},
                            shadowCameraFar: {}
                        }
                    },
                    pointShadowMap: {
                        value: []
                    },
                    pointShadowMatrix: {
                        value: []
                    },
                    hemisphereLights: {
                        value: [],
                        properties: {
                            direction: {},
                            skyColor: {},
                            groundColor: {}
                        }
                    },
                    rectAreaLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            width: {},
                            height: {}
                        }
                    }
                },
                points: {
                    diffuse: {
                        value: new er(15658734)
                    },
                    opacity: {
                        value: 1
                    },
                    size: {
                        value: 1
                    },
                    scale: {
                        value: 1
                    },
                    map: {
                        value: null
                    },
                    alphaMap: {
                        value: null
                    },
                    uvTransform: {
                        value: new An
                    }
                },
                sprite: {
                    diffuse: {
                        value: new er(15658734)
                    },
                    opacity: {
                        value: 1
                    },
                    center: {
                        value: new En(.5, .5)
                    },
                    rotation: {
                        value: 0
                    },
                    map: {
                        value: null
                    },
                    alphaMap: {
                        value: null
                    },
                    uvTransform: {
                        value: new An
                    }
                }
            };

            function vo() {
                var e = null,
                    t = !1,
                    n = null;

                function i(r, o) {
                    !1 !== t && (n(r, o), e.requestAnimationFrame(i))
                }
                return {
                    start: function () {
                        !0 !== t && null !== n && (e.requestAnimationFrame(i), t = !0)
                    },
                    stop: function () {
                        t = !1
                    },
                    setAnimationLoop: function (e) {
                        n = e
                    },
                    setContext: function (t) {
                        e = t
                    }
                }
            }

            function go(e, t) {
                var n = t.isWebGL2,
                    i = new WeakMap;
                return {
                    get: function (e) {
                        return e.isInterleavedBufferAttribute && (e = e.data), i.get(e)
                    },
                    remove: function (t) {
                        t.isInterleavedBufferAttribute && (t = t.data);
                        var n = i.get(t);
                        n && (e.deleteBuffer(n.buffer), i.delete(t))
                    },
                    update: function (t, r) {
                        t.isInterleavedBufferAttribute && (t = t.data);
                        var o = i.get(t);
                        void 0 === o ? i.set(t, function (t, n) {
                            var i = t.array,
                                r = t.usage,
                                o = e.createBuffer();
                            e.bindBuffer(n, o), e.bufferData(n, i, r), t.onUploadCallback();
                            var a = 5126;
                            return i instanceof Float32Array ? a = 5126 : i instanceof Float64Array ? console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.") : i instanceof Uint16Array ? a = 5123 : i instanceof Int16Array ? a = 5122 : i instanceof Uint32Array ? a = 5125 : i instanceof Int32Array ? a = 5124 : i instanceof Int8Array ? a = 5120 : i instanceof Uint8Array && (a = 5121), {
                                buffer: o,
                                type: a,
                                bytesPerElement: i.BYTES_PER_ELEMENT,
                                version: t.version
                            }
                        }(t, r)) : o.version < t.version && (! function (t, i, r) {
                            var o = i.array,
                                a = i.updateRange;
                            e.bindBuffer(r, t), -1 === a.count ? e.bufferSubData(r, 0, o) : (n ? e.bufferSubData(r, a.offset * o.BYTES_PER_ELEMENT, o, a.offset, a.count) : e.bufferSubData(r, a.offset * o.BYTES_PER_ELEMENT, o.subarray(a.offset, a.offset + a.count)), a.count = -1)
                        }(o.buffer, t, r), o.version = t.version)
                    }
                }
            }

            function yo(e, t, n, i) {
                Qr.call(this), this.type = "PlaneGeometry", this.parameters = {
                    width: e,
                    height: t,
                    widthSegments: n,
                    heightSegments: i
                }, this.fromBufferGeometry(new _o(e, t, n, i)), this.mergeVertices()
            }

            function _o(e, t, n, i) {
                Pr.call(this), this.type = "PlaneBufferGeometry", this.parameters = {
                    width: e,
                    height: t,
                    widthSegments: n,
                    heightSegments: i
                };
                var r, o, a = (e = e || 1) / 2,
                    s = (t = t || 1) / 2,
                    l = Math.floor(n) || 1,
                    c = Math.floor(i) || 1,
                    u = l + 1,
                    h = c + 1,
                    d = e / l,
                    p = t / c,
                    f = [],
                    m = [],
                    v = [],
                    g = [];
                for (o = 0; o < h; o++) {
                    var y = o * p - s;
                    for (r = 0; r < u; r++) {
                        var _ = r * d - a;
                        m.push(_, -y, 0), v.push(0, 0, 1), g.push(r / l), g.push(1 - o / c)
                    }
                }
                for (o = 0; o < c; o++)
                    for (r = 0; r < l; r++) {
                        var b = r + u * o,
                            w = r + u * (o + 1),
                            x = r + 1 + u * (o + 1),
                            T = r + 1 + u * o;
                        f.push(b, w, T), f.push(w, x, T)
                    }
                this.setIndex(f), this.setAttribute("position", new gr(m, 3)), this.setAttribute("normal", new gr(v, 3)), this.setAttribute("uv", new gr(g, 2))
            }
            yo.prototype = Object.create(Qr.prototype), yo.prototype.constructor = yo, _o.prototype = Object.create(Pr.prototype), _o.prototype.constructor = _o;
            var bo = {
                    alphamap_fragment: "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",
                    alphamap_pars_fragment: "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
                    alphatest_fragment: "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",
                    aomap_fragment: "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",
                    aomap_pars_fragment: "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
                    begin_vertex: "vec3 transformed = vec3( position );",
                    beginnormal_vertex: "vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",
                    bsdfs: "vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",
                    bumpmap_pars_fragment: "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
                    clipping_planes_fragment: "#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
                    clipping_planes_pars_fragment: "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",
                    clipping_planes_pars_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",
                    clipping_planes_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",
                    color_fragment: "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
                    color_pars_fragment: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
                    color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
                    color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
                    common: "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",
                    cube_uv_reflection_fragment: "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",
                    defaultnormal_vertex: "vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",
                    displacementmap_pars_vertex: "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",
                    displacementmap_vertex: "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",
                    emissivemap_fragment: "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",
                    emissivemap_pars_fragment: "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",
                    encodings_fragment: "gl_FragColor = linearToOutputTexel( gl_FragColor );",
                    encodings_pars_fragment: "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",
                    envmap_fragment: "#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
                    envmap_common_pars_fragment: "#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",
                    envmap_pars_fragment: "#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
                    envmap_pars_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",
                    envmap_physical_pars_fragment: "#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",
                    envmap_vertex: "#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
                    fog_vertex: "#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",
                    fog_pars_vertex: "#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",
                    fog_fragment: "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",
                    fog_pars_fragment: "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
                    gradientmap_pars_fragment: "#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",
                    lightmap_fragment: "#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",
                    lightmap_pars_fragment: "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
                    lights_lambert_vertex: "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",
                    lights_pars_begin: "uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",
                    lights_toon_fragment: "ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",
                    lights_toon_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",
                    lights_phong_fragment: "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",
                    lights_phong_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",
                    lights_physical_fragment: "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",
                    lights_physical_pars_fragment: "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
                    lights_fragment_begin: "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",
                    lights_fragment_maps: "#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",
                    lights_fragment_end: "#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",
                    logdepthbuf_fragment: "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
                    logdepthbuf_pars_fragment: "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",
                    logdepthbuf_pars_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",
                    logdepthbuf_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",
                    map_fragment: "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",
                    map_pars_fragment: "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",
                    map_particle_fragment: "#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",
                    map_particle_pars_fragment: "#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
                    metalnessmap_fragment: "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",
                    metalnessmap_pars_fragment: "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
                    morphnormal_vertex: "#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",
                    morphtarget_pars_vertex: "#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
                    morphtarget_vertex: "#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",
                    normal_fragment_begin: "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",
                    normal_fragment_maps: "#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",
                    normalmap_pars_fragment: "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",
                    clearcoat_normal_fragment_begin: "#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",
                    clearcoat_normal_fragment_maps: "#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",
                    clearcoat_normalmap_pars_fragment: "#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",
                    packing: "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
                    premultiplied_alpha_fragment: "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",
                    project_vertex: "vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",
                    dithering_fragment: "#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",
                    dithering_pars_fragment: "#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",
                    roughnessmap_fragment: "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",
                    roughnessmap_pars_fragment: "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
                    shadowmap_pars_fragment: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
                    shadowmap_pars_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
                    shadowmap_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",
                    shadowmask_pars_fragment: "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",
                    skinbase_vertex: "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
                    skinning_pars_vertex: "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",
                    skinning_vertex: "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",
                    skinnormal_vertex: "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
                    specularmap_fragment: "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
                    specularmap_pars_fragment: "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
                    tonemapping_fragment: "#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",
                    tonemapping_pars_fragment: "#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",
                    uv_pars_fragment: "#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",
                    uv_pars_vertex: "#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",
                    uv_vertex: "#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",
                    uv2_pars_fragment: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
                    uv2_pars_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",
                    uv2_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",
                    worldpos_vertex: "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",
                    background_frag: "uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                    background_vert: "varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",
                    cube_frag: "#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                    cube_vert: "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",
                    depth_frag: "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",
                    depth_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",
                    distanceRGBA_frag: "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",
                    distanceRGBA_vert: "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",
                    equirect_frag: "uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                    equirect_vert: "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",
                    linedashed_frag: "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
                    linedashed_vert: "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",
                    meshbasic_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
                    meshbasic_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",
                    meshlambert_frag: "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                    meshlambert_vert: "#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                    meshmatcap_frag: "#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
                    meshmatcap_vert: "#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",
                    meshtoon_frag: "#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                    meshtoon_vert: "#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                    meshphong_frag: "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                    meshphong_vert: "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                    meshphysical_frag: "#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                    meshphysical_vert: "#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                    normal_frag: "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",
                    normal_vert: "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",
                    points_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
                    points_vert: "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",
                    shadow_frag: "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                    shadow_vert: "#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                    sprite_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                    sprite_vert: "uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"
                },
                wo = {
                    basic: {
                        uniforms: io([mo.common, mo.specularmap, mo.envmap, mo.aomap, mo.lightmap, mo.fog]),
                        vertexShader: bo.meshbasic_vert,
                        fragmentShader: bo.meshbasic_frag
                    },
                    lambert: {
                        uniforms: io([mo.common, mo.specularmap, mo.envmap, mo.aomap, mo.lightmap, mo.emissivemap, mo.fog, mo.lights, {
                            emissive: {
                                value: new er(0)
                            }
                        }]),
                        vertexShader: bo.meshlambert_vert,
                        fragmentShader: bo.meshlambert_frag
                    },
                    phong: {
                        uniforms: io([mo.common, mo.specularmap, mo.envmap, mo.aomap, mo.lightmap, mo.emissivemap, mo.bumpmap, mo.normalmap, mo.displacementmap, mo.fog, mo.lights, {
                            emissive: {
                                value: new er(0)
                            },
                            specular: {
                                value: new er(1118481)
                            },
                            shininess: {
                                value: 30
                            }
                        }]),
                        vertexShader: bo.meshphong_vert,
                        fragmentShader: bo.meshphong_frag
                    },
                    standard: {
                        uniforms: io([mo.common, mo.envmap, mo.aomap, mo.lightmap, mo.emissivemap, mo.bumpmap, mo.normalmap, mo.displacementmap, mo.roughnessmap, mo.metalnessmap, mo.fog, mo.lights, {
                            emissive: {
                                value: new er(0)
                            },
                            roughness: {
                                value: .5
                            },
                            metalness: {
                                value: .5
                            },
                            envMapIntensity: {
                                value: 1
                            }
                        }]),
                        vertexShader: bo.meshphysical_vert,
                        fragmentShader: bo.meshphysical_frag
                    },
                    toon: {
                        uniforms: io([mo.common, mo.specularmap, mo.aomap, mo.lightmap, mo.emissivemap, mo.bumpmap, mo.normalmap, mo.displacementmap, mo.gradientmap, mo.fog, mo.lights, {
                            emissive: {
                                value: new er(0)
                            },
                            specular: {
                                value: new er(1118481)
                            },
                            shininess: {
                                value: 30
                            }
                        }]),
                        vertexShader: bo.meshtoon_vert,
                        fragmentShader: bo.meshtoon_frag
                    },
                    matcap: {
                        uniforms: io([mo.common, mo.bumpmap, mo.normalmap, mo.displacementmap, mo.fog, {
                            matcap: {
                                value: null
                            }
                        }]),
                        vertexShader: bo.meshmatcap_vert,
                        fragmentShader: bo.meshmatcap_frag
                    },
                    points: {
                        uniforms: io([mo.points, mo.fog]),
                        vertexShader: bo.points_vert,
                        fragmentShader: bo.points_frag
                    },
                    dashed: {
                        uniforms: io([mo.common, mo.fog, {
                            scale: {
                                value: 1
                            },
                            dashSize: {
                                value: 1
                            },
                            totalSize: {
                                value: 2
                            }
                        }]),
                        vertexShader: bo.linedashed_vert,
                        fragmentShader: bo.linedashed_frag
                    },
                    depth: {
                        uniforms: io([mo.common, mo.displacementmap]),
                        vertexShader: bo.depth_vert,
                        fragmentShader: bo.depth_frag
                    },
                    normal: {
                        uniforms: io([mo.common, mo.bumpmap, mo.normalmap, mo.displacementmap, {
                            opacity: {
                                value: 1
                            }
                        }]),
                        vertexShader: bo.normal_vert,
                        fragmentShader: bo.normal_frag
                    },
                    sprite: {
                        uniforms: io([mo.sprite, mo.fog]),
                        vertexShader: bo.sprite_vert,
                        fragmentShader: bo.sprite_frag
                    },
                    background: {
                        uniforms: {
                            uvTransform: {
                                value: new An
                            },
                            t2D: {
                                value: null
                            }
                        },
                        vertexShader: bo.background_vert,
                        fragmentShader: bo.background_frag
                    },
                    cube: {
                        uniforms: io([mo.envmap, {
                            opacity: {
                                value: 1
                            }
                        }]),
                        vertexShader: bo.cube_vert,
                        fragmentShader: bo.cube_frag
                    },
                    equirect: {
                        uniforms: {
                            tEquirect: {
                                value: null
                            }
                        },
                        vertexShader: bo.equirect_vert,
                        fragmentShader: bo.equirect_frag
                    },
                    distanceRGBA: {
                        uniforms: io([mo.common, mo.displacementmap, {
                            referencePosition: {
                                value: new Nn
                            },
                            nearDistance: {
                                value: 1
                            },
                            farDistance: {
                                value: 1e3
                            }
                        }]),
                        vertexShader: bo.distanceRGBA_vert,
                        fragmentShader: bo.distanceRGBA_frag
                    },
                    shadow: {
                        uniforms: io([mo.lights, mo.fog, {
                            color: {
                                value: new er(0)
                            },
                            opacity: {
                                value: 1
                            }
                        }]),
                        vertexShader: bo.shadow_vert,
                        fragmentShader: bo.shadow_frag
                    }
                };

            function xo(e, t, n, i) {
                var r, o, a = new er(0),
                    s = 0,
                    l = null,
                    c = 0,
                    u = null;

                function h(e, n) {
                    t.buffers.color.setClear(e.r, e.g, e.b, n, i)
                }
                return {
                    getClearColor: function () {
                        return a
                    },
                    setClearColor: function (e, t) {
                        a.set(e), h(a, s = void 0 !== t ? t : 1)
                    },
                    getClearAlpha: function () {
                        return s
                    },
                    setClearAlpha: function (e) {
                        h(a, s = e)
                    },
                    render: function (t, i, d, p) {
                        var f = i.background,
                            m = e.xr,
                            y = m.getSession && m.getSession();
                        if (y && "additive" === y.environmentBlendMode && (f = null), null === f ? h(a, s) : f && f.isColor && (h(f, 1), p = !0), (e.autoClear || p) && e.clear(e.autoClearColor, e.autoClearDepth, e.autoClearStencil), f && (f.isCubeTexture || f.isWebGLCubeRenderTarget || f.mapping === me)) {
                            void 0 === o && ((o = new qr(new to(1, 1, 1), new oo({
                                type: "BackgroundCubeMaterial",
                                uniforms: no(wo.cube.uniforms),
                                vertexShader: wo.cube.vertexShader,
                                fragmentShader: wo.cube.fragmentShader,
                                side: g,
                                depthTest: !1,
                                depthWrite: !1,
                                fog: !1
                            }))).geometry.deleteAttribute("normal"), o.geometry.deleteAttribute("uv"), o.onBeforeRender = function (e, t, n) {
                                this.matrixWorld.copyPosition(n.matrixWorld)
                            }, Object.defineProperty(o.material, "envMap", {
                                get: function () {
                                    return this.uniforms.envMap.value
                                }
                            }), n.update(o));
                            var _ = f.isWebGLCubeRenderTarget ? f.texture : f;
                            o.material.uniforms.envMap.value = _, o.material.uniforms.flipEnvMap.value = _.isCubeTexture ? -1 : 1, l === f && c === _.version && u === e.toneMapping || (o.material.needsUpdate = !0, l = f, c = _.version, u = e.toneMapping), t.unshift(o, o.geometry, o.material, 0, 0, null)
                        } else f && f.isTexture && (void 0 === r && ((r = new qr(new _o(2, 2), new oo({
                            type: "BackgroundMaterial",
                            uniforms: no(wo.background.uniforms),
                            vertexShader: wo.background.vertexShader,
                            fragmentShader: wo.background.fragmentShader,
                            side: v,
                            depthTest: !1,
                            depthWrite: !1,
                            fog: !1
                        }))).geometry.deleteAttribute("normal"), Object.defineProperty(r.material, "map", {
                            get: function () {
                                return this.uniforms.t2D.value
                            }
                        }), n.update(r)), r.material.uniforms.t2D.value = f, !0 === f.matrixAutoUpdate && f.updateMatrix(), r.material.uniforms.uvTransform.value.copy(f.matrix), l === f && c === f.version && u === e.toneMapping || (r.material.needsUpdate = !0, l = f, c = f.version, u = e.toneMapping), t.unshift(r, r.geometry, r.material, 0, 0, null))
                    }
                }
            }

            function To(e, t, n, i) {
                var r, o = i.isWebGL2;
                this.setMode = function (e) {
                    r = e
                }, this.render = function (t, i) {
                    e.drawArrays(r, t, i), n.update(i, r)
                }, this.renderInstances = function (i, a, s, l) {
                    if (0 !== l) {
                        var c, u;
                        if (o) c = e, u = "drawArraysInstanced";
                        else if (u = "drawArraysInstancedANGLE", null === (c = t.get("ANGLE_instanced_arrays"))) return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                        c[u](r, a, s, l), n.update(s, r, l)
                    }
                }
            }

            function So(e, t, n) {
                var i;

                function r(t) {
                    if ("highp" === t) {
                        if (e.getShaderPrecisionFormat(35633, 36338).precision > 0 && e.getShaderPrecisionFormat(35632, 36338).precision > 0) return "highp";
                        t = "mediump"
                    }
                    return "mediump" === t && e.getShaderPrecisionFormat(35633, 36337).precision > 0 && e.getShaderPrecisionFormat(35632, 36337).precision > 0 ? "mediump" : "lowp"
                }
                var o = "undefined" != typeof WebGL2RenderingContext && e instanceof WebGL2RenderingContext || "undefined" != typeof WebGL2ComputeRenderingContext && e instanceof WebGL2ComputeRenderingContext,
                    a = void 0 !== n.precision ? n.precision : "highp",
                    s = r(a);
                s !== a && (console.warn("THREE.WebGLRenderer:", a, "not supported, using", s, "instead."), a = s);
                var l = !0 === n.logarithmicDepthBuffer,
                    c = e.getParameter(34930),
                    u = e.getParameter(35660),
                    h = e.getParameter(3379),
                    d = e.getParameter(34076),
                    p = e.getParameter(34921),
                    f = e.getParameter(36347),
                    m = e.getParameter(36348),
                    v = e.getParameter(36349),
                    g = u > 0,
                    y = o || !!t.get("OES_texture_float");
                return {
                    isWebGL2: o,
                    getMaxAnisotropy: function () {
                        if (void 0 !== i) return i;
                        var n = t.get("EXT_texture_filter_anisotropic");
                        return i = null !== n ? e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
                    },
                    getMaxPrecision: r,
                    precision: a,
                    logarithmicDepthBuffer: l,
                    maxTextures: c,
                    maxVertexTextures: u,
                    maxTextureSize: h,
                    maxCubemapSize: d,
                    maxAttributes: p,
                    maxVertexUniforms: f,
                    maxVaryings: m,
                    maxFragmentUniforms: v,
                    vertexTextures: g,
                    floatFragmentTextures: y,
                    floatVertexTextures: g && y,
                    maxSamples: o ? e.getParameter(36183) : 0
                }
            }

            function Mo() {
                var e = this,
                    t = null,
                    n = 0,
                    i = !1,
                    r = !1,
                    o = new ji,
                    a = new An,
                    s = {
                        value: null,
                        needsUpdate: !1
                    };

                function l() {
                    s.value !== t && (s.value = t, s.needsUpdate = n > 0), e.numPlanes = n, e.numIntersection = 0
                }

                function c(t, n, i, r) {
                    var l = null !== t ? t.length : 0,
                        c = null;
                    if (0 !== l) {
                        if (c = s.value, !0 !== r || null === c) {
                            var u = i + 4 * l,
                                h = n.matrixWorldInverse;
                            a.getNormalMatrix(h), (null === c || c.length < u) && (c = new Float32Array(u));
                            for (var d = 0, p = i; d !== l; ++d, p += 4) o.copy(t[d]).applyMatrix4(h, a), o.normal.toArray(c, p), c[p + 3] = o.constant
                        }
                        s.value = c, s.needsUpdate = !0
                    }
                    return e.numPlanes = l, c
                }
                this.uniform = s, this.numPlanes = 0, this.numIntersection = 0, this.init = function (e, r, o) {
                    var a = 0 !== e.length || r || 0 !== n || i;
                    return i = r, t = c(e, o, 0), n = e.length, a
                }, this.beginShadows = function () {
                    r = !0, c(null)
                }, this.endShadows = function () {
                    r = !1, l()
                }, this.setState = function (e, o, a, u, h, d) {
                    if (!i || null === e || 0 === e.length || r && !a) r ? c(null) : l();
                    else {
                        var p = r ? 0 : n,
                            f = 4 * p,
                            m = h.clippingState || null;
                        s.value = m, m = c(e, u, f, d);
                        for (var v = 0; v !== f; ++v) m[v] = t[v];
                        h.clippingState = m, this.numIntersection = o ? this.numPlanes : 0, this.numPlanes += p
                    }
                }
            }

            function Eo(e) {
                var t = {};
                return {
                    get: function (n) {
                        if (void 0 !== t[n]) return t[n];
                        var i;
                        switch (n) {
                            case "WEBGL_depth_texture":
                                i = e.getExtension("WEBGL_depth_texture") || e.getExtension("MOZ_WEBGL_depth_texture") || e.getExtension("WEBKIT_WEBGL_depth_texture");
                                break;
                            case "EXT_texture_filter_anisotropic":
                                i = e.getExtension("EXT_texture_filter_anisotropic") || e.getExtension("MOZ_EXT_texture_filter_anisotropic") || e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                                break;
                            case "WEBGL_compressed_texture_s3tc":
                                i = e.getExtension("WEBGL_compressed_texture_s3tc") || e.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                                break;
                            case "WEBGL_compressed_texture_pvrtc":
                                i = e.getExtension("WEBGL_compressed_texture_pvrtc") || e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                                break;
                            default:
                                i = e.getExtension(n)
                        }
                        return null === i && console.warn("THREE.WebGLRenderer: " + n + " extension not supported."), t[n] = i, i
                    }
                }
            }

            function Ao(e, t, n) {
                var i = new WeakMap,
                    r = new WeakMap;

                function o(e) {
                    var a = e.target,
                        s = i.get(a);
                    for (var l in null !== s.index && t.remove(s.index), s.attributes) t.remove(s.attributes[l]);
                    a.removeEventListener("dispose", o), i.delete(a);
                    var c = r.get(s);
                    c && (t.remove(c), r.delete(s)), n.memory.geometries--
                }

                function a(e) {
                    var n = [],
                        i = e.index,
                        o = e.attributes.position,
                        a = 0;
                    if (null !== i) {
                        var s = i.array;
                        a = i.version;
                        for (var l = 0, c = s.length; l < c; l += 3) {
                            var u = s[l + 0],
                                h = s[l + 1],
                                d = s[l + 2];
                            n.push(u, h, h, d, d, u)
                        }
                    } else {
                        s = o.array;
                        a = o.version;
                        for (l = 0, c = s.length / 3 - 1; l < c; l += 3) {
                            u = l + 0, h = l + 1, d = l + 2;
                            n.push(u, h, h, d, d, u)
                        }
                    }
                    var p = new(br(n) > 65535 ? vr : fr)(n, 1);
                    p.version = a, t.update(p, 34963);
                    var f = r.get(e);
                    f && t.remove(f), r.set(e, p)
                }
                return {
                    get: function (e, t) {
                        var r = i.get(t);
                        return r || (t.addEventListener("dispose", o), t.isBufferGeometry ? r = t : t.isGeometry && (void 0 === t._bufferGeometry && (t._bufferGeometry = (new Pr).setFromObject(e)), r = t._bufferGeometry), i.set(t, r), n.memory.geometries++, r)
                    },
                    update: function (e) {
                        var n = e.index,
                            i = e.attributes;
                        for (var r in null !== n && t.update(n, 34963), i) t.update(i[r], 34962);
                        var o = e.morphAttributes;
                        for (var r in o)
                            for (var a = o[r], s = 0, l = a.length; s < l; s++) t.update(a[s], 34962)
                    },
                    getWireframeAttribute: function (e) {
                        var t = r.get(e);
                        if (t) {
                            var n = e.index;
                            null !== n && t.version < n.version && a(e)
                        } else a(e);
                        return r.get(e)
                    }
                }
            }

            function Po(e, t, n, i) {
                var r, o, a, s = i.isWebGL2;
                this.setMode = function (e) {
                    r = e
                }, this.setIndex = function (e) {
                    o = e.type, a = e.bytesPerElement
                }, this.render = function (t, i) {
                    e.drawElements(r, i, o, t * a), n.update(i, r)
                }, this.renderInstances = function (i, l, c, u) {
                    if (0 !== u) {
                        var h, d;
                        if (s) h = e, d = "drawElementsInstanced";
                        else if (d = "drawElementsInstancedANGLE", null === (h = t.get("ANGLE_instanced_arrays"))) return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                        h[d](r, c, o, l * a, u), n.update(c, r, u)
                    }
                }
            }

            function Co(e) {
                var t = {
                    frame: 0,
                    calls: 0,
                    triangles: 0,
                    points: 0,
                    lines: 0
                };
                return {
                    memory: {
                        geometries: 0,
                        textures: 0
                    },
                    render: t,
                    programs: null,
                    autoReset: !0,
                    reset: function () {
                        t.frame++, t.calls = 0, t.triangles = 0, t.points = 0, t.lines = 0
                    },
                    update: function (e, n, i) {
                        switch (i = i || 1, t.calls++, n) {
                            case 4:
                                t.triangles += i * (e / 3);
                                break;
                            case 1:
                                t.lines += i * (e / 2);
                                break;
                            case 3:
                                t.lines += i * (e - 1);
                                break;
                            case 2:
                                t.lines += i * e;
                                break;
                            case 0:
                                t.points += i * e;
                                break;
                            default:
                                console.error("THREE.WebGLInfo: Unknown draw mode:", n)
                        }
                    }
                }
            }

            function Lo(e, t) {
                return Math.abs(t[1]) - Math.abs(e[1])
            }

            function Oo(e) {
                var t = {},
                    n = new Float32Array(8);
                return {
                    update: function (i, r, o, a) {
                        var s = i.morphTargetInfluences,
                            l = void 0 === s ? 0 : s.length,
                            c = t[r.id];
                        if (void 0 === c) {
                            c = [];
                            for (var u = 0; u < l; u++) c[u] = [u, 0];
                            t[r.id] = c
                        }
                        var h = o.morphTargets && r.morphAttributes.position,
                            d = o.morphNormals && r.morphAttributes.normal;
                        for (u = 0; u < l; u++) {
                            0 !== (f = c[u])[1] && (h && r.deleteAttribute("morphTarget" + u), d && r.deleteAttribute("morphNormal" + u))
                        }
                        for (u = 0; u < l; u++) {
                            (f = c[u])[0] = u, f[1] = s[u]
                        }
                        c.sort(Lo);
                        var p = 0;
                        for (u = 0; u < 8; u++) {
                            var f;
                            if (f = c[u]) {
                                var m = f[0],
                                    v = f[1];
                                if (v) {
                                    h && r.setAttribute("morphTarget" + u, h[m]), d && r.setAttribute("morphNormal" + u, d[m]), n[u] = v, p += v;
                                    continue
                                }
                            }
                            n[u] = 0
                        }
                        var g = r.morphTargetsRelative ? 1 : 1 - p;
                        a.getUniforms().setValue(e, "morphTargetBaseInfluence", g), a.getUniforms().setValue(e, "morphTargetInfluences", n)
                    }
                }
            }

            function Ro(e, t, n, i) {
                var r = {};
                return {
                    update: function (e) {
                        var o = i.render.frame,
                            a = e.geometry,
                            s = t.get(e, a);
                        return r[s.id] !== o && (a.isGeometry && s.updateFromObject(e), t.update(s), r[s.id] = o), e.isInstancedMesh && n.update(e.instanceMatrix, 34962), s
                    },
                    dispose: function () {
                        r = {}
                    }
                }
            }

            function ko(e, t, n, i, r, o, a, s, l, c) {
                e = void 0 !== e ? e : [], t = void 0 !== t ? t : ue, a = void 0 !== a ? a : ze, Ln.call(this, e, t, n, i, r, o, a, s, l, c), this.flipY = !1
            }

            function Io(e, t, n, i) {
                Ln.call(this, null), this.image = {
                    data: e || null,
                    width: t || 1,
                    height: n || 1,
                    depth: i || 1
                }, this.magFilter = be, this.minFilter = be, this.wrapR = ye, this.generateMipmaps = !1, this.flipY = !1, this.needsUpdate = !0
            }

            function Do(e, t, n, i) {
                Ln.call(this, null), this.image = {
                    data: e || null,
                    width: t || 1,
                    height: n || 1,
                    depth: i || 1
                }, this.magFilter = be, this.minFilter = be, this.wrapR = ye, this.generateMipmaps = !1, this.flipY = !1, this.needsUpdate = !0
            }
            wo.physical = {
                uniforms: io([wo.standard.uniforms, {
                    transparency: {
                        value: 0
                    },
                    clearcoat: {
                        value: 0
                    },
                    clearcoatRoughness: {
                        value: 0
                    },
                    sheen: {
                        value: new er(0)
                    },
                    clearcoatNormalScale: {
                        value: new En(1, 1)
                    },
                    clearcoatNormalMap: {
                        value: null
                    }
                }]),
                vertexShader: bo.meshphysical_vert,
                fragmentShader: bo.meshphysical_frag
            }, ko.prototype = Object.create(Ln.prototype), ko.prototype.constructor = ko, ko.prototype.isCubeTexture = !0, Object.defineProperty(ko.prototype, "images", {
                get: function () {
                    return this.image
                },
                set: function (e) {
                    this.image = e
                }
            }), Io.prototype = Object.create(Ln.prototype), Io.prototype.constructor = Io, Io.prototype.isDataTexture2DArray = !0, Do.prototype = Object.create(Ln.prototype), Do.prototype.constructor = Do, Do.prototype.isDataTexture3D = !0;
            var Bo = new Ln,
                No = new Io,
                Go = new Do,
                jo = new ko,
                Ho = [],
                Fo = [],
                Uo = new Float32Array(16),
                zo = new Float32Array(9),
                Vo = new Float32Array(4);

            function Wo(e, t, n) {
                var i = e[0];
                if (i <= 0 || i > 0) return e;
                var r = t * n,
                    o = Ho[r];
                if (void 0 === o && (o = new Float32Array(r), Ho[r] = o), 0 !== t) {
                    i.toArray(o, 0);
                    for (var a = 1, s = 0; a !== t; ++a) s += n, e[a].toArray(o, s)
                }
                return o
            }

            function qo(e, t) {
                if (e.length !== t.length) return !1;
                for (var n = 0, i = e.length; n < i; n++)
                    if (e[n] !== t[n]) return !1;
                return !0
            }

            function Xo(e, t) {
                for (var n = 0, i = t.length; n < i; n++) e[n] = t[n]
            }

            function Yo(e, t) {
                var n = Fo[t];
                void 0 === n && (n = new Int32Array(t), Fo[t] = n);
                for (var i = 0; i !== t; ++i) n[i] = e.allocateTextureUnit();
                return n
            }

            function Jo(e, t) {
                var n = this.cache;
                n[0] !== t && (e.uniform1f(this.addr, t), n[0] = t)
            }

            function Ko(e, t) {
                var n = this.cache;
                if (void 0 !== t.x) n[0] === t.x && n[1] === t.y || (e.uniform2f(this.addr, t.x, t.y), n[0] = t.x, n[1] = t.y);
                else {
                    if (qo(n, t)) return;
                    e.uniform2fv(this.addr, t), Xo(n, t)
                }
            }

            function Zo(e, t) {
                var n = this.cache;
                if (void 0 !== t.x) n[0] === t.x && n[1] === t.y && n[2] === t.z || (e.uniform3f(this.addr, t.x, t.y, t.z), n[0] = t.x, n[1] = t.y, n[2] = t.z);
                else if (void 0 !== t.r) n[0] === t.r && n[1] === t.g && n[2] === t.b || (e.uniform3f(this.addr, t.r, t.g, t.b), n[0] = t.r, n[1] = t.g, n[2] = t.b);
                else {
                    if (qo(n, t)) return;
                    e.uniform3fv(this.addr, t), Xo(n, t)
                }
            }

            function $o(e, t) {
                var n = this.cache;
                if (void 0 !== t.x) n[0] === t.x && n[1] === t.y && n[2] === t.z && n[3] === t.w || (e.uniform4f(this.addr, t.x, t.y, t.z, t.w), n[0] = t.x, n[1] = t.y, n[2] = t.z, n[3] = t.w);
                else {
                    if (qo(n, t)) return;
                    e.uniform4fv(this.addr, t), Xo(n, t)
                }
            }

            function Qo(e, t) {
                var n = this.cache,
                    i = t.elements;
                if (void 0 === i) {
                    if (qo(n, t)) return;
                    e.uniformMatrix2fv(this.addr, !1, t), Xo(n, t)
                } else {
                    if (qo(n, i)) return;
                    Vo.set(i), e.uniformMatrix2fv(this.addr, !1, Vo), Xo(n, i)
                }
            }

            function ea(e, t) {
                var n = this.cache,
                    i = t.elements;
                if (void 0 === i) {
                    if (qo(n, t)) return;
                    e.uniformMatrix3fv(this.addr, !1, t), Xo(n, t)
                } else {
                    if (qo(n, i)) return;
                    zo.set(i), e.uniformMatrix3fv(this.addr, !1, zo), Xo(n, i)
                }
            }

            function ta(e, t) {
                var n = this.cache,
                    i = t.elements;
                if (void 0 === i) {
                    if (qo(n, t)) return;
                    e.uniformMatrix4fv(this.addr, !1, t), Xo(n, t)
                } else {
                    if (qo(n, i)) return;
                    Uo.set(i), e.uniformMatrix4fv(this.addr, !1, Uo), Xo(n, i)
                }
            }

            function na(e, t, n) {
                var i = this.cache,
                    r = n.allocateTextureUnit();
                i[0] !== r && (e.uniform1i(this.addr, r), i[0] = r), n.safeSetTexture2D(t || Bo, r)
            }

            function ia(e, t, n) {
                var i = this.cache,
                    r = n.allocateTextureUnit();
                i[0] !== r && (e.uniform1i(this.addr, r), i[0] = r), n.setTexture2DArray(t || No, r)
            }

            function ra(e, t, n) {
                var i = this.cache,
                    r = n.allocateTextureUnit();
                i[0] !== r && (e.uniform1i(this.addr, r), i[0] = r), n.setTexture3D(t || Go, r)
            }

            function oa(e, t, n) {
                var i = this.cache,
                    r = n.allocateTextureUnit();
                i[0] !== r && (e.uniform1i(this.addr, r), i[0] = r), n.safeSetTextureCube(t || jo, r)
            }

            function aa(e, t) {
                var n = this.cache;
                n[0] !== t && (e.uniform1i(this.addr, t), n[0] = t)
            }

            function sa(e, t) {
                var n = this.cache;
                qo(n, t) || (e.uniform2iv(this.addr, t), Xo(n, t))
            }

            function la(e, t) {
                var n = this.cache;
                qo(n, t) || (e.uniform3iv(this.addr, t), Xo(n, t))
            }

            function ca(e, t) {
                var n = this.cache;
                qo(n, t) || (e.uniform4iv(this.addr, t), Xo(n, t))
            }

            function ua(e, t) {
                var n = this.cache;
                n[0] !== t && (e.uniform1ui(this.addr, t), n[0] = t)
            }

            function ha(e, t) {
                e.uniform1fv(this.addr, t)
            }

            function da(e, t) {
                e.uniform1iv(this.addr, t)
            }

            function pa(e, t) {
                e.uniform2iv(this.addr, t)
            }

            function fa(e, t) {
                e.uniform3iv(this.addr, t)
            }

            function ma(e, t) {
                e.uniform4iv(this.addr, t)
            }

            function va(e, t) {
                var n = Wo(t, this.size, 2);
                e.uniform2fv(this.addr, n)
            }

            function ga(e, t) {
                var n = Wo(t, this.size, 3);
                e.uniform3fv(this.addr, n)
            }

            function ya(e, t) {
                var n = Wo(t, this.size, 4);
                e.uniform4fv(this.addr, n)
            }

            function _a(e, t) {
                var n = Wo(t, this.size, 4);
                e.uniformMatrix2fv(this.addr, !1, n)
            }

            function ba(e, t) {
                var n = Wo(t, this.size, 9);
                e.uniformMatrix3fv(this.addr, !1, n)
            }

            function wa(e, t) {
                var n = Wo(t, this.size, 16);
                e.uniformMatrix4fv(this.addr, !1, n)
            }

            function xa(e, t, n) {
                var i = t.length,
                    r = Yo(n, i);
                e.uniform1iv(this.addr, r);
                for (var o = 0; o !== i; ++o) n.safeSetTexture2D(t[o] || Bo, r[o])
            }

            function Ta(e, t, n) {
                var i = t.length,
                    r = Yo(n, i);
                e.uniform1iv(this.addr, r);
                for (var o = 0; o !== i; ++o) n.safeSetTextureCube(t[o] || jo, r[o])
            }

            function Sa(e, t, n) {
                this.id = e, this.addr = n, this.cache = [], this.setValue = function (e) {
                    switch (e) {
                        case 5126:
                            return Jo;
                        case 35664:
                            return Ko;
                        case 35665:
                            return Zo;
                        case 35666:
                            return $o;
                        case 35674:
                            return Qo;
                        case 35675:
                            return ea;
                        case 35676:
                            return ta;
                        case 5124:
                        case 35670:
                            return aa;
                        case 35667:
                        case 35671:
                            return sa;
                        case 35668:
                        case 35672:
                            return la;
                        case 35669:
                        case 35673:
                            return ca;
                        case 5125:
                            return ua;
                        case 35678:
                        case 36198:
                        case 36298:
                        case 36306:
                        case 35682:
                            return na;
                        case 35679:
                        case 36299:
                        case 36307:
                            return ra;
                        case 35680:
                        case 36300:
                        case 36308:
                        case 36293:
                            return oa;
                        case 36289:
                        case 36303:
                        case 36311:
                        case 36292:
                            return ia
                    }
                }(t.type)
            }

            function Ma(e, t, n) {
                this.id = e, this.addr = n, this.cache = [], this.size = t.size, this.setValue = function (e) {
                    switch (e) {
                        case 5126:
                            return ha;
                        case 35664:
                            return va;
                        case 35665:
                            return ga;
                        case 35666:
                            return ya;
                        case 35674:
                            return _a;
                        case 35675:
                            return ba;
                        case 35676:
                            return wa;
                        case 5124:
                        case 35670:
                            return da;
                        case 35667:
                        case 35671:
                            return pa;
                        case 35668:
                        case 35672:
                            return fa;
                        case 35669:
                        case 35673:
                            return ma;
                        case 35678:
                        case 36198:
                        case 36298:
                        case 36306:
                        case 35682:
                            return xa;
                        case 35680:
                        case 36300:
                        case 36308:
                        case 36293:
                            return Ta
                    }
                }(t.type)
            }

            function Ea(e) {
                this.id = e, this.seq = [], this.map = {}
            }
            Ma.prototype.updateCache = function (e) {
                var t = this.cache;
                e instanceof Float32Array && t.length !== e.length && (this.cache = new Float32Array(e.length)), Xo(t, e)
            }, Ea.prototype.setValue = function (e, t, n) {
                for (var i = this.seq, r = 0, o = i.length; r !== o; ++r) {
                    var a = i[r];
                    a.setValue(e, t[a.id], n)
                }
            };
            var Aa = /([\w\d_]+)(\])?(\[|\.)?/g;

            function Pa(e, t) {
                e.seq.push(t), e.map[t.id] = t
            }

            function Ca(e, t, n) {
                var i = e.name,
                    r = i.length;
                for (Aa.lastIndex = 0;;) {
                    var o = Aa.exec(i),
                        a = Aa.lastIndex,
                        s = o[1],
                        l = "]" === o[2],
                        c = o[3];
                    if (l && (s |= 0), void 0 === c || "[" === c && a + 2 === r) {
                        Pa(n, void 0 === c ? new Sa(s, e, t) : new Ma(s, e, t));
                        break
                    }
                    var u = n.map[s];
                    void 0 === u && Pa(n, u = new Ea(s)), n = u
                }
            }

            function La(e, t) {
                this.seq = [], this.map = {};
                for (var n = e.getProgramParameter(t, 35718), i = 0; i < n; ++i) {
                    var r = e.getActiveUniform(t, i);
                    Ca(r, e.getUniformLocation(t, r.name), this)
                }
            }

            function Oa(e, t, n) {
                var i = e.createShader(t);
                return e.shaderSource(i, n), e.compileShader(i), i
            }
            La.prototype.setValue = function (e, t, n, i) {
                var r = this.map[t];
                void 0 !== r && r.setValue(e, n, i)
            }, La.prototype.setOptional = function (e, t, n) {
                var i = t[n];
                void 0 !== i && this.setValue(e, n, i)
            }, La.upload = function (e, t, n, i) {
                for (var r = 0, o = t.length; r !== o; ++r) {
                    var a = t[r],
                        s = n[a.id];
                    !1 !== s.needsUpdate && a.setValue(e, s.value, i)
                }
            }, La.seqWithValue = function (e, t) {
                for (var n = [], i = 0, r = e.length; i !== r; ++i) {
                    var o = e[i];
                    o.id in t && n.push(o)
                }
                return n
            };
            var Ra = 0;

            function ka(e) {
                switch (e) {
                    case Nt:
                        return ["Linear", "( value )"];
                    case Gt:
                        return ["sRGB", "( value )"];
                    case Ht:
                        return ["RGBE", "( value )"];
                    case Ut:
                        return ["RGBM", "( value, 7.0 )"];
                    case zt:
                        return ["RGBM", "( value, 16.0 )"];
                    case Vt:
                        return ["RGBD", "( value, 256.0 )"];
                    case jt:
                        return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
                    case Ft:
                        return ["LogLuv", "( value )"];
                    default:
                        throw new Error("unsupported encoding: " + e)
                }
            }

            function Ia(e, t, n) {
                var i = e.getShaderParameter(t, 35713),
                    r = e.getShaderInfoLog(t).trim();
                return i && "" === r ? "" : "THREE.WebGLShader: gl.getShaderInfoLog() " + n + "\n" + r + function (e) {
                    for (var t = e.split("\n"), n = 0; n < t.length; n++) t[n] = n + 1 + ": " + t[n];
                    return t.join("\n")
                }(e.getShaderSource(t))
            }

            function Da(e, t) {
                var n = ka(t);
                return "vec4 " + e + "( vec4 value ) { return " + n[0] + "ToLinear" + n[1] + "; }"
            }

            function Ba(e, t) {
                var n;
                switch (t) {
                    case re:
                        n = "Linear";
                        break;
                    case oe:
                        n = "Reinhard";
                        break;
                    case ae:
                        n = "Uncharted2";
                        break;
                    case se:
                        n = "OptimizedCineon";
                        break;
                    case le:
                        n = "ACESFilmic";
                        break;
                    default:
                        throw new Error("unsupported toneMapping: " + t)
                }
                return "vec3 " + e + "( vec3 color ) { return " + n + "ToneMapping( color ); }"
            }

            function Na(e) {
                return "" !== e
            }

            function Ga(e, t) {
                return e.replace(/NUM_DIR_LIGHTS/g, t.numDirLights).replace(/NUM_SPOT_LIGHTS/g, t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, t.numPointLights).replace(/NUM_HEMI_LIGHTS/g, t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g, t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, t.numPointLightShadows)
            }

            function ja(e, t) {
                return e.replace(/NUM_CLIPPING_PLANES/g, t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, t.numClippingPlanes - t.numClipIntersection)
            }
            var Ha = /^[ \t]*#include +<([\w\d./]+)>/gm;

            function Fa(e) {
                return e.replace(Ha, Ua)
            }

            function Ua(e, t) {
                var n = bo[t];
                if (void 0 === n) throw new Error("Can not resolve #include <" + t + ">");
                return Fa(n)
            }
            var za = /#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;

            function Va(e) {
                return e.replace(za, Wa)
            }

            function Wa(e, t, n, i) {
                for (var r = "", o = parseInt(t); o < parseInt(n); o++) r += i.replace(/\[ i \]/g, "[ " + o + " ]").replace(/UNROLLED_LOOP_INDEX/g, o);
                return r
            }

            function qa(e) {
                var t = "precision " + e.precision + " float;\nprecision " + e.precision + " int;";
                return "highp" === e.precision ? t += "\n#define HIGH_PRECISION" : "mediump" === e.precision ? t += "\n#define MEDIUM_PRECISION" : "lowp" === e.precision && (t += "\n#define LOW_PRECISION"), t
            }

            function Xa(e, t, n) {
                var i, r, o, a, s, l = e.getContext(),
                    c = n.defines,
                    u = n.vertexShader,
                    h = n.fragmentShader,
                    d = function (e) {
                        var t = "SHADOWMAP_TYPE_BASIC";
                        return e.shadowMapType === p ? t = "SHADOWMAP_TYPE_PCF" : e.shadowMapType === f ? t = "SHADOWMAP_TYPE_PCF_SOFT" : e.shadowMapType === m && (t = "SHADOWMAP_TYPE_VSM"), t
                    }(n),
                    v = function (e) {
                        var t = "ENVMAP_TYPE_CUBE";
                        if (e.envMap) switch (e.envMapMode) {
                            case ue:
                            case he:
                                t = "ENVMAP_TYPE_CUBE";
                                break;
                            case me:
                            case ve:
                                t = "ENVMAP_TYPE_CUBE_UV";
                                break;
                            case de:
                            case pe:
                                t = "ENVMAP_TYPE_EQUIREC";
                                break;
                            case fe:
                                t = "ENVMAP_TYPE_SPHERE"
                        }
                        return t
                    }(n),
                    g = function (e) {
                        var t = "ENVMAP_MODE_REFLECTION";
                        if (e.envMap) switch (e.envMapMode) {
                            case he:
                            case pe:
                                t = "ENVMAP_MODE_REFRACTION"
                        }
                        return t
                    }(n),
                    y = function (e) {
                        var t = "ENVMAP_BLENDING_NONE";
                        if (e.envMap) switch (e.combine) {
                            case ee:
                                t = "ENVMAP_BLENDING_MULTIPLY";
                                break;
                            case te:
                                t = "ENVMAP_BLENDING_MIX";
                                break;
                            case ne:
                                t = "ENVMAP_BLENDING_ADD"
                        }
                        return t
                    }(n),
                    _ = e.gammaFactor > 0 ? e.gammaFactor : 1,
                    b = n.isWebGL2 ? "" : function (e) {
                        return [e.extensionDerivatives || e.envMapCubeUV || e.bumpMap || e.tangentSpaceNormalMap || e.clearcoatNormalMap || e.flatShading || "physical" === e.shaderID ? "#extension GL_OES_standard_derivatives : enable" : "", (e.extensionFragDepth || e.logarithmicDepthBuffer) && e.rendererExtensionFragDepth ? "#extension GL_EXT_frag_depth : enable" : "", e.extensionDrawBuffers && e.rendererExtensionDrawBuffers ? "#extension GL_EXT_draw_buffers : require" : "", (e.extensionShaderTextureLOD || e.envMap) && e.rendererExtensionShaderTextureLod ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(Na).join("\n")
                    }(n),
                    w = function (e) {
                        var t = [];
                        for (var n in e) {
                            var i = e[n];
                            !1 !== i && t.push("#define " + n + " " + i)
                        }
                        return t.join("\n")
                    }(c),
                    x = l.createProgram(),
                    T = n.numMultiviewViews;
                if (n.isRawShaderMaterial ? ((i = [w].filter(Na).join("\n")).length > 0 && (i += "\n"), (r = [b, w].filter(Na).join("\n")).length > 0 && (r += "\n")) : (i = [qa(n), "#define SHADER_NAME " + n.shaderName, w, n.instancing ? "#define USE_INSTANCING" : "", n.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + _, "#define MAX_BONES " + n.maxBones, n.useFog && n.fog ? "#define USE_FOG" : "", n.useFog && n.fogExp2 ? "#define FOG_EXP2" : "", n.map ? "#define USE_MAP" : "", n.envMap ? "#define USE_ENVMAP" : "", n.envMap ? "#define " + g : "", n.lightMap ? "#define USE_LIGHTMAP" : "", n.aoMap ? "#define USE_AOMAP" : "", n.emissiveMap ? "#define USE_EMISSIVEMAP" : "", n.bumpMap ? "#define USE_BUMPMAP" : "", n.normalMap ? "#define USE_NORMALMAP" : "", n.normalMap && n.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", n.normalMap && n.tangentSpaceNormalMap ? "#define TANGENTSPACE_NORMALMAP" : "", n.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "", n.displacementMap && n.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", n.specularMap ? "#define USE_SPECULARMAP" : "", n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", n.metalnessMap ? "#define USE_METALNESSMAP" : "", n.alphaMap ? "#define USE_ALPHAMAP" : "", n.vertexTangents ? "#define USE_TANGENT" : "", n.vertexColors ? "#define USE_COLOR" : "", n.vertexUvs ? "#define USE_UV" : "", n.uvsVertexOnly ? "#define UVS_VERTEX_ONLY" : "", n.flatShading ? "#define FLAT_SHADED" : "", n.skinning ? "#define USE_SKINNING" : "", n.useVertexTexture ? "#define BONE_TEXTURE" : "", n.morphTargets ? "#define USE_MORPHTARGETS" : "", n.morphNormals && !1 === n.flatShading ? "#define USE_MORPHNORMALS" : "", n.doubleSided ? "#define DOUBLE_SIDED" : "", n.flipSided ? "#define FLIP_SIDED" : "", n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", n.shadowMapEnabled ? "#define " + d : "", n.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", n.logarithmicDepthBuffer && n.rendererExtensionFragDepth ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "uniform bool isOrthographic;", "#ifdef USE_INSTANCING", " attribute mat4 instanceMatrix;", "#endif", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_TANGENT", "\tattribute vec4 tangent;", "#endif", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(Na).join("\n"), r = [b, qa(n), "#define SHADER_NAME " + n.shaderName, w, n.alphaTest ? "#define ALPHATEST " + n.alphaTest + (n.alphaTest % 1 ? "" : ".0") : "", "#define GAMMA_FACTOR " + _, n.useFog && n.fog ? "#define USE_FOG" : "", n.useFog && n.fogExp2 ? "#define FOG_EXP2" : "", n.map ? "#define USE_MAP" : "", n.matcap ? "#define USE_MATCAP" : "", n.envMap ? "#define USE_ENVMAP" : "", n.envMap ? "#define " + v : "", n.envMap ? "#define " + g : "", n.envMap ? "#define " + y : "", n.lightMap ? "#define USE_LIGHTMAP" : "", n.aoMap ? "#define USE_AOMAP" : "", n.emissiveMap ? "#define USE_EMISSIVEMAP" : "", n.bumpMap ? "#define USE_BUMPMAP" : "", n.normalMap ? "#define USE_NORMALMAP" : "", n.normalMap && n.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", n.normalMap && n.tangentSpaceNormalMap ? "#define TANGENTSPACE_NORMALMAP" : "", n.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "", n.specularMap ? "#define USE_SPECULARMAP" : "", n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", n.metalnessMap ? "#define USE_METALNESSMAP" : "", n.alphaMap ? "#define USE_ALPHAMAP" : "", n.sheen ? "#define USE_SHEEN" : "", n.vertexTangents ? "#define USE_TANGENT" : "", n.vertexColors ? "#define USE_COLOR" : "", n.vertexUvs ? "#define USE_UV" : "", n.uvsVertexOnly ? "#define UVS_VERTEX_ONLY" : "", n.gradientMap ? "#define USE_GRADIENTMAP" : "", n.flatShading ? "#define FLAT_SHADED" : "", n.doubleSided ? "#define DOUBLE_SIDED" : "", n.flipSided ? "#define FLIP_SIDED" : "", n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", n.shadowMapEnabled ? "#define " + d : "", n.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", n.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", n.logarithmicDepthBuffer && n.rendererExtensionFragDepth ? "#define USE_LOGDEPTHBUF_EXT" : "", (n.extensionShaderTextureLOD || n.envMap) && n.rendererExtensionShaderTextureLod ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", "uniform bool isOrthographic;", n.toneMapping !== ie ? "#define TONE_MAPPING" : "", n.toneMapping !== ie ? bo.tonemapping_pars_fragment : "", n.toneMapping !== ie ? Ba("toneMapping", n.toneMapping) : "", n.dithering ? "#define DITHERING" : "", n.outputEncoding || n.mapEncoding || n.matcapEncoding || n.envMapEncoding || n.emissiveMapEncoding || n.lightMapEncoding ? bo.encodings_pars_fragment : "", n.mapEncoding ? Da("mapTexelToLinear", n.mapEncoding) : "", n.matcapEncoding ? Da("matcapTexelToLinear", n.matcapEncoding) : "", n.envMapEncoding ? Da("envMapTexelToLinear", n.envMapEncoding) : "", n.emissiveMapEncoding ? Da("emissiveMapTexelToLinear", n.emissiveMapEncoding) : "", n.lightMapEncoding ? Da("lightMapTexelToLinear", n.lightMapEncoding) : "", n.outputEncoding ? (o = "linearToOutputTexel", a = n.outputEncoding, s = ka(a), "vec4 " + o + "( vec4 value ) { return LinearTo" + s[0] + s[1] + "; }") : "", n.depthPacking ? "#define DEPTH_PACKING " + n.depthPacking : "", "\n"].filter(Na).join("\n")), u = ja(u = Ga(u = Fa(u), n), n), h = ja(h = Ga(h = Fa(h), n), n), u = Va(u), h = Va(h), n.isWebGL2 && !n.isRawShaderMaterial) {
                    var S = !1,
                        M = /^\s*#version\s+300\s+es\s*\n/;
                    n.isShaderMaterial && null !== u.match(M) && null !== h.match(M) && (S = !0, u = u.replace(M, ""), h = h.replace(M, "")), i = ["#version 300 es\n", "#define attribute in", "#define varying out", "#define texture2D texture"].join("\n") + "\n" + i, r = ["#version 300 es\n", "#define varying in", S ? "" : "out highp vec4 pc_fragColor;", S ? "" : "#define gl_FragColor pc_fragColor", "#define gl_FragDepthEXT gl_FragDepth", "#define texture2D texture", "#define textureCube texture", "#define texture2DProj textureProj", "#define texture2DLodEXT textureLod", "#define texture2DProjLodEXT textureProjLod", "#define textureCubeLodEXT textureLod", "#define texture2DGradEXT textureGrad", "#define texture2DProjGradEXT textureProjGrad", "#define textureCubeGradEXT textureGrad"].join("\n") + "\n" + r, T > 0 && (i = (i = i.replace("#version 300 es\n", ["#version 300 es\n", "#extension GL_OVR_multiview2 : require", "layout(num_views = " + T + ") in;", "#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;"].join("\n"), ["uniform mat4 modelViewMatrices[" + T + "];", "uniform mat4 projectionMatrices[" + T + "];", "uniform mat4 viewMatrices[" + T + "];", "uniform mat3 normalMatrices[" + T + "];", "#define modelViewMatrix modelViewMatrices[VIEW_ID]", "#define projectionMatrix projectionMatrices[VIEW_ID]", "#define viewMatrix viewMatrices[VIEW_ID]", "#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")), r = (r = r.replace("#version 300 es\n", ["#version 300 es\n", "#extension GL_OVR_multiview2 : require", "#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;", ["uniform mat4 viewMatrices[" + T + "];", "#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))
                }
                var E, A, P = r + h,
                    C = Oa(l, 35633, i + u),
                    L = Oa(l, 35632, P);
                if (l.attachShader(x, C), l.attachShader(x, L), void 0 !== n.index0AttributeName ? l.bindAttribLocation(x, 0, n.index0AttributeName) : !0 === n.morphTargets && l.bindAttribLocation(x, 0, "position"), l.linkProgram(x), e.debug.checkShaderErrors) {
                    var O = l.getProgramInfoLog(x).trim(),
                        R = l.getShaderInfoLog(C).trim(),
                        k = l.getShaderInfoLog(L).trim(),
                        I = !0,
                        D = !0;
                    if (!1 === l.getProgramParameter(x, 35714)) {
                        I = !1;
                        var B = Ia(l, C, "vertex"),
                            N = Ia(l, L, "fragment");
                        console.error("THREE.WebGLProgram: shader error: ", l.getError(), "35715", l.getProgramParameter(x, 35715), "gl.getProgramInfoLog", O, B, N)
                    } else "" !== O ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", O) : "" !== R && "" !== k || (D = !1);
                    D && (this.diagnostics = {
                        runnable: I,
                        programLog: O,
                        vertexShader: {
                            log: R,
                            prefix: i
                        },
                        fragmentShader: {
                            log: k,
                            prefix: r
                        }
                    })
                }
                return l.deleteShader(C), l.deleteShader(L), this.getUniforms = function () {
                    return void 0 === E && (E = new La(l, x)), E
                }, this.getAttributes = function () {
                    return void 0 === A && (A = function (e, t) {
                        for (var n = {}, i = e.getProgramParameter(t, 35721), r = 0; r < i; r++) {
                            var o = e.getActiveAttrib(t, r).name;
                            n[o] = e.getAttribLocation(t, o)
                        }
                        return n
                    }(l, x)), A
                }, this.destroy = function () {
                    l.deleteProgram(x), this.program = void 0
                }, this.name = n.shaderName, this.id = Ra++, this.cacheKey = t, this.usedTimes = 1, this.program = x, this.vertexShader = C, this.fragmentShader = L, this.numMultiviewViews = T, this
            }

            function Ya(e, t, n) {
                var i = [],
                    r = n.isWebGL2,
                    o = n.logarithmicDepthBuffer,
                    a = n.floatVertexTextures,
                    s = n.precision,
                    l = n.maxVertexUniforms,
                    c = n.vertexTextures,
                    u = {
                        MeshDepthMaterial: "depth",
                        MeshDistanceMaterial: "distanceRGBA",
                        MeshNormalMaterial: "normal",
                        MeshBasicMaterial: "basic",
                        MeshLambertMaterial: "lambert",
                        MeshPhongMaterial: "phong",
                        MeshToonMaterial: "toon",
                        MeshStandardMaterial: "physical",
                        MeshPhysicalMaterial: "physical",
                        MeshMatcapMaterial: "matcap",
                        LineBasicMaterial: "basic",
                        LineDashedMaterial: "dashed",
                        PointsMaterial: "points",
                        ShadowMaterial: "shadow",
                        SpriteMaterial: "sprite"
                    },
                    h = ["precision", "isWebGL2", "supportsVertexTextures", "outputEncoding", "instancing", "numMultiviewViews", "map", "mapEncoding", "matcap", "matcapEncoding", "envMap", "envMapMode", "envMapEncoding", "envMapCubeUV", "lightMap", "lightMapEncoding", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "objectSpaceNormalMap", "tangentSpaceNormalMap", "clearcoatNormalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "vertexTangents", "vertexUvs", "uvsVertexOnly", "fog", "useFog", "fogExp2", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "numDirLightShadows", "numPointLightShadows", "numSpotLightShadows", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking", "dithering", "sheen"];

                function d(e) {
                    var t;
                    return e ? e.isTexture ? t = e.encoding : e.isWebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."), t = e.texture.encoding) : t = Nt, t
                }
                this.getParameters = function (i, h, p, f, m, v, _) {
                    var b = f.fog,
                        w = i.isMeshStandardMaterial ? f.environment : null,
                        x = i.envMap || w,
                        T = u[i.type],
                        S = _.isSkinnedMesh ? function (e) {
                            var t = e.skeleton.bones;
                            if (a) return 1024;
                            var n = l,
                                i = Math.floor((n - 20) / 4),
                                r = Math.min(i, t.length);
                            return r < t.length ? (console.warn("THREE.WebGLRenderer: Skeleton has " + t.length + " bones. This GPU supports " + r + "."), 0) : r
                        }(_) : 0;
                    null !== i.precision && (s = n.getMaxPrecision(i.precision)) !== i.precision && console.warn("THREE.WebGLProgram.getParameters:", i.precision, "not supported, using", s, "instead.");
                    var M = function (e, t) {
                        var n;
                        if (t) {
                            var i = wo[t];
                            n = {
                                name: e.type,
                                uniforms: ro.clone(i.uniforms),
                                vertexShader: i.vertexShader,
                                fragmentShader: i.fragmentShader
                            }
                        } else n = {
                            name: e.type,
                            uniforms: e.uniforms,
                            vertexShader: e.vertexShader,
                            fragmentShader: e.fragmentShader
                        };
                        return n
                    }(i, T);
                    i.onBeforeCompile(M, e);
                    var E = e.getRenderTarget(),
                        A = E && E.isWebGLMultiviewRenderTarget ? E.numViews : 0;
                    return {
                        isWebGL2: r,
                        shaderID: T,
                        shaderName: M.name,
                        uniforms: M.uniforms,
                        vertexShader: M.vertexShader,
                        fragmentShader: M.fragmentShader,
                        defines: i.defines,
                        isRawShaderMaterial: i.isRawShaderMaterial,
                        isShaderMaterial: i.isShaderMaterial,
                        precision: s,
                        instancing: !0 === _.isInstancedMesh,
                        supportsVertexTextures: c,
                        numMultiviewViews: A,
                        outputEncoding: null !== E ? d(E.texture) : e.outputEncoding,
                        map: !!i.map,
                        mapEncoding: d(i.map),
                        matcap: !!i.matcap,
                        matcapEncoding: d(i.matcap),
                        envMap: !!x,
                        envMapMode: x && x.mapping,
                        envMapEncoding: d(x),
                        envMapCubeUV: !!x && (x.mapping === me || x.mapping === ve),
                        lightMap: !!i.lightMap,
                        lightMapEncoding: d(i.lightMap),
                        aoMap: !!i.aoMap,
                        emissiveMap: !!i.emissiveMap,
                        emissiveMapEncoding: d(i.emissiveMap),
                        bumpMap: !!i.bumpMap,
                        normalMap: !!i.normalMap,
                        objectSpaceNormalMap: i.normalMapType === Yt,
                        tangentSpaceNormalMap: i.normalMapType === Xt,
                        clearcoatNormalMap: !!i.clearcoatNormalMap,
                        displacementMap: !!i.displacementMap,
                        roughnessMap: !!i.roughnessMap,
                        metalnessMap: !!i.metalnessMap,
                        specularMap: !!i.specularMap,
                        alphaMap: !!i.alphaMap,
                        gradientMap: !!i.gradientMap,
                        sheen: !!i.sheen,
                        combine: i.combine,
                        vertexTangents: i.normalMap && i.vertexTangents,
                        vertexColors: i.vertexColors,
                        vertexUvs: !!(i.map || i.bumpMap || i.normalMap || i.specularMap || i.alphaMap || i.emissiveMap || i.roughnessMap || i.metalnessMap || i.clearcoatNormalMap || i.displacementMap),
                        uvsVertexOnly: !(i.map || i.bumpMap || i.normalMap || i.specularMap || i.alphaMap || i.emissiveMap || i.roughnessMap || i.metalnessMap || i.clearcoatNormalMap || !i.displacementMap),
                        fog: !!b,
                        useFog: i.fog,
                        fogExp2: b && b.isFogExp2,
                        flatShading: i.flatShading,
                        sizeAttenuation: i.sizeAttenuation,
                        logarithmicDepthBuffer: o,
                        skinning: i.skinning && S > 0,
                        maxBones: S,
                        useVertexTexture: a,
                        morphTargets: i.morphTargets,
                        morphNormals: i.morphNormals,
                        maxMorphTargets: e.maxMorphTargets,
                        maxMorphNormals: e.maxMorphNormals,
                        numDirLights: h.directional.length,
                        numPointLights: h.point.length,
                        numSpotLights: h.spot.length,
                        numRectAreaLights: h.rectArea.length,
                        numHemiLights: h.hemi.length,
                        numDirLightShadows: h.directionalShadowMap.length,
                        numPointLightShadows: h.pointShadowMap.length,
                        numSpotLightShadows: h.spotShadowMap.length,
                        numClippingPlanes: m,
                        numClipIntersection: v,
                        dithering: i.dithering,
                        shadowMapEnabled: e.shadowMap.enabled && p.length > 0,
                        shadowMapType: e.shadowMap.type,
                        toneMapping: i.toneMapped ? e.toneMapping : ie,
                        physicallyCorrectLights: e.physicallyCorrectLights,
                        premultipliedAlpha: i.premultipliedAlpha,
                        alphaTest: i.alphaTest,
                        doubleSided: i.side === y,
                        flipSided: i.side === g,
                        depthPacking: void 0 !== i.depthPacking && i.depthPacking,
                        index0AttributeName: i.index0AttributeName,
                        extensionDerivatives: i.extensions && i.extensions.derivatives,
                        extensionFragDepth: i.extensions && i.extensions.frawbuffers,
                        extensionDrawbuffers: i.extensions && i.extensions.drawbuffers,
                        extensionShaderTextureLOD: i.extensions && i.extensions.shaderTextureLOD,
                        rendererExtensionFragDepth: r || null !== t.get("EXT_frag_depth"),
                        rendererExtensionDrawBuffers: r || null !== t.get("WEBGL_draw_buffers"),
                        rendererExtensionShaderTextureLod: r || null !== t.get("EXT_shader_texture_lod"),
                        onBeforeCompile: i.onBeforeCompile
                    }
                }, this.getProgramCacheKey = function (t) {
                    var n = [];
                    if (t.shaderID ? n.push(t.shaderID) : (n.push(t.fragmentShader), n.push(t.vertexShader)), void 0 !== t.defines)
                        for (var i in t.defines) n.push(i), n.push(t.defines[i]);
                    if (void 0 === t.isRawShaderMaterial) {
                        for (var r = 0; r < h.length; r++) n.push(t[h[r]]);
                        n.push(e.outputEncoding), n.push(e.gammaFactor)
                    }
                    return n.push(t.onBeforeCompile.toString()), n.join()
                }, this.acquireProgram = function (t, n) {
                    for (var r, o = 0, a = i.length; o < a; o++) {
                        var s = i[o];
                        if (s.cacheKey === n) {
                            ++(r = s).usedTimes;
                            break
                        }
                    }
                    return void 0 === r && (r = new Xa(e, n, t), i.push(r)), r
                }, this.releaseProgram = function (e) {
                    if (0 == --e.usedTimes) {
                        var t = i.indexOf(e);
                        i[t] = i[i.length - 1], i.pop(), e.destroy()
                    }
                }, this.programs = i
            }

            function Ja() {
                var e = new WeakMap;
                return {
                    get: function (t) {
                        var n = e.get(t);
                        return void 0 === n && (n = {}, e.set(t, n)), n
                    },
                    remove: function (t) {
                        e.delete(t)
                    },
                    update: function (t, n, i) {
                        e.get(t)[n] = i
                    },
                    dispose: function () {
                        e = new WeakMap
                    }
                }
            }

            function Ka(e, t) {
                return e.groupOrder !== t.groupOrder ? e.groupOrder - t.groupOrder : e.renderOrder !== t.renderOrder ? e.renderOrder - t.renderOrder : e.program !== t.program ? e.program.id - t.program.id : e.material.id !== t.material.id ? e.material.id - t.material.id : e.z !== t.z ? e.z - t.z : e.id - t.id
            }

            function Za(e, t) {
                return e.groupOrder !== t.groupOrder ? e.groupOrder - t.groupOrder : e.renderOrder !== t.renderOrder ? e.renderOrder - t.renderOrder : e.z !== t.z ? t.z - e.z : e.id - t.id
            }

            function $a() {
                var e = [],
                    t = 0,
                    n = [],
                    i = [],
                    r = {
                        id: -1
                    };

                function o(n, i, o, a, s, l) {
                    var c = e[t];
                    return void 0 === c ? (c = {
                        id: n.id,
                        object: n,
                        geometry: i,
                        material: o,
                        program: o.program || r,
                        groupOrder: a,
                        renderOrder: n.renderOrder,
                        z: s,
                        group: l
                    }, e[t] = c) : (c.id = n.id, c.object = n, c.geometry = i, c.material = o, c.program = o.program || r, c.groupOrder = a, c.renderOrder = n.renderOrder, c.z = s, c.group = l), t++, c
                }
                return {
                    opaque: n,
                    transparent: i,
                    init: function () {
                        t = 0, n.length = 0, i.length = 0
                    },
                    push: function (e, t, r, a, s, l) {
                        var c = o(e, t, r, a, s, l);
                        (!0 === r.transparent ? i : n).push(c)
                    },
                    unshift: function (e, t, r, a, s, l) {
                        var c = o(e, t, r, a, s, l);
                        (!0 === r.transparent ? i : n).unshift(c)
                    },
                    sort: function (e, t) {
                        n.length > 1 && n.sort(e || Ka), i.length > 1 && i.sort(t || Za)
                    }
                }
            }

            function Qa() {
                var e = new WeakMap;

                function t(n) {
                    var i = n.target;
                    i.removeEventListener("dispose", t), e.delete(i)
                }
                return {
                    get: function (n, i) {
                        var r, o = e.get(n);
                        return void 0 === o ? (r = new $a, e.set(n, new WeakMap), e.get(n).set(i, r), n.addEventListener("dispose", t)) : void 0 === (r = o.get(i)) && (r = new $a, o.set(i, r)), r
                    },
                    dispose: function () {
                        e = new WeakMap
                    }
                }
            }

            function es() {
                var e = {};
                return {
                    get: function (t) {
                        if (void 0 !== e[t.id]) return e[t.id];
                        var n;
                        switch (t.type) {
                            case "DirectionalLight":
                                n = {
                                    direction: new Nn,
                                    color: new er,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new En
                                };
                                break;
                            case "SpotLight":
                                n = {
                                    position: new Nn,
                                    direction: new Nn,
                                    color: new er,
                                    distance: 0,
                                    coneCos: 0,
                                    penumbraCos: 0,
                                    decay: 0,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new En
                                };
                                break;
                            case "PointLight":
                                n = {
                                    position: new Nn,
                                    color: new er,
                                    distance: 0,
                                    decay: 0,
                                    shadow: !1,
                                    shadowBias: 0,
                                    shadowRadius: 1,
                                    shadowMapSize: new En,
                                    shadowCameraNear: 1,
                                    shadowCameraFar: 1e3
                                };
                                break;
                            case "HemisphereLight":
                                n = {
                                    direction: new Nn,
                                    skyColor: new er,
                                    groundColor: new er
                                };
                                break;
                            case "RectAreaLight":
                                n = {
                                    color: new er,
                                    position: new Nn,
                                    halfWidth: new Nn,
                                    halfHeight: new Nn
                                }
                        }
                        return e[t.id] = n, n
                    }
                }
            }
            var ts = 0;

            function ns(e, t) {
                return (t.castShadow ? 1 : 0) - (e.castShadow ? 1 : 0)
            }

            function is() {
                for (var e = new es, t = {
                        version: 0,
                        hash: {
                            directionalLength: -1,
                            pointLength: -1,
                            spotLength: -1,
                            rectAreaLength: -1,
                            hemiLength: -1,
                            numDirectionalShadows: -1,
                            numPointShadows: -1,
                            numSpotShadows: -1
                        },
                        ambient: [0, 0, 0],
                        probe: [],
                        directional: [],
                        directionalShadowMap: [],
                        directionalShadowMatrix: [],
                        spot: [],
                        spotShadowMap: [],
                        spotShadowMatrix: [],
                        rectArea: [],
                        point: [],
                        pointShadowMap: [],
                        pointShadowMatrix: [],
                        hemi: [],
                        numDirectionalShadows: -1,
                        numPointShadows: -1,
                        numSpotShadows: -1
                    }, n = 0; n < 9; n++) t.probe.push(new Nn);
                var i = new Nn,
                    r = new Wn,
                    o = new Wn;
                return {
                    setup: function (n, a, s) {
                        for (var l = 0, c = 0, u = 0, h = 0; h < 9; h++) t.probe[h].set(0, 0, 0);
                        var d = 0,
                            p = 0,
                            f = 0,
                            m = 0,
                            v = 0,
                            g = 0,
                            y = 0,
                            _ = 0,
                            b = s.matrixWorldInverse;
                        n.sort(ns), h = 0;
                        for (var w = n.length; h < w; h++) {
                            var x = n[h],
                                T = x.color,
                                S = x.intensity,
                                M = x.distance,
                                E = x.shadow && x.shadow.map ? x.shadow.map.texture : null;
                            if (x.isAmbientLight) l += T.r * S, c += T.g * S, u += T.b * S;
                            else if (x.isLightProbe)
                                for (var A = 0; A < 9; A++) t.probe[A].addScaledVector(x.sh.coefficients[A], S);
                            else if (x.isDirectionalLight) {
                                if ((C = e.get(x)).color.copy(x.color).multiplyScalar(x.intensity), C.direction.setFromMatrixPosition(x.matrixWorld), i.setFromMatrixPosition(x.target.matrixWorld), C.direction.sub(i), C.direction.transformDirection(b), C.shadow = x.castShadow, x.castShadow) {
                                    var P = x.shadow;
                                    C.shadowBias = P.bias, C.shadowRadius = P.radius, C.shadowMapSize = P.mapSize, t.directionalShadowMap[d] = E, t.directionalShadowMatrix[d] = x.shadow.matrix, g++
                                }
                                t.directional[d] = C, d++
                            } else if (x.isSpotLight) {
                                if ((C = e.get(x)).position.setFromMatrixPosition(x.matrixWorld), C.position.applyMatrix4(b), C.color.copy(T).multiplyScalar(S), C.distance = M, C.direction.setFromMatrixPosition(x.matrixWorld), i.setFromMatrixPosition(x.target.matrixWorld), C.direction.sub(i), C.direction.transformDirection(b), C.coneCos = Math.cos(x.angle), C.penumbraCos = Math.cos(x.angle * (1 - x.penumbra)), C.decay = x.decay, C.shadow = x.castShadow, x.castShadow) {
                                    P = x.shadow;
                                    C.shadowBias = P.bias, C.shadowRadius = P.radius, C.shadowMapSize = P.mapSize, t.spotShadowMap[f] = E, t.spotShadowMatrix[f] = x.shadow.matrix, _++
                                }
                                t.spot[f] = C, f++
                            } else if (x.isRectAreaLight) {
                                (C = e.get(x)).color.copy(T).multiplyScalar(S), C.position.setFromMatrixPosition(x.matrixWorld), C.position.applyMatrix4(b), o.identity(), r.copy(x.matrixWorld), r.premultiply(b), o.extractRotation(r), C.halfWidth.set(.5 * x.width, 0, 0), C.halfHeight.set(0, .5 * x.height, 0), C.halfWidth.applyMatrix4(o), C.halfHeight.applyMatrix4(o), t.rectArea[m] = C, m++
                            } else if (x.isPointLight) {
                                if ((C = e.get(x)).position.setFromMatrixPosition(x.matrixWorld), C.position.applyMatrix4(b), C.color.copy(x.color).multiplyScalar(x.intensity), C.distance = x.distance, C.decay = x.decay, C.shadow = x.castShadow, x.castShadow) {
                                    P = x.shadow;
                                    C.shadowBias = P.bias, C.shadowRadius = P.radius, C.shadowMapSize = P.mapSize, C.shadowCameraNear = P.camera.near, C.shadowCameraFar = P.camera.far, t.pointShadowMap[p] = E, t.pointShadowMatrix[p] = x.shadow.matrix, y++
                                }
                                t.point[p] = C, p++
                            } else if (x.isHemisphereLight) {
                                var C;
                                (C = e.get(x)).direction.setFromMatrixPosition(x.matrixWorld), C.direction.transformDirection(b), C.direction.normalize(), C.skyColor.copy(x.color).multiplyScalar(S), C.groundColor.copy(x.groundColor).multiplyScalar(S), t.hemi[v] = C, v++
                            }
                        }
                        t.ambient[0] = l, t.ambient[1] = c, t.ambient[2] = u;
                        var L = t.hash;
                        L.directionalLength === d && L.pointLength === p && L.spotLength === f && L.rectAreaLength === m && L.hemiLength === v && L.numDirectionalShadows === g && L.numPointShadows === y && L.numSpotShadows === _ || (t.directional.length = d, t.spot.length = f, t.rectArea.length = m, t.point.length = p, t.hemi.length = v, t.directionalShadowMap.length = g, t.pointShadowMap.length = y, t.spotShadowMap.length = _, t.directionalShadowMatrix.length = g, t.pointShadowMatrix.length = y, t.spotShadowMatrix.length = _, L.directionalLength = d, L.pointLength = p, L.spotLength = f, L.rectAreaLength = m, L.hemiLength = v, L.numDirectionalShadows = g, L.numPointShadows = y, L.numSpotShadows = _, t.version = ts++)
                    },
                    state: t
                }
            }

            function rs() {
                var e = new is,
                    t = [],
                    n = [];
                return {
                    init: function () {
                        t.length = 0, n.length = 0
                    },
                    state: {
                        lightsArray: t,
                        shadowsArray: n,
                        lights: e
                    },
                    setupLights: function (i) {
                        e.setup(t, n, i)
                    },
                    pushLight: function (e) {
                        t.push(e)
                    },
                    pushShadow: function (e) {
                        n.push(e)
                    }
                }
            }

            function os() {
                var e = new WeakMap;

                function t(n) {
                    var i = n.target;
                    i.removeEventListener("dispose", t), e.delete(i)
                }
                return {
                    get: function (n, i) {
                        var r;
                        return !1 === e.has(n) ? (r = new rs, e.set(n, new WeakMap), e.get(n).set(i, r), n.addEventListener("dispose", t)) : !1 === e.get(n).has(i) ? (r = new rs, e.get(n).set(i, r)) : r = e.get(n).get(i), r
                    },
                    dispose: function () {
                        e = new WeakMap
                    }
                }
            }

            function as(e) {
                ar.call(this), this.type = "MeshDepthMaterial", this.depthPacking = Wt, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.setValues(e)
            }

            function ss(e) {
                ar.call(this), this.type = "MeshDistanceMaterial", this.referencePosition = new Nn, this.nearDistance = 1, this.farDistance = 1e3, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.fog = !1, this.setValues(e)
            }
            as.prototype = Object.create(ar.prototype), as.prototype.constructor = as, as.prototype.isMeshDepthMaterial = !0, as.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.depthPacking = e.depthPacking, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.map = e.map, this.alphaMap = e.alphaMap, this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this
            }, ss.prototype = Object.create(ar.prototype), ss.prototype.constructor = ss, ss.prototype.isMeshDistanceMaterial = !0, ss.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.referencePosition.copy(e.referencePosition), this.nearDistance = e.nearDistance, this.farDistance = e.farDistance, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.map = e.map, this.alphaMap = e.alphaMap, this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this
            };

            function ls(e, t, n) {
                var i = new fo,
                    r = new En,
                    o = new En,
                    a = new On,
                    s = [],
                    l = [],
                    c = {},
                    u = {
                        0: g,
                        1: v,
                        2: y
                    },
                    h = new oo({
                        defines: {
                            SAMPLE_RATE: .25,
                            HALF_SAMPLE_RATE: 1 / 8
                        },
                        uniforms: {
                            shadow_pass: {
                                value: null
                            },
                            resolution: {
                                value: new En
                            },
                            radius: {
                                value: 4
                            }
                        },
                        vertexShader: "void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",
                        fragmentShader: "uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"
                    }),
                    d = h.clone();
                d.defines.HORIZONAL_PASS = 1;
                var f = new Pr;
                f.setAttribute("position", new cr(new Float32Array([-1, -1, .5, 3, -1, .5, -1, 3, .5]), 3));
                var _ = new qr(f, h),
                    b = this;

                function w(n, i) {
                    var r = t.update(_);
                    h.uniforms.shadow_pass.value = n.map.texture, h.uniforms.resolution.value = n.mapSize, h.uniforms.radius.value = n.radius, e.setRenderTarget(n.mapPass), e.clear(), e.renderBufferDirect(i, null, r, h, _, null), d.uniforms.shadow_pass.value = n.mapPass.texture, d.uniforms.resolution.value = n.mapSize, d.uniforms.radius.value = n.radius, e.setRenderTarget(n.map), e.clear(), e.renderBufferDirect(i, null, r, d, _, null)
                }

                function x(e, t, n) {
                    var i = e << 0 | t << 1 | n << 2,
                        r = s[i];
                    return void 0 === r && (r = new as({
                        depthPacking: qt,
                        morphTargets: e,
                        skinning: t
                    }), s[i] = r), r
                }

                function T(e, t, n) {
                    var i = e << 0 | t << 1 | n << 2,
                        r = l[i];
                    return void 0 === r && (r = new ss({
                        morphTargets: e,
                        skinning: t
                    }), l[i] = r), r
                }

                function M(t, n, i, r, o, a) {
                    var s = t.geometry,
                        l = null,
                        h = x,
                        d = t.customDepthMaterial;
                    if (!0 === i.isPointLight && (h = T, d = t.customDistanceMaterial), void 0 === d) {
                        var p = !1;
                        !0 === n.morphTargets && (!0 === s.isBufferGeometry ? p = s.morphAttributes && s.morphAttributes.position && s.morphAttributes.position.length > 0 : !0 === s.isGeometry && (p = s.morphTargets && s.morphTargets.length > 0));
                        var f = !1;
                        !0 === t.isSkinnedMesh && (!0 === n.skinning ? f = !0 : console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:", t)), l = h(p, f, !0 === t.isInstancedMesh)
                    } else l = d;
                    if (e.localClippingEnabled && !0 === n.clipShadows && 0 !== n.clippingPlanes.length) {
                        var v = l.uuid,
                            g = n.uuid,
                            y = c[v];
                        void 0 === y && (y = {}, c[v] = y);
                        var _ = y[g];
                        void 0 === _ && (_ = l.clone(), y[g] = _), l = _
                    }
                    return l.visible = n.visible, l.wireframe = n.wireframe, l.side = a === m ? null !== n.shadowSide ? n.shadowSide : n.side : null !== n.shadowSide ? n.shadowSide : u[n.side], l.clipShadows = n.clipShadows, l.clippingPlanes = n.clippingPlanes, l.clipIntersection = n.clipIntersection, l.wireframeLinewidth = n.wireframeLinewidth, l.linewidth = n.linewidth, !0 === i.isPointLight && !0 === l.isMeshDistanceMaterial && (l.referencePosition.setFromMatrixPosition(i.matrixWorld), l.nearDistance = r, l.farDistance = o), l
                }

                function E(n, r, o, a, s) {
                    if (!1 !== n.visible) {
                        if (n.layers.test(r.layers) && (n.isMesh || n.isLine || n.isPoints) && (n.castShadow || n.receiveShadow && s === m) && (!n.frustumCulled || i.intersectsObject(n))) {
                            n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse, n.matrixWorld);
                            var l = t.update(n),
                                c = n.material;
                            if (Array.isArray(c))
                                for (var u = l.groups, h = 0, d = u.length; h < d; h++) {
                                    var p = u[h],
                                        f = c[p.materialIndex];
                                    if (f && f.visible) {
                                        var v = M(n, f, a, o.near, o.far, s);
                                        e.renderBufferDirect(o, null, l, v, n, p)
                                    }
                                } else if (c.visible) {
                                    v = M(n, c, a, o.near, o.far, s);
                                    e.renderBufferDirect(o, null, l, v, n, null)
                                }
                        }
                        for (var g = n.children, y = 0, _ = g.length; y < _; y++) E(g[y], r, o, a, s)
                    }
                }
                this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = p, this.render = function (t, s, l) {
                    if (!1 !== b.enabled && (!1 !== b.autoUpdate || !1 !== b.needsUpdate) && 0 !== t.length) {
                        var c = e.getRenderTarget(),
                            u = e.getActiveCubeFace(),
                            h = e.getActiveMipmapLevel(),
                            d = e.state;
                        d.setBlending(S), d.buffers.color.setClear(1, 1, 1, 1), d.buffers.depth.setTest(!0), d.setScissorTest(!1);
                        for (var p = 0, f = t.length; p < f; p++) {
                            var v = t[p],
                                g = v.shadow;
                            if (void 0 !== g) {
                                r.copy(g.mapSize);
                                var y = g.getFrameExtents();
                                if (r.multiply(y), o.copy(g.mapSize), (r.x > n || r.y > n) && (console.warn("THREE.WebGLShadowMap:", v, "has shadow exceeding max texture size, reducing"), r.x > n && (o.x = Math.floor(n / y.x), r.x = o.x * y.x, g.mapSize.x = o.x), r.y > n && (o.y = Math.floor(n / y.y), r.y = o.y * y.y, g.mapSize.y = o.y)), null === g.map && !g.isPointLightShadow && this.type === m) {
                                    var _ = {
                                        minFilter: Me,
                                        magFilter: Me,
                                        format: Ve
                                    };
                                    g.map = new Rn(r.x, r.y, _), g.map.texture.name = v.name + ".shadowMap", g.mapPass = new Rn(r.x, r.y, _), g.camera.updateProjectionMatrix()
                                }
                                if (null === g.map) {
                                    _ = {
                                        minFilter: be,
                                        magFilter: be,
                                        format: Ve
                                    };
                                    g.map = new Rn(r.x, r.y, _), g.map.texture.name = v.name + ".shadowMap", g.camera.updateProjectionMatrix()
                                }
                                e.setRenderTarget(g.map), e.clear();
                                for (var x = g.getViewportCount(), T = 0; T < x; T++) {
                                    var M = g.getViewport(T);
                                    a.set(o.x * M.x, o.y * M.y, o.x * M.z, o.y * M.w), d.viewport(a), g.updateMatrices(v, T), i = g.getFrustum(), E(s, l, g.camera, v, this.type)
                                }
                                g.isPointLightShadow || this.type !== m || w(g, l)
                            } else console.warn("THREE.WebGLShadowMap:", v, "has no shadow.")
                        }
                        b.needsUpdate = !1, e.setRenderTarget(c, u, h)
                    }
                }
            }

            function cs(e, t, n) {
                var i = n.isWebGL2;
                var r = new function () {
                        var t = !1,
                            n = new On,
                            i = null,
                            r = new On(0, 0, 0, 0);
                        return {
                            setMask: function (n) {
                                i === n || t || (e.colorMask(n, n, n, n), i = n)
                            },
                            setLocked: function (e) {
                                t = e
                            },
                            setClear: function (t, i, o, a, s) {
                                !0 === s && (t *= a, i *= a, o *= a), n.set(t, i, o, a), !1 === r.equals(n) && (e.clearColor(t, i, o, a), r.copy(n))
                            },
                            reset: function () {
                                t = !1, i = null, r.set(-1, 0, 0, 0)
                            }
                        }
                    },
                    o = new function () {
                        var t = !1,
                            n = null,
                            i = null,
                            r = null;
                        return {
                            setTest: function (e) {
                                e ? _e(2929) : be(2929)
                            },
                            setMask: function (i) {
                                n === i || t || (e.depthMask(i), n = i)
                            },
                            setFunc: function (t) {
                                if (i !== t) {
                                    if (t) switch (t) {
                                        case q:
                                            e.depthFunc(512);
                                            break;
                                        case X:
                                            e.depthFunc(519);
                                            break;
                                        case Y:
                                            e.depthFunc(513);
                                            break;
                                        case J:
                                            e.depthFunc(515);
                                            break;
                                        case K:
                                            e.depthFunc(514);
                                            break;
                                        case Z:
                                            e.depthFunc(518);
                                            break;
                                        case $:
                                            e.depthFunc(516);
                                            break;
                                        case Q:
                                            e.depthFunc(517);
                                            break;
                                        default:
                                            e.depthFunc(515)
                                    } else e.depthFunc(515);
                                    i = t
                                }
                            },
                            setLocked: function (e) {
                                t = e
                            },
                            setClear: function (t) {
                                r !== t && (e.clearDepth(t), r = t)
                            },
                            reset: function () {
                                t = !1, n = null, i = null, r = null
                            }
                        }
                    },
                    c = new function () {
                        var t = !1,
                            n = null,
                            i = null,
                            r = null,
                            o = null,
                            a = null,
                            s = null,
                            l = null,
                            c = null;
                        return {
                            setTest: function (e) {
                                t || (e ? _e(2960) : be(2960))
                            },
                            setMask: function (i) {
                                n === i || t || (e.stencilMask(i), n = i)
                            },
                            setFunc: function (t, n, a) {
                                i === t && r === n && o === a || (e.stencilFunc(t, n, a), i = t, r = n, o = a)
                            },
                            setOp: function (t, n, i) {
                                a === t && s === n && l === i || (e.stencilOp(t, n, i), a = t, s = n, l = i)
                            },
                            setLocked: function (e) {
                                t = e
                            },
                            setClear: function (t) {
                                c !== t && (e.clearStencil(t), c = t)
                            },
                            reset: function () {
                                t = !1, n = null, i = null, r = null, o = null, a = null, s = null, l = null, c = null
                            }
                        }
                    },
                    u = e.getParameter(34921),
                    h = new Uint8Array(u),
                    d = new Uint8Array(u),
                    p = new Uint8Array(u),
                    f = {},
                    m = null,
                    v = null,
                    _ = null,
                    b = null,
                    w = null,
                    x = null,
                    T = null,
                    ee = null,
                    te = null,
                    ne = !1,
                    ie = null,
                    re = null,
                    oe = null,
                    ae = null,
                    se = null,
                    le = e.getParameter(35661),
                    ce = !1,
                    ue = 0,
                    he = e.getParameter(7938); - 1 !== he.indexOf("WebGL") ? (ue = parseFloat(/^WebGL\ ([0-9])/.exec(he)[1]), ce = ue >= 1) : -1 !== he.indexOf("OpenGL ES") && (ue = parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(he)[1]), ce = ue >= 2);
                var de = null,
                    pe = {},
                    fe = new On,
                    me = new On;

                function ve(t, n, i) {
                    var r = new Uint8Array(4),
                        o = e.createTexture();
                    e.bindTexture(t, o), e.texParameteri(t, 10241, 9728), e.texParameteri(t, 10240, 9728);
                    for (var a = 0; a < i; a++) e.texImage2D(n + a, 0, 6408, 1, 1, 0, 6408, 5121, r);
                    return o
                }
                var ge = {};

                function ye(n, r) {
                    (h[n] = 1, 0 === d[n] && (e.enableVertexAttribArray(n), d[n] = 1), p[n] !== r) && ((i ? e : t.get("ANGLE_instanced_arrays"))[i ? "vertexAttribDivisor" : "vertexAttribDivisorANGLE"](n, r), p[n] = r)
                }

                function _e(t) {
                    !0 !== f[t] && (e.enable(t), f[t] = !0)
                }

                function be(t) {
                    !1 !== f[t] && (e.disable(t), f[t] = !1)
                }
                ge[3553] = ve(3553, 3553, 1), ge[34067] = ve(34067, 34069, 6), r.setClear(0, 0, 0, 1), o.setClear(1), c.setClear(0), _e(2929), o.setFunc(J), Me(!1), Ee(s), _e(2884), Se(S);
                var we = {
                    [L]: 32774,
                    [O]: 32778,
                    [R]: 32779
                };
                if (i) we[k] = 32775, we[I] = 32776;
                else {
                    var xe = t.get("EXT_blend_minmax");
                    null !== xe && (we[k] = xe.MIN_EXT, we[I] = xe.MAX_EXT)
                }
                var Te = {
                    [D]: 0,
                    [B]: 1,
                    [N]: 768,
                    [j]: 770,
                    [W]: 776,
                    [z]: 774,
                    [F]: 772,
                    [G]: 769,
                    [H]: 771,
                    [V]: 775,
                    [U]: 773
                };

                function Se(t, n, i, r, o, a, s, l) {
                    if (t !== S) {
                        if (v || (_e(3042), v = !0), t === C) o = o || n, a = a || i, s = s || r, n === b && o === T || (e.blendEquationSeparate(we[n], we[o]), b = n, T = o), i === w && r === x && a === ee && s === te || (e.blendFuncSeparate(Te[i], Te[r], Te[a], Te[s]), w = i, x = r, ee = a, te = s), _ = t, ne = null;
                        else if (t !== _ || l !== ne) {
                            if (b === L && T === L || (e.blendEquation(32774), b = L, T = L), l) switch (t) {
                                case M:
                                    e.blendFuncSeparate(1, 771, 1, 771);
                                    break;
                                case E:
                                    e.blendFunc(1, 1);
                                    break;
                                case A:
                                    e.blendFuncSeparate(0, 0, 769, 771);
                                    break;
                                case P:
                                    e.blendFuncSeparate(0, 768, 0, 770);
                                    break;
                                default:
                                    console.error("THREE.WebGLState: Invalid blending: ", t)
                            } else switch (t) {
                                case M:
                                    e.blendFuncSeparate(770, 771, 1, 771);
                                    break;
                                case E:
                                    e.blendFunc(770, 1);
                                    break;
                                case A:
                                    e.blendFunc(0, 769);
                                    break;
                                case P:
                                    e.blendFunc(0, 768);
                                    break;
                                default:
                                    console.error("THREE.WebGLState: Invalid blending: ", t)
                            }
                            w = null, x = null, ee = null, te = null, _ = t, ne = l
                        }
                    } else v && (be(3042), v = !1)
                }

                function Me(t) {
                    ie !== t && (t ? e.frontFace(2304) : e.frontFace(2305), ie = t)
                }

                function Ee(t) {
                    t !== a ? (_e(2884), t !== re && (t === s ? e.cullFace(1029) : t === l ? e.cullFace(1028) : e.cullFace(1032))) : be(2884), re = t
                }

                function Ae(t, n, i) {
                    t ? (_e(32823), ae === n && se === i || (e.polygonOffset(n, i), ae = n, se = i)) : be(32823)
                }

                function Pe(t) {
                    void 0 === t && (t = 33984 + le - 1), de !== t && (e.activeTexture(t), de = t)
                }
                return {
                    buffers: {
                        color: r,
                        depth: o,
                        stencil: c
                    },
                    initAttributes: function () {
                        for (var e = 0, t = h.length; e < t; e++) h[e] = 0
                    },
                    enableAttribute: function (e) {
                        ye(e, 0)
                    },
                    enableAttributeAndDivisor: ye,
                    disableUnusedAttributes: function () {
                        for (var t = 0, n = d.length; t !== n; ++t) d[t] !== h[t] && (e.disableVertexAttribArray(t), d[t] = 0)
                    },
                    enable: _e,
                    disable: be,
                    useProgram: function (t) {
                        return m !== t && (e.useProgram(t), m = t, !0)
                    },
                    setBlending: Se,
                    setMaterial: function (e, t) {
                        e.side === y ? be(2884) : _e(2884);
                        var n = e.side === g;
                        t && (n = !n), Me(n), e.blending === M && !1 === e.transparent ? Se(S) : Se(e.blending, e.blendEquation, e.blendSrc, e.blendDst, e.blendEquationAlpha, e.blendSrcAlpha, e.blendDstAlpha, e.premultipliedAlpha), o.setFunc(e.depthFunc), o.setTest(e.depthTest), o.setMask(e.depthWrite), r.setMask(e.colorWrite);
                        var i = e.stencilWrite;
                        c.setTest(i), i && (c.setMask(e.stencilWriteMask), c.setFunc(e.stencilFunc, e.stencilRef, e.stencilFuncMask), c.setOp(e.stencilFail, e.stencilZFail, e.stencilZPass)), Ae(e.polygonOffset, e.polygonOffsetFactor, e.polygonOffsetUnits)
                    },
                    setFlipSided: Me,
                    setCullFace: Ee,
                    setLineWidth: function (t) {
                        t !== oe && (ce && e.lineWidth(t), oe = t)
                    },
                    setPolygonOffset: Ae,
                    setScissorTest: function (e) {
                        e ? _e(3089) : be(3089)
                    },
                    activeTexture: Pe,
                    bindTexture: function (t, n) {
                        null === de && Pe();
                        var i = pe[de];
                        void 0 === i && (i = {
                            type: void 0,
                            texture: void 0
                        }, pe[de] = i), i.type === t && i.texture === n || (e.bindTexture(t, n || ge[t]), i.type = t, i.texture = n)
                    },
                    unbindTexture: function () {
                        var t = pe[de];
                        void 0 !== t && void 0 !== t.type && (e.bindTexture(t.type, null), t.type = void 0, t.texture = void 0)
                    },
                    compressedTexImage2D: function () {
                        try {
                            e.compressedTexImage2D.apply(e, arguments)
                        } catch (e) {
                            console.error("THREE.WebGLState:", e)
                        }
                    },
                    texImage2D: function () {
                        try {
                            e.texImage2D.apply(e, arguments)
                        } catch (e) {
                            console.error("THREE.WebGLState:", e)
                        }
                    },
                    texImage3D: function () {
                        try {
                            e.texImage3D.apply(e, arguments)
                        } catch (e) {
                            console.error("THREE.WebGLState:", e)
                        }
                    },
                    scissor: function (t) {
                        !1 === fe.equals(t) && (e.scissor(t.x, t.y, t.z, t.w), fe.copy(t))
                    },
                    viewport: function (t) {
                        !1 === me.equals(t) && (e.viewport(t.x, t.y, t.z, t.w), me.copy(t))
                    },
                    reset: function () {
                        for (var t = 0; t < d.length; t++) 1 === d[t] && (e.disableVertexAttribArray(t), d[t] = 0);
                        f = {}, de = null, pe = {}, m = null, _ = null, ie = null, re = null, r.reset(), o.reset(), c.reset()
                    }
                }
            }

            function us(e, t, n, i, r, o, a) {
                var s, l = r.isWebGL2,
                    c = r.maxTextures,
                    u = r.maxCubemapSize,
                    h = r.maxTextureSize,
                    d = r.maxSamples,
                    p = new WeakMap,
                    f = !1;
                try {
                    f = "undefined" != typeof OffscreenCanvas && null !== new OffscreenCanvas(1, 1).getContext("2d")
                } catch (e) {}

                function m(e, t) {
                    return f ? new OffscreenCanvas(e, t) : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")
                }

                function v(e, t, n, i) {
                    var r = 1;
                    if ((e.width > i || e.height > i) && (r = i / Math.max(e.width, e.height)), r < 1 || !0 === t) {
                        if ("undefined" != typeof HTMLImageElement && e instanceof HTMLImageElement || "undefined" != typeof HTMLCanvasElement && e instanceof HTMLCanvasElement || "undefined" != typeof ImageBitmap && e instanceof ImageBitmap) {
                            var o = t ? Mn.floorPowerOfTwo : Math.floor,
                                a = o(r * e.width),
                                l = o(r * e.height);
                            void 0 === s && (s = m(a, l));
                            var c = n ? m(a, l) : s;
                            return c.width = a, c.height = l, c.getContext("2d").drawImage(e, 0, 0, a, l), console.warn("THREE.WebGLRenderer: Texture has been resized from (" + e.width + "x" + e.height + ") to (" + a + "x" + l + ")."), c
                        }
                        return "data" in e && console.warn("THREE.WebGLRenderer: Image in DataTexture is too big (" + e.width + "x" + e.height + ")."), e
                    }
                    return e
                }

                function g(e) {
                    return Mn.isPowerOfTwo(e.width) && Mn.isPowerOfTwo(e.height)
                }

                function y(e, t) {
                    return e.generateMipmaps && t && e.minFilter !== be && e.minFilter !== Me
                }

                function _(t, n, r, o) {
                    e.generateMipmap(t), i.get(n).__maxMipLevel = Math.log(Math.max(r, o)) * Math.LOG2E
                }

                function b(n, i, r) {
                    if (!1 === l) return i;
                    if (null !== n) {
                        if (void 0 !== e[n]) return e[n];
                        console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '" + n + "'")
                    }
                    var o = i;
                    return 6403 === i && (5126 === r && (o = 33326), 5131 === r && (o = 33325), 5121 === r && (o = 33321)), 6407 === i && (5126 === r && (o = 34837), 5131 === r && (o = 34843), 5121 === r && (o = 32849)), 6408 === i && (5126 === r && (o = 34836), 5131 === r && (o = 34842), 5121 === r && (o = 32856)), 33325 === o || 33326 === o || 34842 === o || 34836 === o ? t.get("EXT_color_buffer_float") : 34843 !== o && 34837 !== o || console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."), o
                }

                function w(e) {
                    return e === be || e === we || e === Te ? 9728 : 9729
                }

                function x(t) {
                    var n = t.target;
                    n.removeEventListener("dispose", x),
                        function (t) {
                            var n = i.get(t);
                            if (void 0 === n.__webglInit) return;
                            e.deleteTexture(n.__webglTexture), i.remove(t)
                        }(n), n.isVideoTexture && p.delete(n), a.memory.textures--
                }

                function T(t) {
                    var n = t.target;
                    n.removeEventListener("dispose", T),
                        function (t) {
                            var n = i.get(t),
                                r = i.get(t.texture);
                            if (!t) return;
                            void 0 !== r.__webglTexture && e.deleteTexture(r.__webglTexture);
                            t.depthTexture && t.depthTexture.dispose();
                            if (t.isWebGLCubeRenderTarget)
                                for (var o = 0; o < 6; o++) e.deleteFramebuffer(n.__webglFramebuffer[o]), n.__webglDepthbuffer && e.deleteRenderbuffer(n.__webglDepthbuffer[o]);
                            else e.deleteFramebuffer(n.__webglFramebuffer), n.__webglDepthbuffer && e.deleteRenderbuffer(n.__webglDepthbuffer);
                            if (t.isWebGLMultiviewRenderTarget) {
                                e.deleteTexture(n.__webglColorTexture), e.deleteTexture(n.__webglDepthStencilTexture), a.memory.textures -= 2;
                                o = 0;
                                for (var s = n.__webglViewFramebuffers.length; o < s; o++) e.deleteFramebuffer(n.__webglViewFramebuffers[o])
                            }
                            i.remove(t.texture), i.remove(t)
                        }(n), a.memory.textures--
                }
                var S = 0;

                function M(e, t) {
                    var r = i.get(e);
                    if (e.isVideoTexture && function (e) {
                            var t = a.render.frame;
                            p.get(e) !== t && (p.set(e, t), e.update())
                        }(e), e.version > 0 && r.__version !== e.version) {
                        var o = e.image;
                        if (void 0 === o) console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");
                        else {
                            if (!1 !== o.complete) return void R(r, e, t);
                            console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")
                        }
                    }
                    n.activeTexture(33984 + t), n.bindTexture(3553, r.__webglTexture)
                }

                function E(t, r) {
                    if (6 === t.image.length) {
                        var a = i.get(t);
                        if (t.version > 0 && a.__version !== t.version) {
                            O(a, t), n.activeTexture(33984 + r), n.bindTexture(34067, a.__webglTexture), e.pixelStorei(37440, t.flipY);
                            for (var s = t && (t.isCompressedTexture || t.image[0].isCompressedTexture), c = t.image[0] && t.image[0].isDataTexture, h = [], d = 0; d < 6; d++) h[d] = s || c ? c ? t.image[d].image : t.image[d] : v(t.image[d], !1, !0, u);
                            var p, f = h[0],
                                m = g(f) || l,
                                w = o.convert(t.format),
                                x = o.convert(t.type),
                                T = b(t.internalFormat, w, x);
                            if (L(34067, t, m), s) {
                                for (d = 0; d < 6; d++) {
                                    p = h[d].mipmaps;
                                    for (var S = 0; S < p.length; S++) {
                                        var M = p[S];
                                        t.format !== Ve && t.format !== ze ? null !== w ? n.compressedTexImage2D(34069 + d, S, T, M.width, M.height, 0, M.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : n.texImage2D(34069 + d, S, T, M.width, M.height, 0, w, x, M.data)
                                    }
                                }
                                a.__maxMipLevel = p.length - 1
                            } else {
                                p = t.mipmaps;
                                for (d = 0; d < 6; d++)
                                    if (c) {
                                        n.texImage2D(34069 + d, 0, T, h[d].width, h[d].height, 0, w, x, h[d].data);
                                        for (S = 0; S < p.length; S++) {
                                            var E = (M = p[S]).image[d].image;
                                            n.texImage2D(34069 + d, S + 1, T, E.width, E.height, 0, w, x, E.data)
                                        }
                                    } else {
                                        n.texImage2D(34069 + d, 0, T, w, x, h[d]);
                                        for (S = 0; S < p.length; S++) {
                                            M = p[S];
                                            n.texImage2D(34069 + d, S + 1, T, w, x, M.image[d])
                                        }
                                    } a.__maxMipLevel = p.length
                            }
                            y(t, m) && _(34067, t, f.width, f.height), a.__version = t.version, t.onUpdate && t.onUpdate(t)
                        } else n.activeTexture(33984 + r), n.bindTexture(34067, a.__webglTexture)
                    }
                }

                function A(e, t) {
                    n.activeTexture(33984 + t), n.bindTexture(34067, i.get(e).__webglTexture)
                }
                var P = {
                        [ge]: 10497,
                        [ye]: 33071,
                        [_e]: 33648
                    },
                    C = {
                        [be]: 9728,
                        [we]: 9984,
                        [Te]: 9986,
                        [Me]: 9729,
                        [Ee]: 9985,
                        [Pe]: 9987
                    };

                function L(n, o, a) {
                    a ? (e.texParameteri(n, 10242, P[o.wrapS]), e.texParameteri(n, 10243, P[o.wrapT]), 32879 !== n && 35866 !== n || e.texParameteri(n, 32882, P[o.wrapR]), e.texParameteri(n, 10240, C[o.magFilter]), e.texParameteri(n, 10241, C[o.minFilter])) : (e.texParameteri(n, 10242, 33071), e.texParameteri(n, 10243, 33071), 32879 !== n && 35866 !== n || e.texParameteri(n, 32882, 33071), o.wrapS === ye && o.wrapT === ye || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."), e.texParameteri(n, 10240, w(o.magFilter)), e.texParameteri(n, 10241, w(o.minFilter)), o.minFilter !== be && o.minFilter !== Me && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));
                    var s = t.get("EXT_texture_filter_anisotropic");
                    if (s) {
                        if (o.type === Be && null === t.get("OES_texture_float_linear")) return;
                        if (o.type === Ne && null === (l || t.get("OES_texture_half_float_linear"))) return;
                        (o.anisotropy > 1 || i.get(o).__currentAnisotropy) && (e.texParameterf(n, s.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(o.anisotropy, r.getMaxAnisotropy())), i.get(o).__currentAnisotropy = o.anisotropy)
                    }
                }

                function O(t, n) {
                    void 0 === t.__webglInit && (t.__webglInit = !0, n.addEventListener("dispose", x), t.__webglTexture = e.createTexture(), a.memory.textures++)
                }

                function R(t, i, r) {
                    var a = 3553;
                    i.isDataTexture2DArray && (a = 35866), i.isDataTexture3D && (a = 32879), O(t, i), n.activeTexture(33984 + r), n.bindTexture(a, t.__webglTexture), e.pixelStorei(37440, i.flipY), e.pixelStorei(37441, i.premultiplyAlpha), e.pixelStorei(3317, i.unpackAlignment);
                    var s = function (e) {
                            return !l && (e.wrapS !== ye || e.wrapT !== ye || e.minFilter !== be && e.minFilter !== Me)
                        }(i) && !1 === g(i.image),
                        c = v(i.image, s, !1, h),
                        u = g(c) || l,
                        d = o.convert(i.format),
                        p = o.convert(i.type),
                        f = b(i.internalFormat, d, p);
                    L(a, i, u);
                    var m, w = i.mipmaps;
                    if (i.isDepthTexture) {
                        if (f = 6402, i.type === Be) {
                            if (!1 === l) throw new Error("Float Depth Texture only supported in WebGL2.0");
                            f = 36012
                        } else l && (f = 33189);
                        i.format === Ye && 6402 === f && i.type !== ke && i.type !== De && (console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."), i.type = ke, p = o.convert(i.type)), i.format === Je && (f = 34041, i.type !== Fe && (console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."), i.type = Fe, p = o.convert(i.type))), n.texImage2D(3553, 0, f, c.width, c.height, 0, d, p, null)
                    } else if (i.isDataTexture)
                        if (w.length > 0 && u) {
                            for (var x = 0, T = w.length; x < T; x++) m = w[x], n.texImage2D(3553, x, f, m.width, m.height, 0, d, p, m.data);
                            i.generateMipmaps = !1, t.__maxMipLevel = w.length - 1
                        } else n.texImage2D(3553, 0, f, c.width, c.height, 0, d, p, c.data), t.__maxMipLevel = 0;
                    else if (i.isCompressedTexture) {
                        for (x = 0, T = w.length; x < T; x++) m = w[x], i.format !== Ve && i.format !== ze ? null !== d ? n.compressedTexImage2D(3553, x, f, m.width, m.height, 0, m.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : n.texImage2D(3553, x, f, m.width, m.height, 0, d, p, m.data);
                        t.__maxMipLevel = w.length - 1
                    } else if (i.isDataTexture2DArray) n.texImage3D(35866, 0, f, c.width, c.height, c.depth, 0, d, p, c.data), t.__maxMipLevel = 0;
                    else if (i.isDataTexture3D) n.texImage3D(32879, 0, f, c.width, c.height, c.depth, 0, d, p, c.data), t.__maxMipLevel = 0;
                    else if (w.length > 0 && u) {
                        for (x = 0, T = w.length; x < T; x++) m = w[x], n.texImage2D(3553, x, f, d, p, m);
                        i.generateMipmaps = !1, t.__maxMipLevel = w.length - 1
                    } else n.texImage2D(3553, 0, f, d, p, c), t.__maxMipLevel = 0;
                    y(i, u) && _(a, i, c.width, c.height), t.__version = i.version, i.onUpdate && i.onUpdate(i)
                }

                function k(t, r, a, s) {
                    var l = o.convert(r.texture.format),
                        c = o.convert(r.texture.type),
                        u = b(r.texture.internalFormat, l, c);
                    n.texImage2D(s, 0, u, r.width, r.height, 0, l, c, null), e.bindFramebuffer(36160, t), e.framebufferTexture2D(36160, a, s, i.get(r.texture).__webglTexture, 0), e.bindFramebuffer(36160, null)
                }

                function I(t, n, i) {
                    if (e.bindRenderbuffer(36161, t), n.depthBuffer && !n.stencilBuffer) {
                        if (i) {
                            var r = B(n);
                            e.renderbufferStorageMultisample(36161, r, 33189, n.width, n.height)
                        } else e.renderbufferStorage(36161, 33189, n.width, n.height);
                        e.framebufferRenderbuffer(36160, 36096, 36161, t)
                    } else if (n.depthBuffer && n.stencilBuffer) {
                        if (i) {
                            r = B(n);
                            e.renderbufferStorageMultisample(36161, r, 35056, n.width, n.height)
                        } else e.renderbufferStorage(36161, 34041, n.width, n.height);
                        e.framebufferRenderbuffer(36160, 33306, 36161, t)
                    } else {
                        var a = o.convert(n.texture.format),
                            s = o.convert(n.texture.type),
                            l = b(n.texture.internalFormat, a, s);
                        if (i) {
                            r = B(n);
                            e.renderbufferStorageMultisample(36161, r, l, n.width, n.height)
                        } else e.renderbufferStorage(36161, l, n.width, n.height)
                    }
                    e.bindRenderbuffer(36161, null)
                }

                function D(t) {
                    var n = i.get(t),
                        r = !0 === t.isWebGLCubeRenderTarget;
                    if (t.depthTexture) {
                        if (r) throw new Error("target.depthTexture not supported in Cube render targets");
                        ! function (t, n) {
                            if (n && n.isWebGLCubeRenderTarget) throw new Error("Depth Texture with cube render targets is not supported");
                            if (e.bindFramebuffer(36160, t), !n.depthTexture || !n.depthTexture.isDepthTexture) throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                            i.get(n.depthTexture).__webglTexture && n.depthTexture.image.width === n.width && n.depthTexture.image.height === n.height || (n.depthTexture.image.width = n.width, n.depthTexture.image.height = n.height, n.depthTexture.needsUpdate = !0), M(n.depthTexture, 0);
                            var r = i.get(n.depthTexture).__webglTexture;
                            if (n.depthTexture.format === Ye) e.framebufferTexture2D(36160, 36096, 3553, r, 0);
                            else {
                                if (n.depthTexture.format !== Je) throw new Error("Unknown depthTexture format");
                                e.framebufferTexture2D(36160, 33306, 3553, r, 0)
                            }
                        }(n.__webglFramebuffer, t)
                    } else if (r) {
                        n.__webglDepthbuffer = [];
                        for (var o = 0; o < 6; o++) e.bindFramebuffer(36160, n.__webglFramebuffer[o]), n.__webglDepthbuffer[o] = e.createRenderbuffer(), I(n.__webglDepthbuffer[o], t)
                    } else e.bindFramebuffer(36160, n.__webglFramebuffer), n.__webglDepthbuffer = e.createRenderbuffer(), I(n.__webglDepthbuffer, t);
                    e.bindFramebuffer(36160, null)
                }

                function B(e) {
                    return l && e.isWebGLMultisampleRenderTarget ? Math.min(d, e.samples) : 0
                }
                var N = !1,
                    G = !1;
                this.allocateTextureUnit = function () {
                    var e = S;
                    return e >= c && console.warn("THREE.WebGLTextures: Trying to use " + e + " texture units while this GPU supports only " + c), S += 1, e
                }, this.resetTextureUnits = function () {
                    S = 0
                }, this.setTexture2D = M, this.setTexture2DArray = function (e, t) {
                    var r = i.get(e);
                    e.version > 0 && r.__version !== e.version ? R(r, e, t) : (n.activeTexture(33984 + t), n.bindTexture(35866, r.__webglTexture))
                }, this.setTexture3D = function (e, t) {
                    var r = i.get(e);
                    e.version > 0 && r.__version !== e.version ? R(r, e, t) : (n.activeTexture(33984 + t), n.bindTexture(32879, r.__webglTexture))
                }, this.setTextureCube = E, this.setTextureCubeDynamic = A, this.setupRenderTarget = function (r) {
                    var s = i.get(r),
                        c = i.get(r.texture);
                    r.addEventListener("dispose", T), c.__webglTexture = e.createTexture(), a.memory.textures++;
                    var u = !0 === r.isWebGLCubeRenderTarget,
                        h = !0 === r.isWebGLMultisampleRenderTarget,
                        d = !0 === r.isWebGLMultiviewRenderTarget,
                        p = g(r) || l;
                    if (u) {
                        s.__webglFramebuffer = [];
                        for (var f = 0; f < 6; f++) s.__webglFramebuffer[f] = e.createFramebuffer()
                    } else if (s.__webglFramebuffer = e.createFramebuffer(), h)
                        if (l) {
                            s.__webglMultisampledFramebuffer = e.createFramebuffer(), s.__webglColorRenderbuffer = e.createRenderbuffer(), e.bindRenderbuffer(36161, s.__webglColorRenderbuffer);
                            var m = o.convert(r.texture.format),
                                v = o.convert(r.texture.type),
                                w = b(r.texture.internalFormat, m, v),
                                x = B(r);
                            e.renderbufferStorageMultisample(36161, x, w, r.width, r.height), e.bindFramebuffer(36160, s.__webglMultisampledFramebuffer), e.framebufferRenderbuffer(36160, 36064, 36161, s.__webglColorRenderbuffer), e.bindRenderbuffer(36161, null), r.depthBuffer && (s.__webglDepthRenderbuffer = e.createRenderbuffer(), I(s.__webglDepthRenderbuffer, r, !0)), e.bindFramebuffer(36160, null)
                        } else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");
                    else if (d) {
                        var S = r.width,
                            M = r.height,
                            E = r.numViews;
                        e.bindFramebuffer(36160, s.__webglFramebuffer);
                        var A = t.get("OVR_multiview2");
                        a.memory.textures += 2;
                        var P = e.createTexture();
                        e.bindTexture(35866, P), e.texParameteri(35866, 10240, 9728), e.texParameteri(35866, 10241, 9728), e.texImage3D(35866, 0, 32856, S, M, E, 0, 6408, 5121, null), A.framebufferTextureMultiviewOVR(36160, 36064, P, 0, 0, E);
                        var C = e.createTexture();
                        e.bindTexture(35866, C), e.texParameteri(35866, 10240, 9728), e.texParameteri(35866, 10241, 9728), e.texImage3D(35866, 0, 35056, S, M, E, 0, 34041, 34042, null), A.framebufferTextureMultiviewOVR(36160, 33306, C, 0, 0, E);
                        var O = new Array(E);
                        for (f = 0; f < E; ++f) O[f] = e.createFramebuffer(), e.bindFramebuffer(36160, O[f]), e.framebufferTextureLayer(36160, 36064, P, 0, f);
                        s.__webglColorTexture = P, s.__webglDepthStencilTexture = C, s.__webglViewFramebuffers = O, e.bindFramebuffer(36160, null), e.bindTexture(35866, null)
                    }
                    if (u) {
                        n.bindTexture(34067, c.__webglTexture), L(34067, r.texture, p);
                        for (f = 0; f < 6; f++) k(s.__webglFramebuffer[f], r, 36064, 34069 + f);
                        y(r.texture, p) && _(34067, r.texture, r.width, r.height), n.bindTexture(34067, null)
                    } else d || (n.bindTexture(3553, c.__webglTexture), L(3553, r.texture, p), k(s.__webglFramebuffer, r, 36064, 3553), y(r.texture, p) && _(3553, r.texture, r.width, r.height), n.bindTexture(3553, null));
                    r.depthBuffer && D(r)
                }, this.updateRenderTargetMipmap = function (e) {
                    var t = e.texture;
                    if (y(t, g(e) || l)) {
                        var r = e.isWebGLCubeRenderTarget ? 34067 : 3553,
                            o = i.get(t).__webglTexture;
                        n.bindTexture(r, o), _(r, t, e.width, e.height), n.bindTexture(r, null)
                    }
                }, this.updateMultisampleRenderTarget = function (t) {
                    if (t.isWebGLMultisampleRenderTarget)
                        if (l) {
                            var n = i.get(t);
                            e.bindFramebuffer(36008, n.__webglMultisampledFramebuffer), e.bindFramebuffer(36009, n.__webglFramebuffer);
                            var r = t.width,
                                o = t.height,
                                a = 16384;
                            t.depthBuffer && (a |= 256), t.stencilBuffer && (a |= 1024), e.blitFramebuffer(0, 0, r, o, 0, 0, r, o, a, 9728)
                        } else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")
                }, this.safeSetTexture2D = function (e, t) {
                    e && e.isWebGLRenderTarget && (!1 === N && (console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."), N = !0), e = e.texture), M(e, t)
                }, this.safeSetTextureCube = function (e, t) {
                    e && e.isWebGLCubeRenderTarget && (!1 === G && (console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."), G = !0), e = e.texture), e && e.isCubeTexture || Array.isArray(e.image) && 6 === e.image.length ? E(e, t) : A(e, t)
                }
            }

            function hs(e, t, n) {
                var i = n.isWebGL2;
                return {
                    convert: function (e) {
                        var n;
                        if (e === Le) return 5121;
                        if (e === Ge) return 32819;
                        if (e === je) return 32820;
                        if (e === He) return 33635;
                        if (e === Oe) return 5120;
                        if (e === Re) return 5122;
                        if (e === ke) return 5123;
                        if (e === Ie) return 5124;
                        if (e === De) return 5125;
                        if (e === Be) return 5126;
                        if (e === Ne) return i ? 5131 : null !== (n = t.get("OES_texture_half_float")) ? n.HALF_FLOAT_OES : null;
                        if (e === Ue) return 6406;
                        if (e === ze) return 6407;
                        if (e === Ve) return 6408;
                        if (e === We) return 6409;
                        if (e === qe) return 6410;
                        if (e === Ye) return 6402;
                        if (e === Je) return 34041;
                        if (e === Ke) return 6403;
                        if (e === Ze) return 36244;
                        if (e === $e) return 33319;
                        if (e === Qe) return 33320;
                        if (e === et) return 36248;
                        if (e === tt) return 36249;
                        if (e === nt || e === it || e === rt || e === ot) {
                            if (null === (n = t.get("WEBGL_compressed_texture_s3tc"))) return null;
                            if (e === nt) return n.COMPRESSED_RGB_S3TC_DXT1_EXT;
                            if (e === it) return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                            if (e === rt) return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                            if (e === ot) return n.COMPRESSED_RGBA_S3TC_DXT5_EXT
                        }
                        if (e === at || e === st || e === lt || e === ct) {
                            if (null === (n = t.get("WEBGL_compressed_texture_pvrtc"))) return null;
                            if (e === at) return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                            if (e === st) return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                            if (e === lt) return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                            if (e === ct) return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                        }
                        return e === ut ? null !== (n = t.get("WEBGL_compressed_texture_etc1")) ? n.COMPRESSED_RGB_ETC1_WEBGL : null : e === ht || e === dt || e === pt || e === ft || e === mt || e === vt || e === gt || e === yt || e === _t || e === bt || e === wt || e === xt || e === Tt || e === St ? null !== (n = t.get("WEBGL_compressed_texture_astc")) ? e : null : e === Fe ? i ? 34042 : null !== (n = t.get("WEBGL_depth_texture")) ? n.UNSIGNED_INT_24_8_WEBGL : null : void 0
                    }
                }
            }

            function ds(e, t, n, i) {
                Rn.call(this, e, t, i), this.depthBuffer = !1, this.stencilBuffer = !1, this.numViews = n
            }

            function ps(e, t) {
                var n, i, r, o, a, s, l, c = e.extensions,
                    u = e.properties,
                    h = 0;

                function d(e) {
                    return e.isArrayCamera ? e.cameras : (a[0] = e, a)
                }
                this.isAvailable = function () {
                    if (void 0 === l) {
                        var e = c.get("OVR_multiview2");
                        if (l = null !== e && !1 === t.getContextAttributes().antialias) {
                            h = t.getParameter(e.MAX_VIEWS_OVR), n = new ds(0, 0, 2), s = new En, o = [], r = [], a = [];
                            for (var i = 0; i < h; i++) o[i] = new Wn, r[i] = new An
                        }
                    }
                    return l
                }, this.attachCamera = function (t) {
                    !1 !== function (e) {
                        if (void 0 === e.isArrayCamera) return !0;
                        var t = e.cameras;
                        if (t.length > h) return !1;
                        for (var n = 1, i = t.length; n < i; n++)
                            if (t[0].viewport.z !== t[n].viewport.z || t[0].viewport.w !== t[n].viewport.w) return !1;
                        return !0
                    }(t) && (i = e.getRenderTarget(), function (t) {
                        if (i ? s.set(i.width, i.height) : e.getDrawingBufferSize(s), t.isArrayCamera) {
                            var r = t.cameras[0].viewport;
                            n.setSize(r.z, r.w), n.setNumViews(t.cameras.length)
                        } else n.setSize(s.x, s.y), n.setNumViews(2)
                    }(t), e.setRenderTarget(n))
                }, this.detachCamera = function (r) {
                    n === e.getRenderTarget() && (e.setRenderTarget(i), function (e) {
                        var i = n,
                            r = i.numViews,
                            o = u.get(i).__webglViewFramebuffers,
                            a = i.width,
                            l = i.height;
                        if (e.isArrayCamera)
                            for (var c = 0; c < r; c++) {
                                var h = e.cameras[c].viewport,
                                    d = h.x,
                                    p = h.y,
                                    f = d + h.z,
                                    m = p + h.w;
                                t.bindFramebuffer(36008, o[c]), t.blitFramebuffer(0, 0, a, l, d, p, f, m, 16384, 9728)
                            } else t.bindFramebuffer(36008, o[0]), t.blitFramebuffer(0, 0, a, l, 0, 0, s.x, s.y, 16384, 9728)
                    }(r))
                }, this.updateCameraProjectionMatricesUniform = function (e, n) {
                    for (var i = d(e), r = 0; r < i.length; r++) o[r].copy(i[r].projectionMatrix);
                    n.setValue(t, "projectionMatrices", o)
                }, this.updateCameraViewMatricesUniform = function (e, n) {
                    for (var i = d(e), r = 0; r < i.length; r++) o[r].copy(i[r].matrixWorldInverse);
                    n.setValue(t, "viewMatrices", o)
                }, this.updateObjectMatricesUniforms = function (e, n, i) {
                    for (var a = d(n), s = 0; s < a.length; s++) o[s].multiplyMatrices(a[s].matrixWorldInverse, e.matrixWorld), r[s].getNormalMatrix(o[s]);
                    i.setValue(t, "modelViewMatrices", o), i.setValue(t, "normalMatrices", r)
                }
            }

            function fs(e) {
                so.call(this), this.cameras = e || []
            }

            function ms() {
                ci.call(this), this.type = "Group"
            }

            function vs(e, t) {
                var n = this,
                    i = null,
                    r = null,
                    o = "local-floor",
                    a = null,
                    s = [],
                    l = new Map,
                    c = new so;
                c.layers.enable(1), c.viewport = new On;
                var u = new so;
                u.layers.enable(2), u.viewport = new On;
                var h = new fs([c, u]);
                h.layers.enable(1), h.layers.enable(2);
                var d = null,
                    p = null;

                function f(e) {
                    var t = l.get(e.inputSource);
                    t && (t.targetRay && t.targetRay.dispatchEvent({
                        type: e.type
                    }), t.grip && t.grip.dispatchEvent({
                        type: e.type
                    }))
                }

                function m() {
                    l.forEach((function (e, t) {
                        e.targetRay && (e.targetRay.dispatchEvent({
                            type: "disconnected",
                            data: t
                        }), e.targetRay.visible = !1), e.grip && (e.grip.dispatchEvent({
                            type: "disconnected",
                            data: t
                        }), e.grip.visible = !1)
                    })), l.clear(), e.setFramebuffer(null), e.setRenderTarget(e.getRenderTarget()), x.stop(), n.isPresenting = !1, n.dispatchEvent({
                        type: "sessionend"
                    })
                }

                function v(e) {
                    r = e, x.setContext(i), x.start(), n.isPresenting = !0, n.dispatchEvent({
                        type: "sessionstart"
                    })
                }

                function g(e) {
                    for (var t = i.inputSources, n = 0; n < s.length; n++) l.set(t[n], s[n]);
                    for (n = 0; n < e.removed.length; n++) {
                        var r = e.removed[n];
                        (o = l.get(r)) && (o.targetRay && o.targetRay.dispatchEvent({
                            type: "disconnected",
                            data: r
                        }), o.grip && o.grip.dispatchEvent({
                            type: "disconnected",
                            data: r
                        }), l.delete(r))
                    }
                    for (n = 0; n < e.added.length; n++) {
                        var o;
                        r = e.added[n];
                        (o = l.get(r)) && (o.targetRay && o.targetRay.dispatchEvent({
                            type: "connected",
                            data: r
                        }), o.grip && o.grip.dispatchEvent({
                            type: "connected",
                            data: r
                        }))
                    }
                }
                this.enabled = !1, this.isPresenting = !1, this.getController = function (e) {
                    var t = s[e];
                    return void 0 === t && (t = {}, s[e] = t), void 0 === t.targetRay && (t.targetRay = new ms, t.targetRay.matrixAutoUpdate = !1, t.targetRay.visible = !1), t.targetRay
                }, this.getControllerGrip = function (e) {
                    var t = s[e];
                    return void 0 === t && (t = {}, s[e] = t), void 0 === t.grip && (t.grip = new ms, t.grip.matrixAutoUpdate = !1, t.grip.visible = !1), t.grip
                }, this.setFramebufferScaleFactor = function () {}, this.setReferenceSpaceType = function (e) {
                    o = e
                }, this.getReferenceSpace = function () {
                    return r
                }, this.getSession = function () {
                    return i
                }, this.setSession = function (e) {
                    if (null !== (i = e)) {
                        i.addEventListener("select", f), i.addEventListener("selectstart", f), i.addEventListener("selectend", f), i.addEventListener("squeeze", f), i.addEventListener("squeezestart", f), i.addEventListener("squeezeend", f), i.addEventListener("end", m);
                        var n = t.getContextAttributes(),
                            r = {
                                antialias: n.antialias,
                                alpha: n.alpha,
                                depth: n.depth,
                                stencil: n.stencil
                            },
                            a = new XRWebGLLayer(i, t, r);
                        i.updateRenderState({
                            baseLayer: a
                        }), i.requestReferenceSpace(o).then(v), i.addEventListener("inputsourceschange", g)
                    }
                };
                var y = new Nn,
                    _ = new Nn;

                function b(e, t) {
                    null === t ? e.matrixWorld.copy(e.matrix) : e.matrixWorld.multiplyMatrices(t.matrixWorld, e.matrix), e.matrixWorldInverse.getInverse(e.matrixWorld)
                }
                this.getCamera = function (e) {
                    h.near = u.near = c.near = e.near, h.far = u.far = c.far = e.far, d === h.near && p === h.far || (i.updateRenderState({
                        depthNear: h.near,
                        depthFar: h.far
                    }), d = h.near, p = h.far);
                    var t = e.parent,
                        n = h.cameras;
                    b(h, t);
                    for (var r = 0; r < n.length; r++) b(n[r], t);
                    e.matrixWorld.copy(h.matrixWorld);
                    for (var o = e.children, a = (r = 0, o.length); r < a; r++) o[r].updateMatrixWorld(!0);
                    return function (e, t, n) {
                        y.setFromMatrixPosition(t.matrixWorld), _.setFromMatrixPosition(n.matrixWorld);
                        var i = y.distanceTo(_),
                            r = t.projectionMatrix.elements,
                            o = n.projectionMatrix.elements,
                            a = r[14] / (r[10] - 1),
                            s = r[14] / (r[10] + 1),
                            l = (r[9] + 1) / r[5],
                            c = (r[9] - 1) / r[5],
                            u = (r[8] - 1) / r[0],
                            h = (o[8] + 1) / o[0],
                            d = a * u,
                            p = a * h,
                            f = i / (-u + h),
                            m = f * -u;
                        t.matrixWorld.decompose(e.position, e.quaternion, e.scale), e.translateX(m), e.translateZ(f), e.matrixWorld.compose(e.position, e.quaternion, e.scale), e.matrixWorldInverse.getInverse(e.matrixWorld);
                        var v = a + f,
                            g = s + f,
                            b = d - m,
                            w = p + (i - m),
                            x = l * s / g * v,
                            T = c * s / g * v;
                        e.projectionMatrix.makePerspective(b, w, x, T, v, g)
                    }(h, c, u), h
                };
                var w = null;
                var x = new vo;
                x.setAnimationLoop((function (t, n) {
                    if (null !== (a = n.getViewerPose(r))) {
                        var o = a.views,
                            l = i.renderState.baseLayer;
                        e.setFramebuffer(l.framebuffer);
                        for (var c = 0; c < o.length; c++) {
                            var u = o[c],
                                d = l.getViewport(u),
                                p = h.cameras[c];
                            p.matrix.fromArray(u.transform.matrix), p.projectionMatrix.fromArray(u.projectionMatrix), p.viewport.set(d.x, d.y, d.width, d.height), 0 === c && h.matrix.copy(p.matrix)
                        }
                    }
                    var f = i.inputSources;
                    for (c = 0; c < s.length; c++) {
                        var m = s[c],
                            v = f[c],
                            g = null,
                            y = null;
                        v && (m.targetRay && null !== (g = n.getPose(v.targetRaySpace, r)) && (m.targetRay.matrix.fromArray(g.transform.matrix), m.targetRay.matrix.decompose(m.targetRay.position, m.targetRay.rotation, m.targetRay.scale)), m.grip && v.gripSpace && null !== (y = n.getPose(v.gripSpace, r)) && (m.grip.matrix.fromArray(y.transform.matrix), m.grip.matrix.decompose(m.grip.position, m.grip.rotation, m.grip.scale))), m.targetRay && (m.targetRay.visible = null !== g), m.grip && (m.grip.visible = null !== y)
                    }
                    w && w(t, n)
                })), this.setAnimationLoop = function (e) {
                    w = e
                }, this.dispose = function () {}
            }

            function gs(e) {
                var t = void 0 !== (e = e || {}).canvas ? e.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"),
                    n = void 0 !== e.context ? e.context : null,
                    i = void 0 !== e.alpha && e.alpha,
                    r = void 0 === e.depth || e.depth,
                    o = void 0 === e.stencil || e.stencil,
                    a = void 0 !== e.antialias && e.antialias,
                    s = void 0 === e.premultipliedAlpha || e.premultipliedAlpha,
                    l = void 0 !== e.preserveDrawingBuffer && e.preserveDrawingBuffer,
                    c = void 0 !== e.powerPreference ? e.powerPreference : "default",
                    u = void 0 !== e.failIfMajorPerformanceCaveat && e.failIfMajorPerformanceCaveat,
                    h = null,
                    d = null;
                this.domElement = t, this.debug = {
                    checkShaderErrors: !0
                }, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.clippingPlanes = [], this.localClippingEnabled = !1, this.gammaFactor = 2, this.outputEncoding = Nt, this.physicallyCorrectLights = !1, this.toneMapping = re, this.toneMappingExposure = 1, this.toneMappingWhitePoint = 1, this.maxMorphTargets = 8, this.maxMorphNormals = 4;
                var p, f, m, v, y, _, b, w, x, T, S, M, E, A, P, C, L, O, R = this,
                    k = !1,
                    I = null,
                    D = 0,
                    B = 0,
                    N = null,
                    G = null,
                    j = -1,
                    H = {
                        geometry: null,
                        program: null,
                        wireframe: !1
                    },
                    F = null,
                    U = null,
                    z = new On,
                    V = new On,
                    W = null,
                    q = t.width,
                    X = t.height,
                    Y = 1,
                    J = null,
                    K = null,
                    Z = new On(0, 0, q, X),
                    $ = new On(0, 0, q, X),
                    Q = !1,
                    ee = new fo,
                    te = new Mo,
                    ne = !1,
                    ie = !1,
                    oe = new Wn,
                    ae = new Nn;

                function se() {
                    return null === N ? Y : 1
                }
                try {
                    var le = {
                        alpha: i,
                        depth: r,
                        stencil: o,
                        antialias: a,
                        premultipliedAlpha: s,
                        preserveDrawingBuffer: l,
                        powerPreference: c,
                        failIfMajorPerformanceCaveat: u,
                        xrCompatible: !0
                    };
                    if (t.addEventListener("webglcontextlost", pe, !1), t.addEventListener("webglcontextrestored", fe, !1), null === (p = n || t.getContext("webgl", le) || t.getContext("experimental-webgl", le))) throw null !== t.getContext("webgl") ? new Error("Error creating WebGL context with your selected attributes.") : new Error("Error creating WebGL context.");
                    void 0 === p.getShaderPrecisionFormat && (p.getShaderPrecisionFormat = function () {
                        return {
                            rangeMin: 1,
                            rangeMax: 1,
                            precision: 1
                        }
                    })
                } catch (e) {
                    throw console.error("THREE.WebGLRenderer: " + e.message), e
                }

                function ce() {
                    f = new Eo(p), !1 === (m = new So(p, f, e)).isWebGL2 && (f.get("WEBGL_depth_texture"), f.get("OES_texture_float"), f.get("OES_texture_half_float"), f.get("OES_texture_half_float_linear"), f.get("OES_standard_derivatives"), f.get("OES_element_index_uint"), f.get("ANGLE_instanced_arrays")), f.get("OES_texture_float_linear"), O = new hs(p, f, m), (v = new cs(p, f, m)).scissor(V.copy($).multiplyScalar(Y).floor()), v.viewport(z.copy(Z).multiplyScalar(Y).floor()), y = new Co(p), _ = new Ja, b = new us(p, f, v, _, m, O, y), w = new go(p, m), x = new Ao(p, w, y), T = new Ro(p, x, w, y), P = new Oo(p), S = new Ya(R, f, m), M = new Qa, E = new os, A = new xo(R, v, T, s), C = new To(p, f, y, m), L = new Po(p, f, y, m), y.programs = S.programs, R.capabilities = m, R.extensions = f, R.properties = _, R.renderLists = M, R.state = v, R.info = y
                }
                ce();
                var ue = new vs(R, p);
                this.xr = ue;
                var he = new ps(R, p),
                    de = new ls(R, T, m.maxTextureSize);

                function pe(e) {
                    e.preventDefault(), console.log("THREE.WebGLRenderer: Context Lost."), k = !0
                }

                function fe() {
                    console.log("THREE.WebGLRenderer: Context Restored."), k = !1, ce()
                }

                function me(e) {
                    var t = e.target;
                    t.removeEventListener("dispose", me),
                        function (e) {
                            ve(e), _.remove(e)
                        }(t)
                }

                function ve(e) {
                    var t = _.get(e).program;
                    e.program = void 0, void 0 !== t && S.releaseProgram(t)
                }
                this.shadowMap = de, this.getContext = function () {
                    return p
                }, this.getContextAttributes = function () {
                    return p.getContextAttributes()
                }, this.forceContextLoss = function () {
                    var e = f.get("WEBGL_lose_context");
                    e && e.loseContext()
                }, this.forceContextRestore = function () {
                    var e = f.get("WEBGL_lose_context");
                    e && e.restoreContext()
                }, this.getPixelRatio = function () {
                    return Y
                }, this.setPixelRatio = function (e) {
                    void 0 !== e && (Y = e, this.setSize(q, X, !1))
                }, this.getSize = function (e) {
                    return void 0 === e && (console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"), e = new En), e.set(q, X)
                }, this.setSize = function (e, n, i) {
                    ue.isPresenting ? console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.") : (q = e, X = n, t.width = Math.floor(e * Y), t.height = Math.floor(n * Y), !1 !== i && (t.style.width = e + "px", t.style.height = n + "px"), this.setViewport(0, 0, e, n))
                }, this.getDrawingBufferSize = function (e) {
                    return void 0 === e && (console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"), e = new En), e.set(q * Y, X * Y).floor()
                }, this.setDrawingBufferSize = function (e, n, i) {
                    q = e, X = n, Y = i, t.width = Math.floor(e * i), t.height = Math.floor(n * i), this.setViewport(0, 0, e, n)
                }, this.getCurrentViewport = function (e) {
                    return void 0 === e && (console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"), e = new On), e.copy(z)
                }, this.getViewport = function (e) {
                    return e.copy(Z)
                }, this.setViewport = function (e, t, n, i) {
                    e.isVector4 ? Z.set(e.x, e.y, e.z, e.w) : Z.set(e, t, n, i), v.viewport(z.copy(Z).multiplyScalar(Y).floor())
                }, this.getScissor = function (e) {
                    return e.copy($)
                }, this.setScissor = function (e, t, n, i) {
                    e.isVector4 ? $.set(e.x, e.y, e.z, e.w) : $.set(e, t, n, i), v.scissor(V.copy($).multiplyScalar(Y).floor())
                }, this.getScissorTest = function () {
                    return Q
                }, this.setScissorTest = function (e) {
                    v.setScissorTest(Q = e)
                }, this.setOpaqueSort = function (e) {
                    J = e
                }, this.setTransparentSort = function (e) {
                    K = e
                }, this.getClearColor = function () {
                    return A.getClearColor()
                }, this.setClearColor = function () {
                    A.setClearColor.apply(A, arguments)
                }, this.getClearAlpha = function () {
                    return A.getClearAlpha()
                }, this.setClearAlpha = function () {
                    A.setClearAlpha.apply(A, arguments)
                }, this.clear = function (e, t, n) {
                    var i = 0;
                    (void 0 === e || e) && (i |= 16384), (void 0 === t || t) && (i |= 256), (void 0 === n || n) && (i |= 1024), p.clear(i)
                }, this.clearColor = function () {
                    this.clear(!0, !1, !1)
                }, this.clearDepth = function () {
                    this.clear(!1, !0, !1)
                }, this.clearStencil = function () {
                    this.clear(!1, !1, !0)
                }, this.dispose = function () {
                    t.removeEventListener("webglcontextlost", pe, !1), t.removeEventListener("webglcontextrestored", fe, !1), M.dispose(), E.dispose(), _.dispose(), T.dispose(), ue.dispose(), _e.stop()
                }, this.renderBufferImmediate = function (e, t) {
                    v.initAttributes();
                    var n = _.get(e);
                    e.hasPositions && !n.position && (n.position = p.createBuffer()), e.hasNormals && !n.normal && (n.normal = p.createBuffer()), e.hasUvs && !n.uv && (n.uv = p.createBuffer()), e.hasColors && !n.color && (n.color = p.createBuffer());
                    var i = t.getAttributes();
                    e.hasPositions && (p.bindBuffer(34962, n.position), p.bufferData(34962, e.positionArray, 35048), v.enableAttribute(i.position), p.vertexAttribPointer(i.position, 3, 5126, !1, 0, 0)), e.hasNormals && (p.bindBuffer(34962, n.normal), p.bufferData(34962, e.normalArray, 35048), v.enableAttribute(i.normal), p.vertexAttribPointer(i.normal, 3, 5126, !1, 0, 0)), e.hasUvs && (p.bindBuffer(34962, n.uv), p.bufferData(34962, e.uvArray, 35048), v.enableAttribute(i.uv), p.vertexAttribPointer(i.uv, 2, 5126, !1, 0, 0)), e.hasColors && (p.bindBuffer(34962, n.color), p.bufferData(34962, e.colorArray, 35048), v.enableAttribute(i.color), p.vertexAttribPointer(i.color, 3, 5126, !1, 0, 0)), v.disableUnusedAttributes(), p.drawArrays(4, 0, e.count), e.count = 0
                };
                var ge = new ui;
                this.renderBufferDirect = function (e, t, n, i, r, o) {
                    null === t && (t = ge);
                    var a = r.isMesh && r.matrixWorld.determinant() < 0,
                        s = Se(e, t, i, r);
                    v.setMaterial(i, a);
                    var l = !1;
                    H.geometry === n.id && H.program === s.id && H.wireframe === (!0 === i.wireframe) || (H.geometry = n.id, H.program = s.id, H.wireframe = !0 === i.wireframe, l = !0), (i.morphTargets || i.morphNormals) && (P.update(r, n, i, s), l = !0);
                    var c = n.index,
                        u = n.attributes.position;
                    if (null === c) {
                        if (void 0 === u || 0 === u.count) return
                    } else if (0 === c.count) return;
                    var h, d = 1;
                    !0 === i.wireframe && (c = x.getWireframeAttribute(n), d = 2);
                    var g = C;
                    null !== c && (h = w.get(c), (g = L).setIndex(h)), l && (! function (e, t, n, i) {
                        if (!1 === m.isWebGL2 && (e.isInstancedMesh || t.isInstancedBufferGeometry) && null === f.get("ANGLE_instanced_arrays")) return;
                        v.initAttributes();
                        var r = t.attributes,
                            o = i.getAttributes(),
                            a = n.defaultAttributeValues;
                        for (var s in o) {
                            var l = o[s];
                            if (l >= 0) {
                                var c = r[s];
                                if (void 0 !== c) {
                                    var u = c.normalized,
                                        h = c.itemSize;
                                    if (void 0 === (T = w.get(c))) continue;
                                    var d = T.buffer,
                                        g = T.type,
                                        y = T.bytesPerElement;
                                    if (c.isInterleavedBufferAttribute) {
                                        var _ = c.data,
                                            b = _.stride,
                                            x = c.offset;
                                        _ && _.isInstancedInterleavedBuffer ? (v.enableAttributeAndDivisor(l, _.meshPerAttribute), void 0 === t.maxInstancedCount && (t.maxInstancedCount = _.meshPerAttribute * _.count)) : v.enableAttribute(l), p.bindBuffer(34962, d), p.vertexAttribPointer(l, h, g, u, b * y, x * y)
                                    } else c.isInstancedBufferAttribute ? (v.enableAttributeAndDivisor(l, c.meshPerAttribute), void 0 === t.maxInstancedCount && (t.maxInstancedCount = c.meshPerAttribute * c.count)) : v.enableAttribute(l), p.bindBuffer(34962, d), p.vertexAttribPointer(l, h, g, u, 0, 0)
                                } else if ("instanceMatrix" === s) {
                                    var T;
                                    if (void 0 === (T = w.get(e.instanceMatrix))) continue;
                                    d = T.buffer, g = T.type;
                                    v.enableAttributeAndDivisor(l + 0, 1), v.enableAttributeAndDivisor(l + 1, 1), v.enableAttributeAndDivisor(l + 2, 1), v.enableAttributeAndDivisor(l + 3, 1), p.bindBuffer(34962, d), p.vertexAttribPointer(l + 0, 4, g, !1, 64, 0), p.vertexAttribPointer(l + 1, 4, g, !1, 64, 16), p.vertexAttribPointer(l + 2, 4, g, !1, 64, 32), p.vertexAttribPointer(l + 3, 4, g, !1, 64, 48)
                                } else if (void 0 !== a) {
                                    var S = a[s];
                                    if (void 0 !== S) switch (S.length) {
                                        case 2:
                                            p.vertexAttrib2fv(l, S);
                                            break;
                                        case 3:
                                            p.vertexAttrib3fv(l, S);
                                            break;
                                        case 4:
                                            p.vertexAttrib4fv(l, S);
                                            break;
                                        default:
                                            p.vertexAttrib1fv(l, S)
                                    }
                                }
                            }
                        }
                        v.disableUnusedAttributes()
                    }(r, n, i, s), null !== c && p.bindBuffer(34963, h.buffer));
                    var y = null !== c ? c.count : u.count,
                        _ = n.drawRange.start * d,
                        b = n.drawRange.count * d,
                        T = null !== o ? o.start * d : 0,
                        S = null !== o ? o.count * d : 1 / 0,
                        M = Math.max(_, T),
                        E = Math.min(y, _ + b, T + S) - 1,
                        A = Math.max(0, E - M + 1);
                    if (0 !== A) {
                        if (r.isMesh) !0 === i.wireframe ? (v.setLineWidth(i.wireframeLinewidth * se()), g.setMode(1)) : g.setMode(4);
                        else if (r.isLine) {
                            var O = i.linewidth;
                            void 0 === O && (O = 1), v.setLineWidth(O * se()), r.isLineSegments ? g.setMode(1) : r.isLineLoop ? g.setMode(2) : g.setMode(3)
                        } else r.isPoints ? g.setMode(0) : r.isSprite && g.setMode(4);
                        r.isInstancedMesh ? g.renderInstances(n, M, A, r.count) : n.isInstancedBufferGeometry ? g.renderInstances(n, M, A, n.maxInstancedCount) : g.render(M, A)
                    }
                }, this.compile = function (e, t) {
                    (d = E.get(e, t)).init(), e.traverse((function (e) {
                        e.isLight && (d.pushLight(e), e.castShadow && d.pushShadow(e))
                    })), d.setupLights(t);
                    var n = {};
                    e.traverse((function (t) {
                        if (t.material)
                            if (Array.isArray(t.material))
                                for (var i = 0; i < t.material.length; i++) t.material[i].uuid in n == !1 && (Te(t.material[i], e, t), n[t.material[i].uuid] = !0);
                            else t.material.uuid in n == !1 && (Te(t.material, e, t), n[t.material.uuid] = !0)
                    }))
                };
                var ye = null;
                var _e = new vo;

                function be(e, t, n, i) {
                    if (!1 !== e.visible) {
                        if (e.layers.test(t.layers))
                            if (e.isGroup) n = e.renderOrder;
                            else if (e.isLOD) !0 === e.autoUpdate && e.update(t);
                        else if (e.isLight) d.pushLight(e), e.castShadow && d.pushShadow(e);
                        else if (e.isSprite) {
                            if (!e.frustumCulled || ee.intersectsSprite(e)) {
                                i && ae.setFromMatrixPosition(e.matrixWorld).applyMatrix4(oe);
                                var r = T.update(e);
                                (o = e.material).visible && h.push(e, r, o, n, ae.z, null)
                            }
                        } else if (e.isImmediateRenderObject) i && ae.setFromMatrixPosition(e.matrixWorld).applyMatrix4(oe), h.push(e, null, e.material, n, ae.z, null);
                        else if ((e.isMesh || e.isLine || e.isPoints) && (e.isSkinnedMesh && e.skeleton.frame !== y.render.frame && (e.skeleton.update(), e.skeleton.frame = y.render.frame), !e.frustumCulled || ee.intersectsObject(e))) {
                            i && ae.setFromMatrixPosition(e.matrixWorld).applyMatrix4(oe);
                            r = T.update(e);
                            var o = e.material;
                            if (Array.isArray(o))
                                for (var a = r.groups, s = 0, l = a.length; s < l; s++) {
                                    var c = a[s],
                                        u = o[c.materialIndex];
                                    u && u.visible && h.push(e, r, u, n, ae.z, c)
                                } else o.visible && h.push(e, r, o, n, ae.z, null)
                        }
                        var p = e.children;
                        for (s = 0, l = p.length; s < l; s++) be(p[s], t, n, i)
                    }
                }

                function we(e, t, n, i) {
                    for (var r = 0, o = e.length; r < o; r++) {
                        var a = e[r],
                            s = a.object,
                            l = a.geometry,
                            c = void 0 === i ? a.material : i,
                            u = a.group;
                        if (n.isArrayCamera)
                            if (U = n, ue.enabled && he.isAvailable()) xe(s, t, n, l, c, u);
                            else
                                for (var h = n.cameras, p = 0, f = h.length; p < f; p++) {
                                    var m = h[p];
                                    s.layers.test(m.layers) && (v.viewport(z.copy(m.viewport)), d.setupLights(m), xe(s, t, m, l, c, u))
                                } else U = null, xe(s, t, n, l, c, u)
                    }
                }

                function xe(e, t, n, i, r, o) {
                    if (e.onBeforeRender(R, t, n, i, r, o), d = E.get(t, U || n), e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, e.matrixWorld), e.normalMatrix.getNormalMatrix(e.modelViewMatrix), e.isImmediateRenderObject) {
                        var a = Se(n, t, r, e);
                        v.setMaterial(r), H.geometry = null, H.program = null, H.wireframe = !1,
                            function (e, t) {
                                e.render((function (e) {
                                    R.renderBufferImmediate(e, t)
                                }))
                            }(e, a)
                    } else R.renderBufferDirect(n, t, i, r, e, o);
                    e.onAfterRender(R, t, n, i, r, o), d = E.get(t, U || n)
                }

                function Te(e, t, n) {
                    var i = _.get(e),
                        r = d.state.lights,
                        o = d.state.shadowsArray,
                        a = r.state.version,
                        s = S.getParameters(e, r.state, o, t, te.numPlanes, te.numIntersection, n),
                        l = S.getProgramCacheKey(s),
                        c = i.program,
                        u = !0;
                    if (void 0 === c) e.addEventListener("dispose", me);
                    else if (c.cacheKey !== l) ve(e);
                    else if (i.lightsStateVersion !== a) i.lightsStateVersion = a, u = !1;
                    else {
                        if (void 0 !== s.shaderID) return;
                        u = !1
                    }
                    u && (c = S.acquireProgram(s, l), i.program = c, i.uniforms = s.uniforms, i.environment = e.isMeshStandardMaterial ? t.environment : null, i.outputEncoding = R.outputEncoding, e.program = c);
                    var h = c.getAttributes();
                    if (e.morphTargets) {
                        e.numSupportedMorphTargets = 0;
                        for (var p = 0; p < R.maxMorphTargets; p++) h["morphTarget" + p] >= 0 && e.numSupportedMorphTargets++
                    }
                    if (e.morphNormals) {
                        e.numSupportedMorphNormals = 0;
                        for (p = 0; p < R.maxMorphNormals; p++) h["morphNormal" + p] >= 0 && e.numSupportedMorphNormals++
                    }
                    var f = i.uniforms;
                    (e.isShaderMaterial || e.isRawShaderMaterial) && !0 !== e.clipping || (i.numClippingPlanes = te.numPlanes, i.numIntersection = te.numIntersection, f.clippingPlanes = te.uniform), i.fog = t.fog, i.needsLights = function (e) {
                        return e.isMeshLambertMaterial || e.isMeshToonMaterial || e.isMeshPhongMaterial || e.isMeshStandardMaterial || e.isShadowMaterial || e.isShaderMaterial && !0 === e.lights
                    }(e), i.lightsStateVersion = a, i.needsLights && (f.ambientLightColor.value = r.state.ambient, f.lightProbe.value = r.state.probe, f.directionalLights.value = r.state.directional, f.spotLights.value = r.state.spot, f.rectAreaLights.value = r.state.rectArea, f.pointLights.value = r.state.point, f.hemisphereLights.value = r.state.hemi, f.directionalShadowMap.value = r.state.directionalShadowMap, f.directionalShadowMatrix.value = r.state.directionalShadowMatrix, f.spotShadowMap.value = r.state.spotShadowMap, f.spotShadowMatrix.value = r.state.spotShadowMatrix, f.pointShadowMap.value = r.state.pointShadowMap, f.pointShadowMatrix.value = r.state.pointShadowMatrix);
                    var m = i.program.getUniforms(),
                        v = La.seqWithValue(m.seq, f);
                    i.uniformsList = v
                }

                function Se(e, t, n, i) {
                    b.resetTextureUnits();
                    var r = t.fog,
                        o = n.isMeshStandardMaterial ? t.environment : null,
                        a = _.get(n),
                        s = d.state.lights;
                    if (ne && (ie || e !== F)) {
                        var l = e === F && n.id === j;
                        te.setState(n.clippingPlanes, n.clipIntersection, n.clipShadows, e, a, l)
                    }
                    n.version === a.__version ? void 0 === a.program ? Te(n, t, i) : n.fog && a.fog !== r ? Te(n, t, i) : a.environment !== o ? Te(n, t, i) : a.needsLights && a.lightsStateVersion !== s.state.version ? Te(n, t, i) : void 0 === a.numClippingPlanes || a.numClippingPlanes === te.numPlanes && a.numIntersection === te.numIntersection ? a.outputEncoding !== R.outputEncoding && Te(n, t, i) : Te(n, t, i) : (Te(n, t, i), a.__version = n.version);
                    var c, u, h = !1,
                        f = !1,
                        y = !1,
                        w = a.program,
                        x = w.getUniforms(),
                        T = a.uniforms;
                    if (v.useProgram(w.program) && (h = !0, f = !0, y = !0), n.id !== j && (j = n.id, f = !0), h || F !== e) {
                        if (w.numMultiviewViews > 0 ? he.updateCameraProjectionMatricesUniform(e, x) : x.setValue(p, "projectionMatrix", e.projectionMatrix), m.logarithmicDepthBuffer && x.setValue(p, "logDepthBufFC", 2 / (Math.log(e.far + 1) / Math.LN2)), F !== e && (F = e, f = !0, y = !0), n.isShaderMaterial || n.isMeshPhongMaterial || n.isMeshToonMaterial || n.isMeshStandardMaterial || n.envMap) {
                            var S = x.map.cameraPosition;
                            void 0 !== S && S.setValue(p, ae.setFromMatrixPosition(e.matrixWorld))
                        }(n.isMeshPhongMaterial || n.isMeshToonMaterial || n.isMeshLambertMaterial || n.isMeshBasicMaterial || n.isMeshStandardMaterial || n.isShaderMaterial) && x.setValue(p, "isOrthographic", !0 === e.isOrthographicCamera), (n.isMeshPhongMaterial || n.isMeshToonMaterial || n.isMeshLambertMaterial || n.isMeshBasicMaterial || n.isMeshStandardMaterial || n.isShaderMaterial || n.skinning) && (w.numMultiviewViews > 0 ? he.updateCameraViewMatricesUniform(e, x) : x.setValue(p, "viewMatrix", e.matrixWorldInverse))
                    }
                    if (n.skinning) {
                        x.setOptional(p, i, "bindMatrix"), x.setOptional(p, i, "bindMatrixInverse");
                        var M = i.skeleton;
                        if (M) {
                            var E = M.bones;
                            if (m.floatVertexTextures) {
                                if (void 0 === M.boneTexture) {
                                    var A = Math.sqrt(4 * E.length);
                                    A = Mn.ceilPowerOfTwo(A), A = Math.max(A, 4);
                                    var P = new Float32Array(A * A * 4);
                                    P.set(M.boneMatrices);
                                    var C = new uo(P, A, A, Ve, Be);
                                    M.boneMatrices = P, M.boneTexture = C, M.boneTextureSize = A
                                }
                                x.setValue(p, "boneTexture", M.boneTexture, b), x.setValue(p, "boneTextureSize", M.boneTextureSize)
                            } else x.setOptional(p, M, "boneMatrices")
                        }
                    }
                    return (f || a.receiveShadow !== i.receiveShadow) && (a.receiveShadow = i.receiveShadow, x.setValue(p, "receiveShadow", i.receiveShadow)), f && (x.setValue(p, "toneMappingExposure", R.toneMappingExposure), x.setValue(p, "toneMappingWhitePoint", R.toneMappingWhitePoint), a.needsLights && (u = y, (c = T).ambientLightColor.needsUpdate = u, c.lightProbe.needsUpdate = u, c.directionalLights.needsUpdate = u, c.pointLights.needsUpdate = u, c.spotLights.needsUpdate = u, c.rectAreaLights.needsUpdate = u, c.hemisphereLights.needsUpdate = u), r && n.fog && function (e, t) {
                        e.fogColor.value.copy(t.color), t.isFog ? (e.fogNear.value = t.near, e.fogFar.value = t.far) : t.isFogExp2 && (e.fogDensity.value = t.density)
                    }(T, r), n.isMeshBasicMaterial ? Me(T, n) : n.isMeshLambertMaterial ? (Me(T, n), function (e, t) {
                        t.emissiveMap && (e.emissiveMap.value = t.emissiveMap)
                    }(T, n)) : n.isMeshToonMaterial ? (Me(T, n), function (e, t) {
                        e.specular.value.copy(t.specular), e.shininess.value = Math.max(t.shininess, 1e-4), t.gradientMap && (e.gradientMap.value = t.gradientMap);
                        t.emissiveMap && (e.emissiveMap.value = t.emissiveMap);
                        t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale, t.side === g && (e.bumpScale.value *= -1));
                        t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale), t.side === g && e.normalScale.value.negate());
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
                    }(T, n)) : n.isMeshPhongMaterial ? (Me(T, n), function (e, t) {
                        e.specular.value.copy(t.specular), e.shininess.value = Math.max(t.shininess, 1e-4), t.emissiveMap && (e.emissiveMap.value = t.emissiveMap);
                        t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale, t.side === g && (e.bumpScale.value *= -1));
                        t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale), t.side === g && e.normalScale.value.negate());
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
                    }(T, n)) : n.isMeshStandardMaterial ? (Me(T, n, o), n.isMeshPhysicalMaterial ? function (e, t, n) {
                        Ee(e, t, n), e.reflectivity.value = t.reflectivity, e.clearcoat.value = t.clearcoat, e.clearcoatRoughness.value = t.clearcoatRoughness, t.sheen && e.sheen.value.copy(t.sheen);
                        t.clearcoatNormalMap && (e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale), e.clearcoatNormalMap.value = t.clearcoatNormalMap, t.side === g && e.clearcoatNormalScale.value.negate());
                        e.transparency.value = t.transparency
                    }(T, n, o) : Ee(T, n, o)) : n.isMeshMatcapMaterial ? (Me(T, n), function (e, t) {
                        t.matcap && (e.matcap.value = t.matcap);
                        t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale, t.side === g && (e.bumpScale.value *= -1));
                        t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale), t.side === g && e.normalScale.value.negate());
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
                    }(T, n)) : n.isMeshDepthMaterial ? (Me(T, n), function (e, t) {
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
                    }(T, n)) : n.isMeshDistanceMaterial ? (Me(T, n), function (e, t) {
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias);
                        e.referencePosition.value.copy(t.referencePosition), e.nearDistance.value = t.nearDistance, e.farDistance.value = t.farDistance
                    }(T, n)) : n.isMeshNormalMaterial ? (Me(T, n), function (e, t) {
                        t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale, t.side === g && (e.bumpScale.value *= -1));
                        t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale), t.side === g && e.normalScale.value.negate());
                        t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
                    }(T, n)) : n.isLineBasicMaterial ? (function (e, t) {
                        e.diffuse.value.copy(t.color), e.opacity.value = t.opacity
                    }(T, n), n.isLineDashedMaterial && function (e, t) {
                        e.dashSize.value = t.dashSize, e.totalSize.value = t.dashSize + t.gapSize, e.scale.value = t.scale
                    }(T, n)) : n.isPointsMaterial ? function (e, t) {
                        e.diffuse.value.copy(t.color), e.opacity.value = t.opacity, e.size.value = t.size * Y, e.scale.value = .5 * X, t.map && (e.map.value = t.map);
                        t.alphaMap && (e.alphaMap.value = t.alphaMap);
                        var n;
                        t.map ? n = t.map : t.alphaMap && (n = t.alphaMap);
                        void 0 !== n && (!0 === n.matrixAutoUpdate && n.updateMatrix(), e.uvTransform.value.copy(n.matrix))
                    }(T, n) : n.isSpriteMaterial ? function (e, t) {
                        e.diffuse.value.copy(t.color), e.opacity.value = t.opacity, e.rotation.value = t.rotation, t.map && (e.map.value = t.map);
                        t.alphaMap && (e.alphaMap.value = t.alphaMap);
                        var n;
                        t.map ? n = t.map : t.alphaMap && (n = t.alphaMap);
                        void 0 !== n && (!0 === n.matrixAutoUpdate && n.updateMatrix(), e.uvTransform.value.copy(n.matrix))
                    }(T, n) : n.isShadowMaterial && (T.color.value.copy(n.color), T.opacity.value = n.opacity), void 0 !== T.ltc_1 && (T.ltc_1.value = mo.LTC_1), void 0 !== T.ltc_2 && (T.ltc_2.value = mo.LTC_2), La.upload(p, a.uniformsList, T, b), n.isShaderMaterial && (n.uniformsNeedUpdate = !1)), n.isShaderMaterial && !0 === n.uniformsNeedUpdate && (La.upload(p, a.uniformsList, T, b), n.uniformsNeedUpdate = !1), n.isSpriteMaterial && x.setValue(p, "center", i.center), w.numMultiviewViews > 0 ? he.updateObjectMatricesUniforms(i, e, x) : (x.setValue(p, "modelViewMatrix", i.modelViewMatrix), x.setValue(p, "normalMatrix", i.normalMatrix)), x.setValue(p, "modelMatrix", i.matrixWorld), w
                }

                function Me(e, t, n) {
                    e.opacity.value = t.opacity, t.color && e.diffuse.value.copy(t.color), t.emissive && e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity), t.map && (e.map.value = t.map), t.alphaMap && (e.alphaMap.value = t.alphaMap), t.specularMap && (e.specularMap.value = t.specularMap);
                    var i, r, o = t.envMap || n;
                    o && (e.envMap.value = o, e.flipEnvMap.value = o.isCubeTexture ? -1 : 1, e.reflectivity.value = t.reflectivity, e.refractionRatio.value = t.refractionRatio, e.maxMipLevel.value = _.get(o).__maxMipLevel), t.lightMap && (e.lightMap.value = t.lightMap, e.lightMapIntensity.value = t.lightMapIntensity), t.aoMap && (e.aoMap.value = t.aoMap, e.aoMapIntensity.value = t.aoMapIntensity), t.map ? i = t.map : t.specularMap ? i = t.specularMap : t.displacementMap ? i = t.displacementMap : t.normalMap ? i = t.normalMap : t.bumpMap ? i = t.bumpMap : t.roughnessMap ? i = t.roughnessMap : t.metalnessMap ? i = t.metalnessMap : t.alphaMap ? i = t.alphaMap : t.emissiveMap && (i = t.emissiveMap), void 0 !== i && (i.isWebGLRenderTarget && (i = i.texture), !0 === i.matrixAutoUpdate && i.updateMatrix(), e.uvTransform.value.copy(i.matrix)), t.aoMap ? r = t.aoMap : t.lightMap && (r = t.lightMap), void 0 !== r && (r.isWebGLRenderTarget && (r = r.texture), !0 === r.matrixAutoUpdate && r.updateMatrix(), e.uv2Transform.value.copy(r.matrix))
                }

                function Ee(e, t, n) {
                    e.roughness.value = t.roughness, e.metalness.value = t.metalness, t.roughnessMap && (e.roughnessMap.value = t.roughnessMap), t.metalnessMap && (e.metalnessMap.value = t.metalnessMap), t.emissiveMap && (e.emissiveMap.value = t.emissiveMap), t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale, t.side === g && (e.bumpScale.value *= -1)), t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale), t.side === g && e.normalScale.value.negate()), t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias), (t.envMap || n) && (e.envMapIntensity.value = t.envMapIntensity)
                }
                _e.setAnimationLoop((function (e) {
                    ue.isPresenting || ye && ye(e)
                })), "undefined" != typeof window && _e.setContext(window), this.setAnimationLoop = function (e) {
                    ye = e, ue.setAnimationLoop(e), _e.start()
                }, this.render = function (e, t) {
                    var n, i;
                    if (void 0 !== arguments[2] && (console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."), n = arguments[2]), void 0 !== arguments[3] && (console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."), i = arguments[3]), t && t.isCamera) {
                        if (!k) {
                            H.geometry = null, H.program = null, H.wireframe = !1, j = -1, F = null, !0 === e.autoUpdate && e.updateMatrixWorld(), null === t.parent && t.updateMatrixWorld(), ue.enabled && ue.isPresenting && (t = ue.getCamera(t)), (d = E.get(e, t)).init(), e.onBeforeRender(R, e, t, n || N), oe.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse), ee.setFromProjectionMatrix(oe), ie = this.localClippingEnabled, ne = te.init(this.clippingPlanes, ie, t), (h = M.get(e, t)).init(), be(e, t, 0, R.sortObjects), !0 === R.sortObjects && h.sort(J, K), ne && te.beginShadows();
                            var r = d.state.shadowsArray;
                            de.render(r, e, t), d.setupLights(t), ne && te.endShadows(), this.info.autoReset && this.info.reset(), void 0 !== n && this.setRenderTarget(n), ue.enabled && he.isAvailable() && he.attachCamera(t), A.render(h, e, t, i);
                            var o = h.opaque,
                                a = h.transparent;
                            if (e.overrideMaterial) {
                                var s = e.overrideMaterial;
                                o.length && we(o, e, t, s), a.length && we(a, e, t, s)
                            } else o.length && we(o, e, t), a.length && we(a, e, t);
                            e.onAfterRender(R, e, t), null !== N && (b.updateRenderTargetMipmap(N), b.updateMultisampleRenderTarget(N)), v.buffers.depth.setTest(!0), v.buffers.depth.setMask(!0), v.buffers.color.setMask(!0), v.setPolygonOffset(!1), ue.enabled && he.isAvailable() && he.detachCamera(t), h = null, d = null
                        }
                    } else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")
                }, this.setFramebuffer = function (e) {
                    I !== e && null === N && p.bindFramebuffer(36160, e), I = e
                }, this.getActiveCubeFace = function () {
                    return D
                }, this.getActiveMipmapLevel = function () {
                    return B
                }, this.getRenderTarget = function () {
                    return N
                }, this.setRenderTarget = function (e, t, n) {
                    N = e, D = t, B = n, e && void 0 === _.get(e).__webglFramebuffer && b.setupRenderTarget(e);
                    var i = I,
                        r = !1;
                    if (e) {
                        var o = _.get(e).__webglFramebuffer;
                        e.isWebGLCubeRenderTarget ? (i = o[t || 0], r = !0) : i = e.isWebGLMultisampleRenderTarget ? _.get(e).__webglMultisampledFramebuffer : o, z.copy(e.viewport), V.copy(e.scissor), W = e.scissorTest
                    } else z.copy(Z).multiplyScalar(Y).floor(), V.copy($).multiplyScalar(Y).floor(), W = Q;
                    if (G !== i && (p.bindFramebuffer(36160, i), G = i), v.viewport(z), v.scissor(V), v.setScissorTest(W), r) {
                        var a = _.get(e.texture);
                        p.framebufferTexture2D(36160, 36064, 34069 + (t || 0), a.__webglTexture, n || 0)
                    }
                }, this.readRenderTargetPixels = function (e, t, n, i, r, o, a) {
                    if (e && e.isWebGLRenderTarget) {
                        var s = _.get(e).__webglFramebuffer;
                        if (e.isWebGLCubeRenderTarget && void 0 !== a && (s = s[a]), s) {
                            var l = !1;
                            s !== G && (p.bindFramebuffer(36160, s), l = !0);
                            try {
                                var c = e.texture,
                                    u = c.format,
                                    h = c.type;
                                if (u !== Ve && O.convert(u) !== p.getParameter(35739)) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
                                if (!(h === Le || O.convert(h) === p.getParameter(35738) || h === Be && (m.isWebGL2 || f.get("OES_texture_float") || f.get("WEBGL_color_buffer_float")) || h === Ne && (m.isWebGL2 ? f.get("EXT_color_buffer_float") : f.get("EXT_color_buffer_half_float")))) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
                                36053 === p.checkFramebufferStatus(36160) ? t >= 0 && t <= e.width - i && n >= 0 && n <= e.height - r && p.readPixels(t, n, i, r, O.convert(u), O.convert(h), o) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")
                            } finally {
                                l && p.bindFramebuffer(36160, G)
                            }
                        }
                    } else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")
                }, this.copyFramebufferToTexture = function (e, t, n) {
                    void 0 === n && (n = 0);
                    var i = Math.pow(2, -n),
                        r = Math.floor(t.image.width * i),
                        o = Math.floor(t.image.height * i),
                        a = O.convert(t.format);
                    b.setTexture2D(t, 0), p.copyTexImage2D(3553, n, a, e.x, e.y, r, o, 0), v.unbindTexture()
                }, this.copyTextureToTexture = function (e, t, n, i) {
                    var r = t.image.width,
                        o = t.image.height,
                        a = O.convert(n.format),
                        s = O.convert(n.type);
                    b.setTexture2D(n, 0), t.isDataTexture ? p.texSubImage2D(3553, i || 0, e.x, e.y, r, o, a, s, t.image.data) : p.texSubImage2D(3553, i || 0, e.x, e.y, a, s, t.image), v.unbindTexture()
                }, this.initTexture = function (e) {
                    b.setTexture2D(e, 0), v.unbindTexture()
                }, "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", {
                    detail: this
                }))
            }

            function ys(e, t) {
                this.name = "", this.color = new er(e), this.density = void 0 !== t ? t : 25e-5
            }

            function _s(e, t, n) {
                this.name = "", this.color = new er(e), this.near = void 0 !== t ? t : 1, this.far = void 0 !== n ? n : 1e3
            }

            function bs(e, t) {
                this.array = e, this.stride = t, this.count = void 0 !== e ? e.length / t : 0, this.usage = dn, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.version = 0
            }
            ds.prototype = Object.assign(Object.create(Rn.prototype), {
                constructor: ds,
                isWebGLMultiviewRenderTarget: !0,
                copy: function (e) {
                    return Rn.prototype.copy.call(this, e), this.numViews = e.numViews, this
                },
                setNumViews: function (e) {
                    return this.numViews !== e && (this.numViews = e, this.dispose()), this
                }
            }), fs.prototype = Object.assign(Object.create(so.prototype), {
                constructor: fs,
                isArrayCamera: !0
            }), ms.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: ms,
                isGroup: !0
            }), Object.assign(vs.prototype, wn.prototype), Object.assign(ys.prototype, {
                isFogExp2: !0,
                clone: function () {
                    return new ys(this.color, this.density)
                },
                toJSON: function () {
                    return {
                        type: "FogExp2",
                        color: this.color.getHex(),
                        density: this.density
                    }
                }
            }), Object.assign(_s.prototype, {
                isFog: !0,
                clone: function () {
                    return new _s(this.color, this.near, this.far)
                },
                toJSON: function () {
                    return {
                        type: "Fog",
                        color: this.color.getHex(),
                        near: this.near,
                        far: this.far
                    }
                }
            }), Object.defineProperty(bs.prototype, "needsUpdate", {
                set: function (e) {
                    !0 === e && this.version++
                }
            }), Object.assign(bs.prototype, {
                isInterleavedBuffer: !0,
                onUploadCallback: function () {},
                setUsage: function (e) {
                    return this.usage = e, this
                },
                copy: function (e) {
                    return this.array = new e.array.constructor(e.array), this.count = e.count, this.stride = e.stride, this.usage = e.usage, this
                },
                copyAt: function (e, t, n) {
                    e *= this.stride, n *= t.stride;
                    for (var i = 0, r = this.stride; i < r; i++) this.array[e + i] = t.array[n + i];
                    return this
                },
                set: function (e, t) {
                    return void 0 === t && (t = 0), this.array.set(e, t), this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                onUpload: function (e) {
                    return this.onUploadCallback = e, this
                }
            });
            var ws, xs = new Nn;

            function Ts(e, t, n, i) {
                this.data = e, this.itemSize = t, this.offset = n, this.normalized = !0 === i
            }

            function Ss(e) {
                ar.call(this), this.type = "SpriteMaterial", this.color = new er(16777215), this.map = null, this.alphaMap = null, this.rotation = 0, this.sizeAttenuation = !0, this.transparent = !0, this.setValues(e)
            }
            Object.defineProperties(Ts.prototype, {
                count: {
                    get: function () {
                        return this.data.count
                    }
                },
                array: {
                    get: function () {
                        return this.data.array
                    }
                }
            }), Object.assign(Ts.prototype, {
                isInterleavedBufferAttribute: !0,
                applyMatrix4: function (e) {
                    for (var t = 0, n = this.data.count; t < n; t++) xs.x = this.getX(t), xs.y = this.getY(t), xs.z = this.getZ(t), xs.applyMatrix4(e), this.setXYZ(t, xs.x, xs.y, xs.z);
                    return this
                },
                setX: function (e, t) {
                    return this.data.array[e * this.data.stride + this.offset] = t, this
                },
                setY: function (e, t) {
                    return this.data.array[e * this.data.stride + this.offset + 1] = t, this
                },
                setZ: function (e, t) {
                    return this.data.array[e * this.data.stride + this.offset + 2] = t, this
                },
                setW: function (e, t) {
                    return this.data.array[e * this.data.stride + this.offset + 3] = t, this
                },
                getX: function (e) {
                    return this.data.array[e * this.data.stride + this.offset]
                },
                getY: function (e) {
                    return this.data.array[e * this.data.stride + this.offset + 1]
                },
                getZ: function (e) {
                    return this.data.array[e * this.data.stride + this.offset + 2]
                },
                getW: function (e) {
                    return this.data.array[e * this.data.stride + this.offset + 3]
                },
                setXY: function (e, t, n) {
                    return e = e * this.data.stride + this.offset, this.data.array[e + 0] = t, this.data.array[e + 1] = n, this
                },
                setXYZ: function (e, t, n, i) {
                    return e = e * this.data.stride + this.offset, this.data.array[e + 0] = t, this.data.array[e + 1] = n, this.data.array[e + 2] = i, this
                },
                setXYZW: function (e, t, n, i, r) {
                    return e = e * this.data.stride + this.offset, this.data.array[e + 0] = t, this.data.array[e + 1] = n, this.data.array[e + 2] = i, this.data.array[e + 3] = r, this
                }
            }), Ss.prototype = Object.create(ar.prototype), Ss.prototype.constructor = Ss, Ss.prototype.isSpriteMaterial = !0, Ss.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.map = e.map, this.alphaMap = e.alphaMap, this.rotation = e.rotation, this.sizeAttenuation = e.sizeAttenuation, this
            };
            var Ms = new Nn,
                Es = new Nn,
                As = new Nn,
                Ps = new En,
                Cs = new En,
                Ls = new Wn,
                Os = new Nn,
                Rs = new Nn,
                ks = new Nn,
                Is = new En,
                Ds = new En,
                Bs = new En;

            function Ns(e) {
                if (ci.call(this), this.type = "Sprite", void 0 === ws) {
                    ws = new Pr;
                    var t = new bs(new Float32Array([-.5, -.5, 0, 0, 0, .5, -.5, 0, 1, 0, .5, .5, 0, 1, 1, -.5, .5, 0, 0, 1]), 5);
                    ws.setIndex([0, 1, 2, 0, 2, 3]), ws.setAttribute("position", new Ts(t, 3, 0, !1)), ws.setAttribute("uv", new Ts(t, 2, 3, !1))
                }
                this.geometry = ws, this.material = void 0 !== e ? e : new Ss, this.center = new En(.5, .5)
            }

            function Gs(e, t, n, i, r, o) {
                Ps.subVectors(e, n).addScalar(.5).multiply(i), void 0 !== r ? (Cs.x = o * Ps.x - r * Ps.y, Cs.y = r * Ps.x + o * Ps.y) : Cs.copy(Ps), e.copy(t), e.x += Cs.x, e.y += Cs.y, e.applyMatrix4(Ls)
            }
            Ns.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: Ns,
                isSprite: !0,
                raycast: function (e, t) {
                    null === e.camera && console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'), Es.setFromMatrixScale(this.matrixWorld), Ls.copy(e.camera.matrixWorld), this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse, this.matrixWorld), As.setFromMatrixPosition(this.modelViewMatrix), e.camera.isPerspectiveCamera && !1 === this.material.sizeAttenuation && Es.multiplyScalar(-As.z);
                    var n, i, r = this.material.rotation;
                    0 !== r && (i = Math.cos(r), n = Math.sin(r));
                    var o = this.center;
                    Gs(Os.set(-.5, -.5, 0), As, o, Es, n, i), Gs(Rs.set(.5, -.5, 0), As, o, Es, n, i), Gs(ks.set(.5, .5, 0), As, o, Es, n, i), Is.set(0, 0), Ds.set(1, 0), Bs.set(1, 1);
                    var a = e.ray.intersectTriangle(Os, Rs, ks, !1, Ms);
                    if (null !== a || (Gs(Rs.set(-.5, .5, 0), As, o, Es, n, i), Ds.set(0, 1), null !== (a = e.ray.intersectTriangle(Os, ks, Rs, !1, Ms)))) {
                        var s = e.ray.origin.distanceTo(Ms);
                        s < e.near || s > e.far || t.push({
                            distance: s,
                            point: Ms.clone(),
                            uv: Ki.getUV(Ms, Os, Rs, ks, Is, Ds, Bs, new En),
                            face: null,
                            object: this
                        })
                    }
                },
                clone: function () {
                    return new this.constructor(this.material).copy(this)
                },
                copy: function (e) {
                    return ci.prototype.copy.call(this, e), void 0 !== e.center && this.center.copy(e.center), this
                }
            });
            var js = new Nn,
                Hs = new Nn;

            function Fs() {
                ci.call(this), this.type = "LOD", Object.defineProperties(this, {
                    levels: {
                        enumerable: !0,
                        value: []
                    }
                }), this.autoUpdate = !0
            }

            function Us(e, t) {
                e && e.isGeometry && console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."), qr.call(this, e, t), this.type = "SkinnedMesh", this.bindMode = "attached", this.bindMatrix = new Wn, this.bindMatrixInverse = new Wn
            }
            Fs.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: Fs,
                isLOD: !0,
                copy: function (e) {
                    ci.prototype.copy.call(this, e, !1);
                    for (var t = e.levels, n = 0, i = t.length; n < i; n++) {
                        var r = t[n];
                        this.addLevel(r.object.clone(), r.distance)
                    }
                    return this.autoUpdate = e.autoUpdate, this
                },
                addLevel: function (e, t) {
                    void 0 === t && (t = 0), t = Math.abs(t);
                    for (var n = this.levels, i = 0; i < n.length && !(t < n[i].distance); i++);
                    return n.splice(i, 0, {
                        distance: t,
                        object: e
                    }), this.add(e), this
                },
                getObjectForDistance: function (e) {
                    var t = this.levels;
                    if (t.length > 0) {
                        for (var n = 1, i = t.length; n < i && !(e < t[n].distance); n++);
                        return t[n - 1].object
                    }
                    return null
                },
                raycast: function (e, t) {
                    if (this.levels.length > 0) {
                        js.setFromMatrixPosition(this.matrixWorld);
                        var n = e.ray.origin.distanceTo(js);
                        this.getObjectForDistance(n).raycast(e, t)
                    }
                },
                update: function (e) {
                    var t = this.levels;
                    if (t.length > 1) {
                        js.setFromMatrixPosition(e.matrixWorld), Hs.setFromMatrixPosition(this.matrixWorld);
                        var n = js.distanceTo(Hs);
                        t[0].object.visible = !0;
                        for (var i = 1, r = t.length; i < r && n >= t[i].distance; i++) t[i - 1].object.visible = !1, t[i].object.visible = !0;
                        for (; i < r; i++) t[i].object.visible = !1
                    }
                },
                toJSON: function (e) {
                    var t = ci.prototype.toJSON.call(this, e);
                    !1 === this.autoUpdate && (t.object.autoUpdate = !1), t.object.levels = [];
                    for (var n = this.levels, i = 0, r = n.length; i < r; i++) {
                        var o = n[i];
                        t.object.levels.push({
                            object: o.object.uuid,
                            distance: o.distance
                        })
                    }
                    return t
                }
            }), Us.prototype = Object.assign(Object.create(qr.prototype), {
                constructor: Us,
                isSkinnedMesh: !0,
                bind: function (e, t) {
                    this.skeleton = e, void 0 === t && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), t = this.matrixWorld), this.bindMatrix.copy(t), this.bindMatrixInverse.getInverse(t)
                },
                pose: function () {
                    this.skeleton.pose()
                },
                normalizeSkinWeights: function () {
                    for (var e = new On, t = this.geometry.attributes.skinWeight, n = 0, i = t.count; n < i; n++) {
                        e.x = t.getX(n), e.y = t.getY(n), e.z = t.getZ(n), e.w = t.getW(n);
                        var r = 1 / e.manhattanLength();
                        r !== 1 / 0 ? e.multiplyScalar(r) : e.set(1, 0, 0, 0), t.setXYZW(n, e.x, e.y, e.z, e.w)
                    }
                },
                updateMatrixWorld: function (e) {
                    qr.prototype.updateMatrixWorld.call(this, e), "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : console.warn("THREE.SkinnedMesh: Unrecognized bindMode: " + this.bindMode)
                },
                clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            });
            var zs = new Wn,
                Vs = new Wn;

            function Ws(e, t) {
                if (e = e || [], this.bones = e.slice(0), this.boneMatrices = new Float32Array(16 * this.bones.length), this.frame = -1, void 0 === t) this.calculateInverses();
                else if (this.bones.length === t.length) this.boneInverses = t.slice(0);
                else {
                    console.warn("THREE.Skeleton boneInverses is the wrong length."), this.boneInverses = [];
                    for (var n = 0, i = this.bones.length; n < i; n++) this.boneInverses.push(new Wn)
                }
            }

            function qs() {
                ci.call(this), this.type = "Bone"
            }
            Object.assign(Ws.prototype, {
                calculateInverses: function () {
                    this.boneInverses = [];
                    for (var e = 0, t = this.bones.length; e < t; e++) {
                        var n = new Wn;
                        this.bones[e] && n.getInverse(this.bones[e].matrixWorld), this.boneInverses.push(n)
                    }
                },
                pose: function () {
                    var e, t, n;
                    for (t = 0, n = this.bones.length; t < n; t++)(e = this.bones[t]) && e.matrixWorld.getInverse(this.boneInverses[t]);
                    for (t = 0, n = this.bones.length; t < n; t++)(e = this.bones[t]) && (e.parent && e.parent.isBone ? (e.matrix.getInverse(e.parent.matrixWorld), e.matrix.multiply(e.matrixWorld)) : e.matrix.copy(e.matrixWorld), e.matrix.decompose(e.position, e.quaternion, e.scale))
                },
                update: function () {
                    for (var e = this.bones, t = this.boneInverses, n = this.boneMatrices, i = this.boneTexture, r = 0, o = e.length; r < o; r++) {
                        var a = e[r] ? e[r].matrixWorld : Vs;
                        zs.multiplyMatrices(a, t[r]), zs.toArray(n, 16 * r)
                    }
                    void 0 !== i && (i.needsUpdate = !0)
                },
                clone: function () {
                    return new Ws(this.bones, this.boneInverses)
                },
                getBoneByName: function (e) {
                    for (var t = 0, n = this.bones.length; t < n; t++) {
                        var i = this.bones[t];
                        if (i.name === e) return i
                    }
                }
            }), qs.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: qs,
                isBone: !0
            });
            var Xs = new Wn,
                Ys = new Wn,
                Js = [],
                Ks = new qr;

            function Zs(e, t, n) {
                qr.call(this, e, t), this.instanceMatrix = new cr(new Float32Array(16 * n), 16), this.count = n, this.frustumCulled = !1
            }

            function $s(e) {
                ar.call(this), this.type = "LineBasicMaterial", this.color = new er(16777215), this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.setValues(e)
            }
            Zs.prototype = Object.assign(Object.create(qr.prototype), {
                constructor: Zs,
                isInstancedMesh: !0,
                getMatrixAt: function (e, t) {
                    t.fromArray(this.instanceMatrix.array, 16 * e)
                },
                raycast: function (e, t) {
                    var n = this.matrixWorld,
                        i = this.count;
                    if (Ks.geometry = this.geometry, Ks.material = this.material, void 0 !== Ks.material)
                        for (var r = 0; r < i; r++) this.getMatrixAt(r, Xs), Ys.multiplyMatrices(n, Xs), Ks.matrixWorld = Ys, Ks.raycast(e, Js), Js.length > 0 && (Js[0].instanceId = r, Js[0].object = this, t.push(Js[0]), Js.length = 0)
                },
                setMatrixAt: function (e, t) {
                    t.toArray(this.instanceMatrix.array, 16 * e)
                },
                updateMorphTargets: function () {}
            }), $s.prototype = Object.create(ar.prototype), $s.prototype.constructor = $s, $s.prototype.isLineBasicMaterial = !0, $s.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.linewidth = e.linewidth, this.linecap = e.linecap, this.linejoin = e.linejoin, this
            };
            var Qs = new Nn,
                el = new Nn,
                tl = new Wn,
                nl = new Di,
                il = new Ai;

            function rl(e, t, n) {
                1 === n && console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."), ci.call(this), this.type = "Line", this.geometry = void 0 !== e ? e : new Pr, this.material = void 0 !== t ? t : new $s
            }
            rl.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: rl,
                isLine: !0,
                computeLineDistances: function () {
                    var e = this.geometry;
                    if (e.isBufferGeometry)
                        if (null === e.index) {
                            for (var t = e.attributes.position, n = [0], i = 1, r = t.count; i < r; i++) Qs.fromBufferAttribute(t, i - 1), el.fromBufferAttribute(t, i), n[i] = n[i - 1], n[i] += Qs.distanceTo(el);
                            e.setAttribute("lineDistance", new gr(n, 1))
                        } else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
                    else if (e.isGeometry) {
                        var o = e.vertices;
                        (n = e.lineDistances)[0] = 0;
                        for (i = 1, r = o.length; i < r; i++) n[i] = n[i - 1], n[i] += o[i - 1].distanceTo(o[i])
                    }
                    return this
                },
                raycast: function (e, t) {
                    var n = e.linePrecision,
                        i = this.geometry,
                        r = this.matrixWorld;
                    if (null === i.boundingSphere && i.computeBoundingSphere(), il.copy(i.boundingSphere), il.applyMatrix4(r), il.radius += n, !1 !== e.ray.intersectsSphere(il)) {
                        tl.getInverse(r), nl.copy(e.ray).applyMatrix4(tl);
                        var o = n / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                            a = o * o,
                            s = new Nn,
                            l = new Nn,
                            c = new Nn,
                            u = new Nn,
                            h = this && this.isLineSegments ? 2 : 1;
                        if (i.isBufferGeometry) {
                            var d = i.index,
                                p = i.attributes.position.array;
                            if (null !== d)
                                for (var f = d.array, m = 0, v = f.length - 1; m < v; m += h) {
                                    var g = f[m],
                                        y = f[m + 1];
                                    if (s.fromArray(p, 3 * g), l.fromArray(p, 3 * y), !(nl.distanceSqToSegment(s, l, u, c) > a)) u.applyMatrix4(this.matrixWorld), (w = e.ray.origin.distanceTo(u)) < e.near || w > e.far || t.push({
                                        distance: w,
                                        point: c.clone().applyMatrix4(this.matrixWorld),
                                        index: m,
                                        face: null,
                                        faceIndex: null,
                                        object: this
                                    })
                                } else
                                    for (m = 0, v = p.length / 3 - 1; m < v; m += h) {
                                        if (s.fromArray(p, 3 * m), l.fromArray(p, 3 * m + 3), !(nl.distanceSqToSegment(s, l, u, c) > a)) u.applyMatrix4(this.matrixWorld), (w = e.ray.origin.distanceTo(u)) < e.near || w > e.far || t.push({
                                            distance: w,
                                            point: c.clone().applyMatrix4(this.matrixWorld),
                                            index: m,
                                            face: null,
                                            faceIndex: null,
                                            object: this
                                        })
                                    }
                        } else if (i.isGeometry) {
                            var _ = i.vertices,
                                b = _.length;
                            for (m = 0; m < b - 1; m += h) {
                                var w;
                                if (!(nl.distanceSqToSegment(_[m], _[m + 1], u, c) > a)) u.applyMatrix4(this.matrixWorld), (w = e.ray.origin.distanceTo(u)) < e.near || w > e.far || t.push({
                                    distance: w,
                                    point: c.clone().applyMatrix4(this.matrixWorld),
                                    index: m,
                                    face: null,
                                    faceIndex: null,
                                    object: this
                                })
                            }
                        }
                    }
                },
                clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            });
            var ol = new Nn,
                al = new Nn;

            function sl(e, t) {
                rl.call(this, e, t), this.type = "LineSegments"
            }

            function ll(e, t) {
                rl.call(this, e, t), this.type = "LineLoop"
            }

            function cl(e) {
                ar.call(this), this.type = "PointsMaterial", this.color = new er(16777215), this.map = null, this.alphaMap = null, this.size = 1, this.sizeAttenuation = !0, this.morphTargets = !1, this.setValues(e)
            }
            sl.prototype = Object.assign(Object.create(rl.prototype), {
                constructor: sl,
                isLineSegments: !0,
                computeLineDistances: function () {
                    var e = this.geometry;
                    if (e.isBufferGeometry)
                        if (null === e.index) {
                            for (var t = e.attributes.position, n = [], i = 0, r = t.count; i < r; i += 2) ol.fromBufferAttribute(t, i), al.fromBufferAttribute(t, i + 1), n[i] = 0 === i ? 0 : n[i - 1], n[i + 1] = n[i] + ol.distanceTo(al);
                            e.setAttribute("lineDistance", new gr(n, 1))
                        } else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
                    else if (e.isGeometry) {
                        var o = e.vertices;
                        for (n = e.lineDistances, i = 0, r = o.length; i < r; i += 2) ol.copy(o[i]), al.copy(o[i + 1]), n[i] = 0 === i ? 0 : n[i - 1], n[i + 1] = n[i] + ol.distanceTo(al)
                    }
                    return this
                }
            }), ll.prototype = Object.assign(Object.create(rl.prototype), {
                constructor: ll,
                isLineLoop: !0
            }), cl.prototype = Object.create(ar.prototype), cl.prototype.constructor = cl, cl.prototype.isPointsMaterial = !0, cl.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.map = e.map, this.alphaMap = e.alphaMap, this.size = e.size, this.sizeAttenuation = e.sizeAttenuation, this.morphTargets = e.morphTargets, this
            };
            var ul = new Wn,
                hl = new Di,
                dl = new Ai,
                pl = new Nn;

            function fl(e, t) {
                ci.call(this), this.type = "Points", this.geometry = void 0 !== e ? e : new Pr, this.material = void 0 !== t ? t : new cl, this.updateMorphTargets()
            }

            function ml(e, t, n, i, r, o, a) {
                var s = hl.distanceSqToPoint(e);
                if (s < n) {
                    var l = new Nn;
                    hl.closestPointToPoint(e, l), l.applyMatrix4(i);
                    var c = r.ray.origin.distanceTo(l);
                    if (c < r.near || c > r.far) return;
                    o.push({
                        distance: c,
                        distanceToRay: Math.sqrt(s),
                        point: l,
                        index: t,
                        face: null,
                        object: a
                    })
                }
            }

            function vl(e, t, n, i, r, o, a, s, l) {
                Ln.call(this, e, t, n, i, r, o, a, s, l), this.format = void 0 !== a ? a : ze, this.minFilter = void 0 !== o ? o : Me, this.magFilter = void 0 !== r ? r : Me, this.generateMipmaps = !1
            }

            function gl(e, t, n, i, r, o, a, s, l, c, u, h) {
                Ln.call(this, null, o, a, s, l, c, i, r, u, h), this.image = {
                    width: t,
                    height: n
                }, this.mipmaps = e, this.flipY = !1, this.generateMipmaps = !1
            }

            function yl(e, t, n, i, r, o, a, s, l) {
                Ln.call(this, e, t, n, i, r, o, a, s, l), this.needsUpdate = !0
            }

            function _l(e, t, n, i, r, o, a, s, l, c) {
                if ((c = void 0 !== c ? c : Ye) !== Ye && c !== Je) throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
                void 0 === n && c === Ye && (n = ke), void 0 === n && c === Je && (n = Fe), Ln.call(this, null, i, r, o, a, s, c, n, l), this.image = {
                    width: e,
                    height: t
                }, this.magFilter = void 0 !== a ? a : be, this.minFilter = void 0 !== s ? s : be, this.flipY = !1, this.generateMipmaps = !1
            }

            function bl(e) {
                Pr.call(this), this.type = "WireframeGeometry";
                var t, n, i, r, o, a, s, l, c, u, h = [],
                    d = [0, 0],
                    p = {},
                    f = ["a", "b", "c"];
                if (e && e.isGeometry) {
                    var m = e.faces;
                    for (t = 0, i = m.length; t < i; t++) {
                        var v = m[t];
                        for (n = 0; n < 3; n++) s = v[f[n]], l = v[f[(n + 1) % 3]], d[0] = Math.min(s, l), d[1] = Math.max(s, l), void 0 === p[c = d[0] + "," + d[1]] && (p[c] = {
                            index1: d[0],
                            index2: d[1]
                        })
                    }
                    for (c in p) a = p[c], u = e.vertices[a.index1], h.push(u.x, u.y, u.z), u = e.vertices[a.index2], h.push(u.x, u.y, u.z)
                } else if (e && e.isBufferGeometry) {
                    var g, y, _, b, w, x, T;
                    if (u = new Nn, null !== e.index) {
                        for (g = e.attributes.position, y = e.index, 0 === (_ = e.groups).length && (_ = [{
                                start: 0,
                                count: y.count,
                                materialIndex: 0
                            }]), r = 0, o = _.length; r < o; ++r)
                            for (t = w = (b = _[r]).start, i = w + b.count; t < i; t += 3)
                                for (n = 0; n < 3; n++) s = y.getX(t + n), l = y.getX(t + (n + 1) % 3), d[0] = Math.min(s, l), d[1] = Math.max(s, l), void 0 === p[c = d[0] + "," + d[1]] && (p[c] = {
                                    index1: d[0],
                                    index2: d[1]
                                });
                        for (c in p) a = p[c], u.fromBufferAttribute(g, a.index1), h.push(u.x, u.y, u.z), u.fromBufferAttribute(g, a.index2), h.push(u.x, u.y, u.z)
                    } else
                        for (t = 0, i = (g = e.attributes.position).count / 3; t < i; t++)
                            for (n = 0; n < 3; n++) x = 3 * t + n, u.fromBufferAttribute(g, x), h.push(u.x, u.y, u.z), T = 3 * t + (n + 1) % 3, u.fromBufferAttribute(g, T), h.push(u.x, u.y, u.z)
                }
                this.setAttribute("position", new gr(h, 3))
            }

            function wl(e, t, n) {
                Qr.call(this), this.type = "ParametricGeometry", this.parameters = {
                    func: e,
                    slices: t,
                    stacks: n
                }, this.fromBufferGeometry(new xl(e, t, n)), this.mergeVertices()
            }

            function xl(e, t, n) {
                Pr.call(this), this.type = "ParametricBufferGeometry", this.parameters = {
                    func: e,
                    slices: t,
                    stacks: n
                };
                var i, r, o = [],
                    a = [],
                    s = [],
                    l = [],
                    c = new Nn,
                    u = new Nn,
                    h = new Nn,
                    d = new Nn,
                    p = new Nn;
                e.length < 3 && console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");
                var f = t + 1;
                for (i = 0; i <= n; i++) {
                    var m = i / n;
                    for (r = 0; r <= t; r++) {
                        var v = r / t;
                        e(v, m, u), a.push(u.x, u.y, u.z), v - 1e-5 >= 0 ? (e(v - 1e-5, m, h), d.subVectors(u, h)) : (e(v + 1e-5, m, h), d.subVectors(h, u)), m - 1e-5 >= 0 ? (e(v, m - 1e-5, h), p.subVectors(u, h)) : (e(v, m + 1e-5, h), p.subVectors(h, u)), c.crossVectors(d, p).normalize(), s.push(c.x, c.y, c.z), l.push(v, m)
                    }
                }
                for (i = 0; i < n; i++)
                    for (r = 0; r < t; r++) {
                        var g = i * f + r,
                            y = i * f + r + 1,
                            _ = (i + 1) * f + r + 1,
                            b = (i + 1) * f + r;
                        o.push(g, y, b), o.push(y, _, b)
                    }
                this.setIndex(o), this.setAttribute("position", new gr(a, 3)), this.setAttribute("normal", new gr(s, 3)), this.setAttribute("uv", new gr(l, 2))
            }

            function Tl(e, t, n, i) {
                Qr.call(this), this.type = "PolyhedronGeometry", this.parameters = {
                    vertices: e,
                    indices: t,
                    radius: n,
                    detail: i
                }, this.fromBufferGeometry(new Sl(e, t, n, i)), this.mergeVertices()
            }

            function Sl(e, t, n, i) {
                Pr.call(this), this.type = "PolyhedronBufferGeometry", this.parameters = {
                    vertices: e,
                    indices: t,
                    radius: n,
                    detail: i
                }, n = n || 1;
                var r = [],
                    o = [];

                function a(e, t, n, i) {
                    var r, o, a = Math.pow(2, i),
                        l = [];
                    for (r = 0; r <= a; r++) {
                        l[r] = [];
                        var c = e.clone().lerp(n, r / a),
                            u = t.clone().lerp(n, r / a),
                            h = a - r;
                        for (o = 0; o <= h; o++) l[r][o] = 0 === o && r === a ? c : c.clone().lerp(u, o / h)
                    }
                    for (r = 0; r < a; r++)
                        for (o = 0; o < 2 * (a - r) - 1; o++) {
                            var d = Math.floor(o / 2);
                            o % 2 == 0 ? (s(l[r][d + 1]), s(l[r + 1][d]), s(l[r][d])) : (s(l[r][d + 1]), s(l[r + 1][d + 1]), s(l[r + 1][d]))
                        }
                }

                function s(e) {
                    r.push(e.x, e.y, e.z)
                }

                function l(t, n) {
                    var i = 3 * t;
                    n.x = e[i + 0], n.y = e[i + 1], n.z = e[i + 2]
                }

                function c(e, t, n, i) {
                    i < 0 && 1 === e.x && (o[t] = e.x - 1), 0 === n.x && 0 === n.z && (o[t] = i / 2 / Math.PI + .5)
                }

                function u(e) {
                    return Math.atan2(e.z, -e.x)
                }! function (e) {
                    for (var n = new Nn, i = new Nn, r = new Nn, o = 0; o < t.length; o += 3) l(t[o + 0], n), l(t[o + 1], i), l(t[o + 2], r), a(n, i, r, e)
                }(i = i || 0),
                function (e) {
                    for (var t = new Nn, n = 0; n < r.length; n += 3) t.x = r[n + 0], t.y = r[n + 1], t.z = r[n + 2], t.normalize().multiplyScalar(e), r[n + 0] = t.x, r[n + 1] = t.y, r[n + 2] = t.z
                }(n),
                function () {
                    for (var e = new Nn, t = 0; t < r.length; t += 3) {
                        e.x = r[t + 0], e.y = r[t + 1], e.z = r[t + 2];
                        var n = u(e) / 2 / Math.PI + .5,
                            i = (a = e, Math.atan2(-a.y, Math.sqrt(a.x * a.x + a.z * a.z)) / Math.PI + .5);
                        o.push(n, 1 - i)
                    }
                    var a;
                    (function () {
                        for (var e = new Nn, t = new Nn, n = new Nn, i = new Nn, a = new En, s = new En, l = new En, h = 0, d = 0; h < r.length; h += 9, d += 6) {
                            e.set(r[h + 0], r[h + 1], r[h + 2]), t.set(r[h + 3], r[h + 4], r[h + 5]), n.set(r[h + 6], r[h + 7], r[h + 8]), a.set(o[d + 0], o[d + 1]), s.set(o[d + 2], o[d + 3]), l.set(o[d + 4], o[d + 5]), i.copy(e).add(t).add(n).divideScalar(3);
                            var p = u(i);
                            c(a, d + 0, e, p), c(s, d + 2, t, p), c(l, d + 4, n, p)
                        }
                    })(),
                    function () {
                        for (var e = 0; e < o.length; e += 6) {
                            var t = o[e + 0],
                                n = o[e + 2],
                                i = o[e + 4],
                                r = Math.max(t, n, i),
                                a = Math.min(t, n, i);
                            r > .9 && a < .1 && (t < .2 && (o[e + 0] += 1), n < .2 && (o[e + 2] += 1), i < .2 && (o[e + 4] += 1))
                        }
                    }()
                }(), this.setAttribute("position", new gr(r, 3)), this.setAttribute("normal", new gr(r.slice(), 3)), this.setAttribute("uv", new gr(o, 2)), 0 === i ? this.computeVertexNormals() : this.normalizeNormals()
            }

            function Ml(e, t) {
                Qr.call(this), this.type = "TetrahedronGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }, this.fromBufferGeometry(new El(e, t)), this.mergeVertices()
            }

            function El(e, t) {
                Sl.call(this, [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1], e, t), this.type = "TetrahedronBufferGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }
            }

            function Al(e, t) {
                Qr.call(this), this.type = "OctahedronGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }, this.fromBufferGeometry(new Pl(e, t)), this.mergeVertices()
            }

            function Pl(e, t) {
                Sl.call(this, [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2], e, t), this.type = "OctahedronBufferGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }
            }

            function Cl(e, t) {
                Qr.call(this), this.type = "IcosahedronGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }, this.fromBufferGeometry(new Ll(e, t)), this.mergeVertices()
            }

            function Ll(e, t) {
                var n = (1 + Math.sqrt(5)) / 2,
                    i = [-1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, 0, 0, -1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, n, 0, -1, n, 0, 1, -n, 0, -1, -n, 0, 1];
                Sl.call(this, i, [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1], e, t), this.type = "IcosahedronBufferGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }
            }

            function Ol(e, t) {
                Qr.call(this), this.type = "DodecahedronGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }, this.fromBufferGeometry(new Rl(e, t)), this.mergeVertices()
            }

            function Rl(e, t) {
                var n = (1 + Math.sqrt(5)) / 2,
                    i = 1 / n,
                    r = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -i, -n, 0, -i, n, 0, i, -n, 0, i, n, -i, -n, 0, -i, n, 0, i, -n, 0, i, n, 0, -n, 0, -i, n, 0, -i, -n, 0, i, n, 0, i];
                Sl.call(this, r, [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9], e, t), this.type = "DodecahedronBufferGeometry", this.parameters = {
                    radius: e,
                    detail: t
                }
            }

            function kl(e, t, n, i, r, o) {
                Qr.call(this), this.type = "TubeGeometry", this.parameters = {
                    path: e,
                    tubularSegments: t,
                    radius: n,
                    radialSegments: i,
                    closed: r
                }, void 0 !== o && console.warn("THREE.TubeGeometry: taper has been removed.");
                var a = new Il(e, t, n, i, r);
                this.tangents = a.tangents, this.normals = a.normals, this.binormals = a.binormals, this.fromBufferGeometry(a), this.mergeVertices()
            }

            function Il(e, t, n, i, r) {
                Pr.call(this), this.type = "TubeBufferGeometry", this.parameters = {
                    path: e,
                    tubularSegments: t,
                    radius: n,
                    radialSegments: i,
                    closed: r
                }, t = t || 64, n = n || 1, i = i || 8, r = r || !1;
                var o = e.computeFrenetFrames(t, r);
                this.tangents = o.tangents, this.normals = o.normals, this.binormals = o.binormals;
                var a, s, l = new Nn,
                    c = new Nn,
                    u = new En,
                    h = new Nn,
                    d = [],
                    p = [],
                    f = [],
                    m = [];

                function v(r) {
                    h = e.getPointAt(r / t, h);
                    var a = o.normals[r],
                        u = o.binormals[r];
                    for (s = 0; s <= i; s++) {
                        var f = s / i * Math.PI * 2,
                            m = Math.sin(f),
                            v = -Math.cos(f);
                        c.x = v * a.x + m * u.x, c.y = v * a.y + m * u.y, c.z = v * a.z + m * u.z, c.normalize(), p.push(c.x, c.y, c.z), l.x = h.x + n * c.x, l.y = h.y + n * c.y, l.z = h.z + n * c.z, d.push(l.x, l.y, l.z)
                    }
                }! function () {
                    for (a = 0; a < t; a++) v(a);
                    v(!1 === r ? t : 0),
                        function () {
                            for (a = 0; a <= t; a++)
                                for (s = 0; s <= i; s++) u.x = a / t, u.y = s / i, f.push(u.x, u.y)
                        }(),
                        function () {
                            for (s = 1; s <= t; s++)
                                for (a = 1; a <= i; a++) {
                                    var e = (i + 1) * (s - 1) + (a - 1),
                                        n = (i + 1) * s + (a - 1),
                                        r = (i + 1) * s + a,
                                        o = (i + 1) * (s - 1) + a;
                                    m.push(e, n, o), m.push(n, r, o)
                                }
                        }()
                }(), this.setIndex(m), this.setAttribute("position", new gr(d, 3)), this.setAttribute("normal", new gr(p, 3)), this.setAttribute("uv", new gr(f, 2))
            }

            function Dl(e, t, n, i, r, o, a) {
                Qr.call(this), this.type = "TorusKnotGeometry", this.parameters = {
                    radius: e,
                    tube: t,
                    tubularSegments: n,
                    radialSegments: i,
                    p: r,
                    q: o
                }, void 0 !== a && console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."), this.fromBufferGeometry(new Bl(e, t, n, i, r, o)), this.mergeVertices()
            }

            function Bl(e, t, n, i, r, o) {
                Pr.call(this), this.type = "TorusKnotBufferGeometry", this.parameters = {
                    radius: e,
                    tube: t,
                    tubularSegments: n,
                    radialSegments: i,
                    p: r,
                    q: o
                }, e = e || 1, t = t || .4, n = Math.floor(n) || 64, i = Math.floor(i) || 8, r = r || 2, o = o || 3;
                var a, s, l = [],
                    c = [],
                    u = [],
                    h = [],
                    d = new Nn,
                    p = new Nn,
                    f = new Nn,
                    m = new Nn,
                    v = new Nn,
                    g = new Nn,
                    y = new Nn;
                for (a = 0; a <= n; ++a) {
                    var _ = a / n * r * Math.PI * 2;
                    for (A(_, r, o, e, f), A(_ + .01, r, o, e, m), g.subVectors(m, f), y.addVectors(m, f), v.crossVectors(g, y), y.crossVectors(v, g), v.normalize(), y.normalize(), s = 0; s <= i; ++s) {
                        var b = s / i * Math.PI * 2,
                            w = -t * Math.cos(b),
                            x = t * Math.sin(b);
                        d.x = f.x + (w * y.x + x * v.x), d.y = f.y + (w * y.y + x * v.y), d.z = f.z + (w * y.z + x * v.z), c.push(d.x, d.y, d.z), p.subVectors(d, f).normalize(), u.push(p.x, p.y, p.z), h.push(a / n), h.push(s / i)
                    }
                }
                for (s = 1; s <= n; s++)
                    for (a = 1; a <= i; a++) {
                        var T = (i + 1) * (s - 1) + (a - 1),
                            S = (i + 1) * s + (a - 1),
                            M = (i + 1) * s + a,
                            E = (i + 1) * (s - 1) + a;
                        l.push(T, S, E), l.push(S, M, E)
                    }

                function A(e, t, n, i, r) {
                    var o = Math.cos(e),
                        a = Math.sin(e),
                        s = n / t * e,
                        l = Math.cos(s);
                    r.x = i * (2 + l) * .5 * o, r.y = i * (2 + l) * a * .5, r.z = i * Math.sin(s) * .5
                }
                this.setIndex(l), this.setAttribute("position", new gr(c, 3)), this.setAttribute("normal", new gr(u, 3)), this.setAttribute("uv", new gr(h, 2))
            }

            function Nl(e, t, n, i, r) {
                Qr.call(this), this.type = "TorusGeometry", this.parameters = {
                    radius: e,
                    tube: t,
                    radialSegments: n,
                    tubularSegments: i,
                    arc: r
                }, this.fromBufferGeometry(new Gl(e, t, n, i, r)), this.mergeVertices()
            }

            function Gl(e, t, n, i, r) {
                Pr.call(this), this.type = "TorusBufferGeometry", this.parameters = {
                    radius: e,
                    tube: t,
                    radialSegments: n,
                    tubularSegments: i,
                    arc: r
                }, e = e || 1, t = t || .4, n = Math.floor(n) || 8, i = Math.floor(i) || 6, r = r || 2 * Math.PI;
                var o, a, s = [],
                    l = [],
                    c = [],
                    u = [],
                    h = new Nn,
                    d = new Nn,
                    p = new Nn;
                for (o = 0; o <= n; o++)
                    for (a = 0; a <= i; a++) {
                        var f = a / i * r,
                            m = o / n * Math.PI * 2;
                        d.x = (e + t * Math.cos(m)) * Math.cos(f), d.y = (e + t * Math.cos(m)) * Math.sin(f), d.z = t * Math.sin(m), l.push(d.x, d.y, d.z), h.x = e * Math.cos(f), h.y = e * Math.sin(f), p.subVectors(d, h).normalize(), c.push(p.x, p.y, p.z), u.push(a / i), u.push(o / n)
                    }
                for (o = 1; o <= n; o++)
                    for (a = 1; a <= i; a++) {
                        var v = (i + 1) * o + a - 1,
                            g = (i + 1) * (o - 1) + a - 1,
                            y = (i + 1) * (o - 1) + a,
                            _ = (i + 1) * o + a;
                        s.push(v, g, _), s.push(g, y, _)
                    }
                this.setIndex(s), this.setAttribute("position", new gr(l, 3)), this.setAttribute("normal", new gr(c, 3)), this.setAttribute("uv", new gr(u, 2))
            }
            fl.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: fl,
                isPoints: !0,
                raycast: function (e, t) {
                    var n = this.geometry,
                        i = this.matrixWorld,
                        r = e.params.Points.threshold;
                    if (null === n.boundingSphere && n.computeBoundingSphere(), dl.copy(n.boundingSphere), dl.applyMatrix4(i), dl.radius += r, !1 !== e.ray.intersectsSphere(dl)) {
                        ul.getInverse(i), hl.copy(e.ray).applyMatrix4(ul);
                        var o = r / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                            a = o * o;
                        if (n.isBufferGeometry) {
                            var s = n.index,
                                l = n.attributes.position.array;
                            if (null !== s)
                                for (var c = s.array, u = 0, h = c.length; u < h; u++) {
                                    var d = c[u];
                                    pl.fromArray(l, 3 * d), ml(pl, d, a, i, e, t, this)
                                } else {
                                    u = 0;
                                    for (var p = l.length / 3; u < p; u++) pl.fromArray(l, 3 * u), ml(pl, u, a, i, e, t, this)
                                }
                        } else {
                            var f = n.vertices;
                            for (u = 0, p = f.length; u < p; u++) ml(f[u], u, a, i, e, t, this)
                        }
                    }
                },
                updateMorphTargets: function () {
                    var e, t, n, i = this.geometry;
                    if (i.isBufferGeometry) {
                        var r = i.morphAttributes,
                            o = Object.keys(r);
                        if (o.length > 0) {
                            var a = r[o[0]];
                            if (void 0 !== a)
                                for (this.morphTargetInfluences = [], this.morphTargetDictionary = {}, e = 0, t = a.length; e < t; e++) n = a[e].name || String(e), this.morphTargetInfluences.push(0), this.morphTargetDictionary[n] = e
                        }
                    } else {
                        var s = i.morphTargets;
                        void 0 !== s && s.length > 0 && console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")
                    }
                },
                clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), vl.prototype = Object.assign(Object.create(Ln.prototype), {
                constructor: vl,
                isVideoTexture: !0,
                update: function () {
                    var e = this.image;
                    e.readyState >= e.HAVE_CURRENT_DATA && (this.needsUpdate = !0)
                }
            }), gl.prototype = Object.create(Ln.prototype), gl.prototype.constructor = gl, gl.prototype.isCompressedTexture = !0, yl.prototype = Object.create(Ln.prototype), yl.prototype.constructor = yl, yl.prototype.isCanvasTexture = !0, _l.prototype = Object.create(Ln.prototype), _l.prototype.constructor = _l, _l.prototype.isDepthTexture = !0, bl.prototype = Object.create(Pr.prototype), bl.prototype.constructor = bl, wl.prototype = Object.create(Qr.prototype), wl.prototype.constructor = wl, xl.prototype = Object.create(Pr.prototype), xl.prototype.constructor = xl, Tl.prototype = Object.create(Qr.prototype), Tl.prototype.constructor = Tl, Sl.prototype = Object.create(Pr.prototype), Sl.prototype.constructor = Sl, Ml.prototype = Object.create(Qr.prototype), Ml.prototype.constructor = Ml, El.prototype = Object.create(Sl.prototype), El.prototype.constructor = El, Al.prototype = Object.create(Qr.prototype), Al.prototype.constructor = Al, Pl.prototype = Object.create(Sl.prototype), Pl.prototype.constructor = Pl, Cl.prototype = Object.create(Qr.prototype), Cl.prototype.constructor = Cl, Ll.prototype = Object.create(Sl.prototype), Ll.prototype.constructor = Ll, Ol.prototype = Object.create(Qr.prototype), Ol.prototype.constructor = Ol, Rl.prototype = Object.create(Sl.prototype), Rl.prototype.constructor = Rl, kl.prototype = Object.create(Qr.prototype), kl.prototype.constructor = kl, Il.prototype = Object.create(Pr.prototype), Il.prototype.constructor = Il, Il.prototype.toJSON = function () {
                var e = Pr.prototype.toJSON.call(this);
                return e.path = this.parameters.path.toJSON(), e
            }, Dl.prototype = Object.create(Qr.prototype), Dl.prototype.constructor = Dl, Bl.prototype = Object.create(Pr.prototype), Bl.prototype.constructor = Bl, Nl.prototype = Object.create(Qr.prototype), Nl.prototype.constructor = Nl, Gl.prototype = Object.create(Pr.prototype), Gl.prototype.constructor = Gl;
            var jl = function (e, t, n) {
                n = n || 2;
                var i, r, o, a, s, l, c, u = t && t.length,
                    h = u ? t[0] * n : e.length,
                    d = Hl(e, 0, h, n, !0),
                    p = [];
                if (!d || d.next === d.prev) return p;
                if (u && (d = function (e, t, n, i) {
                        var r, o, a, s, l, c = [];
                        for (r = 0, o = t.length; r < o; r++) a = t[r] * i, s = r < o - 1 ? t[r + 1] * i : e.length, (l = Hl(e, a, s, i, !1)) === l.next && (l.steiner = !0), c.push(Kl(l));
                        for (c.sort(Xl), r = 0; r < c.length; r++) Yl(c[r], n), n = Fl(n, n.next);
                        return n
                    }(e, t, d, n)), e.length > 80 * n) {
                    i = o = e[0], r = a = e[1];
                    for (var f = n; f < h; f += n)(s = e[f]) < i && (i = s), (l = e[f + 1]) < r && (r = l), s > o && (o = s), l > a && (a = l);
                    c = 0 !== (c = Math.max(o - i, a - r)) ? 1 / c : 0
                }
                return Ul(d, p, n, i, r, c), p
            };

            function Hl(e, t, n, i, r) {
                var o, a;
                if (r === function (e, t, n, i) {
                        for (var r = 0, o = t, a = n - i; o < n; o += i) r += (e[a] - e[o]) * (e[o + 1] + e[a + 1]), a = o;
                        return r
                    }(e, t, n, i) > 0)
                    for (o = t; o < n; o += i) a = rc(o, e[o], e[o + 1], a);
                else
                    for (o = n - i; o >= t; o -= i) a = rc(o, e[o], e[o + 1], a);
                return a && ec(a, a.next) && (oc(a), a = a.next), a
            }

            function Fl(e, t) {
                if (!e) return e;
                t || (t = e);
                var n, i = e;
                do {
                    if (n = !1, i.steiner || !ec(i, i.next) && 0 !== Ql(i.prev, i, i.next)) i = i.next;
                    else {
                        if (oc(i), (i = t = i.prev) === i.next) break;
                        n = !0
                    }
                } while (n || i !== t);
                return t
            }

            function Ul(e, t, n, i, r, o, a) {
                if (e) {
                    !a && o && function (e, t, n, i) {
                        var r = e;
                        do {
                            null === r.z && (r.z = Jl(r.x, r.y, t, n, i)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next
                        } while (r !== e);
                        r.prevZ.nextZ = null, r.prevZ = null,
                            function (e) {
                                var t, n, i, r, o, a, s, l, c = 1;
                                do {
                                    for (n = e, e = null, o = null, a = 0; n;) {
                                        for (a++, i = n, s = 0, t = 0; t < c && (s++, i = i.nextZ); t++);
                                        for (l = c; s > 0 || l > 0 && i;) 0 !== s && (0 === l || !i || n.z <= i.z) ? (r = n, n = n.nextZ, s--) : (r = i, i = i.nextZ, l--), o ? o.nextZ = r : e = r, r.prevZ = o, o = r;
                                        n = i
                                    }
                                    o.nextZ = null, c *= 2
                                } while (a > 1)
                            }(r)
                    }(e, i, r, o);
                    for (var s, l, c = e; e.prev !== e.next;)
                        if (s = e.prev, l = e.next, o ? Vl(e, i, r, o) : zl(e)) t.push(s.i / n), t.push(e.i / n), t.push(l.i / n), oc(e), e = l.next, c = l.next;
                        else if ((e = l) === c) {
                        a ? 1 === a ? Ul(e = Wl(e, t, n), t, n, i, r, o, 2) : 2 === a && ql(e, t, n, i, r, o) : Ul(Fl(e), t, n, i, r, o, 1);
                        break
                    }
                }
            }

            function zl(e) {
                var t = e.prev,
                    n = e,
                    i = e.next;
                if (Ql(t, n, i) >= 0) return !1;
                for (var r = e.next.next; r !== e.prev;) {
                    if (Zl(t.x, t.y, n.x, n.y, i.x, i.y, r.x, r.y) && Ql(r.prev, r, r.next) >= 0) return !1;
                    r = r.next
                }
                return !0
            }

            function Vl(e, t, n, i) {
                var r = e.prev,
                    o = e,
                    a = e.next;
                if (Ql(r, o, a) >= 0) return !1;
                for (var s = r.x < o.x ? r.x < a.x ? r.x : a.x : o.x < a.x ? o.x : a.x, l = r.y < o.y ? r.y < a.y ? r.y : a.y : o.y < a.y ? o.y : a.y, c = r.x > o.x ? r.x > a.x ? r.x : a.x : o.x > a.x ? o.x : a.x, u = r.y > o.y ? r.y > a.y ? r.y : a.y : o.y > a.y ? o.y : a.y, h = Jl(s, l, t, n, i), d = Jl(c, u, t, n, i), p = e.prevZ, f = e.nextZ; p && p.z >= h && f && f.z <= d;) {
                    if (p !== e.prev && p !== e.next && Zl(r.x, r.y, o.x, o.y, a.x, a.y, p.x, p.y) && Ql(p.prev, p, p.next) >= 0) return !1;
                    if (p = p.prevZ, f !== e.prev && f !== e.next && Zl(r.x, r.y, o.x, o.y, a.x, a.y, f.x, f.y) && Ql(f.prev, f, f.next) >= 0) return !1;
                    f = f.nextZ
                }
                for (; p && p.z >= h;) {
                    if (p !== e.prev && p !== e.next && Zl(r.x, r.y, o.x, o.y, a.x, a.y, p.x, p.y) && Ql(p.prev, p, p.next) >= 0) return !1;
                    p = p.prevZ
                }
                for (; f && f.z <= d;) {
                    if (f !== e.prev && f !== e.next && Zl(r.x, r.y, o.x, o.y, a.x, a.y, f.x, f.y) && Ql(f.prev, f, f.next) >= 0) return !1;
                    f = f.nextZ
                }
                return !0
            }

            function Wl(e, t, n) {
                var i = e;
                do {
                    var r = i.prev,
                        o = i.next.next;
                    !ec(r, o) && tc(r, i, i.next, o) && nc(r, o) && nc(o, r) && (t.push(r.i / n), t.push(i.i / n), t.push(o.i / n), oc(i), oc(i.next), i = e = o), i = i.next
                } while (i !== e);
                return i
            }

            function ql(e, t, n, i, r, o) {
                var a = e;
                do {
                    for (var s = a.next.next; s !== a.prev;) {
                        if (a.i !== s.i && $l(a, s)) {
                            var l = ic(a, s);
                            return a = Fl(a, a.next), l = Fl(l, l.next), Ul(a, t, n, i, r, o), void Ul(l, t, n, i, r, o)
                        }
                        s = s.next
                    }
                    a = a.next
                } while (a !== e)
            }

            function Xl(e, t) {
                return e.x - t.x
            }

            function Yl(e, t) {
                if (t = function (e, t) {
                        var n, i = t,
                            r = e.x,
                            o = e.y,
                            a = -1 / 0;
                        do {
                            if (o <= i.y && o >= i.next.y && i.next.y !== i.y) {
                                var s = i.x + (o - i.y) * (i.next.x - i.x) / (i.next.y - i.y);
                                if (s <= r && s > a) {
                                    if (a = s, s === r) {
                                        if (o === i.y) return i;
                                        if (o === i.next.y) return i.next
                                    }
                                    n = i.x < i.next.x ? i : i.next
                                }
                            }
                            i = i.next
                        } while (i !== t);
                        if (!n) return null;
                        if (r === a) return n.prev;
                        var l, c = n,
                            u = n.x,
                            h = n.y,
                            d = 1 / 0;
                        i = n.next;
                        for (; i !== c;) r >= i.x && i.x >= u && r !== i.x && Zl(o < h ? r : a, o, u, h, o < h ? a : r, o, i.x, i.y) && ((l = Math.abs(o - i.y) / (r - i.x)) < d || l === d && i.x > n.x) && nc(i, e) && (n = i, d = l), i = i.next;
                        return n
                    }(e, t)) {
                    var n = ic(t, e);
                    Fl(n, n.next)
                }
            }

            function Jl(e, t, n, i, r) {
                return (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - n) * r) | e << 8)) | e << 4)) | e << 2)) | e << 1)) | (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - i) * r) | t << 8)) | t << 4)) | t << 2)) | t << 1)) << 1
            }

            function Kl(e) {
                var t = e,
                    n = e;
                do {
                    (t.x < n.x || t.x === n.x && t.y < n.y) && (n = t), t = t.next
                } while (t !== e);
                return n
            }

            function Zl(e, t, n, i, r, o, a, s) {
                return (r - a) * (t - s) - (e - a) * (o - s) >= 0 && (e - a) * (i - s) - (n - a) * (t - s) >= 0 && (n - a) * (o - s) - (r - a) * (i - s) >= 0
            }

            function $l(e, t) {
                return e.next.i !== t.i && e.prev.i !== t.i && ! function (e, t) {
                    var n = e;
                    do {
                        if (n.i !== e.i && n.next.i !== e.i && n.i !== t.i && n.next.i !== t.i && tc(n, n.next, e, t)) return !0;
                        n = n.next
                    } while (n !== e);
                    return !1
                }(e, t) && nc(e, t) && nc(t, e) && function (e, t) {
                    var n = e,
                        i = !1,
                        r = (e.x + t.x) / 2,
                        o = (e.y + t.y) / 2;
                    do {
                        n.y > o != n.next.y > o && n.next.y !== n.y && r < (n.next.x - n.x) * (o - n.y) / (n.next.y - n.y) + n.x && (i = !i), n = n.next
                    } while (n !== e);
                    return i
                }(e, t)
            }

            function Ql(e, t, n) {
                return (t.y - e.y) * (n.x - t.x) - (t.x - e.x) * (n.y - t.y)
            }

            function ec(e, t) {
                return e.x === t.x && e.y === t.y
            }

            function tc(e, t, n, i) {
                return !!(ec(e, n) && ec(t, i) || ec(e, i) && ec(n, t)) || Ql(e, t, n) > 0 != Ql(e, t, i) > 0 && Ql(n, i, e) > 0 != Ql(n, i, t) > 0
            }

            function nc(e, t) {
                return Ql(e.prev, e, e.next) < 0 ? Ql(e, t, e.next) >= 0 && Ql(e, e.prev, t) >= 0 : Ql(e, t, e.prev) < 0 || Ql(e, e.next, t) < 0
            }

            function ic(e, t) {
                var n = new ac(e.i, e.x, e.y),
                    i = new ac(t.i, t.x, t.y),
                    r = e.next,
                    o = t.prev;
                return e.next = t, t.prev = e, n.next = r, r.prev = n, i.next = n, n.prev = i, o.next = i, i.prev = o, i
            }

            function rc(e, t, n, i) {
                var r = new ac(e, t, n);
                return i ? (r.next = i.next, r.prev = i, i.next.prev = r, i.next = r) : (r.prev = r, r.next = r), r
            }

            function oc(e) {
                e.next.prev = e.prev, e.prev.next = e.next, e.prevZ && (e.prevZ.nextZ = e.nextZ), e.nextZ && (e.nextZ.prevZ = e.prevZ)
            }

            function ac(e, t, n) {
                this.i = e, this.x = t, this.y = n, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
            }
            var sc = {
                area: function (e) {
                    for (var t = e.length, n = 0, i = t - 1, r = 0; r < t; i = r++) n += e[i].x * e[r].y - e[r].x * e[i].y;
                    return .5 * n
                },
                isClockWise: function (e) {
                    return sc.area(e) < 0
                },
                triangulateShape: function (e, t) {
                    var n = [],
                        i = [],
                        r = [];
                    lc(e), cc(n, e);
                    var o = e.length;
                    t.forEach(lc);
                    for (var a = 0; a < t.length; a++) i.push(o), o += t[a].length, cc(n, t[a]);
                    var s = jl(n, i);
                    for (a = 0; a < s.length; a += 3) r.push(s.slice(a, a + 3));
                    return r
                }
            };

            function lc(e) {
                var t = e.length;
                t > 2 && e[t - 1].equals(e[0]) && e.pop()
            }

            function cc(e, t) {
                for (var n = 0; n < t.length; n++) e.push(t[n].x), e.push(t[n].y)
            }

            function uc(e, t) {
                Qr.call(this), this.type = "ExtrudeGeometry", this.parameters = {
                    shapes: e,
                    options: t
                }, this.fromBufferGeometry(new hc(e, t)), this.mergeVertices()
            }

            function hc(e, t) {
                Pr.call(this), this.type = "ExtrudeBufferGeometry", this.parameters = {
                    shapes: e,
                    options: t
                }, e = Array.isArray(e) ? e : [e];
                for (var n = this, i = [], r = [], o = 0, a = e.length; o < a; o++) {
                    s(e[o])
                }

                function s(e) {
                    var o = [],
                        a = void 0 !== t.curveSegments ? t.curveSegments : 12,
                        s = void 0 !== t.steps ? t.steps : 1,
                        l = void 0 !== t.depth ? t.depth : 100,
                        c = void 0 === t.bevelEnabled || t.bevelEnabled,
                        u = void 0 !== t.bevelThickness ? t.bevelThickness : 6,
                        h = void 0 !== t.bevelSize ? t.bevelSize : u - 2,
                        d = void 0 !== t.bevelOffset ? t.bevelOffset : 0,
                        p = void 0 !== t.bevelSegments ? t.bevelSegments : 3,
                        f = t.extrudePath,
                        m = void 0 !== t.UVGenerator ? t.UVGenerator : dc;
                    void 0 !== t.amount && (console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."), l = t.amount);
                    var v, g, y, _, b, w, x, T, S = !1;
                    f && (v = f.getSpacedPoints(s), S = !0, c = !1, g = f.computeFrenetFrames(s, !1), y = new Nn, _ = new Nn, b = new Nn), c || (p = 0, u = 0, h = 0, d = 0);
                    var M = e.extractPoints(a),
                        E = M.shape,
                        A = M.holes;
                    if (!sc.isClockWise(E))
                        for (E = E.reverse(), x = 0, T = A.length; x < T; x++) w = A[x], sc.isClockWise(w) && (A[x] = w.reverse());
                    var P = sc.triangulateShape(E, A),
                        C = E;
                    for (x = 0, T = A.length; x < T; x++) w = A[x], E = E.concat(w);

                    function L(e, t, n) {
                        return t || console.error("THREE.ExtrudeGeometry: vec does not exist"), t.clone().multiplyScalar(n).add(e)
                    }
                    var O, R, k, I, D, B, N = E.length,
                        G = P.length;

                    function j(e, t, n) {
                        var i, r, o, a = e.x - t.x,
                            s = e.y - t.y,
                            l = n.x - e.x,
                            c = n.y - e.y,
                            u = a * a + s * s,
                            h = a * c - s * l;
                        if (Math.abs(h) > Number.EPSILON) {
                            var d = Math.sqrt(u),
                                p = Math.sqrt(l * l + c * c),
                                f = t.x - s / d,
                                m = t.y + a / d,
                                v = ((n.x - c / p - f) * c - (n.y + l / p - m) * l) / (a * c - s * l),
                                g = (i = f + a * v - e.x) * i + (r = m + s * v - e.y) * r;
                            if (g <= 2) return new En(i, r);
                            o = Math.sqrt(g / 2)
                        } else {
                            var y = !1;
                            a > Number.EPSILON ? l > Number.EPSILON && (y = !0) : a < -Number.EPSILON ? l < -Number.EPSILON && (y = !0) : Math.sign(s) === Math.sign(c) && (y = !0), y ? (i = -s, r = a, o = Math.sqrt(u)) : (i = a, r = s, o = Math.sqrt(u / 2))
                        }
                        return new En(i / o, r / o)
                    }
                    for (var H = [], F = 0, U = C.length, z = U - 1, V = F + 1; F < U; F++, z++, V++) z === U && (z = 0), V === U && (V = 0), H[F] = j(C[F], C[z], C[V]);
                    var W, q, X = [],
                        Y = H.concat();
                    for (x = 0, T = A.length; x < T; x++) {
                        for (w = A[x], W = [], F = 0, z = (U = w.length) - 1, V = F + 1; F < U; F++, z++, V++) z === U && (z = 0), V === U && (V = 0), W[F] = j(w[F], w[z], w[V]);
                        X.push(W), Y = Y.concat(W)
                    }
                    for (O = 0; O < p; O++) {
                        for (k = O / p, I = u * Math.cos(k * Math.PI / 2), R = h * Math.sin(k * Math.PI / 2) + d, F = 0, U = C.length; F < U; F++) K((D = L(C[F], H[F], R)).x, D.y, -I);
                        for (x = 0, T = A.length; x < T; x++)
                            for (w = A[x], W = X[x], F = 0, U = w.length; F < U; F++) K((D = L(w[F], W[F], R)).x, D.y, -I)
                    }
                    for (R = h + d, F = 0; F < N; F++) D = c ? L(E[F], Y[F], R) : E[F], S ? (_.copy(g.normals[0]).multiplyScalar(D.x), y.copy(g.binormals[0]).multiplyScalar(D.y), b.copy(v[0]).add(_).add(y), K(b.x, b.y, b.z)) : K(D.x, D.y, 0);
                    for (q = 1; q <= s; q++)
                        for (F = 0; F < N; F++) D = c ? L(E[F], Y[F], R) : E[F], S ? (_.copy(g.normals[q]).multiplyScalar(D.x), y.copy(g.binormals[q]).multiplyScalar(D.y), b.copy(v[q]).add(_).add(y), K(b.x, b.y, b.z)) : K(D.x, D.y, l / s * q);
                    for (O = p - 1; O >= 0; O--) {
                        for (k = O / p, I = u * Math.cos(k * Math.PI / 2), R = h * Math.sin(k * Math.PI / 2) + d, F = 0, U = C.length; F < U; F++) K((D = L(C[F], H[F], R)).x, D.y, l + I);
                        for (x = 0, T = A.length; x < T; x++)
                            for (w = A[x], W = X[x], F = 0, U = w.length; F < U; F++) D = L(w[F], W[F], R), S ? K(D.x, D.y + v[s - 1].y, v[s - 1].x + I) : K(D.x, D.y, l + I)
                    }

                    function J(e, t) {
                        var n, i;
                        for (F = e.length; --F >= 0;) {
                            n = F, (i = F - 1) < 0 && (i = e.length - 1);
                            var r = 0,
                                o = s + 2 * p;
                            for (r = 0; r < o; r++) {
                                var a = N * r,
                                    l = N * (r + 1);
                                $(t + n + a, t + i + a, t + i + l, t + n + l)
                            }
                        }
                    }

                    function K(e, t, n) {
                        o.push(e), o.push(t), o.push(n)
                    }

                    function Z(e, t, r) {
                        Q(e), Q(t), Q(r);
                        var o = i.length / 3,
                            a = m.generateTopUV(n, i, o - 3, o - 2, o - 1);
                        ee(a[0]), ee(a[1]), ee(a[2])
                    }

                    function $(e, t, r, o) {
                        Q(e), Q(t), Q(o), Q(t), Q(r), Q(o);
                        var a = i.length / 3,
                            s = m.generateSideWallUV(n, i, a - 6, a - 3, a - 2, a - 1);
                        ee(s[0]), ee(s[1]), ee(s[3]), ee(s[1]), ee(s[2]), ee(s[3])
                    }

                    function Q(e) {
                        i.push(o[3 * e + 0]), i.push(o[3 * e + 1]), i.push(o[3 * e + 2])
                    }

                    function ee(e) {
                        r.push(e.x), r.push(e.y)
                    }! function () {
                        var e = i.length / 3;
                        if (c) {
                            var t = 0,
                                r = N * t;
                            for (F = 0; F < G; F++) Z((B = P[F])[2] + r, B[1] + r, B[0] + r);
                            for (r = N * (t = s + 2 * p), F = 0; F < G; F++) Z((B = P[F])[0] + r, B[1] + r, B[2] + r)
                        } else {
                            for (F = 0; F < G; F++) Z((B = P[F])[2], B[1], B[0]);
                            for (F = 0; F < G; F++) Z((B = P[F])[0] + N * s, B[1] + N * s, B[2] + N * s)
                        }
                        n.addGroup(e, i.length / 3 - e, 0)
                    }(),
                    function () {
                        var e = i.length / 3,
                            t = 0;
                        for (J(C, t), t += C.length, x = 0, T = A.length; x < T; x++) J(w = A[x], t), t += w.length;
                        n.addGroup(e, i.length / 3 - e, 1)
                    }()
                }
                this.setAttribute("position", new gr(i, 3)), this.setAttribute("uv", new gr(r, 2)), this.computeVertexNormals()
            }
            uc.prototype = Object.create(Qr.prototype), uc.prototype.constructor = uc, uc.prototype.toJSON = function () {
                var e = Qr.prototype.toJSON.call(this);
                return pc(this.parameters.shapes, this.parameters.options, e)
            }, hc.prototype = Object.create(Pr.prototype), hc.prototype.constructor = hc, hc.prototype.toJSON = function () {
                var e = Pr.prototype.toJSON.call(this);
                return pc(this.parameters.shapes, this.parameters.options, e)
            };
            var dc = {
                generateTopUV: function (e, t, n, i, r) {
                    var o = t[3 * n],
                        a = t[3 * n + 1],
                        s = t[3 * i],
                        l = t[3 * i + 1],
                        c = t[3 * r],
                        u = t[3 * r + 1];
                    return [new En(o, a), new En(s, l), new En(c, u)]
                },
                generateSideWallUV: function (e, t, n, i, r, o) {
                    var a = t[3 * n],
                        s = t[3 * n + 1],
                        l = t[3 * n + 2],
                        c = t[3 * i],
                        u = t[3 * i + 1],
                        h = t[3 * i + 2],
                        d = t[3 * r],
                        p = t[3 * r + 1],
                        f = t[3 * r + 2],
                        m = t[3 * o],
                        v = t[3 * o + 1],
                        g = t[3 * o + 2];
                    return Math.abs(s - u) < .01 ? [new En(a, 1 - l), new En(c, 1 - h), new En(d, 1 - f), new En(m, 1 - g)] : [new En(s, 1 - l), new En(u, 1 - h), new En(p, 1 - f), new En(v, 1 - g)]
                }
            };

            function pc(e, t, n) {
                if (n.shapes = [], Array.isArray(e))
                    for (var i = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        n.shapes.push(o.uuid)
                    } else n.shapes.push(e.uuid);
                return void 0 !== t.extrudePath && (n.options.extrudePath = t.extrudePath.toJSON()), n
            }

            function fc(e, t) {
                Qr.call(this), this.type = "TextGeometry", this.parameters = {
                    text: e,
                    parameters: t
                }, this.fromBufferGeometry(new mc(e, t)), this.mergeVertices()
            }

            function mc(e, t) {
                var n = (t = t || {}).font;
                if (!n || !n.isFont) return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."), new Qr;
                var i = n.generateShapes(e, t.size);
                t.depth = void 0 !== t.height ? t.height : 50, void 0 === t.bevelThickness && (t.bevelThickness = 10), void 0 === t.bevelSize && (t.bevelSize = 8), void 0 === t.bevelEnabled && (t.bevelEnabled = !1), hc.call(this, i, t), this.type = "TextBufferGeometry"
            }

            function vc(e, t, n, i, r, o, a) {
                Qr.call(this), this.type = "SphereGeometry", this.parameters = {
                    radius: e,
                    widthSegments: t,
                    heightSegments: n,
                    phiStart: i,
                    phiLength: r,
                    thetaStart: o,
                    thetaLength: a
                }, this.fromBufferGeometry(new gc(e, t, n, i, r, o, a)), this.mergeVertices()
            }

            function gc(e, t, n, i, r, o, a) {
                Pr.call(this), this.type = "SphereBufferGeometry", this.parameters = {
                    radius: e,
                    widthSegments: t,
                    heightSegments: n,
                    phiStart: i,
                    phiLength: r,
                    thetaStart: o,
                    thetaLength: a
                }, e = e || 1, t = Math.max(3, Math.floor(t) || 8), n = Math.max(2, Math.floor(n) || 6), i = void 0 !== i ? i : 0, r = void 0 !== r ? r : 2 * Math.PI, o = void 0 !== o ? o : 0, a = void 0 !== a ? a : Math.PI;
                var s, l, c = Math.min(o + a, Math.PI),
                    u = 0,
                    h = [],
                    d = new Nn,
                    p = new Nn,
                    f = [],
                    m = [],
                    v = [],
                    g = [];
                for (l = 0; l <= n; l++) {
                    var y = [],
                        _ = l / n,
                        b = 0;
                    for (0 == l && 0 == o ? b = .5 / t : l == n && c == Math.PI && (b = -.5 / t), s = 0; s <= t; s++) {
                        var w = s / t;
                        d.x = -e * Math.cos(i + w * r) * Math.sin(o + _ * a), d.y = e * Math.cos(o + _ * a), d.z = e * Math.sin(i + w * r) * Math.sin(o + _ * a), m.push(d.x, d.y, d.z), p.copy(d).normalize(), v.push(p.x, p.y, p.z), g.push(w + b, 1 - _), y.push(u++)
                    }
                    h.push(y)
                }
                for (l = 0; l < n; l++)
                    for (s = 0; s < t; s++) {
                        var x = h[l][s + 1],
                            T = h[l][s],
                            S = h[l + 1][s],
                            M = h[l + 1][s + 1];
                        (0 !== l || o > 0) && f.push(x, T, M), (l !== n - 1 || c < Math.PI) && f.push(T, S, M)
                    }
                this.setIndex(f), this.setAttribute("position", new gr(m, 3)), this.setAttribute("normal", new gr(v, 3)), this.setAttribute("uv", new gr(g, 2))
            }

            function yc(e, t, n, i, r, o) {
                Qr.call(this), this.type = "RingGeometry", this.parameters = {
                    innerRadius: e,
                    outerRadius: t,
                    thetaSegments: n,
                    phiSegments: i,
                    thetaStart: r,
                    thetaLength: o
                }, this.fromBufferGeometry(new _c(e, t, n, i, r, o)), this.mergeVertices()
            }

            function _c(e, t, n, i, r, o) {
                Pr.call(this), this.type = "RingBufferGeometry", this.parameters = {
                    innerRadius: e,
                    outerRadius: t,
                    thetaSegments: n,
                    phiSegments: i,
                    thetaStart: r,
                    thetaLength: o
                }, e = e || .5, t = t || 1, r = void 0 !== r ? r : 0, o = void 0 !== o ? o : 2 * Math.PI, n = void 0 !== n ? Math.max(3, n) : 8;
                var a, s, l, c = [],
                    u = [],
                    h = [],
                    d = [],
                    p = e,
                    f = (t - e) / (i = void 0 !== i ? Math.max(1, i) : 1),
                    m = new Nn,
                    v = new En;
                for (s = 0; s <= i; s++) {
                    for (l = 0; l <= n; l++) a = r + l / n * o, m.x = p * Math.cos(a), m.y = p * Math.sin(a), u.push(m.x, m.y, m.z), h.push(0, 0, 1), v.x = (m.x / t + 1) / 2, v.y = (m.y / t + 1) / 2, d.push(v.x, v.y);
                    p += f
                }
                for (s = 0; s < i; s++) {
                    var g = s * (n + 1);
                    for (l = 0; l < n; l++) {
                        var y = a = l + g,
                            _ = a + n + 1,
                            b = a + n + 2,
                            w = a + 1;
                        c.push(y, _, w), c.push(_, b, w)
                    }
                }
                this.setIndex(c), this.setAttribute("position", new gr(u, 3)), this.setAttribute("normal", new gr(h, 3)), this.setAttribute("uv", new gr(d, 2))
            }

            function bc(e, t, n, i) {
                Qr.call(this), this.type = "LatheGeometry", this.parameters = {
                    points: e,
                    segments: t,
                    phiStart: n,
                    phiLength: i
                }, this.fromBufferGeometry(new wc(e, t, n, i)), this.mergeVertices()
            }

            function wc(e, t, n, i) {
                Pr.call(this), this.type = "LatheBufferGeometry", this.parameters = {
                    points: e,
                    segments: t,
                    phiStart: n,
                    phiLength: i
                }, t = Math.floor(t) || 12, n = n || 0, i = i || 2 * Math.PI, i = Mn.clamp(i, 0, 2 * Math.PI);
                var r, o, a, s = [],
                    l = [],
                    c = [],
                    u = 1 / t,
                    h = new Nn,
                    d = new En;
                for (o = 0; o <= t; o++) {
                    var p = n + o * u * i,
                        f = Math.sin(p),
                        m = Math.cos(p);
                    for (a = 0; a <= e.length - 1; a++) h.x = e[a].x * f, h.y = e[a].y, h.z = e[a].x * m, l.push(h.x, h.y, h.z), d.x = o / t, d.y = a / (e.length - 1), c.push(d.x, d.y)
                }
                for (o = 0; o < t; o++)
                    for (a = 0; a < e.length - 1; a++) {
                        var v = r = a + o * e.length,
                            g = r + e.length,
                            y = r + e.length + 1,
                            _ = r + 1;
                        s.push(v, g, _), s.push(g, y, _)
                    }
                if (this.setIndex(s), this.setAttribute("position", new gr(l, 3)), this.setAttribute("uv", new gr(c, 2)), this.computeVertexNormals(), i === 2 * Math.PI) {
                    var b = this.attributes.normal.array,
                        w = new Nn,
                        x = new Nn,
                        T = new Nn;
                    for (r = t * e.length * 3, o = 0, a = 0; o < e.length; o++, a += 3) w.x = b[a + 0], w.y = b[a + 1], w.z = b[a + 2], x.x = b[r + a + 0], x.y = b[r + a + 1], x.z = b[r + a + 2], T.addVectors(w, x).normalize(), b[a + 0] = b[r + a + 0] = T.x, b[a + 1] = b[r + a + 1] = T.y, b[a + 2] = b[r + a + 2] = T.z
                }
            }

            function xc(e, t) {
                Qr.call(this), this.type = "ShapeGeometry", "object" == typeof t && (console.warn("THREE.ShapeGeometry: Options parameter has been removed."), t = t.curveSegments), this.parameters = {
                    shapes: e,
                    curveSegments: t
                }, this.fromBufferGeometry(new Tc(e, t)), this.mergeVertices()
            }

            function Tc(e, t) {
                Pr.call(this), this.type = "ShapeBufferGeometry", this.parameters = {
                    shapes: e,
                    curveSegments: t
                }, t = t || 12;
                var n = [],
                    i = [],
                    r = [],
                    o = [],
                    a = 0,
                    s = 0;
                if (!1 === Array.isArray(e)) c(e);
                else
                    for (var l = 0; l < e.length; l++) c(e[l]), this.addGroup(a, s, l), a += s, s = 0;

                function c(e) {
                    var a, l, c, u = i.length / 3,
                        h = e.extractPoints(t),
                        d = h.shape,
                        p = h.holes;
                    for (!1 === sc.isClockWise(d) && (d = d.reverse()), a = 0, l = p.length; a < l; a++) c = p[a], !0 === sc.isClockWise(c) && (p[a] = c.reverse());
                    var f = sc.triangulateShape(d, p);
                    for (a = 0, l = p.length; a < l; a++) c = p[a], d = d.concat(c);
                    for (a = 0, l = d.length; a < l; a++) {
                        var m = d[a];
                        i.push(m.x, m.y, 0), r.push(0, 0, 1), o.push(m.x, m.y)
                    }
                    for (a = 0, l = f.length; a < l; a++) {
                        var v = f[a],
                            g = v[0] + u,
                            y = v[1] + u,
                            _ = v[2] + u;
                        n.push(g, y, _), s += 3
                    }
                }
                this.setIndex(n), this.setAttribute("position", new gr(i, 3)), this.setAttribute("normal", new gr(r, 3)), this.setAttribute("uv", new gr(o, 2))
            }

            function Sc(e, t) {
                if (t.shapes = [], Array.isArray(e))
                    for (var n = 0, i = e.length; n < i; n++) {
                        var r = e[n];
                        t.shapes.push(r.uuid)
                    } else t.shapes.push(e.uuid);
                return t
            }

            function Mc(e, t) {
                Pr.call(this), this.type = "EdgesGeometry", this.parameters = {
                    thresholdAngle: t
                }, t = void 0 !== t ? t : 1;
                var n, i, r, o, a = [],
                    s = Math.cos(Mn.DEG2RAD * t),
                    l = [0, 0],
                    c = {},
                    u = ["a", "b", "c"];
                e.isBufferGeometry ? (o = new Qr).fromBufferGeometry(e) : o = e.clone(), o.mergeVertices(), o.computeFaceNormals();
                for (var h = o.vertices, d = o.faces, p = 0, f = d.length; p < f; p++)
                    for (var m = d[p], v = 0; v < 3; v++) n = m[u[v]], i = m[u[(v + 1) % 3]], l[0] = Math.min(n, i), l[1] = Math.max(n, i), void 0 === c[r = l[0] + "," + l[1]] ? c[r] = {
                        index1: l[0],
                        index2: l[1],
                        face1: p,
                        face2: void 0
                    } : c[r].face2 = p;
                for (r in c) {
                    var g = c[r];
                    if (void 0 === g.face2 || d[g.face1].normal.dot(d[g.face2].normal) <= s) {
                        var y = h[g.index1];
                        a.push(y.x, y.y, y.z), y = h[g.index2], a.push(y.x, y.y, y.z)
                    }
                }
                this.setAttribute("position", new gr(a, 3))
            }

            function Ec(e, t, n, i, r, o, a, s) {
                Qr.call(this), this.type = "CylinderGeometry", this.parameters = {
                    radiusTop: e,
                    radiusBottom: t,
                    height: n,
                    radialSegments: i,
                    heightSegments: r,
                    openEnded: o,
                    thetaStart: a,
                    thetaLength: s
                }, this.fromBufferGeometry(new Ac(e, t, n, i, r, o, a, s)), this.mergeVertices()
            }

            function Ac(e, t, n, i, r, o, a, s) {
                Pr.call(this), this.type = "CylinderBufferGeometry", this.parameters = {
                    radiusTop: e,
                    radiusBottom: t,
                    height: n,
                    radialSegments: i,
                    heightSegments: r,
                    openEnded: o,
                    thetaStart: a,
                    thetaLength: s
                };
                var l = this;
                e = void 0 !== e ? e : 1, t = void 0 !== t ? t : 1, n = n || 1, i = Math.floor(i) || 8, r = Math.floor(r) || 1, o = void 0 !== o && o, a = void 0 !== a ? a : 0, s = void 0 !== s ? s : 2 * Math.PI;
                var c = [],
                    u = [],
                    h = [],
                    d = [],
                    p = 0,
                    f = [],
                    m = n / 2,
                    v = 0;

                function g(n) {
                    var r, o, f, g = new En,
                        y = new Nn,
                        _ = 0,
                        b = !0 === n ? e : t,
                        w = !0 === n ? 1 : -1;
                    for (o = p, r = 1; r <= i; r++) u.push(0, m * w, 0), h.push(0, w, 0), d.push(.5, .5), p++;
                    for (f = p, r = 0; r <= i; r++) {
                        var x = r / i * s + a,
                            T = Math.cos(x),
                            S = Math.sin(x);
                        y.x = b * S, y.y = m * w, y.z = b * T, u.push(y.x, y.y, y.z), h.push(0, w, 0), g.x = .5 * T + .5, g.y = .5 * S * w + .5, d.push(g.x, g.y), p++
                    }
                    for (r = 0; r < i; r++) {
                        var M = o + r,
                            E = f + r;
                        !0 === n ? c.push(E, E + 1, M) : c.push(E + 1, E, M), _ += 3
                    }
                    l.addGroup(v, _, !0 === n ? 1 : 2), v += _
                }! function () {
                    var o, g, y = new Nn,
                        _ = new Nn,
                        b = 0,
                        w = (t - e) / n;
                    for (g = 0; g <= r; g++) {
                        var x = [],
                            T = g / r,
                            S = T * (t - e) + e;
                        for (o = 0; o <= i; o++) {
                            var M = o / i,
                                E = M * s + a,
                                A = Math.sin(E),
                                P = Math.cos(E);
                            _.x = S * A, _.y = -T * n + m, _.z = S * P, u.push(_.x, _.y, _.z), y.set(A, w, P).normalize(), h.push(y.x, y.y, y.z), d.push(M, 1 - T), x.push(p++)
                        }
                        f.push(x)
                    }
                    for (o = 0; o < i; o++)
                        for (g = 0; g < r; g++) {
                            var C = f[g][o],
                                L = f[g + 1][o],
                                O = f[g + 1][o + 1],
                                R = f[g][o + 1];
                            c.push(C, L, R), c.push(L, O, R), b += 6
                        }
                    l.addGroup(v, b, 0), v += b
                }(), !1 === o && (e > 0 && g(!0), t > 0 && g(!1)), this.setIndex(c), this.setAttribute("position", new gr(u, 3)), this.setAttribute("normal", new gr(h, 3)), this.setAttribute("uv", new gr(d, 2))
            }

            function Pc(e, t, n, i, r, o, a) {
                Ec.call(this, 0, e, t, n, i, r, o, a), this.type = "ConeGeometry", this.parameters = {
                    radius: e,
                    height: t,
                    radialSegments: n,
                    heightSegments: i,
                    openEnded: r,
                    thetaStart: o,
                    thetaLength: a
                }
            }

            function Cc(e, t, n, i, r, o, a) {
                Ac.call(this, 0, e, t, n, i, r, o, a), this.type = "ConeBufferGeometry", this.parameters = {
                    radius: e,
                    height: t,
                    radialSegments: n,
                    heightSegments: i,
                    openEnded: r,
                    thetaStart: o,
                    thetaLength: a
                }
            }

            function Lc(e, t, n, i) {
                Qr.call(this), this.type = "CircleGeometry", this.parameters = {
                    radius: e,
                    segments: t,
                    thetaStart: n,
                    thetaLength: i
                }, this.fromBufferGeometry(new Oc(e, t, n, i)), this.mergeVertices()
            }

            function Oc(e, t, n, i) {
                Pr.call(this), this.type = "CircleBufferGeometry", this.parameters = {
                    radius: e,
                    segments: t,
                    thetaStart: n,
                    thetaLength: i
                }, e = e || 1, t = void 0 !== t ? Math.max(3, t) : 8, n = void 0 !== n ? n : 0, i = void 0 !== i ? i : 2 * Math.PI;
                var r, o, a = [],
                    s = [],
                    l = [],
                    c = [],
                    u = new Nn,
                    h = new En;
                for (s.push(0, 0, 0), l.push(0, 0, 1), c.push(.5, .5), o = 0, r = 3; o <= t; o++, r += 3) {
                    var d = n + o / t * i;
                    u.x = e * Math.cos(d), u.y = e * Math.sin(d), s.push(u.x, u.y, u.z), l.push(0, 0, 1), h.x = (s[r] / e + 1) / 2, h.y = (s[r + 1] / e + 1) / 2, c.push(h.x, h.y)
                }
                for (r = 1; r <= t; r++) a.push(r, r + 1, 0);
                this.setIndex(a), this.setAttribute("position", new gr(s, 3)), this.setAttribute("normal", new gr(l, 3)), this.setAttribute("uv", new gr(c, 2))
            }
            fc.prototype = Object.create(Qr.prototype), fc.prototype.constructor = fc, mc.prototype = Object.create(hc.prototype), mc.prototype.constructor = mc, vc.prototype = Object.create(Qr.prototype), vc.prototype.constructor = vc, gc.prototype = Object.create(Pr.prototype), gc.prototype.constructor = gc, yc.prototype = Object.create(Qr.prototype), yc.prototype.constructor = yc, _c.prototype = Object.create(Pr.prototype), _c.prototype.constructor = _c, bc.prototype = Object.create(Qr.prototype), bc.prototype.constructor = bc, wc.prototype = Object.create(Pr.prototype), wc.prototype.constructor = wc, xc.prototype = Object.create(Qr.prototype), xc.prototype.constructor = xc, xc.prototype.toJSON = function () {
                var e = Qr.prototype.toJSON.call(this);
                return Sc(this.parameters.shapes, e)
            }, Tc.prototype = Object.create(Pr.prototype), Tc.prototype.constructor = Tc, Tc.prototype.toJSON = function () {
                var e = Pr.prototype.toJSON.call(this);
                return Sc(this.parameters.shapes, e)
            }, Mc.prototype = Object.create(Pr.prototype), Mc.prototype.constructor = Mc, Ec.prototype = Object.create(Qr.prototype), Ec.prototype.constructor = Ec, Ac.prototype = Object.create(Pr.prototype), Ac.prototype.constructor = Ac, Pc.prototype = Object.create(Ec.prototype), Pc.prototype.constructor = Pc, Cc.prototype = Object.create(Ac.prototype), Cc.prototype.constructor = Cc, Lc.prototype = Object.create(Qr.prototype), Lc.prototype.constructor = Lc, Oc.prototype = Object.create(Pr.prototype), Oc.prototype.constructor = Oc;
            var Rc = Object.freeze({
                __proto__: null,
                WireframeGeometry: bl,
                ParametricGeometry: wl,
                ParametricBufferGeometry: xl,
                TetrahedronGeometry: Ml,
                TetrahedronBufferGeometry: El,
                OctahedronGeometry: Al,
                OctahedronBufferGeometry: Pl,
                IcosahedronGeometry: Cl,
                IcosahedronBufferGeometry: Ll,
                DodecahedronGeometry: Ol,
                DodecahedronBufferGeometry: Rl,
                PolyhedronGeometry: Tl,
                PolyhedronBufferGeometry: Sl,
                TubeGeometry: kl,
                TubeBufferGeometry: Il,
                TorusKnotGeometry: Dl,
                TorusKnotBufferGeometry: Bl,
                TorusGeometry: Nl,
                TorusBufferGeometry: Gl,
                TextGeometry: fc,
                TextBufferGeometry: mc,
                SphereGeometry: vc,
                SphereBufferGeometry: gc,
                RingGeometry: yc,
                RingBufferGeometry: _c,
                PlaneGeometry: yo,
                PlaneBufferGeometry: _o,
                LatheGeometry: bc,
                LatheBufferGeometry: wc,
                ShapeGeometry: xc,
                ShapeBufferGeometry: Tc,
                ExtrudeGeometry: uc,
                ExtrudeBufferGeometry: hc,
                EdgesGeometry: Mc,
                ConeGeometry: Pc,
                ConeBufferGeometry: Cc,
                CylinderGeometry: Ec,
                CylinderBufferGeometry: Ac,
                CircleGeometry: Lc,
                CircleBufferGeometry: Oc,
                BoxGeometry: eo,
                BoxBufferGeometry: to
            });

            function kc(e) {
                ar.call(this), this.type = "ShadowMaterial", this.color = new er(0), this.transparent = !0, this.setValues(e)
            }

            function Ic(e) {
                oo.call(this, e), this.type = "RawShaderMaterial"
            }

            function Dc(e) {
                ar.call(this), this.defines = {
                    STANDARD: ""
                }, this.type = "MeshStandardMaterial", this.color = new er(16777215), this.roughness = 1, this.metalness = 0, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new er(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Xt, this.normalScale = new En(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapIntensity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function Bc(e) {
                Dc.call(this), this.defines = {
                    STANDARD: "",
                    PHYSICAL: ""
                }, this.type = "MeshPhysicalMaterial", this.reflectivity = .5, this.clearcoat = 0, this.clearcoatRoughness = 0, this.sheen = null, this.clearcoatNormalScale = new En(1, 1), this.clearcoatNormalMap = null, this.transparency = 0, this.setValues(e)
            }

            function Nc(e) {
                ar.call(this), this.type = "MeshPhongMaterial", this.color = new er(16777215), this.specular = new er(1118481), this.shininess = 30, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new er(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Xt, this.normalScale = new En(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = ee, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function Gc(e) {
                ar.call(this), this.defines = {
                    TOON: ""
                }, this.type = "MeshToonMaterial", this.color = new er(16777215), this.specular = new er(1118481), this.shininess = 30, this.map = null, this.gradientMap = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new er(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Xt, this.normalScale = new En(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function jc(e) {
                ar.call(this), this.type = "MeshNormalMaterial", this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Xt, this.normalScale = new En(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function Hc(e) {
                ar.call(this), this.type = "MeshLambertMaterial", this.color = new er(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new er(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = ee, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function Fc(e) {
                ar.call(this), this.defines = {
                    MATCAP: ""
                }, this.type = "MeshMatcapMaterial", this.color = new er(16777215), this.matcap = null, this.map = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Xt, this.normalScale = new En(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.alphaMap = null, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(e)
            }

            function Uc(e) {
                $s.call(this), this.type = "LineDashedMaterial", this.scale = 1, this.dashSize = 3, this.gapSize = 1, this.setValues(e)
            }
            kc.prototype = Object.create(ar.prototype), kc.prototype.constructor = kc, kc.prototype.isShadowMaterial = !0, kc.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this
            }, Ic.prototype = Object.create(oo.prototype), Ic.prototype.constructor = Ic, Ic.prototype.isRawShaderMaterial = !0, Dc.prototype = Object.create(ar.prototype), Dc.prototype.constructor = Dc, Dc.prototype.isMeshStandardMaterial = !0, Dc.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.defines = {
                    STANDARD: ""
                }, this.color.copy(e.color), this.roughness = e.roughness, this.metalness = e.metalness, this.map = e.map, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.emissive.copy(e.emissive), this.emissiveMap = e.emissiveMap, this.emissiveIntensity = e.emissiveIntensity, this.bumpMap = e.bumpMap, this.bumpScale = e.bumpScale, this.normalMap = e.normalMap, this.normalMapType = e.normalMapType, this.normalScale.copy(e.normalScale), this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.roughnessMap = e.roughnessMap, this.metalnessMap = e.metalnessMap, this.alphaMap = e.alphaMap, this.envMap = e.envMap, this.envMapIntensity = e.envMapIntensity, this.refractionRatio = e.refractionRatio, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, Bc.prototype = Object.create(Dc.prototype), Bc.prototype.constructor = Bc, Bc.prototype.isMeshPhysicalMaterial = !0, Bc.prototype.copy = function (e) {
                return Dc.prototype.copy.call(this, e), this.defines = {
                    STANDARD: "",
                    PHYSICAL: ""
                }, this.reflectivity = e.reflectivity, this.clearcoat = e.clearcoat, this.clearcoatRoughness = e.clearcoatRoughness, e.sheen ? this.sheen = (this.sheen || new er).copy(e.sheen) : this.sheen = null, this.clearcoatNormalMap = e.clearcoatNormalMap, this.clearcoatNormalScale.copy(e.clearcoatNormalScale), this.transparency = e.transparency, this
            }, Nc.prototype = Object.create(ar.prototype), Nc.prototype.constructor = Nc, Nc.prototype.isMeshPhongMaterial = !0, Nc.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.specular.copy(e.specular), this.shininess = e.shininess, this.map = e.map, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.emissive.copy(e.emissive), this.emissiveMap = e.emissiveMap, this.emissiveIntensity = e.emissiveIntensity, this.bumpMap = e.bumpMap, this.bumpScale = e.bumpScale, this.normalMap = e.normalMap, this.normalMapType = e.normalMapType, this.normalScale.copy(e.normalScale), this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.specularMap = e.specularMap, this.alphaMap = e.alphaMap, this.envMap = e.envMap, this.combine = e.combine, this.reflectivity = e.reflectivity, this.refractionRatio = e.refractionRatio, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, Gc.prototype = Object.create(ar.prototype), Gc.prototype.constructor = Gc, Gc.prototype.isMeshToonMaterial = !0, Gc.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.specular.copy(e.specular), this.shininess = e.shininess, this.map = e.map, this.gradientMap = e.gradientMap, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.emissive.copy(e.emissive), this.emissiveMap = e.emissiveMap, this.emissiveIntensity = e.emissiveIntensity, this.bumpMap = e.bumpMap, this.bumpScale = e.bumpScale, this.normalMap = e.normalMap, this.normalMapType = e.normalMapType, this.normalScale.copy(e.normalScale), this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.specularMap = e.specularMap, this.alphaMap = e.alphaMap, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, jc.prototype = Object.create(ar.prototype), jc.prototype.constructor = jc, jc.prototype.isMeshNormalMaterial = !0, jc.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.bumpMap = e.bumpMap, this.bumpScale = e.bumpScale, this.normalMap = e.normalMap, this.normalMapType = e.normalMapType, this.normalScale.copy(e.normalScale), this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, Hc.prototype = Object.create(ar.prototype), Hc.prototype.constructor = Hc, Hc.prototype.isMeshLambertMaterial = !0, Hc.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.color.copy(e.color), this.map = e.map, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.emissive.copy(e.emissive), this.emissiveMap = e.emissiveMap, this.emissiveIntensity = e.emissiveIntensity, this.specularMap = e.specularMap, this.alphaMap = e.alphaMap, this.envMap = e.envMap, this.combine = e.combine, this.reflectivity = e.reflectivity, this.refractionRatio = e.refractionRatio, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, Fc.prototype = Object.create(ar.prototype), Fc.prototype.constructor = Fc, Fc.prototype.isMeshMatcapMaterial = !0, Fc.prototype.copy = function (e) {
                return ar.prototype.copy.call(this, e), this.defines = {
                    MATCAP: ""
                }, this.color.copy(e.color), this.matcap = e.matcap, this.map = e.map, this.bumpMap = e.bumpMap, this.bumpScale = e.bumpScale, this.normalMap = e.normalMap, this.normalMapType = e.normalMapType, this.normalScale.copy(e.normalScale), this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.alphaMap = e.alphaMap, this.skinning = e.skinning, this.morphTargets = e.morphTargets, this.morphNormals = e.morphNormals, this
            }, Uc.prototype = Object.create($s.prototype), Uc.prototype.constructor = Uc, Uc.prototype.isLineDashedMaterial = !0, Uc.prototype.copy = function (e) {
                return $s.prototype.copy.call(this, e), this.scale = e.scale, this.dashSize = e.dashSize, this.gapSize = e.gapSize, this
            };
            var zc = Object.freeze({
                    __proto__: null,
                    ShadowMaterial: kc,
                    SpriteMaterial: Ss,
                    RawShaderMaterial: Ic,
                    ShaderMaterial: oo,
                    PointsMaterial: cl,
                    MeshPhysicalMaterial: Bc,
                    MeshStandardMaterial: Dc,
                    MeshPhongMaterial: Nc,
                    MeshToonMaterial: Gc,
                    MeshNormalMaterial: jc,
                    MeshLambertMaterial: Hc,
                    MeshDepthMaterial: as,
                    MeshDistanceMaterial: ss,
                    MeshBasicMaterial: sr,
                    MeshMatcapMaterial: Fc,
                    LineDashedMaterial: Uc,
                    LineBasicMaterial: $s,
                    Material: ar
                }),
                Vc = {
                    arraySlice: function (e, t, n) {
                        return Vc.isTypedArray(e) ? new e.constructor(e.subarray(t, void 0 !== n ? n : e.length)) : e.slice(t, n)
                    },
                    convertArray: function (e, t, n) {
                        return !e || !n && e.constructor === t ? e : "number" == typeof t.BYTES_PER_ELEMENT ? new t(e) : Array.prototype.slice.call(e)
                    },
                    isTypedArray: function (e) {
                        return ArrayBuffer.isView(e) && !(e instanceof DataView)
                    },
                    getKeyframeOrder: function (e) {
                        for (var t = e.length, n = new Array(t), i = 0; i !== t; ++i) n[i] = i;
                        return n.sort((function (t, n) {
                            return e[t] - e[n]
                        })), n
                    },
                    sortedArray: function (e, t, n) {
                        for (var i = e.length, r = new e.constructor(i), o = 0, a = 0; a !== i; ++o)
                            for (var s = n[o] * t, l = 0; l !== t; ++l) r[a++] = e[s + l];
                        return r
                    },
                    flattenJSON: function (e, t, n, i) {
                        for (var r = 1, o = e[0]; void 0 !== o && void 0 === o[i];) o = e[r++];
                        if (void 0 !== o) {
                            var a = o[i];
                            if (void 0 !== a)
                                if (Array.isArray(a))
                                    do {
                                        void 0 !== (a = o[i]) && (t.push(o.time), n.push.apply(n, a)), o = e[r++]
                                    } while (void 0 !== o);
                                else if (void 0 !== a.toArray)
                                do {
                                    void 0 !== (a = o[i]) && (t.push(o.time), a.toArray(n, n.length)), o = e[r++]
                                } while (void 0 !== o);
                            else
                                do {
                                    void 0 !== (a = o[i]) && (t.push(o.time), n.push(a)), o = e[r++]
                                } while (void 0 !== o)
                        }
                    },
                    subclip: function (e, t, n, i, r) {
                        r = r || 30;
                        var o = e.clone();
                        o.name = t;
                        for (var a = [], s = 0; s < o.tracks.length; ++s) {
                            for (var l = o.tracks[s], c = l.getValueSize(), u = [], h = [], d = 0; d < l.times.length; ++d) {
                                var p = l.times[d] * r;
                                if (!(p < n || p >= i)) {
                                    u.push(l.times[d]);
                                    for (var f = 0; f < c; ++f) h.push(l.values[d * c + f])
                                }
                            }
                            0 !== u.length && (l.times = Vc.convertArray(u, l.times.constructor), l.values = Vc.convertArray(h, l.values.constructor), a.push(l))
                        }
                        o.tracks = a;
                        var m = 1 / 0;
                        for (s = 0; s < o.tracks.length; ++s) m > o.tracks[s].times[0] && (m = o.tracks[s].times[0]);
                        for (s = 0; s < o.tracks.length; ++s) o.tracks[s].shift(-1 * m);
                        return o.resetDuration(), o
                    }
                };

            function Wc(e, t, n, i) {
                this.parameterPositions = e, this._cachedIndex = 0, this.resultBuffer = void 0 !== i ? i : new t.constructor(n), this.sampleValues = t, this.valueSize = n
            }

            function qc(e, t, n, i) {
                Wc.call(this, e, t, n, i), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0
            }

            function Xc(e, t, n, i) {
                Wc.call(this, e, t, n, i)
            }

            function Yc(e, t, n, i) {
                Wc.call(this, e, t, n, i)
            }

            function Jc(e, t, n, i) {
                if (void 0 === e) throw new Error("THREE.KeyframeTrack: track name is undefined");
                if (void 0 === t || 0 === t.length) throw new Error("THREE.KeyframeTrack: no keyframes in track named " + e);
                this.name = e, this.times = Vc.convertArray(t, this.TimeBufferType), this.values = Vc.convertArray(n, this.ValueBufferType), this.setInterpolation(i || this.DefaultInterpolation)
            }

            function Kc(e, t, n) {
                Jc.call(this, e, t, n)
            }

            function Zc(e, t, n, i) {
                Jc.call(this, e, t, n, i)
            }

            function $c(e, t, n, i) {
                Jc.call(this, e, t, n, i)
            }

            function Qc(e, t, n, i) {
                Wc.call(this, e, t, n, i)
            }

            function eu(e, t, n, i) {
                Jc.call(this, e, t, n, i)
            }

            function tu(e, t, n, i) {
                Jc.call(this, e, t, n, i)
            }

            function nu(e, t, n, i) {
                Jc.call(this, e, t, n, i)
            }

            function iu(e, t, n) {
                this.name = e, this.tracks = n, this.duration = void 0 !== t ? t : -1, this.uuid = Mn.generateUUID(), this.duration < 0 && this.resetDuration()
            }

            function ru(e) {
                if (void 0 === e.type) throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");
                var t = function (e) {
                    switch (e.toLowerCase()) {
                        case "scalar":
                        case "double":
                        case "float":
                        case "number":
                        case "integer":
                            return $c;
                        case "vector":
                        case "vector2":
                        case "vector3":
                        case "vector4":
                            return nu;
                        case "color":
                            return Zc;
                        case "quaternion":
                            return eu;
                        case "bool":
                        case "boolean":
                            return Kc;
                        case "string":
                            return tu
                    }
                    throw new Error("THREE.KeyframeTrack: Unsupported typeName: " + e)
                }(e.type);
                if (void 0 === e.times) {
                    var n = [],
                        i = [];
                    Vc.flattenJSON(e.keys, n, i, "value"), e.times = n, e.values = i
                }
                return void 0 !== t.parse ? t.parse(e) : new t(e.name, e.times, e.values, e.interpolation)
            }
            Object.assign(Wc.prototype, {
                evaluate: function (e) {
                    var t = this.parameterPositions,
                        n = this._cachedIndex,
                        i = t[n],
                        r = t[n - 1];
                    e: {
                        t: {
                            var o;n: {
                                i: if (!(e < i)) {
                                    for (var a = n + 2;;) {
                                        if (void 0 === i) {
                                            if (e < r) break i;
                                            return n = t.length, this._cachedIndex = n, this.afterEnd_(n - 1, e, r)
                                        }
                                        if (n === a) break;
                                        if (r = i, e < (i = t[++n])) break t
                                    }
                                    o = t.length;
                                    break n
                                }if (e >= r) break e;
                                var s = t[1];e < s && (n = 2, r = s);
                                for (a = n - 2;;) {
                                    if (void 0 === r) return this._cachedIndex = 0, this.beforeStart_(0, e, i);
                                    if (n === a) break;
                                    if (i = r, e >= (r = t[--n - 1])) break t
                                }
                                o = n,
                                n = 0
                            }
                            for (; n < o;) {
                                var l = n + o >>> 1;
                                e < t[l] ? o = l : n = l + 1
                            }
                            if (i = t[n], void 0 === (r = t[n - 1])) return this._cachedIndex = 0,
                            this.beforeStart_(0, e, i);
                            if (void 0 === i) return n = t.length,
                            this._cachedIndex = n,
                            this.afterEnd_(n - 1, r, e)
                        }
                        this._cachedIndex = n,
                        this.intervalChanged_(n, r, i)
                    }
                    return this.interpolate_(n, r, e, i)
                },
                settings: null,
                DefaultSettings_: {},
                getSettings_: function () {
                    return this.settings || this.DefaultSettings_
                },
                copySampleValue_: function (e) {
                    for (var t = this.resultBuffer, n = this.sampleValues, i = this.valueSize, r = e * i, o = 0; o !== i; ++o) t[o] = n[r + o];
                    return t
                },
                interpolate_: function () {
                    throw new Error("call to abstract method")
                },
                intervalChanged_: function () {}
            }), Object.assign(Wc.prototype, {
                beforeStart_: Wc.prototype.copySampleValue_,
                afterEnd_: Wc.prototype.copySampleValue_
            }), qc.prototype = Object.assign(Object.create(Wc.prototype), {
                constructor: qc,
                DefaultSettings_: {
                    endingStart: Ot,
                    endingEnd: Ot
                },
                intervalChanged_: function (e, t, n) {
                    var i = this.parameterPositions,
                        r = e - 2,
                        o = e + 1,
                        a = i[r],
                        s = i[o];
                    if (void 0 === a) switch (this.getSettings_().endingStart) {
                        case Rt:
                            r = e, a = 2 * t - n;
                            break;
                        case kt:
                            a = t + i[r = i.length - 2] - i[r + 1];
                            break;
                        default:
                            r = e, a = n
                    }
                    if (void 0 === s) switch (this.getSettings_().endingEnd) {
                        case Rt:
                            o = e, s = 2 * n - t;
                            break;
                        case kt:
                            o = 1, s = n + i[1] - i[0];
                            break;
                        default:
                            o = e - 1, s = t
                    }
                    var l = .5 * (n - t),
                        c = this.valueSize;
                    this._weightPrev = l / (t - a), this._weightNext = l / (s - n), this._offsetPrev = r * c, this._offsetNext = o * c
                },
                interpolate_: function (e, t, n, i) {
                    for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = e * a, l = s - a, c = this._offsetPrev, u = this._offsetNext, h = this._weightPrev, d = this._weightNext, p = (n - t) / (i - t), f = p * p, m = f * p, v = -h * m + 2 * h * f - h * p, g = (1 + h) * m + (-1.5 - 2 * h) * f + (-.5 + h) * p + 1, y = (-1 - d) * m + (1.5 + d) * f + .5 * p, _ = d * m - d * f, b = 0; b !== a; ++b) r[b] = v * o[c + b] + g * o[l + b] + y * o[s + b] + _ * o[u + b];
                    return r
                }
            }), Xc.prototype = Object.assign(Object.create(Wc.prototype), {
                constructor: Xc,
                interpolate_: function (e, t, n, i) {
                    for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = e * a, l = s - a, c = (n - t) / (i - t), u = 1 - c, h = 0; h !== a; ++h) r[h] = o[l + h] * u + o[s + h] * c;
                    return r
                }
            }), Yc.prototype = Object.assign(Object.create(Wc.prototype), {
                constructor: Yc,
                interpolate_: function (e) {
                    return this.copySampleValue_(e - 1)
                }
            }), Object.assign(Jc, {
                toJSON: function (e) {
                    var t, n = e.constructor;
                    if (void 0 !== n.toJSON) t = n.toJSON(e);
                    else {
                        t = {
                            name: e.name,
                            times: Vc.convertArray(e.times, Array),
                            values: Vc.convertArray(e.values, Array)
                        };
                        var i = e.getInterpolation();
                        i !== e.DefaultInterpolation && (t.interpolation = i)
                    }
                    return t.type = e.ValueTypeName, t
                }
            }), Object.assign(Jc.prototype, {
                constructor: Jc,
                TimeBufferType: Float32Array,
                ValueBufferType: Float32Array,
                DefaultInterpolation: Ct,
                InterpolantFactoryMethodDiscrete: function (e) {
                    return new Yc(this.times, this.values, this.getValueSize(), e)
                },
                InterpolantFactoryMethodLinear: function (e) {
                    return new Xc(this.times, this.values, this.getValueSize(), e)
                },
                InterpolantFactoryMethodSmooth: function (e) {
                    return new qc(this.times, this.values, this.getValueSize(), e)
                },
                setInterpolation: function (e) {
                    var t;
                    switch (e) {
                        case Pt:
                            t = this.InterpolantFactoryMethodDiscrete;
                            break;
                        case Ct:
                            t = this.InterpolantFactoryMethodLinear;
                            break;
                        case Lt:
                            t = this.InterpolantFactoryMethodSmooth
                    }
                    if (void 0 === t) {
                        var n = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
                        if (void 0 === this.createInterpolant) {
                            if (e === this.DefaultInterpolation) throw new Error(n);
                            this.setInterpolation(this.DefaultInterpolation)
                        }
                        return console.warn("THREE.KeyframeTrack:", n), this
                    }
                    return this.createInterpolant = t, this
                },
                getInterpolation: function () {
                    switch (this.createInterpolant) {
                        case this.InterpolantFactoryMethodDiscrete:
                            return Pt;
                        case this.InterpolantFactoryMethodLinear:
                            return Ct;
                        case this.InterpolantFactoryMethodSmooth:
                            return Lt
                    }
                },
                getValueSize: function () {
                    return this.values.length / this.times.length
                },
                shift: function (e) {
                    if (0 !== e)
                        for (var t = this.times, n = 0, i = t.length; n !== i; ++n) t[n] += e;
                    return this
                },
                scale: function (e) {
                    if (1 !== e)
                        for (var t = this.times, n = 0, i = t.length; n !== i; ++n) t[n] *= e;
                    return this
                },
                trim: function (e, t) {
                    for (var n = this.times, i = n.length, r = 0, o = i - 1; r !== i && n[r] < e;) ++r;
                    for (; - 1 !== o && n[o] > t;) --o;
                    if (++o, 0 !== r || o !== i) {
                        r >= o && (r = (o = Math.max(o, 1)) - 1);
                        var a = this.getValueSize();
                        this.times = Vc.arraySlice(n, r, o), this.values = Vc.arraySlice(this.values, r * a, o * a)
                    }
                    return this
                },
                validate: function () {
                    var e = !0,
                        t = this.getValueSize();
                    t - Math.floor(t) != 0 && (console.error("THREE.KeyframeTrack: Invalid value size in track.", this), e = !1);
                    var n = this.times,
                        i = this.values,
                        r = n.length;
                    0 === r && (console.error("THREE.KeyframeTrack: Track is empty.", this), e = !1);
                    for (var o = null, a = 0; a !== r; a++) {
                        var s = n[a];
                        if ("number" == typeof s && isNaN(s)) {
                            console.error("THREE.KeyframeTrack: Time is not a valid number.", this, a, s), e = !1;
                            break
                        }
                        if (null !== o && o > s) {
                            console.error("THREE.KeyframeTrack: Out of order keys.", this, a, s, o), e = !1;
                            break
                        }
                        o = s
                    }
                    if (void 0 !== i && Vc.isTypedArray(i)) {
                        a = 0;
                        for (var l = i.length; a !== l; ++a) {
                            var c = i[a];
                            if (isNaN(c)) {
                                console.error("THREE.KeyframeTrack: Value is not a valid number.", this, a, c), e = !1;
                                break
                            }
                        }
                    }
                    return e
                },
                optimize: function () {
                    for (var e = Vc.arraySlice(this.times), t = Vc.arraySlice(this.values), n = this.getValueSize(), i = this.getInterpolation() === Lt, r = 1, o = e.length - 1, a = 1; a < o; ++a) {
                        var s = !1,
                            l = e[a];
                        if (l !== e[a + 1] && (1 !== a || l !== l[0]))
                            if (i) s = !0;
                            else
                                for (var c = a * n, u = c - n, h = c + n, d = 0; d !== n; ++d) {
                                    var p = t[c + d];
                                    if (p !== t[u + d] || p !== t[h + d]) {
                                        s = !0;
                                        break
                                    }
                                }
                        if (s) {
                            if (a !== r) {
                                e[r] = e[a];
                                var f = a * n,
                                    m = r * n;
                                for (d = 0; d !== n; ++d) t[m + d] = t[f + d]
                            }++r
                        }
                    }
                    if (o > 0) {
                        e[r] = e[o];
                        for (f = o * n, m = r * n, d = 0; d !== n; ++d) t[m + d] = t[f + d];
                        ++r
                    }
                    return r !== e.length ? (this.times = Vc.arraySlice(e, 0, r), this.values = Vc.arraySlice(t, 0, r * n)) : (this.times = e, this.values = t), this
                },
                clone: function () {
                    var e = Vc.arraySlice(this.times, 0),
                        t = Vc.arraySlice(this.values, 0),
                        n = new(0, this.constructor)(this.name, e, t);
                    return n.createInterpolant = this.createInterpolant, n
                }
            }), Kc.prototype = Object.assign(Object.create(Jc.prototype), {
                constructor: Kc,
                ValueTypeName: "bool",
                ValueBufferType: Array,
                DefaultInterpolation: Pt,
                InterpolantFactoryMethodLinear: void 0,
                InterpolantFactoryMethodSmooth: void 0
            }), Zc.prototype = Object.assign(Object.create(Jc.prototype), {
                constructor: Zc,
                ValueTypeName: "color"
            }), $c.prototype = Object.assign(Object.create(Jc.prototype), {
                constructor: $c,
                ValueTypeName: "number"
            }), Qc.prototype = Object.assign(Object.create(Wc.prototype), {
                constructor: Qc,
                interpolate_: function (e, t, n, i) {
                    for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = e * a, l = (n - t) / (i - t), c = s + a; s !== c; s += 4) In.slerpFlat(r, 0, o, s - a, o, s, l);
                    return r
                }
            }), eu.prototype = Object.assign(Object.create(Jc.prototype), {
                constructor: eu,
                ValueTypeName: "quaternion",
                DefaultInterpolation: Ct,
                InterpolantFactoryMethodLinear: function (e) {
                    return new Qc(this.times, this.values, this.getValueSize(), e)
                },
                InterpolantFactoryMethodSmooth: void 0
            }), tu.prototype = Object.assign(Object.create(Jc.prototype), {
                constructor: tu,
                ValueTypeName: "string",
                ValueBufferType: Array,
                DefaultInterpolation: Pt,
                InterpolantFactoryMethodLinear: void 0,
                InterpolantFactoryMethodSmooth: void 0
            }), nu.prototype = Object.assign(Object.create(Jc.prototype), {
                constructor: nu,
                ValueTypeName: "vector"
            }), Object.assign(iu, {
                parse: function (e) {
                    for (var t = [], n = e.tracks, i = 1 / (e.fps || 1), r = 0, o = n.length; r !== o; ++r) t.push(ru(n[r]).scale(i));
                    return new iu(e.name, e.duration, t)
                },
                toJSON: function (e) {
                    for (var t = [], n = e.tracks, i = {
                            name: e.name,
                            duration: e.duration,
                            tracks: t,
                            uuid: e.uuid
                        }, r = 0, o = n.length; r !== o; ++r) t.push(Jc.toJSON(n[r]));
                    return i
                },
                CreateFromMorphTargetSequence: function (e, t, n, i) {
                    for (var r = t.length, o = [], a = 0; a < r; a++) {
                        var s = [],
                            l = [];
                        s.push((a + r - 1) % r, a, (a + 1) % r), l.push(0, 1, 0);
                        var c = Vc.getKeyframeOrder(s);
                        s = Vc.sortedArray(s, 1, c), l = Vc.sortedArray(l, 1, c), i || 0 !== s[0] || (s.push(r), l.push(l[0])), o.push(new $c(".morphTargetInfluences[" + t[a].name + "]", s, l).scale(1 / n))
                    }
                    return new iu(e, -1, o)
                },
                findByName: function (e, t) {
                    var n = e;
                    if (!Array.isArray(e)) {
                        var i = e;
                        n = i.geometry && i.geometry.animations || i.animations
                    }
                    for (var r = 0; r < n.length; r++)
                        if (n[r].name === t) return n[r];
                    return null
                },
                CreateClipsFromMorphTargetSequences: function (e, t, n) {
                    for (var i = {}, r = /^([\w-]*?)([\d]+)$/, o = 0, a = e.length; o < a; o++) {
                        var s = e[o],
                            l = s.name.match(r);
                        if (l && l.length > 1) {
                            var c = i[h = l[1]];
                            c || (i[h] = c = []), c.push(s)
                        }
                    }
                    var u = [];
                    for (var h in i) u.push(iu.CreateFromMorphTargetSequence(h, i[h], t, n));
                    return u
                },
                parseAnimation: function (e, t) {
                    if (!e) return console.error("THREE.AnimationClip: No animation in JSONLoader data."), null;
                    for (var n = function (e, t, n, i, r) {
                            if (0 !== n.length) {
                                var o = [],
                                    a = [];
                                Vc.flattenJSON(n, o, a, i), 0 !== o.length && r.push(new e(t, o, a))
                            }
                        }, i = [], r = e.name || "default", o = e.length || -1, a = e.fps || 30, s = e.hierarchy || [], l = 0; l < s.length; l++) {
                        var c = s[l].keys;
                        if (c && 0 !== c.length)
                            if (c[0].morphTargets) {
                                for (var u = {}, h = 0; h < c.length; h++)
                                    if (c[h].morphTargets)
                                        for (var d = 0; d < c[h].morphTargets.length; d++) u[c[h].morphTargets[d]] = -1;
                                for (var p in u) {
                                    var f = [],
                                        m = [];
                                    for (d = 0; d !== c[h].morphTargets.length; ++d) {
                                        var v = c[h];
                                        f.push(v.time), m.push(v.morphTarget === p ? 1 : 0)
                                    }
                                    i.push(new $c(".morphTargetInfluence[" + p + "]", f, m))
                                }
                                o = u.length * (a || 1)
                            } else {
                                var g = ".bones[" + t[l].name + "]";
                                n(nu, g + ".position", c, "pos", i), n(eu, g + ".quaternion", c, "rot", i), n(nu, g + ".scale", c, "scl", i)
                            }
                    }
                    return 0 === i.length ? null : new iu(r, o, i)
                }
            }), Object.assign(iu.prototype, {
                resetDuration: function () {
                    for (var e = 0, t = 0, n = this.tracks.length; t !== n; ++t) {
                        var i = this.tracks[t];
                        e = Math.max(e, i.times[i.times.length - 1])
                    }
                    return this.duration = e, this
                },
                trim: function () {
                    for (var e = 0; e < this.tracks.length; e++) this.tracks[e].trim(0, this.duration);
                    return this
                },
                validate: function () {
                    for (var e = !0, t = 0; t < this.tracks.length; t++) e = e && this.tracks[t].validate();
                    return e
                },
                optimize: function () {
                    for (var e = 0; e < this.tracks.length; e++) this.tracks[e].optimize();
                    return this
                },
                clone: function () {
                    for (var e = [], t = 0; t < this.tracks.length; t++) e.push(this.tracks[t].clone());
                    return new iu(this.name, this.duration, e)
                }
            });
            var ou = {
                enabled: !1,
                files: {},
                add: function (e, t) {
                    !1 !== this.enabled && (this.files[e] = t)
                },
                get: function (e) {
                    if (!1 !== this.enabled) return this.files[e]
                },
                remove: function (e) {
                    delete this.files[e]
                },
                clear: function () {
                    this.files = {}
                }
            };

            function au(e, t, n) {
                var i = this,
                    r = !1,
                    o = 0,
                    a = 0,
                    s = void 0,
                    l = [];
                this.onStart = void 0, this.onLoad = e, this.onProgress = t, this.onError = n, this.itemStart = function (e) {
                    a++, !1 === r && void 0 !== i.onStart && i.onStart(e, o, a), r = !0
                }, this.itemEnd = function (e) {
                    o++, void 0 !== i.onProgress && i.onProgress(e, o, a), o === a && (r = !1, void 0 !== i.onLoad && i.onLoad())
                }, this.itemError = function (e) {
                    void 0 !== i.onError && i.onError(e)
                }, this.resolveURL = function (e) {
                    return s ? s(e) : e
                }, this.setURLModifier = function (e) {
                    return s = e, this
                }, this.addHandler = function (e, t) {
                    return l.push(e, t), this
                }, this.removeHandler = function (e) {
                    var t = l.indexOf(e);
                    return -1 !== t && l.splice(t, 2), this
                }, this.getHandler = function (e) {
                    for (var t = 0, n = l.length; t < n; t += 2) {
                        var i = l[t],
                            r = l[t + 1];
                        if (i.global && (i.lastIndex = 0), i.test(e)) return r
                    }
                    return null
                }
            }
            var su = new au;

            function lu(e) {
                this.manager = void 0 !== e ? e : su, this.crossOrigin = "anonymous", this.path = "", this.resourcePath = ""
            }
            Object.assign(lu.prototype, {
                load: function () {},
                parse: function () {},
                setCrossOrigin: function (e) {
                    return this.crossOrigin = e, this
                },
                setPath: function (e) {
                    return this.path = e, this
                },
                setResourcePath: function (e) {
                    return this.resourcePath = e, this
                }
            });
            var cu = {};

            function uu(e) {
                lu.call(this, e)
            }

            function hu(e) {
                lu.call(this, e)
            }

            function du(e) {
                lu.call(this, e)
            }

            function pu(e) {
                lu.call(this, e)
            }

            function fu(e) {
                lu.call(this, e)
            }

            function mu(e) {
                lu.call(this, e)
            }

            function vu(e) {
                lu.call(this, e)
            }

            function gu() {
                this.type = "Curve", this.arcLengthDivisions = 200
            }

            function yu(e, t, n, i, r, o, a, s) {
                gu.call(this), this.type = "EllipseCurve", this.aX = e || 0, this.aY = t || 0, this.xRadius = n || 1, this.yRadius = i || 1, this.aStartAngle = r || 0, this.aEndAngle = o || 2 * Math.PI, this.aClockwise = a || !1, this.aRotation = s || 0
            }

            function _u(e, t, n, i, r, o) {
                yu.call(this, e, t, n, n, i, r, o), this.type = "ArcCurve"
            }

            function bu() {
                var e = 0,
                    t = 0,
                    n = 0,
                    i = 0;

                function r(r, o, a, s) {
                    e = r, t = a, n = -3 * r + 3 * o - 2 * a - s, i = 2 * r - 2 * o + a + s
                }
                return {
                    initCatmullRom: function (e, t, n, i, o) {
                        r(t, n, o * (n - e), o * (i - t))
                    },
                    initNonuniformCatmullRom: function (e, t, n, i, o, a, s) {
                        var l = (t - e) / o - (n - e) / (o + a) + (n - t) / a,
                            c = (n - t) / a - (i - t) / (a + s) + (i - n) / s;
                        r(t, n, l *= a, c *= a)
                    },
                    calc: function (r) {
                        var o = r * r;
                        return e + t * r + n * o + i * (o * r)
                    }
                }
            }
            uu.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: uu,
                load: function (e, t, n, i) {
                    void 0 === e && (e = ""), void 0 !== this.path && (e = this.path + e), e = this.manager.resolveURL(e);
                    var r = this,
                        o = ou.get(e);
                    if (void 0 !== o) return r.manager.itemStart(e), setTimeout((function () {
                        t && t(o), r.manager.itemEnd(e)
                    }), 0), o;
                    if (void 0 === cu[e]) {
                        var a = e.match(/^data:(.*?)(;base64)?,(.*)$/);
                        if (a) {
                            var s = a[1],
                                l = !!a[2],
                                c = a[3];
                            c = decodeURIComponent(c), l && (c = atob(c));
                            try {
                                var u, h = (this.responseType || "").toLowerCase();
                                switch (h) {
                                    case "arraybuffer":
                                    case "blob":
                                        for (var d = new Uint8Array(c.length), p = 0; p < c.length; p++) d[p] = c.charCodeAt(p);
                                        u = "blob" === h ? new Blob([d.buffer], {
                                            type: s
                                        }) : d.buffer;
                                        break;
                                    case "document":
                                        var f = new DOMParser;
                                        u = f.parseFromString(c, s);
                                        break;
                                    case "json":
                                        u = JSON.parse(c);
                                        break;
                                    default:
                                        u = c
                                }
                                setTimeout((function () {
                                    t && t(u), r.manager.itemEnd(e)
                                }), 0)
                            } catch (t) {
                                setTimeout((function () {
                                    i && i(t), r.manager.itemError(e), r.manager.itemEnd(e)
                                }), 0)
                            }
                        } else {
                            cu[e] = [], cu[e].push({
                                onLoad: t,
                                onProgress: n,
                                onError: i
                            });
                            var m = new XMLHttpRequest;
                            for (var v in m.open("GET", e, !0), m.addEventListener("load", (function (t) {
                                    var n = this.response,
                                        i = cu[e];
                                    if (delete cu[e], 200 === this.status || 0 === this.status) {
                                        0 === this.status && console.warn("THREE.FileLoader: HTTP Status 0 received."), ou.add(e, n);
                                        for (var o = 0, a = i.length; o < a; o++) {
                                            (s = i[o]).onLoad && s.onLoad(n)
                                        }
                                        r.manager.itemEnd(e)
                                    } else {
                                        for (o = 0, a = i.length; o < a; o++) {
                                            var s;
                                            (s = i[o]).onError && s.onError(t)
                                        }
                                        r.manager.itemError(e), r.manager.itemEnd(e)
                                    }
                                }), !1), m.addEventListener("progress", (function (t) {
                                    for (var n = cu[e], i = 0, r = n.length; i < r; i++) {
                                        var o = n[i];
                                        o.onProgress && o.onProgress(t)
                                    }
                                }), !1), m.addEventListener("error", (function (t) {
                                    var n = cu[e];
                                    delete cu[e];
                                    for (var i = 0, o = n.length; i < o; i++) {
                                        var a = n[i];
                                        a.onError && a.onError(t)
                                    }
                                    r.manager.itemError(e), r.manager.itemEnd(e)
                                }), !1), m.addEventListener("abort", (function (t) {
                                    var n = cu[e];
                                    delete cu[e];
                                    for (var i = 0, o = n.length; i < o; i++) {
                                        var a = n[i];
                                        a.onError && a.onError(t)
                                    }
                                    r.manager.itemError(e), r.manager.itemEnd(e)
                                }), !1), void 0 !== this.responseType && (m.responseType = this.responseType), void 0 !== this.withCredentials && (m.withCredentials = this.withCredentials), m.overrideMimeType && m.overrideMimeType(void 0 !== this.mimeType ? this.mimeType : "text/plain"), this.requestHeader) m.setRequestHeader(v, this.requestHeader[v]);
                            m.send(null)
                        }
                        return r.manager.itemStart(e), m
                    }
                    cu[e].push({
                        onLoad: t,
                        onProgress: n,
                        onError: i
                    })
                },
                setResponseType: function (e) {
                    return this.responseType = e, this
                },
                setWithCredentials: function (e) {
                    return this.withCredentials = e, this
                },
                setMimeType: function (e) {
                    return this.mimeType = e, this
                },
                setRequestHeader: function (e) {
                    return this.requestHeader = e, this
                }
            }), hu.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: hu,
                load: function (e, t, n, i) {
                    var r = this,
                        o = new uu(r.manager);
                    o.setPath(r.path), o.load(e, (function (e) {
                        t(r.parse(JSON.parse(e)))
                    }), n, i)
                },
                parse: function (e) {
                    for (var t = [], n = 0; n < e.length; n++) {
                        var i = iu.parse(e[n]);
                        t.push(i)
                    }
                    return t
                }
            }), du.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: du,
                load: function (e, t, n, i) {
                    var r = this,
                        o = [],
                        a = new gl;
                    a.image = o;
                    var s = new uu(this.manager);

                    function l(l) {
                        s.load(e[l], (function (e) {
                            var n = r.parse(e, !0);
                            o[l] = {
                                width: n.width,
                                height: n.height,
                                format: n.format,
                                mipmaps: n.mipmaps
                            }, 6 === (c += 1) && (1 === n.mipmapCount && (a.minFilter = Me), a.format = n.format, a.needsUpdate = !0, t && t(a))
                        }), n, i)
                    }
                    if (s.setPath(this.path), s.setResponseType("arraybuffer"), Array.isArray(e))
                        for (var c = 0, u = 0, h = e.length; u < h; ++u) l(u);
                    else s.load(e, (function (e) {
                        var n = r.parse(e, !0);
                        if (n.isCubemap)
                            for (var i = n.mipmaps.length / n.mipmapCount, s = 0; s < i; s++) {
                                o[s] = {
                                    mipmaps: []
                                };
                                for (var l = 0; l < n.mipmapCount; l++) o[s].mipmaps.push(n.mipmaps[s * n.mipmapCount + l]), o[s].format = n.format, o[s].width = n.width, o[s].height = n.height
                            } else a.image.width = n.width, a.image.height = n.height, a.mipmaps = n.mipmaps;
                        1 === n.mipmapCount && (a.minFilter = Me), a.format = n.format, a.needsUpdate = !0, t && t(a)
                    }), n, i);
                    return a
                }
            }), pu.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: pu,
                load: function (e, t, n, i) {
                    var r = this,
                        o = new uo,
                        a = new uu(this.manager);
                    return a.setResponseType("arraybuffer"), a.setPath(this.path), a.load(e, (function (e) {
                        var n = r.parse(e);
                        n && (void 0 !== n.image ? o.image = n.image : void 0 !== n.data && (o.image.width = n.width, o.image.height = n.height, o.image.data = n.data), o.wrapS = void 0 !== n.wrapS ? n.wrapS : ye, o.wrapT = void 0 !== n.wrapT ? n.wrapT : ye, o.magFilter = void 0 !== n.magFilter ? n.magFilter : Me, o.minFilter = void 0 !== n.minFilter ? n.minFilter : Me, o.anisotropy = void 0 !== n.anisotropy ? n.anisotropy : 1, void 0 !== n.format && (o.format = n.format), void 0 !== n.type && (o.type = n.type), void 0 !== n.mipmaps && (o.mipmaps = n.mipmaps, o.minFilter = Pe), 1 === n.mipmapCount && (o.minFilter = Me), o.needsUpdate = !0, t && t(o, n))
                    }), n, i), o
                }
            }), fu.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: fu,
                load: function (e, t, n, i) {
                    void 0 !== this.path && (e = this.path + e), e = this.manager.resolveURL(e);
                    var r = this,
                        o = ou.get(e);
                    if (void 0 !== o) return r.manager.itemStart(e), setTimeout((function () {
                        t && t(o), r.manager.itemEnd(e)
                    }), 0), o;
                    var a = document.createElementNS("http://www.w3.org/1999/xhtml", "img");

                    function s() {
                        a.removeEventListener("load", s, !1), a.removeEventListener("error", l, !1), ou.add(e, this), t && t(this), r.manager.itemEnd(e)
                    }

                    function l(t) {
                        a.removeEventListener("load", s, !1), a.removeEventListener("error", l, !1), i && i(t), r.manager.itemError(e), r.manager.itemEnd(e)
                    }
                    return a.addEventListener("load", s, !1), a.addEventListener("error", l, !1), "data:" !== e.substr(0, 5) && void 0 !== this.crossOrigin && (a.crossOrigin = this.crossOrigin), r.manager.itemStart(e), a.src = e, a
                }
            }), mu.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: mu,
                load: function (e, t, n, i) {
                    var r = new ko,
                        o = new fu(this.manager);
                    o.setCrossOrigin(this.crossOrigin), o.setPath(this.path);
                    var a = 0;

                    function s(n) {
                        o.load(e[n], (function (e) {
                            r.images[n] = e, 6 === ++a && (r.needsUpdate = !0, t && t(r))
                        }), void 0, i)
                    }
                    for (var l = 0; l < e.length; ++l) s(l);
                    return r
                }
            }), vu.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: vu,
                load: function (e, t, n, i) {
                    var r = new Ln,
                        o = new fu(this.manager);
                    return o.setCrossOrigin(this.crossOrigin), o.setPath(this.path), o.load(e, (function (n) {
                        r.image = n;
                        var i = e.search(/\.jpe?g($|\?)/i) > 0 || 0 === e.search(/^data\:image\/jpeg/);
                        r.format = i ? ze : Ve, r.needsUpdate = !0, void 0 !== t && t(r)
                    }), n, i), r
                }
            }), Object.assign(gu.prototype, {
                getPoint: function () {
                    return console.warn("THREE.Curve: .getPoint() not implemented."), null
                },
                getPointAt: function (e, t) {
                    var n = this.getUtoTmapping(e);
                    return this.getPoint(n, t)
                },
                getPoints: function (e) {
                    void 0 === e && (e = 5);
                    for (var t = [], n = 0; n <= e; n++) t.push(this.getPoint(n / e));
                    return t
                },
                getSpacedPoints: function (e) {
                    void 0 === e && (e = 5);
                    for (var t = [], n = 0; n <= e; n++) t.push(this.getPointAt(n / e));
                    return t
                },
                getLength: function () {
                    var e = this.getLengths();
                    return e[e.length - 1]
                },
                getLengths: function (e) {
                    if (void 0 === e && (e = this.arcLengthDivisions), this.cacheArcLengths && this.cacheArcLengths.length === e + 1 && !this.needsUpdate) return this.cacheArcLengths;
                    this.needsUpdate = !1;
                    var t, n, i = [],
                        r = this.getPoint(0),
                        o = 0;
                    for (i.push(0), n = 1; n <= e; n++) o += (t = this.getPoint(n / e)).distanceTo(r), i.push(o), r = t;
                    return this.cacheArcLengths = i, i
                },
                updateArcLengths: function () {
                    this.needsUpdate = !0, this.getLengths()
                },
                getUtoTmapping: function (e, t) {
                    var n, i = this.getLengths(),
                        r = 0,
                        o = i.length;
                    n = t || e * i[o - 1];
                    for (var a, s = 0, l = o - 1; s <= l;)
                        if ((a = i[r = Math.floor(s + (l - s) / 2)] - n) < 0) s = r + 1;
                        else {
                            if (!(a > 0)) {
                                l = r;
                                break
                            }
                            l = r - 1
                        } if (i[r = l] === n) return r / (o - 1);
                    var c = i[r];
                    return (r + (n - c) / (i[r + 1] - c)) / (o - 1)
                },
                getTangent: function (e) {
                    var t = e - 1e-4,
                        n = e + 1e-4;
                    t < 0 && (t = 0), n > 1 && (n = 1);
                    var i = this.getPoint(t);
                    return this.getPoint(n).clone().sub(i).normalize()
                },
                getTangentAt: function (e) {
                    var t = this.getUtoTmapping(e);
                    return this.getTangent(t)
                },
                computeFrenetFrames: function (e, t) {
                    var n, i, r, o = new Nn,
                        a = [],
                        s = [],
                        l = [],
                        c = new Nn,
                        u = new Wn;
                    for (n = 0; n <= e; n++) i = n / e, a[n] = this.getTangentAt(i), a[n].normalize();
                    s[0] = new Nn, l[0] = new Nn;
                    var h = Number.MAX_VALUE,
                        d = Math.abs(a[0].x),
                        p = Math.abs(a[0].y),
                        f = Math.abs(a[0].z);
                    for (d <= h && (h = d, o.set(1, 0, 0)), p <= h && (h = p, o.set(0, 1, 0)), f <= h && o.set(0, 0, 1), c.crossVectors(a[0], o).normalize(), s[0].crossVectors(a[0], c), l[0].crossVectors(a[0], s[0]), n = 1; n <= e; n++) s[n] = s[n - 1].clone(), l[n] = l[n - 1].clone(), c.crossVectors(a[n - 1], a[n]), c.length() > Number.EPSILON && (c.normalize(), r = Math.acos(Mn.clamp(a[n - 1].dot(a[n]), -1, 1)), s[n].applyMatrix4(u.makeRotationAxis(c, r))), l[n].crossVectors(a[n], s[n]);
                    if (!0 === t)
                        for (r = Math.acos(Mn.clamp(s[0].dot(s[e]), -1, 1)), r /= e, a[0].dot(c.crossVectors(s[0], s[e])) > 0 && (r = -r), n = 1; n <= e; n++) s[n].applyMatrix4(u.makeRotationAxis(a[n], r * n)), l[n].crossVectors(a[n], s[n]);
                    return {
                        tangents: a,
                        normals: s,
                        binormals: l
                    }
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.arcLengthDivisions = e.arcLengthDivisions, this
                },
                toJSON: function () {
                    var e = {
                        metadata: {
                            version: 4.5,
                            type: "Curve",
                            generator: "Curve.toJSON"
                        }
                    };
                    return e.arcLengthDivisions = this.arcLengthDivisions, e.type = this.type, e
                },
                fromJSON: function (e) {
                    return this.arcLengthDivisions = e.arcLengthDivisions, this
                }
            }), yu.prototype = Object.create(gu.prototype), yu.prototype.constructor = yu, yu.prototype.isEllipseCurve = !0, yu.prototype.getPoint = function (e, t) {
                for (var n = t || new En, i = 2 * Math.PI, r = this.aEndAngle - this.aStartAngle, o = Math.abs(r) < Number.EPSILON; r < 0;) r += i;
                for (; r > i;) r -= i;
                r < Number.EPSILON && (r = o ? 0 : i), !0 !== this.aClockwise || o || (r === i ? r = -i : r -= i);
                var a = this.aStartAngle + e * r,
                    s = this.aX + this.xRadius * Math.cos(a),
                    l = this.aY + this.yRadius * Math.sin(a);
                if (0 !== this.aRotation) {
                    var c = Math.cos(this.aRotation),
                        u = Math.sin(this.aRotation),
                        h = s - this.aX,
                        d = l - this.aY;
                    s = h * c - d * u + this.aX, l = h * u + d * c + this.aY
                }
                return n.set(s, l)
            }, yu.prototype.copy = function (e) {
                return gu.prototype.copy.call(this, e), this.aX = e.aX, this.aY = e.aY, this.xRadius = e.xRadius, this.yRadius = e.yRadius, this.aStartAngle = e.aStartAngle, this.aEndAngle = e.aEndAngle, this.aClockwise = e.aClockwise, this.aRotation = e.aRotation, this
            }, yu.prototype.toJSON = function () {
                var e = gu.prototype.toJSON.call(this);
                return e.aX = this.aX, e.aY = this.aY, e.xRadius = this.xRadius, e.yRadius = this.yRadius, e.aStartAngle = this.aStartAngle, e.aEndAngle = this.aEndAngle, e.aClockwise = this.aClockwise, e.aRotation = this.aRotation, e
            }, yu.prototype.fromJSON = function (e) {
                return gu.prototype.fromJSON.call(this, e), this.aX = e.aX, this.aY = e.aY, this.xRadius = e.xRadius, this.yRadius = e.yRadius, this.aStartAngle = e.aStartAngle, this.aEndAngle = e.aEndAngle, this.aClockwise = e.aClockwise, this.aRotation = e.aRotation, this
            }, _u.prototype = Object.create(yu.prototype), _u.prototype.constructor = _u, _u.prototype.isArcCurve = !0;
            var wu = new Nn,
                xu = new bu,
                Tu = new bu,
                Su = new bu;

            function Mu(e, t, n, i) {
                gu.call(this), this.type = "CatmullRomCurve3", this.points = e || [], this.closed = t || !1, this.curveType = n || "centripetal", this.tension = i || .5
            }

            function Eu(e, t, n, i, r) {
                var o = .5 * (i - t),
                    a = .5 * (r - n),
                    s = e * e;
                return (2 * n - 2 * i + o + a) * (e * s) + (-3 * n + 3 * i - 2 * o - a) * s + o * e + n
            }

            function Au(e, t, n, i) {
                return function (e, t) {
                    var n = 1 - e;
                    return n * n * t
                }(e, t) + function (e, t) {
                    return 2 * (1 - e) * e * t
                }(e, n) + function (e, t) {
                    return e * e * t
                }(e, i)
            }

            function Pu(e, t, n, i, r) {
                return function (e, t) {
                    var n = 1 - e;
                    return n * n * n * t
                }(e, t) + function (e, t) {
                    var n = 1 - e;
                    return 3 * n * n * e * t
                }(e, n) + function (e, t) {
                    return 3 * (1 - e) * e * e * t
                }(e, i) + function (e, t) {
                    return e * e * e * t
                }(e, r)
            }

            function Cu(e, t, n, i) {
                gu.call(this), this.type = "CubicBezierCurve", this.v0 = e || new En, this.v1 = t || new En, this.v2 = n || new En, this.v3 = i || new En
            }

            function Lu(e, t, n, i) {
                gu.call(this), this.type = "CubicBezierCurve3", this.v0 = e || new Nn, this.v1 = t || new Nn, this.v2 = n || new Nn, this.v3 = i || new Nn
            }

            function Ou(e, t) {
                gu.call(this), this.type = "LineCurve", this.v1 = e || new En, this.v2 = t || new En
            }

            function Ru(e, t) {
                gu.call(this), this.type = "LineCurve3", this.v1 = e || new Nn, this.v2 = t || new Nn
            }

            function ku(e, t, n) {
                gu.call(this), this.type = "QuadraticBezierCurve", this.v0 = e || new En, this.v1 = t || new En, this.v2 = n || new En
            }

            function Iu(e, t, n) {
                gu.call(this), this.type = "QuadraticBezierCurve3", this.v0 = e || new Nn, this.v1 = t || new Nn, this.v2 = n || new Nn
            }

            function Du(e) {
                gu.call(this), this.type = "SplineCurve", this.points = e || []
            }
            Mu.prototype = Object.create(gu.prototype), Mu.prototype.constructor = Mu, Mu.prototype.isCatmullRomCurve3 = !0, Mu.prototype.getPoint = function (e, t) {
                var n, i, r, o, a = t || new Nn,
                    s = this.points,
                    l = s.length,
                    c = (l - (this.closed ? 0 : 1)) * e,
                    u = Math.floor(c),
                    h = c - u;
                if (this.closed ? u += u > 0 ? 0 : (Math.floor(Math.abs(u) / l) + 1) * l : 0 === h && u === l - 1 && (u = l - 2, h = 1), this.closed || u > 0 ? n = s[(u - 1) % l] : (wu.subVectors(s[0], s[1]).add(s[0]), n = wu), i = s[u % l], r = s[(u + 1) % l], this.closed || u + 2 < l ? o = s[(u + 2) % l] : (wu.subVectors(s[l - 1], s[l - 2]).add(s[l - 1]), o = wu), "centripetal" === this.curveType || "chordal" === this.curveType) {
                    var d = "chordal" === this.curveType ? .5 : .25,
                        p = Math.pow(n.distanceToSquared(i), d),
                        f = Math.pow(i.distanceToSquared(r), d),
                        m = Math.pow(r.distanceToSquared(o), d);
                    f < 1e-4 && (f = 1), p < 1e-4 && (p = f), m < 1e-4 && (m = f), xu.initNonuniformCatmullRom(n.x, i.x, r.x, o.x, p, f, m), Tu.initNonuniformCatmullRom(n.y, i.y, r.y, o.y, p, f, m), Su.initNonuniformCatmullRom(n.z, i.z, r.z, o.z, p, f, m)
                } else "catmullrom" === this.curveType && (xu.initCatmullRom(n.x, i.x, r.x, o.x, this.tension), Tu.initCatmullRom(n.y, i.y, r.y, o.y, this.tension), Su.initCatmullRom(n.z, i.z, r.z, o.z, this.tension));
                return a.set(xu.calc(h), Tu.calc(h), Su.calc(h)), a
            }, Mu.prototype.copy = function (e) {
                gu.prototype.copy.call(this, e), this.points = [];
                for (var t = 0, n = e.points.length; t < n; t++) {
                    var i = e.points[t];
                    this.points.push(i.clone())
                }
                return this.closed = e.closed, this.curveType = e.curveType, this.tension = e.tension, this
            }, Mu.prototype.toJSON = function () {
                var e = gu.prototype.toJSON.call(this);
                e.points = [];
                for (var t = 0, n = this.points.length; t < n; t++) {
                    var i = this.points[t];
                    e.points.push(i.toArray())
                }
                return e.closed = this.closed, e.curveType = this.curveType, e.tension = this.tension, e
            }, Mu.prototype.fromJSON = function (e) {
                gu.prototype.fromJSON.call(this, e), this.points = [];
                for (var t = 0, n = e.points.length; t < n; t++) {
                    var i = e.points[t];
                    this.points.push((new Nn).fromArray(i))
                }
                return this.closed = e.closed, this.curveType = e.curveType, this.tension = e.tension, this
            }, Cu.prototype = Object.create(gu.prototype), Cu.prototype.constructor = Cu, Cu.prototype.isCubicBezierCurve = !0, Cu.prototype.getPoint = function (e, t) {
                var n = t || new En,
                    i = this.v0,
                    r = this.v1,
                    o = this.v2,
                    a = this.v3;
                return n.set(Pu(e, i.x, r.x, o.x, a.x), Pu(e, i.y, r.y, o.y, a.y)), n
            }, Cu.prototype.copy = function (e) {
                return gu.prototype.copy.call(this, e), this.v0.copy(e.v0), this.v1.copy(e.v1), this.v2.copy(e.v2), this.v3.copy(e.v3), this
            }, Cu.prototype.toJSON = function () {
                var e = gu.prototype.toJSON.call(this);
                return e.v0 = this.v0.toArray(), e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e.v3 = this.v3.toArray(), e
            }, Cu.prototype.fromJSON = function (e) {
                return gu.prototype.fromJSON.call(this, e), this.v0.fromArray(e.v0), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this.v3.fromArray(e.v3), this
            }, Lu.prototype = Object.create(gu.prototype), Lu.prototype.constructor = Lu, Lu.prototype.isCubicBezierCurve3 = !0, Lu.prototype.getPoint = function (e, t) {
                var n = t || new Nn,
                    i = this.v0,
                    r = this.v1,
                    o = this.v2,
                    a = this.v3;
                return n.set(Pu(e, i.x, r.x, o.x, a.x), Pu(e, i.y, r.y, o.y, a.y), Pu(e, i.z, r.z, o.z, a.z)), n
            }, Lu.prototype.copy = function (e) {
                return gu.prototype.copy.call(this, e), this.v0.copy(e.v0), this.v1.copy(e.v1), this.v2.copy(e.v2), this.v3.copy(e.v3), this
            }, Lu.prototype.toJSON = function () {
                var e = gu.prototype.toJSON.call(this);
                return e.v0 = this.v0.toArray(), e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e.v3 = this.v3.toArray(), e
            }, Lu.prototype.fromJSON = function (e) {
                return gu.prototype.fromJSON.call(this, e), this.v0.fromArray(e.v0), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this.v3.fromArray(e.v3), this
            }, Ou.prototype = Object.create(gu.prototype), Ou.prototype.constructor = Ou, Ou.prototype.isLineCurve = !0, Ou.prototype.getPoint = function (e, t) {
                var n = t || new En;
                return 1 === e ? n.copy(this.v2) : (n.copy(this.v2).sub(this.v1), n.multiplyScalar(e).add(this.v1)), n
            }, Ou.prototype.getPointAt = function (e, t) {
                return this.getPoint(e, t)
            }, Ou.prototype.getTangent = function () {
                return this.v2.clone().sub(this.v1).normalize()
            }, Ou.prototype.copy = function (e) {
                return gu.prototype.copy.call(this, e), this.v1.copy(e.v1), this.v2.copy(e.v2), this
            }, Ou.prototype.toJSON = function () {
                var e = gu.prototype.toJSON.call(this);
                return e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e
            }, Ou.prototype.fromJSON = function (e) {
                return gu.prototype.fromJSON.call(this, e), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this
            }, Ru.prototype = Object.create(gu.prototype), Ru.prototype.constructor = Ru, Ru.prototype.isLineCurve3 = !0, Ru.prototype.getPoint = function (e, t) {
                var n = t || new Nn;
                return 1 === e ? n.copy(this.v2) : (n.copy(this.v2).sub(this.v1), n.multiplyScalar(e).add(this.v1)), n
            }, Ru.prototype.getPointAt = function (e, t) {
                return this.getPoint(e, t)
            }, Ru.prototype.copy = function (e) {
                return gu.prototype.copy.call(this, e), this.v1.copy(e.v1), this.v2.copy(e.v2), this
            }, Ru.prototype.toJSON = function () {
                var e = gu.prototype.toJSON.call(this);
                return e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e
            }, Ru.prototype.fromJSON = function (e) {
                return gu.prototype.fromJSON.call(this, e), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this
            }, ku.prototype = Object.create(gu.prototype), ku.prototype.constructor = ku, ku.prototype.isQuadraticBezierCurve = !0, ku.prototype.getPoint = function (e, t) {
                var n = t || new En,
                    i = this.v0,
                    r = this.v1,
                    o = this.v2;
                return n.set(Au(e, i.x, r.x, o.x), Au(e, i.y, r.y, o.y)), n
            }, ku.prototype.copy = function (e) {
                return gu.prototype.copy.call(this, e), this.v0.copy(e.v0), this.v1.copy(e.v1), this.v2.copy(e.v2), this
            }, ku.prototype.toJSON = function () {
                var e = gu.prototype.toJSON.call(this);
                return e.v0 = this.v0.toArray(), e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e
            }, ku.prototype.fromJSON = function (e) {
                return gu.prototype.fromJSON.call(this, e), this.v0.fromArray(e.v0), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this
            }, Iu.prototype = Object.create(gu.prototype), Iu.prototype.constructor = Iu, Iu.prototype.isQuadraticBezierCurve3 = !0, Iu.prototype.getPoint = function (e, t) {
                var n = t || new Nn,
                    i = this.v0,
                    r = this.v1,
                    o = this.v2;
                return n.set(Au(e, i.x, r.x, o.x), Au(e, i.y, r.y, o.y), Au(e, i.z, r.z, o.z)), n
            }, Iu.prototype.copy = function (e) {
                return gu.prototype.copy.call(this, e), this.v0.copy(e.v0), this.v1.copy(e.v1), this.v2.copy(e.v2), this
            }, Iu.prototype.toJSON = function () {
                var e = gu.prototype.toJSON.call(this);
                return e.v0 = this.v0.toArray(), e.v1 = this.v1.toArray(), e.v2 = this.v2.toArray(), e
            }, Iu.prototype.fromJSON = function (e) {
                return gu.prototype.fromJSON.call(this, e), this.v0.fromArray(e.v0), this.v1.fromArray(e.v1), this.v2.fromArray(e.v2), this
            }, Du.prototype = Object.create(gu.prototype), Du.prototype.constructor = Du, Du.prototype.isSplineCurve = !0, Du.prototype.getPoint = function (e, t) {
                var n = t || new En,
                    i = this.points,
                    r = (i.length - 1) * e,
                    o = Math.floor(r),
                    a = r - o,
                    s = i[0 === o ? o : o - 1],
                    l = i[o],
                    c = i[o > i.length - 2 ? i.length - 1 : o + 1],
                    u = i[o > i.length - 3 ? i.length - 1 : o + 2];
                return n.set(Eu(a, s.x, l.x, c.x, u.x), Eu(a, s.y, l.y, c.y, u.y)), n
            }, Du.prototype.copy = function (e) {
                gu.prototype.copy.call(this, e), this.points = [];
                for (var t = 0, n = e.points.length; t < n; t++) {
                    var i = e.points[t];
                    this.points.push(i.clone())
                }
                return this
            }, Du.prototype.toJSON = function () {
                var e = gu.prototype.toJSON.call(this);
                e.points = [];
                for (var t = 0, n = this.points.length; t < n; t++) {
                    var i = this.points[t];
                    e.points.push(i.toArray())
                }
                return e
            }, Du.prototype.fromJSON = function (e) {
                gu.prototype.fromJSON.call(this, e), this.points = [];
                for (var t = 0, n = e.points.length; t < n; t++) {
                    var i = e.points[t];
                    this.points.push((new En).fromArray(i))
                }
                return this
            };
            var Bu = Object.freeze({
                __proto__: null,
                ArcCurve: _u,
                CatmullRomCurve3: Mu,
                CubicBezierCurve: Cu,
                CubicBezierCurve3: Lu,
                EllipseCurve: yu,
                LineCurve: Ou,
                LineCurve3: Ru,
                QuadraticBezierCurve: ku,
                QuadraticBezierCurve3: Iu,
                SplineCurve: Du
            });

            function Nu() {
                gu.call(this), this.type = "CurvePath", this.curves = [], this.autoClose = !1
            }

            function Gu(e) {
                Nu.call(this), this.type = "Path", this.currentPoint = new En, e && this.setFromPoints(e)
            }

            function ju(e) {
                Gu.call(this, e), this.uuid = Mn.generateUUID(), this.type = "Shape", this.holes = []
            }

            function Hu(e, t) {
                ci.call(this), this.type = "Light", this.color = new er(e), this.intensity = void 0 !== t ? t : 1, this.receiveShadow = void 0
            }

            function Fu(e, t, n) {
                Hu.call(this, e, n), this.type = "HemisphereLight", this.castShadow = void 0, this.position.copy(ci.DefaultUp), this.updateMatrix(), this.groundColor = new er(t)
            }

            function Uu(e) {
                this.camera = e, this.bias = 0, this.radius = 1, this.mapSize = new En(512, 512), this.map = null, this.mapPass = null, this.matrix = new Wn, this._frustum = new fo, this._frameExtents = new En(1, 1), this._viewportCount = 1, this._viewports = [new On(0, 0, 1, 1)]
            }

            function zu() {
                Uu.call(this, new so(50, 1, .5, 500))
            }

            function Vu(e, t, n, i, r, o) {
                Hu.call(this, e, t), this.type = "SpotLight", this.position.copy(ci.DefaultUp), this.updateMatrix(), this.target = new ci, Object.defineProperty(this, "power", {
                    get: function () {
                        return this.intensity * Math.PI
                    },
                    set: function (e) {
                        this.intensity = e / Math.PI
                    }
                }), this.distance = void 0 !== n ? n : 0, this.angle = void 0 !== i ? i : Math.PI / 3, this.penumbra = void 0 !== r ? r : 0, this.decay = void 0 !== o ? o : 1, this.shadow = new zu
            }

            function Wu() {
                Uu.call(this, new so(90, 1, .5, 500)), this._frameExtents = new En(4, 2), this._viewportCount = 6, this._viewports = [new On(2, 1, 1, 1), new On(0, 1, 1, 1), new On(3, 1, 1, 1), new On(1, 1, 1, 1), new On(3, 0, 1, 1), new On(1, 0, 1, 1)], this._cubeDirections = [new Nn(1, 0, 0), new Nn(-1, 0, 0), new Nn(0, 0, 1), new Nn(0, 0, -1), new Nn(0, 1, 0), new Nn(0, -1, 0)], this._cubeUps = [new Nn(0, 1, 0), new Nn(0, 1, 0), new Nn(0, 1, 0), new Nn(0, 1, 0), new Nn(0, 0, 1), new Nn(0, 0, -1)]
            }

            function qu(e, t, n, i) {
                Hu.call(this, e, t), this.type = "PointLight", Object.defineProperty(this, "power", {
                    get: function () {
                        return 4 * this.intensity * Math.PI
                    },
                    set: function (e) {
                        this.intensity = e / (4 * Math.PI)
                    }
                }), this.distance = void 0 !== n ? n : 0, this.decay = void 0 !== i ? i : 1, this.shadow = new Wu
            }

            function Xu(e, t, n, i, r, o) {
                ao.call(this), this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = void 0 !== e ? e : -1, this.right = void 0 !== t ? t : 1, this.top = void 0 !== n ? n : 1, this.bottom = void 0 !== i ? i : -1, this.near = void 0 !== r ? r : .1, this.far = void 0 !== o ? o : 2e3, this.updateProjectionMatrix()
            }

            function Yu() {
                Uu.call(this, new Xu(-5, 5, 5, -5, .5, 500))
            }

            function Ju(e, t) {
                Hu.call(this, e, t), this.type = "DirectionalLight", this.position.copy(ci.DefaultUp), this.updateMatrix(), this.target = new ci, this.shadow = new Yu
            }

            function Ku(e, t) {
                Hu.call(this, e, t), this.type = "AmbientLight", this.castShadow = void 0
            }

            function Zu(e, t, n, i) {
                Hu.call(this, e, t), this.type = "RectAreaLight", this.width = void 0 !== n ? n : 10, this.height = void 0 !== i ? i : 10
            }

            function $u(e) {
                lu.call(this, e), this.textures = {}
            }
            Nu.prototype = Object.assign(Object.create(gu.prototype), {
                constructor: Nu,
                add: function (e) {
                    this.curves.push(e)
                },
                closePath: function () {
                    var e = this.curves[0].getPoint(0),
                        t = this.curves[this.curves.length - 1].getPoint(1);
                    e.equals(t) || this.curves.push(new Ou(t, e))
                },
                getPoint: function (e) {
                    for (var t = e * this.getLength(), n = this.getCurveLengths(), i = 0; i < n.length;) {
                        if (n[i] >= t) {
                            var r = n[i] - t,
                                o = this.curves[i],
                                a = o.getLength(),
                                s = 0 === a ? 0 : 1 - r / a;
                            return o.getPointAt(s)
                        }
                        i++
                    }
                    return null
                },
                getLength: function () {
                    var e = this.getCurveLengths();
                    return e[e.length - 1]
                },
                updateArcLengths: function () {
                    this.needsUpdate = !0, this.cacheLengths = null, this.getCurveLengths()
                },
                getCurveLengths: function () {
                    if (this.cacheLengths && this.cacheLengths.length === this.curves.length) return this.cacheLengths;
                    for (var e = [], t = 0, n = 0, i = this.curves.length; n < i; n++) t += this.curves[n].getLength(), e.push(t);
                    return this.cacheLengths = e, e
                },
                getSpacedPoints: function (e) {
                    void 0 === e && (e = 40);
                    for (var t = [], n = 0; n <= e; n++) t.push(this.getPoint(n / e));
                    return this.autoClose && t.push(t[0]), t
                },
                getPoints: function (e) {
                    e = e || 12;
                    for (var t, n = [], i = 0, r = this.curves; i < r.length; i++)
                        for (var o = r[i], a = o && o.isEllipseCurve ? 2 * e : o && (o.isLineCurve || o.isLineCurve3) ? 1 : o && o.isSplineCurve ? e * o.points.length : e, s = o.getPoints(a), l = 0; l < s.length; l++) {
                            var c = s[l];
                            t && t.equals(c) || (n.push(c), t = c)
                        }
                    return this.autoClose && n.length > 1 && !n[n.length - 1].equals(n[0]) && n.push(n[0]), n
                },
                copy: function (e) {
                    gu.prototype.copy.call(this, e), this.curves = [];
                    for (var t = 0, n = e.curves.length; t < n; t++) {
                        var i = e.curves[t];
                        this.curves.push(i.clone())
                    }
                    return this.autoClose = e.autoClose, this
                },
                toJSON: function () {
                    var e = gu.prototype.toJSON.call(this);
                    e.autoClose = this.autoClose, e.curves = [];
                    for (var t = 0, n = this.curves.length; t < n; t++) {
                        var i = this.curves[t];
                        e.curves.push(i.toJSON())
                    }
                    return e
                },
                fromJSON: function (e) {
                    gu.prototype.fromJSON.call(this, e), this.autoClose = e.autoClose, this.curves = [];
                    for (var t = 0, n = e.curves.length; t < n; t++) {
                        var i = e.curves[t];
                        this.curves.push((new Bu[i.type]).fromJSON(i))
                    }
                    return this
                }
            }), Gu.prototype = Object.assign(Object.create(Nu.prototype), {
                constructor: Gu,
                setFromPoints: function (e) {
                    this.moveTo(e[0].x, e[0].y);
                    for (var t = 1, n = e.length; t < n; t++) this.lineTo(e[t].x, e[t].y);
                    return this
                },
                moveTo: function (e, t) {
                    return this.currentPoint.set(e, t), this
                },
                lineTo: function (e, t) {
                    var n = new Ou(this.currentPoint.clone(), new En(e, t));
                    return this.curves.push(n), this.currentPoint.set(e, t), this
                },
                quadraticCurveTo: function (e, t, n, i) {
                    var r = new ku(this.currentPoint.clone(), new En(e, t), new En(n, i));
                    return this.curves.push(r), this.currentPoint.set(n, i), this
                },
                bezierCurveTo: function (e, t, n, i, r, o) {
                    var a = new Cu(this.currentPoint.clone(), new En(e, t), new En(n, i), new En(r, o));
                    return this.curves.push(a), this.currentPoint.set(r, o), this
                },
                splineThru: function (e) {
                    var t = new Du([this.currentPoint.clone()].concat(e));
                    return this.curves.push(t), this.currentPoint.copy(e[e.length - 1]), this
                },
                arc: function (e, t, n, i, r, o) {
                    var a = this.currentPoint.x,
                        s = this.currentPoint.y;
                    return this.absarc(e + a, t + s, n, i, r, o), this
                },
                absarc: function (e, t, n, i, r, o) {
                    return this.absellipse(e, t, n, n, i, r, o), this
                },
                ellipse: function (e, t, n, i, r, o, a, s) {
                    var l = this.currentPoint.x,
                        c = this.currentPoint.y;
                    return this.absellipse(e + l, t + c, n, i, r, o, a, s), this
                },
                absellipse: function (e, t, n, i, r, o, a, s) {
                    var l = new yu(e, t, n, i, r, o, a, s);
                    if (this.curves.length > 0) {
                        var c = l.getPoint(0);
                        c.equals(this.currentPoint) || this.lineTo(c.x, c.y)
                    }
                    this.curves.push(l);
                    var u = l.getPoint(1);
                    return this.currentPoint.copy(u), this
                },
                copy: function (e) {
                    return Nu.prototype.copy.call(this, e), this.currentPoint.copy(e.currentPoint), this
                },
                toJSON: function () {
                    var e = Nu.prototype.toJSON.call(this);
                    return e.currentPoint = this.currentPoint.toArray(), e
                },
                fromJSON: function (e) {
                    return Nu.prototype.fromJSON.call(this, e), this.currentPoint.fromArray(e.currentPoint), this
                }
            }), ju.prototype = Object.assign(Object.create(Gu.prototype), {
                constructor: ju,
                getPointsHoles: function (e) {
                    for (var t = [], n = 0, i = this.holes.length; n < i; n++) t[n] = this.holes[n].getPoints(e);
                    return t
                },
                extractPoints: function (e) {
                    return {
                        shape: this.getPoints(e),
                        holes: this.getPointsHoles(e)
                    }
                },
                copy: function (e) {
                    Gu.prototype.copy.call(this, e), this.holes = [];
                    for (var t = 0, n = e.holes.length; t < n; t++) {
                        var i = e.holes[t];
                        this.holes.push(i.clone())
                    }
                    return this
                },
                toJSON: function () {
                    var e = Gu.prototype.toJSON.call(this);
                    e.uuid = this.uuid, e.holes = [];
                    for (var t = 0, n = this.holes.length; t < n; t++) {
                        var i = this.holes[t];
                        e.holes.push(i.toJSON())
                    }
                    return e
                },
                fromJSON: function (e) {
                    Gu.prototype.fromJSON.call(this, e), this.uuid = e.uuid, this.holes = [];
                    for (var t = 0, n = e.holes.length; t < n; t++) {
                        var i = e.holes[t];
                        this.holes.push((new Gu).fromJSON(i))
                    }
                    return this
                }
            }), Hu.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: Hu,
                isLight: !0,
                copy: function (e) {
                    return ci.prototype.copy.call(this, e), this.color.copy(e.color), this.intensity = e.intensity, this
                },
                toJSON: function (e) {
                    var t = ci.prototype.toJSON.call(this, e);
                    return t.object.color = this.color.getHex(), t.object.intensity = this.intensity, void 0 !== this.groundColor && (t.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (t.object.distance = this.distance), void 0 !== this.angle && (t.object.angle = this.angle), void 0 !== this.decay && (t.object.decay = this.decay), void 0 !== this.penumbra && (t.object.penumbra = this.penumbra), void 0 !== this.shadow && (t.object.shadow = this.shadow.toJSON()), t
                }
            }), Fu.prototype = Object.assign(Object.create(Hu.prototype), {
                constructor: Fu,
                isHemisphereLight: !0,
                copy: function (e) {
                    return Hu.prototype.copy.call(this, e), this.groundColor.copy(e.groundColor), this
                }
            }), Object.assign(Uu.prototype, {
                _projScreenMatrix: new Wn,
                _lightPositionWorld: new Nn,
                _lookTarget: new Nn,
                getViewportCount: function () {
                    return this._viewportCount
                },
                getFrustum: function () {
                    return this._frustum
                },
                updateMatrices: function (e) {
                    var t = this.camera,
                        n = this.matrix,
                        i = this._projScreenMatrix,
                        r = this._lookTarget,
                        o = this._lightPositionWorld;
                    o.setFromMatrixPosition(e.matrixWorld), t.position.copy(o), r.setFromMatrixPosition(e.target.matrixWorld), t.lookAt(r), t.updateMatrixWorld(), i.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse), this._frustum.setFromProjectionMatrix(i), n.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), n.multiply(t.projectionMatrix), n.multiply(t.matrixWorldInverse)
                },
                getViewport: function (e) {
                    return this._viewports[e]
                },
                getFrameExtents: function () {
                    return this._frameExtents
                },
                copy: function (e) {
                    return this.camera = e.camera.clone(), this.bias = e.bias, this.radius = e.radius, this.mapSize.copy(e.mapSize), this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                toJSON: function () {
                    var e = {};
                    return 0 !== this.bias && (e.bias = this.bias), 1 !== this.radius && (e.radius = this.radius), 512 === this.mapSize.x && 512 === this.mapSize.y || (e.mapSize = this.mapSize.toArray()), e.camera = this.camera.toJSON(!1).object, delete e.camera.matrix, e
                }
            }), zu.prototype = Object.assign(Object.create(Uu.prototype), {
                constructor: zu,
                isSpotLightShadow: !0,
                updateMatrices: function (e) {
                    var t = this.camera,
                        n = 2 * Mn.RAD2DEG * e.angle,
                        i = this.mapSize.width / this.mapSize.height,
                        r = e.distance || t.far;
                    n === t.fov && i === t.aspect && r === t.far || (t.fov = n, t.aspect = i, t.far = r, t.updateProjectionMatrix()), Uu.prototype.updateMatrices.call(this, e)
                }
            }), Vu.prototype = Object.assign(Object.create(Hu.prototype), {
                constructor: Vu,
                isSpotLight: !0,
                copy: function (e) {
                    return Hu.prototype.copy.call(this, e), this.distance = e.distance, this.angle = e.angle, this.penumbra = e.penumbra, this.decay = e.decay, this.target = e.target.clone(), this.shadow = e.shadow.clone(), this
                }
            }), Wu.prototype = Object.assign(Object.create(Uu.prototype), {
                constructor: Wu,
                isPointLightShadow: !0,
                updateMatrices: function (e, t) {
                    void 0 === t && (t = 0);
                    var n = this.camera,
                        i = this.matrix,
                        r = this._lightPositionWorld,
                        o = this._lookTarget,
                        a = this._projScreenMatrix;
                    r.setFromMatrixPosition(e.matrixWorld), n.position.copy(r), o.copy(n.position), o.add(this._cubeDirections[t]), n.up.copy(this._cubeUps[t]), n.lookAt(o), n.updateMatrixWorld(), i.makeTranslation(-r.x, -r.y, -r.z), a.multiplyMatrices(n.projectionMatrix, n.matrixWorldInverse), this._frustum.setFromProjectionMatrix(a)
                }
            }), qu.prototype = Object.assign(Object.create(Hu.prototype), {
                constructor: qu,
                isPointLight: !0,
                copy: function (e) {
                    return Hu.prototype.copy.call(this, e), this.distance = e.distance, this.decay = e.decay, this.shadow = e.shadow.clone(), this
                }
            }), Xu.prototype = Object.assign(Object.create(ao.prototype), {
                constructor: Xu,
                isOrthographicCamera: !0,
                copy: function (e, t) {
                    return ao.prototype.copy.call(this, e, t), this.left = e.left, this.right = e.right, this.top = e.top, this.bottom = e.bottom, this.near = e.near, this.far = e.far, this.zoom = e.zoom, this.view = null === e.view ? null : Object.assign({}, e.view), this
                },
                setViewOffset: function (e, t, n, i, r, o) {
                    null === this.view && (this.view = {
                        enabled: !0,
                        fullWidth: 1,
                        fullHeight: 1,
                        offsetX: 0,
                        offsetY: 0,
                        width: 1,
                        height: 1
                    }), this.view.enabled = !0, this.view.fullWidth = e, this.view.fullHeight = t, this.view.offsetX = n, this.view.offsetY = i, this.view.width = r, this.view.height = o, this.updateProjectionMatrix()
                },
                clearViewOffset: function () {
                    null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix()
                },
                updateProjectionMatrix: function () {
                    var e = (this.right - this.left) / (2 * this.zoom),
                        t = (this.top - this.bottom) / (2 * this.zoom),
                        n = (this.right + this.left) / 2,
                        i = (this.top + this.bottom) / 2,
                        r = n - e,
                        o = n + e,
                        a = i + t,
                        s = i - t;
                    if (null !== this.view && this.view.enabled) {
                        var l = (this.right - this.left) / this.view.fullWidth / this.zoom,
                            c = (this.top - this.bottom) / this.view.fullHeight / this.zoom;
                        o = (r += l * this.view.offsetX) + l * this.view.width, s = (a -= c * this.view.offsetY) - c * this.view.height
                    }
                    this.projectionMatrix.makeOrthographic(r, o, a, s, this.near, this.far), this.projectionMatrixInverse.getInverse(this.projectionMatrix)
                },
                toJSON: function (e) {
                    var t = ci.prototype.toJSON.call(this, e);
                    return t.object.zoom = this.zoom, t.object.left = this.left, t.object.right = this.right, t.object.top = this.top, t.object.bottom = this.bottom, t.object.near = this.near, t.object.far = this.far, null !== this.view && (t.object.view = Object.assign({}, this.view)), t
                }
            }), Yu.prototype = Object.assign(Object.create(Uu.prototype), {
                constructor: Yu,
                isDirectionalLightShadow: !0,
                updateMatrices: function (e) {
                    Uu.prototype.updateMatrices.call(this, e)
                }
            }), Ju.prototype = Object.assign(Object.create(Hu.prototype), {
                constructor: Ju,
                isDirectionalLight: !0,
                copy: function (e) {
                    return Hu.prototype.copy.call(this, e), this.target = e.target.clone(), this.shadow = e.shadow.clone(), this
                }
            }), Ku.prototype = Object.assign(Object.create(Hu.prototype), {
                constructor: Ku,
                isAmbientLight: !0
            }), Zu.prototype = Object.assign(Object.create(Hu.prototype), {
                constructor: Zu,
                isRectAreaLight: !0,
                copy: function (e) {
                    return Hu.prototype.copy.call(this, e), this.width = e.width, this.height = e.height, this
                },
                toJSON: function (e) {
                    var t = Hu.prototype.toJSON.call(this, e);
                    return t.object.width = this.width, t.object.height = this.height, t
                }
            }), $u.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: $u,
                load: function (e, t, n, i) {
                    var r = this,
                        o = new uu(r.manager);
                    o.setPath(r.path), o.load(e, (function (e) {
                        t(r.parse(JSON.parse(e)))
                    }), n, i)
                },
                parse: function (e) {
                    var t = this.textures;

                    function n(e) {
                        return void 0 === t[e] && console.warn("THREE.MaterialLoader: Undefined texture", e), t[e]
                    }
                    var i = new zc[e.type];
                    if (void 0 !== e.uuid && (i.uuid = e.uuid), void 0 !== e.name && (i.name = e.name), void 0 !== e.color && i.color.setHex(e.color), void 0 !== e.roughness && (i.roughness = e.roughness), void 0 !== e.metalness && (i.metalness = e.metalness), void 0 !== e.sheen && (i.sheen = (new er).setHex(e.sheen)), void 0 !== e.emissive && i.emissive.setHex(e.emissive), void 0 !== e.specular && i.specular.setHex(e.specular), void 0 !== e.shininess && (i.shininess = e.shininess), void 0 !== e.clearcoat && (i.clearcoat = e.clearcoat), void 0 !== e.clearcoatRoughness && (i.clearcoatRoughness = e.clearcoatRoughness), void 0 !== e.vertexColors && (i.vertexColors = e.vertexColors), void 0 !== e.fog && (i.fog = e.fog), void 0 !== e.flatShading && (i.flatShading = e.flatShading), void 0 !== e.blending && (i.blending = e.blending), void 0 !== e.combine && (i.combine = e.combine), void 0 !== e.side && (i.side = e.side), void 0 !== e.opacity && (i.opacity = e.opacity), void 0 !== e.transparent && (i.transparent = e.transparent), void 0 !== e.alphaTest && (i.alphaTest = e.alphaTest), void 0 !== e.depthTest && (i.depthTest = e.depthTest), void 0 !== e.depthWrite && (i.depthWrite = e.depthWrite), void 0 !== e.colorWrite && (i.colorWrite = e.colorWrite), void 0 !== e.stencilWrite && (i.stencilWrite = e.stencilWrite), void 0 !== e.stencilWriteMask && (i.stencilWriteMask = e.stencilWriteMask), void 0 !== e.stencilFunc && (i.stencilFunc = e.stencilFunc), void 0 !== e.stencilRef && (i.stencilRef = e.stencilRef), void 0 !== e.stencilFuncMask && (i.stencilFuncMask = e.stencilFuncMask), void 0 !== e.stencilFail && (i.stencilFail = e.stencilFail), void 0 !== e.stencilZFail && (i.stencilZFail = e.stencilZFail), void 0 !== e.stencilZPass && (i.stencilZPass = e.stencilZPass), void 0 !== e.wireframe && (i.wireframe = e.wireframe), void 0 !== e.wireframeLinewidth && (i.wireframeLinewidth = e.wireframeLinewidth), void 0 !== e.wireframeLinecap && (i.wireframeLinecap = e.wireframeLinecap), void 0 !== e.wireframeLinejoin && (i.wireframeLinejoin = e.wireframeLinejoin), void 0 !== e.rotation && (i.rotation = e.rotation), 1 !== e.linewidth && (i.linewidth = e.linewidth), void 0 !== e.dashSize && (i.dashSize = e.dashSize), void 0 !== e.gapSize && (i.gapSize = e.gapSize), void 0 !== e.scale && (i.scale = e.scale), void 0 !== e.polygonOffset && (i.polygonOffset = e.polygonOffset), void 0 !== e.polygonOffsetFactor && (i.polygonOffsetFactor = e.polygonOffsetFactor), void 0 !== e.polygonOffsetUnits && (i.polygonOffsetUnits = e.polygonOffsetUnits), void 0 !== e.skinning && (i.skinning = e.skinning), void 0 !== e.morphTargets && (i.morphTargets = e.morphTargets), void 0 !== e.morphNormals && (i.morphNormals = e.morphNormals), void 0 !== e.dithering && (i.dithering = e.dithering), void 0 !== e.visible && (i.visible = e.visible), void 0 !== e.toneMapped && (i.toneMapped = e.toneMapped), void 0 !== e.userData && (i.userData = e.userData), void 0 !== e.uniforms)
                        for (var r in e.uniforms) {
                            var o = e.uniforms[r];
                            switch (i.uniforms[r] = {}, o.type) {
                                case "t":
                                    i.uniforms[r].value = n(o.value);
                                    break;
                                case "c":
                                    i.uniforms[r].value = (new er).setHex(o.value);
                                    break;
                                case "v2":
                                    i.uniforms[r].value = (new En).fromArray(o.value);
                                    break;
                                case "v3":
                                    i.uniforms[r].value = (new Nn).fromArray(o.value);
                                    break;
                                case "v4":
                                    i.uniforms[r].value = (new On).fromArray(o.value);
                                    break;
                                case "m3":
                                    i.uniforms[r].value = (new An).fromArray(o.value);
                                case "m4":
                                    i.uniforms[r].value = (new Wn).fromArray(o.value);
                                    break;
                                default:
                                    i.uniforms[r].value = o.value
                            }
                        }
                    if (void 0 !== e.defines && (i.defines = e.defines), void 0 !== e.vertexShader && (i.vertexShader = e.vertexShader), void 0 !== e.fragmentShader && (i.fragmentShader = e.fragmentShader), void 0 !== e.extensions)
                        for (var a in e.extensions) i.extensions[a] = e.extensions[a];
                    if (void 0 !== e.shading && (i.flatShading = 1 === e.shading), void 0 !== e.size && (i.size = e.size), void 0 !== e.sizeAttenuation && (i.sizeAttenuation = e.sizeAttenuation), void 0 !== e.map && (i.map = n(e.map)), void 0 !== e.matcap && (i.matcap = n(e.matcap)), void 0 !== e.alphaMap && (i.alphaMap = n(e.alphaMap), i.transparent = !0), void 0 !== e.bumpMap && (i.bumpMap = n(e.bumpMap)), void 0 !== e.bumpScale && (i.bumpScale = e.bumpScale), void 0 !== e.normalMap && (i.normalMap = n(e.normalMap)), void 0 !== e.normalMapType && (i.normalMapType = e.normalMapType), void 0 !== e.normalScale) {
                        var s = e.normalScale;
                        !1 === Array.isArray(s) && (s = [s, s]), i.normalScale = (new En).fromArray(s)
                    }
                    return void 0 !== e.displacementMap && (i.displacementMap = n(e.displacementMap)), void 0 !== e.displacementScale && (i.displacementScale = e.displacementScale), void 0 !== e.displacementBias && (i.displacementBias = e.displacementBias), void 0 !== e.roughnessMap && (i.roughnessMap = n(e.roughnessMap)), void 0 !== e.metalnessMap && (i.metalnessMap = n(e.metalnessMap)), void 0 !== e.emissiveMap && (i.emissiveMap = n(e.emissiveMap)), void 0 !== e.emissiveIntensity && (i.emissiveIntensity = e.emissiveIntensity), void 0 !== e.specularMap && (i.specularMap = n(e.specularMap)), void 0 !== e.envMap && (i.envMap = n(e.envMap)), void 0 !== e.envMapIntensity && (i.envMapIntensity = e.envMapIntensity), void 0 !== e.reflectivity && (i.reflectivity = e.reflectivity), void 0 !== e.refractionRatio && (i.refractionRatio = e.refractionRatio), void 0 !== e.lightMap && (i.lightMap = n(e.lightMap)), void 0 !== e.lightMapIntensity && (i.lightMapIntensity = e.lightMapIntensity), void 0 !== e.aoMap && (i.aoMap = n(e.aoMap)), void 0 !== e.aoMapIntensity && (i.aoMapIntensity = e.aoMapIntensity), void 0 !== e.gradientMap && (i.gradientMap = n(e.gradientMap)), void 0 !== e.clearcoatNormalMap && (i.clearcoatNormalMap = n(e.clearcoatNormalMap)), void 0 !== e.clearcoatNormalScale && (i.clearcoatNormalScale = (new En).fromArray(e.clearcoatNormalScale)), i
                },
                setTextures: function (e) {
                    return this.textures = e, this
                }
            });
            var Qu = {
                decodeText: function (e) {
                    if ("undefined" != typeof TextDecoder) return (new TextDecoder).decode(e);
                    for (var t = "", n = 0, i = e.length; n < i; n++) t += String.fromCharCode(e[n]);
                    try {
                        return decodeURIComponent(escape(t))
                    } catch (e) {
                        return t
                    }
                },
                extractUrlBase: function (e) {
                    var t = e.lastIndexOf("/");
                    return -1 === t ? "./" : e.substr(0, t + 1)
                }
            };

            function eh() {
                Pr.call(this), this.type = "InstancedBufferGeometry", this.maxInstancedCount = void 0
            }

            function th(e, t, n, i) {
                "number" == typeof n && (i = n, n = !1, console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")), cr.call(this, e, t, n), this.meshPerAttribute = i || 1
            }

            function nh(e) {
                lu.call(this, e)
            }
            eh.prototype = Object.assign(Object.create(Pr.prototype), {
                constructor: eh,
                isInstancedBufferGeometry: !0,
                copy: function (e) {
                    return Pr.prototype.copy.call(this, e), this.maxInstancedCount = e.maxInstancedCount, this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                toJSON: function () {
                    var e = Pr.prototype.toJSON.call(this);
                    return e.maxInstancedCount = this.maxInstancedCount, e.isInstancedBufferGeometry = !0, e
                }
            }), th.prototype = Object.assign(Object.create(cr.prototype), {
                constructor: th,
                isInstancedBufferAttribute: !0,
                copy: function (e) {
                    return cr.prototype.copy.call(this, e), this.meshPerAttribute = e.meshPerAttribute, this
                },
                toJSON: function () {
                    var e = cr.prototype.toJSON.call(this);
                    return e.meshPerAttribute = this.meshPerAttribute, e.isInstancedBufferAttribute = !0, e
                }
            }), nh.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: nh,
                load: function (e, t, n, i) {
                    var r = this,
                        o = new uu(r.manager);
                    o.setPath(r.path), o.load(e, (function (e) {
                        t(r.parse(JSON.parse(e)))
                    }), n, i)
                },
                parse: function (e) {
                    var t = e.isInstancedBufferGeometry ? new eh : new Pr,
                        n = e.data.index;
                    if (void 0 !== n) {
                        var i = new ih[n.type](n.array);
                        t.setIndex(new cr(i, 1))
                    }
                    var r = e.data.attributes;
                    for (var o in r) {
                        var a = r[o],
                            s = (i = new ih[a.type](a.array), new(a.isInstancedBufferAttribute ? th : cr)(i, a.itemSize, a.normalized));
                        void 0 !== a.name && (s.name = a.name), t.setAttribute(o, s)
                    }
                    var l = e.data.morphAttributes;
                    if (l)
                        for (var o in l) {
                            for (var c = l[o], u = [], h = 0, d = c.length; h < d; h++) {
                                a = c[h], s = new cr(i = new ih[a.type](a.array), a.itemSize, a.normalized);
                                void 0 !== a.name && (s.name = a.name), u.push(s)
                            }
                            t.morphAttributes[o] = u
                        }
                    e.data.morphTargetsRelative && (t.morphTargetsRelative = !0);
                    var p = e.data.groups || e.data.drawcalls || e.data.offsets;
                    if (void 0 !== p) {
                        h = 0;
                        for (var f = p.length; h !== f; ++h) {
                            var m = p[h];
                            t.addGroup(m.start, m.count, m.materialIndex)
                        }
                    }
                    var v = e.data.boundingSphere;
                    if (void 0 !== v) {
                        var g = new Nn;
                        void 0 !== v.center && g.fromArray(v.center), t.boundingSphere = new Ai(g, v.radius)
                    }
                    return e.name && (t.name = e.name), e.userData && (t.userData = e.userData), t
                }
            });
            var ih = {
                Int8Array: Int8Array,
                Uint8Array: Uint8Array,
                Uint8ClampedArray: "undefined" != typeof Uint8ClampedArray ? Uint8ClampedArray : Uint8Array,
                Int16Array: Int16Array,
                Uint16Array: Uint16Array,
                Int32Array: Int32Array,
                Uint32Array: Uint32Array,
                Float32Array: Float32Array,
                Float64Array: Float64Array
            };

            function rh(e) {
                lu.call(this, e)
            }
            rh.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: rh,
                load: function (e, t, n, i) {
                    var r = this,
                        o = "" === this.path ? Qu.extractUrlBase(e) : this.path;
                    this.resourcePath = this.resourcePath || o;
                    var a = new uu(r.manager);
                    a.setPath(this.path), a.load(e, (function (n) {
                        var o = null;
                        try {
                            o = JSON.parse(n)
                        } catch (t) {
                            return void 0 !== i && i(t), void console.error("THREE:ObjectLoader: Can't parse " + e + ".", t.message)
                        }
                        var a = o.metadata;
                        void 0 !== a && void 0 !== a.type && "geometry" !== a.type.toLowerCase() ? r.parse(o, t) : console.error("THREE.ObjectLoader: Can't load " + e)
                    }), n, i)
                },
                parse: function (e, t) {
                    var n = this.parseShape(e.shapes),
                        i = this.parseGeometries(e.geometries, n),
                        r = this.parseImages(e.images, (function () {
                            void 0 !== t && t(s)
                        })),
                        o = this.parseTextures(e.textures, r),
                        a = this.parseMaterials(e.materials, o),
                        s = this.parseObject(e.object, i, a);
                    return e.animations && (s.animations = this.parseAnimations(e.animations)), void 0 !== e.images && 0 !== e.images.length || void 0 !== t && t(s), s
                },
                parseShape: function (e) {
                    var t = {};
                    if (void 0 !== e)
                        for (var n = 0, i = e.length; n < i; n++) {
                            var r = (new ju).fromJSON(e[n]);
                            t[r.uuid] = r
                        }
                    return t
                },
                parseGeometries: function (t, n) {
                    var i = {};
                    if (void 0 !== t)
                        for (var r = new nh, o = 0, a = t.length; o < a; o++) {
                            var s, l = t[o];
                            switch (l.type) {
                                case "PlaneGeometry":
                                case "PlaneBufferGeometry":
                                    s = new Rc[l.type](l.width, l.height, l.widthSegments, l.heightSegments);
                                    break;
                                case "BoxGeometry":
                                case "BoxBufferGeometry":
                                case "CubeGeometry":
                                    s = new Rc[l.type](l.width, l.height, l.depth, l.widthSegments, l.heightSegments, l.depthSegments);
                                    break;
                                case "CircleGeometry":
                                case "CircleBufferGeometry":
                                    s = new Rc[l.type](l.radius, l.segments, l.thetaStart, l.thetaLength);
                                    break;
                                case "CylinderGeometry":
                                case "CylinderBufferGeometry":
                                    s = new Rc[l.type](l.radiusTop, l.radiusBottom, l.height, l.radialSegments, l.heightSegments, l.openEnded, l.thetaStart, l.thetaLength);
                                    break;
                                case "ConeGeometry":
                                case "ConeBufferGeometry":
                                    s = new Rc[l.type](l.radius, l.height, l.radialSegments, l.heightSegments, l.openEnded, l.thetaStart, l.thetaLength);
                                    break;
                                case "SphereGeometry":
                                case "SphereBufferGeometry":
                                    s = new Rc[l.type](l.radius, l.widthSegments, l.heightSegments, l.phiStart, l.phiLength, l.thetaStart, l.thetaLength);
                                    break;
                                case "DodecahedronGeometry":
                                case "DodecahedronBufferGeometry":
                                case "IcosahedronGeometry":
                                case "IcosahedronBufferGeometry":
                                case "OctahedronGeometry":
                                case "OctahedronBufferGeometry":
                                case "TetrahedronGeometry":
                                case "TetrahedronBufferGeometry":
                                    s = new Rc[l.type](l.radius, l.detail);
                                    break;
                                case "RingGeometry":
                                case "RingBufferGeometry":
                                    s = new Rc[l.type](l.innerRadius, l.outerRadius, l.thetaSegments, l.phiSegments, l.thetaStart, l.thetaLength);
                                    break;
                                case "TorusGeometry":
                                case "TorusBufferGeometry":
                                    s = new Rc[l.type](l.radius, l.tube, l.radialSegments, l.tubularSegments, l.arc);
                                    break;
                                case "TorusKnotGeometry":
                                case "TorusKnotBufferGeometry":
                                    s = new Rc[l.type](l.radius, l.tube, l.tubularSegments, l.radialSegments, l.p, l.q);
                                    break;
                                case "TubeGeometry":
                                case "TubeBufferGeometry":
                                    s = new Rc[l.type]((new Bu[l.path.type]).fromJSON(l.path), l.tubularSegments, l.radius, l.radialSegments, l.closed);
                                    break;
                                case "LatheGeometry":
                                case "LatheBufferGeometry":
                                    s = new Rc[l.type](l.points, l.segments, l.phiStart, l.phiLength);
                                    break;
                                case "PolyhedronGeometry":
                                case "PolyhedronBufferGeometry":
                                    s = new Rc[l.type](l.vertices, l.indices, l.radius, l.details);
                                    break;
                                case "ShapeGeometry":
                                case "ShapeBufferGeometry":
                                    for (var c = [], u = 0, h = l.shapes.length; u < h; u++) {
                                        var d = n[l.shapes[u]];
                                        c.push(d)
                                    }
                                    s = new Rc[l.type](c, l.curveSegments);
                                    break;
                                case "ExtrudeGeometry":
                                case "ExtrudeBufferGeometry":
                                    for (c = [], u = 0, h = l.shapes.length; u < h; u++) {
                                        d = n[l.shapes[u]];
                                        c.push(d)
                                    }
                                    var p = l.options.extrudePath;
                                    void 0 !== p && (l.options.extrudePath = (new Bu[p.type]).fromJSON(p)), s = new Rc[l.type](c, l.options);
                                    break;
                                case "BufferGeometry":
                                case "InstancedBufferGeometry":
                                    s = r.parse(l);
                                    break;
                                case "Geometry":
                                    if ("THREE" in window && "LegacyJSONLoader" in e) s = (new e.LegacyJSONLoader).parse(l, this.resourcePath).geometry;
                                    else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');
                                    break;
                                default:
                                    console.warn('THREE.ObjectLoader: Unsupported geometry type "' + l.type + '"');
                                    continue
                            }
                            s.uuid = l.uuid, void 0 !== l.name && (s.name = l.name), !0 === s.isBufferGeometry && void 0 !== l.userData && (s.userData = l.userData), i[l.uuid] = s
                        }
                    return i
                },
                parseMaterials: function (e, t) {
                    var n = {},
                        i = {};
                    if (void 0 !== e) {
                        var r = new $u;
                        r.setTextures(t);
                        for (var o = 0, a = e.length; o < a; o++) {
                            var s = e[o];
                            if ("MultiMaterial" === s.type) {
                                for (var l = [], c = 0; c < s.materials.length; c++) {
                                    var u = s.materials[c];
                                    void 0 === n[u.uuid] && (n[u.uuid] = r.parse(u)), l.push(n[u.uuid])
                                }
                                i[s.uuid] = l
                            } else void 0 === n[s.uuid] && (n[s.uuid] = r.parse(s)), i[s.uuid] = n[s.uuid]
                        }
                    }
                    return i
                },
                parseAnimations: function (e) {
                    for (var t = [], n = 0; n < e.length; n++) {
                        var i = e[n],
                            r = iu.parse(i);
                        void 0 !== i.uuid && (r.uuid = i.uuid), t.push(r)
                    }
                    return t
                },
                parseImages: function (e, t) {
                    var n = this,
                        i = {};

                    function r(e) {
                        return n.manager.itemStart(e), o.load(e, (function () {
                            n.manager.itemEnd(e)
                        }), void 0, (function () {
                            n.manager.itemError(e), n.manager.itemEnd(e)
                        }))
                    }
                    if (void 0 !== e && e.length > 0) {
                        var o = new fu(new au(t));
                        o.setCrossOrigin(this.crossOrigin);
                        for (var a = 0, s = e.length; a < s; a++) {
                            var l = e[a],
                                c = l.url;
                            if (Array.isArray(c)) {
                                i[l.uuid] = [];
                                for (var u = 0, h = c.length; u < h; u++) {
                                    var d = c[u],
                                        p = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(d) ? d : n.resourcePath + d;
                                    i[l.uuid].push(r(p))
                                }
                            } else {
                                p = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url) ? l.url : n.resourcePath + l.url;
                                i[l.uuid] = r(p)
                            }
                        }
                    }
                    return i
                },
                parseTextures: function (e, t) {
                    function n(e, t) {
                        return "number" == typeof e ? e : (console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", e), t[e])
                    }
                    var i = {};
                    if (void 0 !== e)
                        for (var r = 0, o = e.length; r < o; r++) {
                            var a, s = e[r];
                            void 0 === s.image && console.warn('THREE.ObjectLoader: No "image" specified for', s.uuid), void 0 === t[s.image] && console.warn("THREE.ObjectLoader: Undefined image", s.image), (a = Array.isArray(t[s.image]) ? new ko(t[s.image]) : new Ln(t[s.image])).needsUpdate = !0, a.uuid = s.uuid, void 0 !== s.name && (a.name = s.name), void 0 !== s.mapping && (a.mapping = n(s.mapping, ah)), void 0 !== s.offset && a.offset.fromArray(s.offset), void 0 !== s.repeat && a.repeat.fromArray(s.repeat), void 0 !== s.center && a.center.fromArray(s.center), void 0 !== s.rotation && (a.rotation = s.rotation), void 0 !== s.wrap && (a.wrapS = n(s.wrap[0], sh), a.wrapT = n(s.wrap[1], sh)), void 0 !== s.format && (a.format = s.format), void 0 !== s.type && (a.type = s.type), void 0 !== s.encoding && (a.encoding = s.encoding), void 0 !== s.minFilter && (a.minFilter = n(s.minFilter, lh)), void 0 !== s.magFilter && (a.magFilter = n(s.magFilter, lh)), void 0 !== s.anisotropy && (a.anisotropy = s.anisotropy), void 0 !== s.flipY && (a.flipY = s.flipY), void 0 !== s.premultiplyAlpha && (a.premultiplyAlpha = s.premultiplyAlpha), void 0 !== s.unpackAlignment && (a.unpackAlignment = s.unpackAlignment), i[s.uuid] = a
                        }
                    return i
                },
                parseObject: function (e, t, n) {
                    var i;

                    function r(e) {
                        return void 0 === t[e] && console.warn("THREE.ObjectLoader: Undefined geometry", e), t[e]
                    }

                    function o(e) {
                        if (void 0 !== e) {
                            if (Array.isArray(e)) {
                                for (var t = [], i = 0, r = e.length; i < r; i++) {
                                    var o = e[i];
                                    void 0 === n[o] && console.warn("THREE.ObjectLoader: Undefined material", o), t.push(n[o])
                                }
                                return t
                            }
                            return void 0 === n[e] && console.warn("THREE.ObjectLoader: Undefined material", e), n[e]
                        }
                    }
                    switch (e.type) {
                        case "Scene":
                            i = new ui, void 0 !== e.background && Number.isInteger(e.background) && (i.background = new er(e.background)), void 0 !== e.fog && ("Fog" === e.fog.type ? i.fog = new _s(e.fog.color, e.fog.near, e.fog.far) : "FogExp2" === e.fog.type && (i.fog = new ys(e.fog.color, e.fog.density)));
                            break;
                        case "PerspectiveCamera":
                            i = new so(e.fov, e.aspect, e.near, e.far), void 0 !== e.focus && (i.focus = e.focus), void 0 !== e.zoom && (i.zoom = e.zoom), void 0 !== e.filmGauge && (i.filmGauge = e.filmGauge), void 0 !== e.filmOffset && (i.filmOffset = e.filmOffset), void 0 !== e.view && (i.view = Object.assign({}, e.view));
                            break;
                        case "OrthographicCamera":
                            i = new Xu(e.left, e.right, e.top, e.bottom, e.near, e.far), void 0 !== e.zoom && (i.zoom = e.zoom), void 0 !== e.view && (i.view = Object.assign({}, e.view));
                            break;
                        case "AmbientLight":
                            i = new Ku(e.color, e.intensity);
                            break;
                        case "DirectionalLight":
                            i = new Ju(e.color, e.intensity);
                            break;
                        case "PointLight":
                            i = new qu(e.color, e.intensity, e.distance, e.decay);
                            break;
                        case "RectAreaLight":
                            i = new Zu(e.color, e.intensity, e.width, e.height);
                            break;
                        case "SpotLight":
                            i = new Vu(e.color, e.intensity, e.distance, e.angle, e.penumbra, e.decay);
                            break;
                        case "HemisphereLight":
                            i = new Fu(e.color, e.groundColor, e.intensity);
                            break;
                        case "SkinnedMesh":
                            console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");
                        case "Mesh":
                            var a = r(e.geometry),
                                s = o(e.material);
                            i = a.bones && a.bones.length > 0 ? new Us(a, s) : new qr(a, s);
                            break;
                        case "InstancedMesh":
                            a = r(e.geometry), s = o(e.material);
                            var l = e.count,
                                c = e.instanceMatrix;
                            (i = new Zs(a, s, l)).instanceMatrix = new cr(new Float32Array(c.array), 16);
                            break;
                        case "LOD":
                            i = new Fs;
                            break;
                        case "Line":
                            i = new rl(r(e.geometry), o(e.material), e.mode);
                            break;
                        case "LineLoop":
                            i = new ll(r(e.geometry), o(e.material));
                            break;
                        case "LineSegments":
                            i = new sl(r(e.geometry), o(e.material));
                            break;
                        case "PointCloud":
                        case "Points":
                            i = new fl(r(e.geometry), o(e.material));
                            break;
                        case "Sprite":
                            i = new Ns(o(e.material));
                            break;
                        case "Group":
                            i = new ms;
                            break;
                        default:
                            i = new ci
                    }
                    if (i.uuid = e.uuid, void 0 !== e.name && (i.name = e.name), void 0 !== e.matrix ? (i.matrix.fromArray(e.matrix), void 0 !== e.matrixAutoUpdate && (i.matrixAutoUpdate = e.matrixAutoUpdate), i.matrixAutoUpdate && i.matrix.decompose(i.position, i.quaternion, i.scale)) : (void 0 !== e.position && i.position.fromArray(e.position), void 0 !== e.rotation && i.rotation.fromArray(e.rotation), void 0 !== e.quaternion && i.quaternion.fromArray(e.quaternion), void 0 !== e.scale && i.scale.fromArray(e.scale)), void 0 !== e.castShadow && (i.castShadow = e.castShadow), void 0 !== e.receiveShadow && (i.receiveShadow = e.receiveShadow), e.shadow && (void 0 !== e.shadow.bias && (i.shadow.bias = e.shadow.bias), void 0 !== e.shadow.radius && (i.shadow.radius = e.shadow.radius), void 0 !== e.shadow.mapSize && i.shadow.mapSize.fromArray(e.shadow.mapSize), void 0 !== e.shadow.camera && (i.shadow.camera = this.parseObject(e.shadow.camera))), void 0 !== e.visible && (i.visible = e.visible), void 0 !== e.frustumCulled && (i.frustumCulled = e.frustumCulled), void 0 !== e.renderOrder && (i.renderOrder = e.renderOrder), void 0 !== e.userData && (i.userData = e.userData), void 0 !== e.layers && (i.layers.mask = e.layers), void 0 !== e.children)
                        for (var u = e.children, h = 0; h < u.length; h++) i.add(this.parseObject(u[h], t, n));
                    if ("LOD" === e.type) {
                        void 0 !== e.autoUpdate && (i.autoUpdate = e.autoUpdate);
                        for (var d = e.levels, p = 0; p < d.length; p++) {
                            var f = d[p],
                                m = i.getObjectByProperty("uuid", f.object);
                            void 0 !== m && i.addLevel(m, f.distance)
                        }
                    }
                    return i
                }
            });
            var oh, ah = {
                    UVMapping: ce,
                    CubeReflectionMapping: ue,
                    CubeRefractionMapping: he,
                    EquirectangularReflectionMapping: de,
                    EquirectangularRefractionMapping: pe,
                    SphericalReflectionMapping: fe,
                    CubeUVReflectionMapping: me,
                    CubeUVRefractionMapping: ve
                },
                sh = {
                    RepeatWrapping: ge,
                    ClampToEdgeWrapping: ye,
                    MirroredRepeatWrapping: _e
                },
                lh = {
                    NearestFilter: be,
                    NearestMipmapNearestFilter: we,
                    NearestMipmapLinearFilter: Te,
                    LinearFilter: Me,
                    LinearMipmapNearestFilter: Ee,
                    LinearMipmapLinearFilter: Pe
                };

            function ch(e) {
                "undefined" == typeof createImageBitmap && console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."), "undefined" == typeof fetch && console.warn("THREE.ImageBitmapLoader: fetch() not supported."), lu.call(this, e), this.options = void 0
            }

            function uh() {
                this.type = "ShapePath", this.color = new er, this.subPaths = [], this.currentPath = null
            }

            function hh(e) {
                this.type = "Font", this.data = e
            }

            function dh(e, t, n, i, r) {
                var o = r.glyphs[e] || r.glyphs["?"];
                if (o) {
                    var a, s, l, c, u, h, d, p, f = new uh;
                    if (o.o)
                        for (var m = o._cachedOutline || (o._cachedOutline = o.o.split(" ")), v = 0, g = m.length; v < g;) {
                            switch (m[v++]) {
                                case "m":
                                    a = m[v++] * t + n, s = m[v++] * t + i, f.moveTo(a, s);
                                    break;
                                case "l":
                                    a = m[v++] * t + n, s = m[v++] * t + i, f.lineTo(a, s);
                                    break;
                                case "q":
                                    l = m[v++] * t + n, c = m[v++] * t + i, u = m[v++] * t + n, h = m[v++] * t + i, f.quadraticCurveTo(u, h, l, c);
                                    break;
                                case "b":
                                    l = m[v++] * t + n, c = m[v++] * t + i, u = m[v++] * t + n, h = m[v++] * t + i, d = m[v++] * t + n, p = m[v++] * t + i, f.bezierCurveTo(u, h, d, p, l, c)
                            }
                        }
                    return {
                        offsetX: o.ha * t,
                        path: f
                    }
                }
                console.error('THREE.Font: character "' + e + '" does not exists in font family ' + r.familyName + ".")
            }

            function ph(e) {
                lu.call(this, e)
            }
            ch.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: ch,
                setOptions: function (e) {
                    return this.options = e, this
                },
                load: function (e, t, n, i) {
                    void 0 === e && (e = ""), void 0 !== this.path && (e = this.path + e), e = this.manager.resolveURL(e);
                    var r = this,
                        o = ou.get(e);
                    if (void 0 !== o) return r.manager.itemStart(e), setTimeout((function () {
                        t && t(o), r.manager.itemEnd(e)
                    }), 0), o;
                    fetch(e).then((function (e) {
                        return e.blob()
                    })).then((function (e) {
                        return void 0 === r.options ? createImageBitmap(e) : createImageBitmap(e, r.options)
                    })).then((function (n) {
                        ou.add(e, n), t && t(n), r.manager.itemEnd(e)
                    })).catch((function (t) {
                        i && i(t), r.manager.itemError(e), r.manager.itemEnd(e)
                    })), r.manager.itemStart(e)
                }
            }), Object.assign(uh.prototype, {
                moveTo: function (e, t) {
                    return this.currentPath = new Gu, this.subPaths.push(this.currentPath), this.currentPath.moveTo(e, t), this
                },
                lineTo: function (e, t) {
                    return this.currentPath.lineTo(e, t), this
                },
                quadraticCurveTo: function (e, t, n, i) {
                    return this.currentPath.quadraticCurveTo(e, t, n, i), this
                },
                bezierCurveTo: function (e, t, n, i, r, o) {
                    return this.currentPath.bezierCurveTo(e, t, n, i, r, o), this
                },
                splineThru: function (e) {
                    return this.currentPath.splineThru(e), this
                },
                toShapes: function (e, t) {
                    function n(e) {
                        for (var t = [], n = 0, i = e.length; n < i; n++) {
                            var r = e[n],
                                o = new ju;
                            o.curves = r.curves, t.push(o)
                        }
                        return t
                    }

                    function i(e, t) {
                        for (var n = t.length, i = !1, r = n - 1, o = 0; o < n; r = o++) {
                            var a = t[r],
                                s = t[o],
                                l = s.x - a.x,
                                c = s.y - a.y;
                            if (Math.abs(c) > Number.EPSILON) {
                                if (c < 0 && (a = t[o], l = -l, s = t[r], c = -c), e.y < a.y || e.y > s.y) continue;
                                if (e.y === a.y) {
                                    if (e.x === a.x) return !0
                                } else {
                                    var u = c * (e.x - a.x) - l * (e.y - a.y);
                                    if (0 === u) return !0;
                                    if (u < 0) continue;
                                    i = !i
                                }
                            } else {
                                if (e.y !== a.y) continue;
                                if (s.x <= e.x && e.x <= a.x || a.x <= e.x && e.x <= s.x) return !0
                            }
                        }
                        return i
                    }
                    var r = sc.isClockWise,
                        o = this.subPaths;
                    if (0 === o.length) return [];
                    if (!0 === t) return n(o);
                    var a, s, l, c = [];
                    if (1 === o.length) return s = o[0], (l = new ju).curves = s.curves, c.push(l), c;
                    var u = !r(o[0].getPoints());
                    u = e ? !u : u;
                    var h, d, p = [],
                        f = [],
                        m = [],
                        v = 0;
                    f[v] = void 0, m[v] = [];
                    for (var g = 0, y = o.length; g < y; g++) a = r(h = (s = o[g]).getPoints()), (a = e ? !a : a) ? (!u && f[v] && v++, f[v] = {
                        s: new ju,
                        p: h
                    }, f[v].s.curves = s.curves, u && v++, m[v] = []) : m[v].push({
                        h: s,
                        p: h[0]
                    });
                    if (!f[0]) return n(o);
                    if (f.length > 1) {
                        for (var _ = !1, b = [], w = 0, x = f.length; w < x; w++) p[w] = [];
                        for (w = 0, x = f.length; w < x; w++)
                            for (var T = m[w], S = 0; S < T.length; S++) {
                                for (var M = T[S], E = !0, A = 0; A < f.length; A++) i(M.p, f[A].p) && (w !== A && b.push({
                                    froms: w,
                                    tos: A,
                                    hole: S
                                }), E ? (E = !1, p[A].push(M)) : _ = !0);
                                E && p[w].push(M)
                            }
                        b.length > 0 && (_ || (m = p))
                    }
                    g = 0;
                    for (var P = f.length; g < P; g++) {
                        l = f[g].s, c.push(l);
                        for (var C = 0, L = (d = m[g]).length; C < L; C++) l.holes.push(d[C].h)
                    }
                    return c
                }
            }), Object.assign(hh.prototype, {
                isFont: !0,
                generateShapes: function (e, t) {
                    void 0 === t && (t = 100);
                    for (var n = [], i = function (e, t, n) {
                            for (var i = Array.from ? Array.from(e) : String(e).split(""), r = t / n.resolution, o = (n.boundingBox.yMax - n.boundingBox.yMin + n.underlineThickness) * r, a = [], s = 0, l = 0, c = 0; c < i.length; c++) {
                                var u = i[c];
                                if ("\n" === u) s = 0, l -= o;
                                else {
                                    var h = dh(u, r, s, l, n);
                                    s += h.offsetX, a.push(h.path)
                                }
                            }
                            return a
                        }(e, t, this.data), r = 0, o = i.length; r < o; r++) Array.prototype.push.apply(n, i[r].toShapes());
                    return n
                }
            }), ph.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: ph,
                load: function (e, t, n, i) {
                    var r = this,
                        o = new uu(this.manager);
                    o.setPath(this.path), o.load(e, (function (e) {
                        var n;
                        try {
                            n = JSON.parse(e)
                        } catch (t) {
                            console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."), n = JSON.parse(e.substring(65, e.length - 2))
                        }
                        var i = r.parse(n);
                        t && t(i)
                    }), n, i)
                },
                parse: function (e) {
                    return new hh(e)
                }
            });
            var fh = {
                getContext: function () {
                    return void 0 === oh && (oh = new(window.AudioContext || window.webkitAudioContext)), oh
                },
                setContext: function (e) {
                    oh = e
                }
            };

            function mh(e) {
                lu.call(this, e)
            }

            function vh() {
                this.coefficients = [];
                for (var e = 0; e < 9; e++) this.coefficients.push(new Nn)
            }

            function gh(e, t) {
                Hu.call(this, void 0, t), this.sh = void 0 !== e ? e : new vh
            }

            function yh(e, t, n) {
                gh.call(this, void 0, n);
                var i = (new er).set(e),
                    r = (new er).set(t),
                    o = new Nn(i.r, i.g, i.b),
                    a = new Nn(r.r, r.g, r.b),
                    s = Math.sqrt(Math.PI),
                    l = s * Math.sqrt(.75);
                this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s), this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(l)
            }

            function _h(e, t) {
                gh.call(this, void 0, t);
                var n = (new er).set(e);
                this.sh.coefficients[0].set(n.r, n.g, n.b).multiplyScalar(2 * Math.sqrt(Math.PI))
            }
            mh.prototype = Object.assign(Object.create(lu.prototype), {
                constructor: mh,
                load: function (e, t, n, i) {
                    var r = new uu(this.manager);
                    r.setResponseType("arraybuffer"), r.setPath(this.path), r.load(e, (function (e) {
                        var n = e.slice(0);
                        fh.getContext().decodeAudioData(n, (function (e) {
                            t(e)
                        }))
                    }), n, i)
                }
            }), Object.assign(vh.prototype, {
                isSphericalHarmonics3: !0,
                set: function (e) {
                    for (var t = 0; t < 9; t++) this.coefficients[t].copy(e[t]);
                    return this
                },
                zero: function () {
                    for (var e = 0; e < 9; e++) this.coefficients[e].set(0, 0, 0);
                    return this
                },
                getAt: function (e, t) {
                    var n = e.x,
                        i = e.y,
                        r = e.z,
                        o = this.coefficients;
                    return t.copy(o[0]).multiplyScalar(.282095), t.addScale(o[1], .488603 * i), t.addScale(o[2], .488603 * r), t.addScale(o[3], .488603 * n), t.addScale(o[4], n * i * 1.092548), t.addScale(o[5], i * r * 1.092548), t.addScale(o[6], .315392 * (3 * r * r - 1)), t.addScale(o[7], n * r * 1.092548), t.addScale(o[8], .546274 * (n * n - i * i)), t
                },
                getIrradianceAt: function (e, t) {
                    var n = e.x,
                        i = e.y,
                        r = e.z,
                        o = this.coefficients;
                    return t.copy(o[0]).multiplyScalar(.886227), t.addScale(o[1], 1.023328 * i), t.addScale(o[2], 1.023328 * r), t.addScale(o[3], 1.023328 * n), t.addScale(o[4], .858086 * n * i), t.addScale(o[5], .858086 * i * r), t.addScale(o[6], .743125 * r * r - .247708), t.addScale(o[7], .858086 * n * r), t.addScale(o[8], .429043 * (n * n - i * i)), t
                },
                add: function (e) {
                    for (var t = 0; t < 9; t++) this.coefficients[t].add(e.coefficients[t]);
                    return this
                },
                scale: function (e) {
                    for (var t = 0; t < 9; t++) this.coefficients[t].multiplyScalar(e);
                    return this
                },
                lerp: function (e, t) {
                    for (var n = 0; n < 9; n++) this.coefficients[n].lerp(e.coefficients[n], t);
                    return this
                },
                equals: function (e) {
                    for (var t = 0; t < 9; t++)
                        if (!this.coefficients[t].equals(e.coefficients[t])) return !1;
                    return !0
                },
                copy: function (e) {
                    return this.set(e.coefficients)
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                fromArray: function (e, t) {
                    void 0 === t && (t = 0);
                    for (var n = this.coefficients, i = 0; i < 9; i++) n[i].fromArray(e, t + 3 * i);
                    return this
                },
                toArray: function (e, t) {
                    void 0 === e && (e = []), void 0 === t && (t = 0);
                    for (var n = this.coefficients, i = 0; i < 9; i++) n[i].toArray(e, t + 3 * i);
                    return e
                }
            }), Object.assign(vh, {
                getBasisAt: function (e, t) {
                    var n = e.x,
                        i = e.y,
                        r = e.z;
                    t[0] = .282095, t[1] = .488603 * i, t[2] = .488603 * r, t[3] = .488603 * n, t[4] = 1.092548 * n * i, t[5] = 1.092548 * i * r, t[6] = .315392 * (3 * r * r - 1), t[7] = 1.092548 * n * r, t[8] = .546274 * (n * n - i * i)
                }
            }), gh.prototype = Object.assign(Object.create(Hu.prototype), {
                constructor: gh,
                isLightProbe: !0,
                copy: function (e) {
                    return Hu.prototype.copy.call(this, e), this.sh.copy(e.sh), this.intensity = e.intensity, this
                },
                toJSON: function (e) {
                    return Hu.prototype.toJSON.call(this, e)
                }
            }), yh.prototype = Object.assign(Object.create(gh.prototype), {
                constructor: yh,
                isHemisphereLightProbe: !0,
                copy: function (e) {
                    return gh.prototype.copy.call(this, e), this
                },
                toJSON: function (e) {
                    return gh.prototype.toJSON.call(this, e)
                }
            }), _h.prototype = Object.assign(Object.create(gh.prototype), {
                constructor: _h,
                isAmbientLightProbe: !0,
                copy: function (e) {
                    return gh.prototype.copy.call(this, e), this
                },
                toJSON: function (e) {
                    return gh.prototype.toJSON.call(this, e)
                }
            });
            var bh = new Wn,
                wh = new Wn;

            function xh() {
                this.type = "StereoCamera", this.aspect = 1, this.eyeSep = .064, this.cameraL = new so, this.cameraL.layers.enable(1), this.cameraL.matrixAutoUpdate = !1, this.cameraR = new so, this.cameraR.layers.enable(2), this.cameraR.matrixAutoUpdate = !1, this._cache = {
                    focus: null,
                    fov: null,
                    aspect: null,
                    near: null,
                    far: null,
                    zoom: null,
                    eyeSep: null
                }
            }

            function Th(e) {
                this.autoStart = void 0 === e || e, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1
            }
            Object.assign(xh.prototype, {
                update: function (e) {
                    var t = this._cache;
                    if (t.focus !== e.focus || t.fov !== e.fov || t.aspect !== e.aspect * this.aspect || t.near !== e.near || t.far !== e.far || t.zoom !== e.zoom || t.eyeSep !== this.eyeSep) {
                        t.focus = e.focus, t.fov = e.fov, t.aspect = e.aspect * this.aspect, t.near = e.near, t.far = e.far, t.zoom = e.zoom, t.eyeSep = this.eyeSep;
                        var n, i, r = e.projectionMatrix.clone(),
                            o = t.eyeSep / 2,
                            a = o * t.near / t.focus,
                            s = t.near * Math.tan(Mn.DEG2RAD * t.fov * .5) / t.zoom;
                        wh.elements[12] = -o, bh.elements[12] = o, n = -s * t.aspect + a, i = s * t.aspect + a, r.elements[0] = 2 * t.near / (i - n), r.elements[8] = (i + n) / (i - n), this.cameraL.projectionMatrix.copy(r), n = -s * t.aspect - a, i = s * t.aspect - a, r.elements[0] = 2 * t.near / (i - n), r.elements[8] = (i + n) / (i - n), this.cameraR.projectionMatrix.copy(r)
                    }
                    this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(wh), this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(bh)
                }
            }), Object.assign(Th.prototype, {
                start: function () {
                    this.startTime = ("undefined" == typeof performance ? Date : performance).now(), this.oldTime = this.startTime, this.elapsedTime = 0, this.running = !0
                },
                stop: function () {
                    this.getElapsedTime(), this.running = !1, this.autoStart = !1
                },
                getElapsedTime: function () {
                    return this.getDelta(), this.elapsedTime
                },
                getDelta: function () {
                    var e = 0;
                    if (this.autoStart && !this.running) return this.start(), 0;
                    if (this.running) {
                        var t = ("undefined" == typeof performance ? Date : performance).now();
                        e = (t - this.oldTime) / 1e3, this.oldTime = t, this.elapsedTime += e
                    }
                    return e
                }
            });
            var Sh = new Nn,
                Mh = new In,
                Eh = new Nn,
                Ah = new Nn;

            function Ph() {
                ci.call(this), this.type = "AudioListener", this.context = fh.getContext(), this.gain = this.context.createGain(), this.gain.connect(this.context.destination), this.filter = null, this.timeDelta = 0, this._clock = new Th
            }

            function Ch(e) {
                ci.call(this), this.type = "Audio", this.listener = e, this.context = e.context, this.gain = this.context.createGain(), this.gain.connect(e.getInput()), this.autoplay = !1, this.buffer = null, this.detune = 0, this.loop = !1, this.loopStart = 0, this.loopEnd = 0, this.offset = 0, this.duration = void 0, this.playbackRate = 1, this.isPlaying = !1, this.hasPlaybackControl = !0, this.sourceType = "empty", this._startedAt = 0, this._pausedAt = 0, this.filters = []
            }
            Ph.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: Ph,
                getInput: function () {
                    return this.gain
                },
                removeFilter: function () {
                    return null !== this.filter && (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination), this.gain.connect(this.context.destination), this.filter = null), this
                },
                getFilter: function () {
                    return this.filter
                },
                setFilter: function (e) {
                    return null !== this.filter ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination), this.filter = e, this.gain.connect(this.filter), this.filter.connect(this.context.destination), this
                },
                getMasterVolume: function () {
                    return this.gain.gain.value
                },
                setMasterVolume: function (e) {
                    return this.gain.gain.setTargetAtTime(e, this.context.currentTime, .01), this
                },
                updateMatrixWorld: function (e) {
                    ci.prototype.updateMatrixWorld.call(this, e);
                    var t = this.context.listener,
                        n = this.up;
                    if (this.timeDelta = this._clock.getDelta(), this.matrixWorld.decompose(Sh, Mh, Eh), Ah.set(0, 0, -1).applyQuaternion(Mh), t.positionX) {
                        var i = this.context.currentTime + this.timeDelta;
                        t.positionX.linearRampToValueAtTime(Sh.x, i), t.positionY.linearRampToValueAtTime(Sh.y, i), t.positionZ.linearRampToValueAtTime(Sh.z, i), t.forwardX.linearRampToValueAtTime(Ah.x, i), t.forwardY.linearRampToValueAtTime(Ah.y, i), t.forwardZ.linearRampToValueAtTime(Ah.z, i), t.upX.linearRampToValueAtTime(n.x, i), t.upY.linearRampToValueAtTime(n.y, i), t.upZ.linearRampToValueAtTime(n.z, i)
                    } else t.setPosition(Sh.x, Sh.y, Sh.z), t.setOrientation(Ah.x, Ah.y, Ah.z, n.x, n.y, n.z)
                }
            }), Ch.prototype = Object.assign(Object.create(ci.prototype), {
                constructor: Ch,
                getOutput: function () {
                    return this.gain
                },
                setNodeSource: function (e) {
                    return this.hasPlaybackControl = !1, this.sourceType = "audioNode", this.source = e, this.connect(), this
                },
                setMediaElementSource: function (e) {
                    return this.hasPlaybackControl = !1, this.sourceType = "mediaNode", this.source = this.context.createMediaElementSource(e), this.connect(), this
                },
                setMediaStreamSource: function (e) {
                    return this.hasPlaybackControl = !1, this.sourceType = "mediaStreamNode", this.source = this.context.createMediaStreamSource(e), this.connect(), this
                },
                setBuffer: function (e) {
                    return this.buffer = e, this.sourceType = "buffer", this.autoplay && this.play(), this
                },
                play: function (e) {
                    if (void 0 === e && (e = 0), !0 !== this.isPlaying) {
                        if (!1 !== this.hasPlaybackControl) {
                            this._startedAt = this.context.currentTime + e;
                            var t = this.context.createBufferSource();
                            return t.buffer = this.buffer, t.loop = this.loop, t.loopStart = this.loopStart, t.loopEnd = this.loopEnd, t.onended = this.onEnded.bind(this), t.start(this._startedAt, this._pausedAt + this.offset, this.duration), this.isPlaying = !0, this.source = t, this.setDetune(this.detune), this.setPlaybackRate(this.playbackRate), this.connect()
                        }
                        console.warn("THREE.Audio: this Audio has no playback control.")
                    } else console.warn("THREE.Audio: Audio is already playing.")
                },
                pause: function () {
                    if (!1 !== this.hasPlaybackControl) return !0 === this.isPlaying && (this._pausedAt = (this.context.currentTime - this._startedAt) * this.playbackRate, this.source.stop(), this.source.onended = null, this.isPlaying = !1), this;
                    console.warn("THREE.Audio: this Audio has no playback control.")
                },
                stop: function () {
                    if (!1 !== this.hasPlaybackControl) return this._pausedAt = 0, this.source.stop(), this.source.onended = null, this.isPlaying = !1, this;
                    console.warn("THREE.Audio: this Audio has no playback control.")
                },
                connect: function () {
                    if (this.filters.length > 0) {
                        this.source.connect(this.filters[0]);
                        for (var e = 1, t = this.filters.length; e < t; e++) this.filters[e - 1].connect(this.filters[e]);
                        this.filters[this.filters.length - 1].connect(this.getOutput())
                    } else this.source.connect(this.getOutput());
                    return this
                },
                disconnect: function () {
                    if (this.filters.length > 0) {
                        this.source.disconnect(this.filters[0]);
                        for (var e = 1, t = this.filters.length; e < t; e++) this.filters[e - 1].disconnect(this.filters[e]);
                        this.filters[this.filters.length - 1].disconnect(this.getOutput())
                    } else this.source.disconnect(this.getOutput());
                    return this
                },
                getFilters: function () {
                    return this.filters
                },
                setFilters: function (e) {
                    return e || (e = []), !0 === this.isPlaying ? (this.disconnect(), this.filters = e, this.connect()) : this.filters = e, this
                },
                setDetune: function (e) {
                    if (this.detune = e, void 0 !== this.source.detune) return !0 === this.isPlaying && this.source.detune.setTargetAtTime(this.detune, this.context.currentTime, .01), this
                },
                getDetune: function () {
                    return this.detune
                },
                getFilter: function () {
                    return this.getFilters()[0]
                },
                setFilter: function (e) {
                    return this.setFilters(e ? [e] : [])
                },
                setPlaybackRate: function (e) {
                    if (!1 !== this.hasPlaybackControl) return this.playbackRate = e, !0 === this.isPlaying && this.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, .01), this;
                    console.warn("THREE.Audio: this Audio has no playback control.")
                },
                getPlaybackRate: function () {
                    return this.playbackRate
                },
                onEnded: function () {
                    this.isPlaying = !1
                },
                getLoop: function () {
                    return !1 === this.hasPlaybackControl ? (console.warn("THREE.Audio: this Audio has no playback control."), !1) : this.loop
                },
                setLoop: function (e) {
                    if (!1 !== this.hasPlaybackControl) return this.loop = e, !0 === this.isPlaying && (this.source.loop = this.loop), this;
                    console.warn("THREE.Audio: this Audio has no playback control.")
                },
                setLoopStart: function (e) {
                    return this.loopStart = e, this
                },
                setLoopEnd: function (e) {
                    return this.loopEnd = e, this
                },
                getVolume: function () {
                    return this.gain.gain.value
                },
                setVolume: function (e) {
                    return this.gain.gain.setTargetAtTime(e, this.context.currentTime, .01), this
                }
            });
            var Lh = new Nn,
                Oh = new In,
                Rh = new Nn,
                kh = new Nn;

            function Ih(e) {
                Ch.call(this, e), this.panner = this.context.createPanner(), this.panner.panningModel = "HRTF", this.panner.connect(this.gain)
            }

            function Dh(e, t) {
                this.analyser = e.context.createAnalyser(), this.analyser.fftSize = void 0 !== t ? t : 2048, this.data = new Uint8Array(this.analyser.frequencyBinCount), e.getOutput().connect(this.analyser)
            }

            function Bh(e, t, n) {
                this.binding = e, this.valueSize = n;
                var i, r = Float64Array;
                switch (t) {
                    case "quaternion":
                        i = this._slerp;
                        break;
                    case "string":
                    case "bool":
                        r = Array, i = this._select;
                        break;
                    default:
                        i = this._lerp
                }
                this.buffer = new r(4 * n), this._mixBufferRegion = i, this.cumulativeWeight = 0, this.useCount = 0, this.referenceCount = 0
            }
            Ih.prototype = Object.assign(Object.create(Ch.prototype), {
                constructor: Ih,
                getOutput: function () {
                    return this.panner
                },
                getRefDistance: function () {
                    return this.panner.refDistance
                },
                setRefDistance: function (e) {
                    return this.panner.refDistance = e, this
                },
                getRolloffFactor: function () {
                    return this.panner.rolloffFactor
                },
                setRolloffFactor: function (e) {
                    return this.panner.rolloffFactor = e, this
                },
                getDistanceModel: function () {
                    return this.panner.distanceModel
                },
                setDistanceModel: function (e) {
                    return this.panner.distanceModel = e, this
                },
                getMaxDistance: function () {
                    return this.panner.maxDistance
                },
                setMaxDistance: function (e) {
                    return this.panner.maxDistance = e, this
                },
                setDirectionalCone: function (e, t, n) {
                    return this.panner.coneInnerAngle = e, this.panner.coneOuterAngle = t, this.panner.coneOuterGain = n, this
                },
                updateMatrixWorld: function (e) {
                    if (ci.prototype.updateMatrixWorld.call(this, e), !0 !== this.hasPlaybackControl || !1 !== this.isPlaying) {
                        this.matrixWorld.decompose(Lh, Oh, Rh), kh.set(0, 0, 1).applyQuaternion(Oh);
                        var t = this.panner;
                        if (t.positionX) {
                            var n = this.context.currentTime + this.listener.timeDelta;
                            t.positionX.linearRampToValueAtTime(Lh.x, n), t.positionY.linearRampToValueAtTime(Lh.y, n), t.positionZ.linearRampToValueAtTime(Lh.z, n), t.orientationX.linearRampToValueAtTime(kh.x, n), t.orientationY.linearRampToValueAtTime(kh.y, n), t.orientationZ.linearRampToValueAtTime(kh.z, n)
                        } else t.setPosition(Lh.x, Lh.y, Lh.z), t.setOrientation(kh.x, kh.y, kh.z)
                    }
                }
            }), Object.assign(Dh.prototype, {
                getFrequencyData: function () {
                    return this.analyser.getByteFrequencyData(this.data), this.data
                },
                getAverageFrequency: function () {
                    for (var e = 0, t = this.getFrequencyData(), n = 0; n < t.length; n++) e += t[n];
                    return e / t.length
                }
            }), Object.assign(Bh.prototype, {
                accumulate: function (e, t) {
                    var n = this.buffer,
                        i = this.valueSize,
                        r = e * i + i,
                        o = this.cumulativeWeight;
                    if (0 === o) {
                        for (var a = 0; a !== i; ++a) n[r + a] = n[a];
                        o = t
                    } else {
                        var s = t / (o += t);
                        this._mixBufferRegion(n, r, 0, s, i)
                    }
                    this.cumulativeWeight = o
                },
                apply: function (e) {
                    var t = this.valueSize,
                        n = this.buffer,
                        i = e * t + t,
                        r = this.cumulativeWeight,
                        o = this.binding;
                    if (this.cumulativeWeight = 0, r < 1) {
                        var a = 3 * t;
                        this._mixBufferRegion(n, i, a, 1 - r, t)
                    }
                    for (var s = t, l = t + t; s !== l; ++s)
                        if (n[s] !== n[s + t]) {
                            o.setValue(n, i);
                            break
                        }
                },
                saveOriginalState: function () {
                    var e = this.binding,
                        t = this.buffer,
                        n = this.valueSize,
                        i = 3 * n;
                    e.getValue(t, i);
                    for (var r = n, o = i; r !== o; ++r) t[r] = t[i + r % n];
                    this.cumulativeWeight = 0
                },
                restoreOriginalState: function () {
                    var e = 3 * this.valueSize;
                    this.binding.setValue(this.buffer, e)
                },
                _select: function (e, t, n, i, r) {
                    if (i >= .5)
                        for (var o = 0; o !== r; ++o) e[t + o] = e[n + o]
                },
                _slerp: function (e, t, n, i) {
                    In.slerpFlat(e, t, e, t, e, n, i)
                },
                _lerp: function (e, t, n, i, r) {
                    for (var o = 1 - i, a = 0; a !== r; ++a) {
                        var s = t + a;
                        e[s] = e[s] * o + e[n + a] * i
                    }
                }
            });
            var Nh = new RegExp("[\\[\\]\\.:\\/]", "g"),
                Gh = "[^" + "\\[\\]\\.:\\/".replace("\\.", "") + "]",
                jh = /((?:WC+[\/:])*)/.source.replace("WC", "[^\\[\\]\\.:\\/]"),
                Hh = /(WCOD+)?/.source.replace("WCOD", Gh),
                Fh = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC", "[^\\[\\]\\.:\\/]"),
                Uh = /\.(WC+)(?:\[(.+)\])?/.source.replace("WC", "[^\\[\\]\\.:\\/]"),
                zh = new RegExp("^" + jh + Hh + Fh + Uh + "$"),
                Vh = ["material", "materials", "bones"];

            function Wh(e, t, n) {
                var i = n || qh.parseTrackName(t);
                this._targetGroup = e, this._bindings = e.subscribe_(t, i)
            }

            function qh(e, t, n) {
                this.path = t, this.parsedPath = n || qh.parseTrackName(t), this.node = qh.findNode(e, this.parsedPath.nodeName) || e, this.rootNode = e
            }

            function Xh() {
                this.uuid = Mn.generateUUID(), this._objects = Array.prototype.slice.call(arguments), this.nCachedObjects_ = 0;
                var e = {};
                this._indicesByUUID = e;
                for (var t = 0, n = arguments.length; t !== n; ++t) e[arguments[t].uuid] = t;
                this._paths = [], this._parsedPaths = [], this._bindings = [], this._bindingsIndicesByPath = {};
                var i = this;
                this.stats = {
                    objects: {
                        get total() {
                            return i._objects.length
                        },
                        get inUse() {
                            return this.total - i.nCachedObjects_
                        }
                    },
                    get bindingsPerObject() {
                        return i._bindings.length
                    }
                }
            }

            function Yh(e, t, n) {
                this._mixer = e, this._clip = t, this._localRoot = n || null;
                for (var i = t.tracks, r = i.length, o = new Array(r), a = {
                        endingStart: Ot,
                        endingEnd: Ot
                    }, s = 0; s !== r; ++s) {
                    var l = i[s].createInterpolant(null);
                    o[s] = l, l.settings = a
                }
                this._interpolantSettings = a, this._interpolants = o, this._propertyBindings = new Array(r), this._cacheIndex = null, this._byClipCacheIndex = null, this._timeScaleInterpolant = null, this._weightInterpolant = null, this.loop = Et, this._loopCount = -1, this._startTime = null, this.time = 0, this.timeScale = 1, this._effectiveTimeScale = 1, this.weight = 1, this._effectiveWeight = 1, this.repetitions = 1 / 0, this.paused = !1, this.enabled = !0, this.clampWhenFinished = !1, this.zeroSlopeAtStart = !0, this.zeroSlopeAtEnd = !0
            }

            function Jh(e) {
                this._root = e, this._initMemoryManager(), this._accuIndex = 0, this.time = 0, this.timeScale = 1
            }

            function Kh(e) {
                "string" == typeof e && (console.warn("THREE.Uniform: Type parameter is no longer needed."), e = arguments[1]), this.value = e
            }

            function Zh(e, t, n) {
                bs.call(this, e, t), this.meshPerAttribute = n || 1
            }

            function $h(e, t, n, i) {
                this.ray = new Di(e, t), this.near = n || 0, this.far = i || 1 / 0, this.camera = null, this.params = {
                    Mesh: {},
                    Line: {},
                    LOD: {},
                    Points: {
                        threshold: 1
                    },
                    Sprite: {}
                }, Object.defineProperties(this.params, {
                    PointCloud: {
                        get: function () {
                            return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."), this.Points
                        }
                    }
                })
            }

            function Qh(e, t) {
                return e.distance - t.distance
            }

            function ed(e, t, n, i) {
                if (!1 !== e.visible && (e.raycast(t, n), !0 === i))
                    for (var r = e.children, o = 0, a = r.length; o < a; o++) ed(r[o], t, n, !0)
            }

            function td(e, t, n) {
                return this.radius = void 0 !== e ? e : 1, this.phi = void 0 !== t ? t : 0, this.theta = void 0 !== n ? n : 0, this
            }

            function nd(e, t, n) {
                return this.radius = void 0 !== e ? e : 1, this.theta = void 0 !== t ? t : 0, this.y = void 0 !== n ? n : 0, this
            }
            Object.assign(Wh.prototype, {
                getValue: function (e, t) {
                    this.bind();
                    var n = this._targetGroup.nCachedObjects_,
                        i = this._bindings[n];
                    void 0 !== i && i.getValue(e, t)
                },
                setValue: function (e, t) {
                    for (var n = this._bindings, i = this._targetGroup.nCachedObjects_, r = n.length; i !== r; ++i) n[i].setValue(e, t)
                },
                bind: function () {
                    for (var e = this._bindings, t = this._targetGroup.nCachedObjects_, n = e.length; t !== n; ++t) e[t].bind()
                },
                unbind: function () {
                    for (var e = this._bindings, t = this._targetGroup.nCachedObjects_, n = e.length; t !== n; ++t) e[t].unbind()
                }
            }), Object.assign(qh, {
                Composite: Wh,
                create: function (e, t, n) {
                    return e && e.isAnimationObjectGroup ? new qh.Composite(e, t, n) : new qh(e, t, n)
                },
                sanitizeNodeName: function (e) {
                    return e.replace(/\s/g, "_").replace(Nh, "")
                },
                parseTrackName: function (e) {
                    var t = zh.exec(e);
                    if (!t) throw new Error("PropertyBinding: Cannot parse trackName: " + e);
                    var n = {
                            nodeName: t[2],
                            objectName: t[3],
                            objectIndex: t[4],
                            propertyName: t[5],
                            propertyIndex: t[6]
                        },
                        i = n.nodeName && n.nodeName.lastIndexOf(".");
                    if (void 0 !== i && -1 !== i) {
                        var r = n.nodeName.substring(i + 1); - 1 !== Vh.indexOf(r) && (n.nodeName = n.nodeName.substring(0, i), n.objectName = r)
                    }
                    if (null === n.propertyName || 0 === n.propertyName.length) throw new Error("PropertyBinding: can not parse propertyName from trackName: " + e);
                    return n
                },
                findNode: function (e, t) {
                    if (!t || "" === t || "root" === t || "." === t || -1 === t || t === e.name || t === e.uuid) return e;
                    if (e.skeleton) {
                        var n = e.skeleton.getBoneByName(t);
                        if (void 0 !== n) return n
                    }
                    if (e.children) {
                        var i = function (e) {
                                for (var n = 0; n < e.length; n++) {
                                    var r = e[n];
                                    if (r.name === t || r.uuid === t) return r;
                                    var o = i(r.children);
                                    if (o) return o
                                }
                                return null
                            },
                            r = i(e.children);
                        if (r) return r
                    }
                    return null
                }
            }), Object.assign(qh.prototype, {
                _getValue_unavailable: function () {},
                _setValue_unavailable: function () {},
                BindingType: {
                    Direct: 0,
                    EntireArray: 1,
                    ArrayElement: 2,
                    HasFromToArray: 3
                },
                Versioning: {
                    None: 0,
                    NeedsUpdate: 1,
                    MatrixWorldNeedsUpdate: 2
                },
                GetterByBindingType: [function (e, t) {
                    e[t] = this.node[this.propertyName]
                }, function (e, t) {
                    for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i) e[t++] = n[i]
                }, function (e, t) {
                    e[t] = this.resolvedProperty[this.propertyIndex]
                }, function (e, t) {
                    this.resolvedProperty.toArray(e, t)
                }],
                SetterByBindingTypeAndVersioning: [
                    [function (e, t) {
                        this.targetObject[this.propertyName] = e[t]
                    }, function (e, t) {
                        this.targetObject[this.propertyName] = e[t], this.targetObject.needsUpdate = !0
                    }, function (e, t) {
                        this.targetObject[this.propertyName] = e[t], this.targetObject.matrixWorldNeedsUpdate = !0
                    }],
                    [function (e, t) {
                        for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i) n[i] = e[t++]
                    }, function (e, t) {
                        for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i) n[i] = e[t++];
                        this.targetObject.needsUpdate = !0
                    }, function (e, t) {
                        for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i) n[i] = e[t++];
                        this.targetObject.matrixWorldNeedsUpdate = !0
                    }],
                    [function (e, t) {
                        this.resolvedProperty[this.propertyIndex] = e[t]
                    }, function (e, t) {
                        this.resolvedProperty[this.propertyIndex] = e[t], this.targetObject.needsUpdate = !0
                    }, function (e, t) {
                        this.resolvedProperty[this.propertyIndex] = e[t], this.targetObject.matrixWorldNeedsUpdate = !0
                    }],
                    [function (e, t) {
                        this.resolvedProperty.fromArray(e, t)
                    }, function (e, t) {
                        this.resolvedProperty.fromArray(e, t), this.targetObject.needsUpdate = !0
                    }, function (e, t) {
                        this.resolvedProperty.fromArray(e, t), this.targetObject.matrixWorldNeedsUpdate = !0
                    }]
                ],
                getValue: function (e, t) {
                    this.bind(), this.getValue(e, t)
                },
                setValue: function (e, t) {
                    this.bind(), this.setValue(e, t)
                },
                bind: function () {
                    var e = this.node,
                        t = this.parsedPath,
                        n = t.objectName,
                        i = t.propertyName,
                        r = t.propertyIndex;
                    if (e || (e = qh.findNode(this.rootNode, t.nodeName) || this.rootNode, this.node = e), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, e) {
                        if (n) {
                            var o = t.objectIndex;
                            switch (n) {
                                case "materials":
                                    if (!e.material) return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
                                    if (!e.material.materials) return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.", this);
                                    e = e.material.materials;
                                    break;
                                case "bones":
                                    if (!e.skeleton) return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.", this);
                                    e = e.skeleton.bones;
                                    for (var a = 0; a < e.length; a++)
                                        if (e[a].name === o) {
                                            o = a;
                                            break
                                        } break;
                                default:
                                    if (void 0 === e[n]) return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.", this);
                                    e = e[n]
                            }
                            if (void 0 !== o) {
                                if (void 0 === e[o]) return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.", this, e);
                                e = e[o]
                            }
                        }
                        var s = e[i];
                        if (void 0 !== s) {
                            var l = this.Versioning.None;
                            this.targetObject = e, void 0 !== e.needsUpdate ? l = this.Versioning.NeedsUpdate : void 0 !== e.matrixWorldNeedsUpdate && (l = this.Versioning.MatrixWorldNeedsUpdate);
                            var c = this.BindingType.Direct;
                            if (void 0 !== r) {
                                if ("morphTargetInfluences" === i) {
                                    if (!e.geometry) return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.", this);
                                    if (e.geometry.isBufferGeometry) {
                                        if (!e.geometry.morphAttributes) return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.", this);
                                        for (a = 0; a < this.node.geometry.morphAttributes.position.length; a++)
                                            if (e.geometry.morphAttributes.position[a].name === r) {
                                                r = a;
                                                break
                                            }
                                    } else {
                                        if (!e.geometry.morphTargets) return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.", this);
                                        for (a = 0; a < this.node.geometry.morphTargets.length; a++)
                                            if (e.geometry.morphTargets[a].name === r) {
                                                r = a;
                                                break
                                            }
                                    }
                                }
                                c = this.BindingType.ArrayElement, this.resolvedProperty = s, this.propertyIndex = r
                            } else void 0 !== s.fromArray && void 0 !== s.toArray ? (c = this.BindingType.HasFromToArray, this.resolvedProperty = s) : Array.isArray(s) ? (c = this.BindingType.EntireArray, this.resolvedProperty = s) : this.propertyName = i;
                            this.getValue = this.GetterByBindingType[c], this.setValue = this.SetterByBindingTypeAndVersioning[c][l]
                        } else {
                            var u = t.nodeName;
                            console.error("THREE.PropertyBinding: Trying to update property for track: " + u + "." + i + " but it wasn't found.", e)
                        }
                    } else console.error("THREE.PropertyBinding: Trying to update node for track: " + this.path + " but it wasn't found.")
                },
                unbind: function () {
                    this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound
                }
            }), Object.assign(qh.prototype, {
                _getValue_unbound: qh.prototype.getValue,
                _setValue_unbound: qh.prototype.setValue
            }), Object.assign(Xh.prototype, {
                isAnimationObjectGroup: !0,
                add: function () {
                    for (var e = this._objects, t = e.length, n = this.nCachedObjects_, i = this._indicesByUUID, r = this._paths, o = this._parsedPaths, a = this._bindings, s = a.length, l = void 0, c = 0, u = arguments.length; c !== u; ++c) {
                        var h = arguments[c],
                            d = h.uuid,
                            p = i[d];
                        if (void 0 === p) {
                            p = t++, i[d] = p, e.push(h);
                            for (var f = 0, m = s; f !== m; ++f) a[f].push(new qh(h, r[f], o[f]))
                        } else if (p < n) {
                            l = e[p];
                            var v = --n,
                                g = e[v];
                            i[g.uuid] = p, e[p] = g, i[d] = v, e[v] = h;
                            for (f = 0, m = s; f !== m; ++f) {
                                var y = a[f],
                                    _ = y[v],
                                    b = y[p];
                                y[p] = _, void 0 === b && (b = new qh(h, r[f], o[f])), y[v] = b
                            }
                        } else e[p] !== l && console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")
                    }
                    this.nCachedObjects_ = n
                },
                remove: function () {
                    for (var e = this._objects, t = this.nCachedObjects_, n = this._indicesByUUID, i = this._bindings, r = i.length, o = 0, a = arguments.length; o !== a; ++o) {
                        var s = arguments[o],
                            l = s.uuid,
                            c = n[l];
                        if (void 0 !== c && c >= t) {
                            var u = t++,
                                h = e[u];
                            n[h.uuid] = c, e[c] = h, n[l] = u, e[u] = s;
                            for (var d = 0, p = r; d !== p; ++d) {
                                var f = i[d],
                                    m = f[u],
                                    v = f[c];
                                f[c] = m, f[u] = v
                            }
                        }
                    }
                    this.nCachedObjects_ = t
                },
                uncache: function () {
                    for (var e = this._objects, t = e.length, n = this.nCachedObjects_, i = this._indicesByUUID, r = this._bindings, o = r.length, a = 0, s = arguments.length; a !== s; ++a) {
                        var l = arguments[a],
                            c = l.uuid,
                            u = i[c];
                        if (void 0 !== u)
                            if (delete i[c], u < n) {
                                var h = --n,
                                    d = e[h],
                                    p = e[y = --t];
                                i[d.uuid] = u, e[u] = d, i[p.uuid] = h, e[h] = p, e.pop();
                                for (var f = 0, m = o; f !== m; ++f) {
                                    var v = (_ = r[f])[h],
                                        g = _[y];
                                    _[u] = v, _[h] = g, _.pop()
                                }
                            } else {
                                var y;
                                i[(p = e[y = --t]).uuid] = u, e[u] = p, e.pop();
                                for (f = 0, m = o; f !== m; ++f) {
                                    var _;
                                    (_ = r[f])[u] = _[y], _.pop()
                                }
                            }
                    }
                    this.nCachedObjects_ = n
                },
                subscribe_: function (e, t) {
                    var n = this._bindingsIndicesByPath,
                        i = n[e],
                        r = this._bindings;
                    if (void 0 !== i) return r[i];
                    var o = this._paths,
                        a = this._parsedPaths,
                        s = this._objects,
                        l = s.length,
                        c = this.nCachedObjects_,
                        u = new Array(l);
                    i = r.length, n[e] = i, o.push(e), a.push(t), r.push(u);
                    for (var h = c, d = s.length; h !== d; ++h) {
                        var p = s[h];
                        u[h] = new qh(p, e, t)
                    }
                    return u
                },
                unsubscribe_: function (e) {
                    var t = this._bindingsIndicesByPath,
                        n = t[e];
                    if (void 0 !== n) {
                        var i = this._paths,
                            r = this._parsedPaths,
                            o = this._bindings,
                            a = o.length - 1,
                            s = o[a];
                        t[e[a]] = n, o[n] = s, o.pop(), r[n] = r[a], r.pop(), i[n] = i[a], i.pop()
                    }
                }
            }), Object.assign(Yh.prototype, {
                play: function () {
                    return this._mixer._activateAction(this), this
                },
                stop: function () {
                    return this._mixer._deactivateAction(this), this.reset()
                },
                reset: function () {
                    return this.paused = !1, this.enabled = !0, this.time = 0, this._loopCount = -1, this._startTime = null, this.stopFading().stopWarping()
                },
                isRunning: function () {
                    return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
                },
                isScheduled: function () {
                    return this._mixer._isActiveAction(this)
                },
                startAt: function (e) {
                    return this._startTime = e, this
                },
                setLoop: function (e, t) {
                    return this.loop = e, this.repetitions = t, this
                },
                setEffectiveWeight: function (e) {
                    return this.weight = e, this._effectiveWeight = this.enabled ? e : 0, this.stopFading()
                },
                getEffectiveWeight: function () {
                    return this._effectiveWeight
                },
                fadeIn: function (e) {
                    return this._scheduleFading(e, 0, 1)
                },
                fadeOut: function (e) {
                    return this._scheduleFading(e, 1, 0)
                },
                crossFadeFrom: function (e, t, n) {
                    if (e.fadeOut(t), this.fadeIn(t), n) {
                        var i = this._clip.duration,
                            r = e._clip.duration,
                            o = r / i,
                            a = i / r;
                        e.warp(1, o, t), this.warp(a, 1, t)
                    }
                    return this
                },
                crossFadeTo: function (e, t, n) {
                    return e.crossFadeFrom(this, t, n)
                },
                stopFading: function () {
                    var e = this._weightInterpolant;
                    return null !== e && (this._weightInterpolant = null, this._mixer._takeBackControlInterpolant(e)), this
                },
                setEffectiveTimeScale: function (e) {
                    return this.timeScale = e, this._effectiveTimeScale = this.paused ? 0 : e, this.stopWarping()
                },
                getEffectiveTimeScale: function () {
                    return this._effectiveTimeScale
                },
                setDuration: function (e) {
                    return this.timeScale = this._clip.duration / e, this.stopWarping()
                },
                syncWith: function (e) {
                    return this.time = e.time, this.timeScale = e.timeScale, this.stopWarping()
                },
                halt: function (e) {
                    return this.warp(this._effectiveTimeScale, 0, e)
                },
                warp: function (e, t, n) {
                    var i = this._mixer,
                        r = i.time,
                        o = this._timeScaleInterpolant,
                        a = this.timeScale;
                    null === o && (o = i._lendControlInterpolant(), this._timeScaleInterpolant = o);
                    var s = o.parameterPositions,
                        l = o.sampleValues;
                    return s[0] = r, s[1] = r + n, l[0] = e / a, l[1] = t / a, this
                },
                stopWarping: function () {
                    var e = this._timeScaleInterpolant;
                    return null !== e && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(e)), this
                },
                getMixer: function () {
                    return this._mixer
                },
                getClip: function () {
                    return this._clip
                },
                getRoot: function () {
                    return this._localRoot || this._mixer._root
                },
                _update: function (e, t, n, i) {
                    if (this.enabled) {
                        var r = this._startTime;
                        if (null !== r) {
                            var o = (e - r) * n;
                            if (o < 0 || 0 === n) return;
                            this._startTime = null, t = n * o
                        }
                        t *= this._updateTimeScale(e);
                        var a = this._updateTime(t),
                            s = this._updateWeight(e);
                        if (s > 0)
                            for (var l = this._interpolants, c = this._propertyBindings, u = 0, h = l.length; u !== h; ++u) l[u].evaluate(a), c[u].accumulate(i, s)
                    } else this._updateWeight(e)
                },
                _updateWeight: function (e) {
                    var t = 0;
                    if (this.enabled) {
                        t = this.weight;
                        var n = this._weightInterpolant;
                        if (null !== n) {
                            var i = n.evaluate(e)[0];
                            t *= i, e > n.parameterPositions[1] && (this.stopFading(), 0 === i && (this.enabled = !1))
                        }
                    }
                    return this._effectiveWeight = t, t
                },
                _updateTimeScale: function (e) {
                    var t = 0;
                    if (!this.paused) {
                        t = this.timeScale;
                        var n = this._timeScaleInterpolant;
                        if (null !== n) t *= n.evaluate(e)[0], e > n.parameterPositions[1] && (this.stopWarping(), 0 === t ? this.paused = !0 : this.timeScale = t)
                    }
                    return this._effectiveTimeScale = t, t
                },
                _updateTime: function (e) {
                    var t = this.time + e,
                        n = this._clip.duration,
                        i = this.loop,
                        r = this._loopCount,
                        o = i === At;
                    if (0 === e) return -1 === r ? t : o && 1 == (1 & r) ? n - t : t;
                    if (i === Mt) {
                        -1 === r && (this._loopCount = 0, this._setEndings(!0, !0, !1));
                        e: {
                            if (t >= n) t = n;
                            else {
                                if (!(t < 0)) {
                                    this.time = t;
                                    break e
                                }
                                t = 0
                            }
                            this.clampWhenFinished ? this.paused = !0 : this.enabled = !1,
                            this.time = t,
                            this._mixer.dispatchEvent({
                                type: "finished",
                                action: this,
                                direction: e < 0 ? -1 : 1
                            })
                        }
                    } else {
                        if (-1 === r && (e >= 0 ? (r = 0, this._setEndings(!0, 0 === this.repetitions, o)) : this._setEndings(0 === this.repetitions, !0, o)), t >= n || t < 0) {
                            var a = Math.floor(t / n);
                            t -= n * a, r += Math.abs(a);
                            var s = this.repetitions - r;
                            if (s <= 0) this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, t = e > 0 ? n : 0, this.time = t, this._mixer.dispatchEvent({
                                type: "finished",
                                action: this,
                                direction: e > 0 ? 1 : -1
                            });
                            else {
                                if (1 === s) {
                                    var l = e < 0;
                                    this._setEndings(l, !l, o)
                                } else this._setEndings(!1, !1, o);
                                this._loopCount = r, this.time = t, this._mixer.dispatchEvent({
                                    type: "loop",
                                    action: this,
                                    loopDelta: a
                                })
                            }
                        } else this.time = t;
                        if (o && 1 == (1 & r)) return n - t
                    }
                    return t
                },
                _setEndings: function (e, t, n) {
                    var i = this._interpolantSettings;
                    n ? (i.endingStart = Rt, i.endingEnd = Rt) : (i.endingStart = e ? this.zeroSlopeAtStart ? Rt : Ot : kt, i.endingEnd = t ? this.zeroSlopeAtEnd ? Rt : Ot : kt)
                },
                _scheduleFading: function (e, t, n) {
                    var i = this._mixer,
                        r = i.time,
                        o = this._weightInterpolant;
                    null === o && (o = i._lendControlInterpolant(), this._weightInterpolant = o);
                    var a = o.parameterPositions,
                        s = o.sampleValues;
                    return a[0] = r, s[0] = t, a[1] = r + e, s[1] = n, this
                }
            }), Jh.prototype = Object.assign(Object.create(wn.prototype), {
                constructor: Jh,
                _bindAction: function (e, t) {
                    var n = e._localRoot || this._root,
                        i = e._clip.tracks,
                        r = i.length,
                        o = e._propertyBindings,
                        a = e._interpolants,
                        s = n.uuid,
                        l = this._bindingsByRootAndName,
                        c = l[s];
                    void 0 === c && (c = {}, l[s] = c);
                    for (var u = 0; u !== r; ++u) {
                        var h = i[u],
                            d = h.name,
                            p = c[d];
                        if (void 0 !== p) o[u] = p;
                        else {
                            if (void 0 !== (p = o[u])) {
                                null === p._cacheIndex && (++p.referenceCount, this._addInactiveBinding(p, s, d));
                                continue
                            }
                            var f = t && t._propertyBindings[u].binding.parsedPath;
                            ++(p = new Bh(qh.create(n, d, f), h.ValueTypeName, h.getValueSize())).referenceCount, this._addInactiveBinding(p, s, d), o[u] = p
                        }
                        a[u].resultBuffer = p.buffer
                    }
                },
                _activateAction: function (e) {
                    if (!this._isActiveAction(e)) {
                        if (null === e._cacheIndex) {
                            var t = (e._localRoot || this._root).uuid,
                                n = e._clip.uuid,
                                i = this._actionsByClip[n];
                            this._bindAction(e, i && i.knownActions[0]), this._addInactiveAction(e, n, t)
                        }
                        for (var r = e._propertyBindings, o = 0, a = r.length; o !== a; ++o) {
                            var s = r[o];
                            0 == s.useCount++ && (this._lendBinding(s), s.saveOriginalState())
                        }
                        this._lendAction(e)
                    }
                },
                _deactivateAction: function (e) {
                    if (this._isActiveAction(e)) {
                        for (var t = e._propertyBindings, n = 0, i = t.length; n !== i; ++n) {
                            var r = t[n];
                            0 == --r.useCount && (r.restoreOriginalState(), this._takeBackBinding(r))
                        }
                        this._takeBackAction(e)
                    }
                },
                _initMemoryManager: function () {
                    this._actions = [], this._nActiveActions = 0, this._actionsByClip = {}, this._bindings = [], this._nActiveBindings = 0, this._bindingsByRootAndName = {}, this._controlInterpolants = [], this._nActiveControlInterpolants = 0;
                    var e = this;
                    this.stats = {
                        actions: {
                            get total() {
                                return e._actions.length
                            },
                            get inUse() {
                                return e._nActiveActions
                            }
                        },
                        bindings: {
                            get total() {
                                return e._bindings.length
                            },
                            get inUse() {
                                return e._nActiveBindings
                            }
                        },
                        controlInterpolants: {
                            get total() {
                                return e._controlInterpolants.length
                            },
                            get inUse() {
                                return e._nActiveControlInterpolants
                            }
                        }
                    }
                },
                _isActiveAction: function (e) {
                    var t = e._cacheIndex;
                    return null !== t && t < this._nActiveActions
                },
                _addInactiveAction: function (e, t, n) {
                    var i = this._actions,
                        r = this._actionsByClip,
                        o = r[t];
                    if (void 0 === o) o = {
                        knownActions: [e],
                        actionByRoot: {}
                    }, e._byClipCacheIndex = 0, r[t] = o;
                    else {
                        var a = o.knownActions;
                        e._byClipCacheIndex = a.length, a.push(e)
                    }
                    e._cacheIndex = i.length, i.push(e), o.actionByRoot[n] = e
                },
                _removeInactiveAction: function (e) {
                    var t = this._actions,
                        n = t[t.length - 1],
                        i = e._cacheIndex;
                    n._cacheIndex = i, t[i] = n, t.pop(), e._cacheIndex = null;
                    var r = e._clip.uuid,
                        o = this._actionsByClip,
                        a = o[r],
                        s = a.knownActions,
                        l = s[s.length - 1],
                        c = e._byClipCacheIndex;
                    l._byClipCacheIndex = c, s[c] = l, s.pop(), e._byClipCacheIndex = null, delete a.actionByRoot[(e._localRoot || this._root).uuid], 0 === s.length && delete o[r], this._removeInactiveBindingsForAction(e)
                },
                _removeInactiveBindingsForAction: function (e) {
                    for (var t = e._propertyBindings, n = 0, i = t.length; n !== i; ++n) {
                        var r = t[n];
                        0 == --r.referenceCount && this._removeInactiveBinding(r)
                    }
                },
                _lendAction: function (e) {
                    var t = this._actions,
                        n = e._cacheIndex,
                        i = this._nActiveActions++,
                        r = t[i];
                    e._cacheIndex = i, t[i] = e, r._cacheIndex = n, t[n] = r
                },
                _takeBackAction: function (e) {
                    var t = this._actions,
                        n = e._cacheIndex,
                        i = --this._nActiveActions,
                        r = t[i];
                    e._cacheIndex = i, t[i] = e, r._cacheIndex = n, t[n] = r
                },
                _addInactiveBinding: function (e, t, n) {
                    var i = this._bindingsByRootAndName,
                        r = i[t],
                        o = this._bindings;
                    void 0 === r && (r = {}, i[t] = r), r[n] = e, e._cacheIndex = o.length, o.push(e)
                },
                _removeInactiveBinding: function (e) {
                    var t = this._bindings,
                        n = e.binding,
                        i = n.rootNode.uuid,
                        r = n.path,
                        o = this._bindingsByRootAndName,
                        a = o[i],
                        s = t[t.length - 1],
                        l = e._cacheIndex;
                    s._cacheIndex = l, t[l] = s, t.pop(), delete a[r], 0 === Object.keys(a).length && delete o[i]
                },
                _lendBinding: function (e) {
                    var t = this._bindings,
                        n = e._cacheIndex,
                        i = this._nActiveBindings++,
                        r = t[i];
                    e._cacheIndex = i, t[i] = e, r._cacheIndex = n, t[n] = r
                },
                _takeBackBinding: function (e) {
                    var t = this._bindings,
                        n = e._cacheIndex,
                        i = --this._nActiveBindings,
                        r = t[i];
                    e._cacheIndex = i, t[i] = e, r._cacheIndex = n, t[n] = r
                },
                _lendControlInterpolant: function () {
                    var e = this._controlInterpolants,
                        t = this._nActiveControlInterpolants++,
                        n = e[t];
                    return void 0 === n && ((n = new Xc(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer)).__cacheIndex = t, e[t] = n), n
                },
                _takeBackControlInterpolant: function (e) {
                    var t = this._controlInterpolants,
                        n = e.__cacheIndex,
                        i = --this._nActiveControlInterpolants,
                        r = t[i];
                    e.__cacheIndex = i, t[i] = e, r.__cacheIndex = n, t[n] = r
                },
                _controlInterpolantsResultBuffer: new Float32Array(1),
                clipAction: function (e, t) {
                    var n = t || this._root,
                        i = n.uuid,
                        r = "string" == typeof e ? iu.findByName(n, e) : e,
                        o = null !== r ? r.uuid : e,
                        a = this._actionsByClip[o],
                        s = null;
                    if (void 0 !== a) {
                        var l = a.actionByRoot[i];
                        if (void 0 !== l) return l;
                        s = a.knownActions[0], null === r && (r = s._clip)
                    }
                    if (null === r) return null;
                    var c = new Yh(this, r, t);
                    return this._bindAction(c, s), this._addInactiveAction(c, o, i), c
                },
                existingAction: function (e, t) {
                    var n = t || this._root,
                        i = n.uuid,
                        r = "string" == typeof e ? iu.findByName(n, e) : e,
                        o = r ? r.uuid : e,
                        a = this._actionsByClip[o];
                    return void 0 !== a && a.actionByRoot[i] || null
                },
                stopAllAction: function () {
                    var e = this._actions,
                        t = this._nActiveActions,
                        n = this._bindings,
                        i = this._nActiveBindings;
                    this._nActiveActions = 0, this._nActiveBindings = 0;
                    for (var r = 0; r !== t; ++r) e[r].reset();
                    for (r = 0; r !== i; ++r) n[r].useCount = 0;
                    return this
                },
                update: function (e) {
                    e *= this.timeScale;
                    for (var t = this._actions, n = this._nActiveActions, i = this.time += e, r = Math.sign(e), o = this._accuIndex ^= 1, a = 0; a !== n; ++a) {
                        t[a]._update(i, e, r, o)
                    }
                    var s = this._bindings,
                        l = this._nActiveBindings;
                    for (a = 0; a !== l; ++a) s[a].apply(o);
                    return this
                },
                setTime: function (e) {
                    this.time = 0;
                    for (var t = 0; t < this._actions.length; t++) this._actions[t].time = 0;
                    return this.update(e)
                },
                getRoot: function () {
                    return this._root
                },
                uncacheClip: function (e) {
                    var t = this._actions,
                        n = e.uuid,
                        i = this._actionsByClip,
                        r = i[n];
                    if (void 0 !== r) {
                        for (var o = r.knownActions, a = 0, s = o.length; a !== s; ++a) {
                            var l = o[a];
                            this._deactivateAction(l);
                            var c = l._cacheIndex,
                                u = t[t.length - 1];
                            l._cacheIndex = null, l._byClipCacheIndex = null, u._cacheIndex = c, t[c] = u, t.pop(), this._removeInactiveBindingsForAction(l)
                        }
                        delete i[n]
                    }
                },
                uncacheRoot: function (e) {
                    var t = e.uuid,
                        n = this._actionsByClip;
                    for (var i in n) {
                        var r = n[i].actionByRoot[t];
                        void 0 !== r && (this._deactivateAction(r), this._removeInactiveAction(r))
                    }
                    var o = this._bindingsByRootAndName[t];
                    if (void 0 !== o)
                        for (var a in o) {
                            var s = o[a];
                            s.restoreOriginalState(), this._removeInactiveBinding(s)
                        }
                },
                uncacheAction: function (e, t) {
                    var n = this.existingAction(e, t);
                    null !== n && (this._deactivateAction(n), this._removeInactiveAction(n))
                }
            }), Kh.prototype.clone = function () {
                return new Kh(void 0 === this.value.clone ? this.value : this.value.clone())
            }, Zh.prototype = Object.assign(Object.create(bs.prototype), {
                constructor: Zh,
                isInstancedInterleavedBuffer: !0,
                copy: function (e) {
                    return bs.prototype.copy.call(this, e), this.meshPerAttribute = e.meshPerAttribute, this
                }
            }), Object.assign($h.prototype, {
                linePrecision: 1,
                set: function (e, t) {
                    this.ray.set(e, t)
                },
                setFromCamera: function (e, t) {
                    t && t.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(t.matrixWorld), this.ray.direction.set(e.x, e.y, .5).unproject(t).sub(this.ray.origin).normalize(), this.camera = t) : t && t.isOrthographicCamera ? (this.ray.origin.set(e.x, e.y, (t.near + t.far) / (t.near - t.far)).unproject(t), this.ray.direction.set(0, 0, -1).transformDirection(t.matrixWorld), this.camera = t) : console.error("THREE.Raycaster: Unsupported camera type.")
                },
                intersectObject: function (e, t, n) {
                    var i = n || [];
                    return ed(e, this, i, t), i.sort(Qh), i
                },
                intersectObjects: function (e, t, n) {
                    var i = n || [];
                    if (!1 === Array.isArray(e)) return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."), i;
                    for (var r = 0, o = e.length; r < o; r++) ed(e[r], this, i, t);
                    return i.sort(Qh), i
                }
            }), Object.assign(td.prototype, {
                set: function (e, t, n) {
                    return this.radius = e, this.phi = t, this.theta = n, this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.radius = e.radius, this.phi = e.phi, this.theta = e.theta, this
                },
                makeSafe: function () {
                    return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)), this
                },
                setFromVector3: function (e) {
                    return this.setFromCartesianCoords(e.x, e.y, e.z)
                },
                setFromCartesianCoords: function (e, t, n) {
                    return this.radius = Math.sqrt(e * e + t * t + n * n), 0 === this.radius ? (this.theta = 0, this.phi = 0) : (this.theta = Math.atan2(e, n), this.phi = Math.acos(Mn.clamp(t / this.radius, -1, 1))), this
                }
            }), Object.assign(nd.prototype, {
                set: function (e, t, n) {
                    return this.radius = e, this.theta = t, this.y = n, this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.radius = e.radius, this.theta = e.theta, this.y = e.y, this
                },
                setFromVector3: function (e) {
                    return this.setFromCartesianCoords(e.x, e.y, e.z)
                },
                setFromCartesianCoords: function (e, t, n) {
                    return this.radius = Math.sqrt(e * e + n * n), this.theta = Math.atan2(e, n), this.y = t, this
                }
            });
            var id = new En;

            function rd(e, t) {
                this.min = void 0 !== e ? e : new En(1 / 0, 1 / 0), this.max = void 0 !== t ? t : new En(-1 / 0, -1 / 0)
            }
            Object.assign(rd.prototype, {
                set: function (e, t) {
                    return this.min.copy(e), this.max.copy(t), this
                },
                setFromPoints: function (e) {
                    this.makeEmpty();
                    for (var t = 0, n = e.length; t < n; t++) this.expandByPoint(e[t]);
                    return this
                },
                setFromCenterAndSize: function (e, t) {
                    var n = id.copy(t).multiplyScalar(.5);
                    return this.min.copy(e).sub(n), this.max.copy(e).add(n), this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.min.copy(e.min), this.max.copy(e.max), this
                },
                makeEmpty: function () {
                    return this.min.x = this.min.y = 1 / 0, this.max.x = this.max.y = -1 / 0, this
                },
                isEmpty: function () {
                    return this.max.x < this.min.x || this.max.y < this.min.y
                },
                getCenter: function (e) {
                    return void 0 === e && (console.warn("THREE.Box2: .getCenter() target is now required"), e = new En), this.isEmpty() ? e.set(0, 0) : e.addVectors(this.min, this.max).multiplyScalar(.5)
                },
                getSize: function (e) {
                    return void 0 === e && (console.warn("THREE.Box2: .getSize() target is now required"), e = new En), this.isEmpty() ? e.set(0, 0) : e.subVectors(this.max, this.min)
                },
                expandByPoint: function (e) {
                    return this.min.min(e), this.max.max(e), this
                },
                expandByVector: function (e) {
                    return this.min.sub(e), this.max.add(e), this
                },
                expandByScalar: function (e) {
                    return this.min.addScalar(-e), this.max.addScalar(e), this
                },
                containsPoint: function (e) {
                    return !(e.x < this.min.x || e.x > this.max.x || e.y < this.min.y || e.y > this.max.y)
                },
                containsBox: function (e) {
                    return this.min.x <= e.min.x && e.max.x <= this.max.x && this.min.y <= e.min.y && e.max.y <= this.max.y
                },
                getParameter: function (e, t) {
                    return void 0 === t && (console.warn("THREE.Box2: .getParameter() target is now required"), t = new En), t.set((e.x - this.min.x) / (this.max.x - this.min.x), (e.y - this.min.y) / (this.max.y - this.min.y))
                },
                intersectsBox: function (e) {
                    return !(e.max.x < this.min.x || e.min.x > this.max.x || e.max.y < this.min.y || e.min.y > this.max.y)
                },
                clampPoint: function (e, t) {
                    return void 0 === t && (console.warn("THREE.Box2: .clampPoint() target is now required"), t = new En), t.copy(e).clamp(this.min, this.max)
                },
                distanceToPoint: function (e) {
                    return id.copy(e).clamp(this.min, this.max).sub(e).length()
                },
                intersect: function (e) {
                    return this.min.max(e.min), this.max.min(e.max), this
                },
                union: function (e) {
                    return this.min.min(e.min), this.max.max(e.max), this
                },
                translate: function (e) {
                    return this.min.add(e), this.max.add(e), this
                },
                equals: function (e) {
                    return e.min.equals(this.min) && e.max.equals(this.max)
                }
            });
            var od = new Nn,
                ad = new Nn;

            function sd(e, t) {
                this.start = void 0 !== e ? e : new Nn, this.end = void 0 !== t ? t : new Nn
            }

            function ld(e) {
                ci.call(this), this.material = e, this.render = function () {}
            }
            Object.assign(sd.prototype, {
                set: function (e, t) {
                    return this.start.copy(e), this.end.copy(t), this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (e) {
                    return this.start.copy(e.start), this.end.copy(e.end), this
                },
                getCenter: function (e) {
                    return void 0 === e && (console.warn("THREE.Line3: .getCenter() target is now required"), e = new Nn), e.addVectors(this.start, this.end).multiplyScalar(.5)
                },
                delta: function (e) {
                    return void 0 === e && (console.warn("THREE.Line3: .delta() target is now required"), e = new Nn), e.subVectors(this.end, this.start)
                },
                distanceSq: function () {
                    return this.start.distanceToSquared(this.end)
                },
                distance: function () {
                    return this.start.distanceTo(this.end)
                },
                at: function (e, t) {
                    return void 0 === t && (console.warn("THREE.Line3: .at() target is now required"), t = new Nn), this.delta(t).multiplyScalar(e).add(this.start)
                },
                closestPointToPointParameter: function (e, t) {
                    od.subVectors(e, this.start), ad.subVectors(this.end, this.start);
                    var n = ad.dot(ad),
                        i = ad.dot(od) / n;
                    return t && (i = Mn.clamp(i, 0, 1)), i
                },
                closestPointToPoint: function (e, t, n) {
                    var i = this.closestPointToPointParameter(e, t);
                    return void 0 === n && (console.warn("THREE.Line3: .closestPointToPoint() target is now required"), n = new Nn), this.delta(n).multiplyScalar(i).add(this.start)
                },
                applyMatrix4: function (e) {
                    return this.start.applyMatrix4(e), this.end.applyMatrix4(e), this
                },
                equals: function (e) {
                    return e.start.equals(this.start) && e.end.equals(this.end)
                }
            }), ld.prototype = Object.create(ci.prototype), ld.prototype.constructor = ld, ld.prototype.isImmediateRenderObject = !0;
            var cd = new Nn;

            function ud(e, t) {
                ci.call(this), this.light = e, this.light.updateMatrixWorld(), this.matrix = e.matrixWorld, this.matrixAutoUpdate = !1, this.color = t;
                for (var n = new Pr, i = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], r = 0, o = 1; r < 32; r++, o++) {
                    var a = r / 32 * Math.PI * 2,
                        s = o / 32 * Math.PI * 2;
                    i.push(Math.cos(a), Math.sin(a), 1, Math.cos(s), Math.sin(s), 1)
                }
                n.setAttribute("position", new gr(i, 3));
                var l = new $s({
                    fog: !1
                });
                this.cone = new sl(n, l), this.add(this.cone), this.update()
            }
            ud.prototype = Object.create(ci.prototype), ud.prototype.constructor = ud, ud.prototype.dispose = function () {
                this.cone.geometry.dispose(), this.cone.material.dispose()
            }, ud.prototype.update = function () {
                this.light.updateMatrixWorld();
                var e = this.light.distance ? this.light.distance : 1e3,
                    t = e * Math.tan(this.light.angle);
                this.cone.scale.set(t, t, e), cd.setFromMatrixPosition(this.light.target.matrixWorld), this.cone.lookAt(cd), void 0 !== this.color ? this.cone.material.color.set(this.color) : this.cone.material.color.copy(this.light.color)
            };
            var hd = new Nn,
                dd = new Wn,
                pd = new Wn;

            function fd(e) {
                for (var t = function e(t) {
                        var n = [];
                        t && t.isBone && n.push(t);
                        for (var i = 0; i < t.children.length; i++) n.push.apply(n, e(t.children[i]));
                        return n
                    }(e), n = new Pr, i = [], r = [], o = new er(0, 0, 1), a = new er(0, 1, 0), s = 0; s < t.length; s++) {
                    var l = t[s];
                    l.parent && l.parent.isBone && (i.push(0, 0, 0), i.push(0, 0, 0), r.push(o.r, o.g, o.b), r.push(a.r, a.g, a.b))
                }
                n.setAttribute("position", new gr(i, 3)), n.setAttribute("color", new gr(r, 3));
                var c = new $s({
                    vertexColors: T,
                    depthTest: !1,
                    depthWrite: !1,
                    transparent: !0
                });
                sl.call(this, n, c), this.root = e, this.bones = t, this.matrix = e.matrixWorld, this.matrixAutoUpdate = !1
            }

            function md(e, t, n) {
                this.light = e, this.light.updateMatrixWorld(), this.color = n;
                var i = new gc(t, 4, 2),
                    r = new sr({
                        wireframe: !0,
                        fog: !1
                    });
                qr.call(this, i, r), this.matrix = this.light.matrixWorld, this.matrixAutoUpdate = !1, this.update()
            }
            fd.prototype = Object.create(sl.prototype), fd.prototype.constructor = fd, fd.prototype.updateMatrixWorld = function (e) {
                var t = this.bones,
                    n = this.geometry,
                    i = n.getAttribute("position");
                pd.getInverse(this.root.matrixWorld);
                for (var r = 0, o = 0; r < t.length; r++) {
                    var a = t[r];
                    a.parent && a.parent.isBone && (dd.multiplyMatrices(pd, a.matrixWorld), hd.setFromMatrixPosition(dd), i.setXYZ(o, hd.x, hd.y, hd.z), dd.multiplyMatrices(pd, a.parent.matrixWorld), hd.setFromMatrixPosition(dd), i.setXYZ(o + 1, hd.x, hd.y, hd.z), o += 2)
                }
                n.getAttribute("position").needsUpdate = !0, ci.prototype.updateMatrixWorld.call(this, e)
            }, md.prototype = Object.create(qr.prototype), md.prototype.constructor = md, md.prototype.dispose = function () {
                this.geometry.dispose(), this.material.dispose()
            }, md.prototype.update = function () {
                void 0 !== this.color ? this.material.color.set(this.color) : this.material.color.copy(this.light.color)
            };
            var vd = new Nn,
                gd = new er,
                yd = new er;

            function _d(e, t, n) {
                ci.call(this), this.light = e, this.light.updateMatrixWorld(), this.matrix = e.matrixWorld, this.matrixAutoUpdate = !1, this.color = n;
                var i = new Pl(t);
                i.rotateY(.5 * Math.PI), this.material = new sr({
                    wireframe: !0,
                    fog: !1
                }), void 0 === this.color && (this.material.vertexColors = T);
                var r = i.getAttribute("position"),
                    o = new Float32Array(3 * r.count);
                i.setAttribute("color", new cr(o, 3)), this.add(new qr(i, this.material)), this.update()
            }

            function bd(e, t, n, i) {
                e = e || 10, t = t || 10, n = new er(void 0 !== n ? n : 4473924), i = new er(void 0 !== i ? i : 8947848);
                for (var r = t / 2, o = e / t, a = e / 2, s = [], l = [], c = 0, u = 0, h = -a; c <= t; c++, h += o) {
                    s.push(-a, 0, h, a, 0, h), s.push(h, 0, -a, h, 0, a);
                    var d = c === r ? n : i;
                    d.toArray(l, u), u += 3, d.toArray(l, u), u += 3, d.toArray(l, u), u += 3, d.toArray(l, u), u += 3
                }
                var p = new Pr;
                p.setAttribute("position", new gr(s, 3)), p.setAttribute("color", new gr(l, 3));
                var f = new $s({
                    vertexColors: T
                });
                sl.call(this, p, f)
            }

            function wd(e, t, n, i, r, o) {
                e = e || 10, t = t || 16, n = n || 8, i = i || 64, r = new er(void 0 !== r ? r : 4473924), o = new er(void 0 !== o ? o : 8947848);
                var a, s, l, c, u, h, d, p = [],
                    f = [];
                for (c = 0; c <= t; c++) l = c / t * (2 * Math.PI), a = Math.sin(l) * e, s = Math.cos(l) * e, p.push(0, 0, 0), p.push(a, 0, s), d = 1 & c ? r : o, f.push(d.r, d.g, d.b), f.push(d.r, d.g, d.b);
                for (c = 0; c <= n; c++)
                    for (d = 1 & c ? r : o, h = e - e / n * c, u = 0; u < i; u++) l = u / i * (2 * Math.PI), a = Math.sin(l) * h, s = Math.cos(l) * h, p.push(a, 0, s), f.push(d.r, d.g, d.b), l = (u + 1) / i * (2 * Math.PI), a = Math.sin(l) * h, s = Math.cos(l) * h, p.push(a, 0, s), f.push(d.r, d.g, d.b);
                var m = new Pr;
                m.setAttribute("position", new gr(p, 3)), m.setAttribute("color", new gr(f, 3));
                var v = new $s({
                    vertexColors: T
                });
                sl.call(this, m, v)
            }
            _d.prototype = Object.create(ci.prototype), _d.prototype.constructor = _d, _d.prototype.dispose = function () {
                this.children[0].geometry.dispose(), this.children[0].material.dispose()
            }, _d.prototype.update = function () {
                var e = this.children[0];
                if (void 0 !== this.color) this.material.color.set(this.color);
                else {
                    var t = e.geometry.getAttribute("color");
                    gd.copy(this.light.color), yd.copy(this.light.groundColor);
                    for (var n = 0, i = t.count; n < i; n++) {
                        var r = n < i / 2 ? gd : yd;
                        t.setXYZ(n, r.r, r.g, r.b)
                    }
                    t.needsUpdate = !0
                }
                e.lookAt(vd.setFromMatrixPosition(this.light.matrixWorld).negate())
            }, bd.prototype = Object.assign(Object.create(sl.prototype), {
                constructor: bd,
                copy: function (e) {
                    return sl.prototype.copy.call(this, e), this.geometry.copy(e.geometry), this.material.copy(e.material), this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                }
            }), wd.prototype = Object.create(sl.prototype), wd.prototype.constructor = wd;
            var xd = new Nn,
                Td = new Nn,
                Sd = new Nn;

            function Md(e, t, n) {
                ci.call(this), this.light = e, this.light.updateMatrixWorld(), this.matrix = e.matrixWorld, this.matrixAutoUpdate = !1, this.color = n, void 0 === t && (t = 1);
                var i = new Pr;
                i.setAttribute("position", new gr([-t, t, 0, t, t, 0, t, -t, 0, -t, -t, 0, -t, t, 0], 3));
                var r = new $s({
                    fog: !1
                });
                this.lightPlane = new rl(i, r), this.add(this.lightPlane), (i = new Pr).setAttribute("position", new gr([0, 0, 0, 0, 0, 1], 3)), this.targetLine = new rl(i, r), this.add(this.targetLine), this.update()
            }
            Md.prototype = Object.create(ci.prototype), Md.prototype.constructor = Md, Md.prototype.dispose = function () {
                this.lightPlane.geometry.dispose(), this.lightPlane.material.dispose(), this.targetLine.geometry.dispose(), this.targetLine.material.dispose()
            }, Md.prototype.update = function () {
                xd.setFromMatrixPosition(this.light.matrixWorld), Td.setFromMatrixPosition(this.light.target.matrixWorld), Sd.subVectors(Td, xd), this.lightPlane.lookAt(Td), void 0 !== this.color ? (this.lightPlane.material.color.set(this.color), this.targetLine.material.color.set(this.color)) : (this.lightPlane.material.color.copy(this.light.color), this.targetLine.material.color.copy(this.light.color)), this.targetLine.lookAt(Td), this.targetLine.scale.z = Sd.length()
            };
            var Ed = new Nn,
                Ad = new ao;

            function Pd(e) {
                var t = new Pr,
                    n = new $s({
                        color: 16777215,
                        vertexColors: x
                    }),
                    i = [],
                    r = [],
                    o = {},
                    a = new er(16755200),
                    s = new er(16711680),
                    l = new er(43775),
                    c = new er(16777215),
                    u = new er(3355443);

                function h(e, t, n) {
                    d(e, n), d(t, n)
                }

                function d(e, t) {
                    i.push(0, 0, 0), r.push(t.r, t.g, t.b), void 0 === o[e] && (o[e] = []), o[e].push(i.length / 3 - 1)
                }
                h("n1", "n2", a), h("n2", "n4", a), h("n4", "n3", a), h("n3", "n1", a), h("f1", "f2", a), h("f2", "f4", a), h("f4", "f3", a), h("f3", "f1", a), h("n1", "f1", a), h("n2", "f2", a), h("n3", "f3", a), h("n4", "f4", a), h("p", "n1", s), h("p", "n2", s), h("p", "n3", s), h("p", "n4", s), h("u1", "u2", l), h("u2", "u3", l), h("u3", "u1", l), h("c", "t", c), h("p", "c", u), h("cn1", "cn2", u), h("cn3", "cn4", u), h("cf1", "cf2", u), h("cf3", "cf4", u), t.setAttribute("position", new gr(i, 3)), t.setAttribute("color", new gr(r, 3)), sl.call(this, t, n), this.camera = e, this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(), this.matrix = e.matrixWorld, this.matrixAutoUpdate = !1, this.pointMap = o, this.update()
            }

            function Cd(e, t, n, i, r, o, a) {
                Ed.set(r, o, a).unproject(i);
                var s = t[e];
                if (void 0 !== s)
                    for (var l = n.getAttribute("position"), c = 0, u = s.length; c < u; c++) l.setXYZ(s[c], Ed.x, Ed.y, Ed.z)
            }
            Pd.prototype = Object.create(sl.prototype), Pd.prototype.constructor = Pd, Pd.prototype.update = function () {
                var e = this.geometry,
                    t = this.pointMap;
                Ad.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse), Cd("c", t, e, Ad, 0, 0, -1), Cd("t", t, e, Ad, 0, 0, 1), Cd("n1", t, e, Ad, -1, -1, -1), Cd("n2", t, e, Ad, 1, -1, -1), Cd("n3", t, e, Ad, -1, 1, -1), Cd("n4", t, e, Ad, 1, 1, -1), Cd("f1", t, e, Ad, -1, -1, 1), Cd("f2", t, e, Ad, 1, -1, 1), Cd("f3", t, e, Ad, -1, 1, 1), Cd("f4", t, e, Ad, 1, 1, 1), Cd("u1", t, e, Ad, .7, 1.1, -1), Cd("u2", t, e, Ad, -.7, 1.1, -1), Cd("u3", t, e, Ad, 0, 2, -1), Cd("cf1", t, e, Ad, -1, 0, 1), Cd("cf2", t, e, Ad, 1, 0, 1), Cd("cf3", t, e, Ad, 0, -1, 1), Cd("cf4", t, e, Ad, 0, 1, 1), Cd("cn1", t, e, Ad, -1, 0, -1), Cd("cn2", t, e, Ad, 1, 0, -1), Cd("cn3", t, e, Ad, 0, -1, -1), Cd("cn4", t, e, Ad, 0, 1, -1), e.getAttribute("position").needsUpdate = !0
            };
            var Ld = new Si;

            function Od(e, t) {
                this.object = e, void 0 === t && (t = 16776960);
                var n = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
                    i = new Float32Array(24),
                    r = new Pr;
                r.setIndex(new cr(n, 1)), r.setAttribute("position", new cr(i, 3)), sl.call(this, r, new $s({
                    color: t
                })), this.matrixAutoUpdate = !1, this.update()
            }

            function Rd(e, t) {
                this.type = "Box3Helper", this.box = e, t = t || 16776960;
                var n = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
                    i = new Pr;
                i.setIndex(new cr(n, 1)), i.setAttribute("position", new gr([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1], 3)), sl.call(this, i, new $s({
                    color: t
                })), this.geometry.computeBoundingSphere()
            }

            function kd(e, t, n) {
                this.type = "PlaneHelper", this.plane = e, this.size = void 0 === t ? 1 : t;
                var i = void 0 !== n ? n : 16776960,
                    r = new Pr;
                r.setAttribute("position", new gr([1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0], 3)), r.computeBoundingSphere(), rl.call(this, r, new $s({
                    color: i
                }));
                var o = new Pr;
                o.setAttribute("position", new gr([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1], 3)), o.computeBoundingSphere(), this.add(new qr(o, new sr({
                    color: i,
                    opacity: .2,
                    transparent: !0,
                    depthWrite: !1
                })))
            }
            Od.prototype = Object.create(sl.prototype), Od.prototype.constructor = Od, Od.prototype.update = function (e) {
                if (void 0 !== e && console.warn("THREE.BoxHelper: .update() has no longer arguments."), void 0 !== this.object && Ld.setFromObject(this.object), !Ld.isEmpty()) {
                    var t = Ld.min,
                        n = Ld.max,
                        i = this.geometry.attributes.position,
                        r = i.array;
                    r[0] = n.x, r[1] = n.y, r[2] = n.z, r[3] = t.x, r[4] = n.y, r[5] = n.z, r[6] = t.x, r[7] = t.y, r[8] = n.z, r[9] = n.x, r[10] = t.y, r[11] = n.z, r[12] = n.x, r[13] = n.y, r[14] = t.z, r[15] = t.x, r[16] = n.y, r[17] = t.z, r[18] = t.x, r[19] = t.y, r[20] = t.z, r[21] = n.x, r[22] = t.y, r[23] = t.z, i.needsUpdate = !0, this.geometry.computeBoundingSphere()
                }
            }, Od.prototype.setFromObject = function (e) {
                return this.object = e, this.update(), this
            }, Od.prototype.copy = function (e) {
                return sl.prototype.copy.call(this, e), this.object = e.object, this
            }, Od.prototype.clone = function () {
                return (new this.constructor).copy(this)
            }, Rd.prototype = Object.create(sl.prototype), Rd.prototype.constructor = Rd, Rd.prototype.updateMatrixWorld = function (e) {
                var t = this.box;
                t.isEmpty() || (t.getCenter(this.position), t.getSize(this.scale), this.scale.multiplyScalar(.5), ci.prototype.updateMatrixWorld.call(this, e))
            }, kd.prototype = Object.create(rl.prototype), kd.prototype.constructor = kd, kd.prototype.updateMatrixWorld = function (e) {
                var t = -this.plane.constant;
                Math.abs(t) < 1e-8 && (t = 1e-8), this.scale.set(.5 * this.size, .5 * this.size, t), this.children[0].material.side = t < 0 ? g : v, this.lookAt(this.plane.normal), ci.prototype.updateMatrixWorld.call(this, e)
            };
            var Id, Dd, Bd = new Nn;

            function Nd(e, t, n, i, r, o) {
                ci.call(this), void 0 === e && (e = new Nn(0, 0, 1)), void 0 === t && (t = new Nn(0, 0, 0)), void 0 === n && (n = 1), void 0 === i && (i = 16776960), void 0 === r && (r = .2 * n), void 0 === o && (o = .2 * r), void 0 === Id && ((Id = new Pr).setAttribute("position", new gr([0, 0, 0, 0, 1, 0], 3)), (Dd = new Ac(0, .5, 1, 5, 1)).translate(0, -.5, 0)), this.position.copy(t), this.line = new rl(Id, new $s({
                    color: i
                })), this.line.matrixAutoUpdate = !1, this.add(this.line), this.cone = new qr(Dd, new sr({
                    color: i
                })), this.cone.matrixAutoUpdate = !1, this.add(this.cone), this.setDirection(e), this.setLength(n, r, o)
            }

            function Gd(e) {
                var t = [0, 0, 0, e = e || 1, 0, 0, 0, 0, 0, 0, e, 0, 0, 0, 0, 0, 0, e],
                    n = new Pr;
                n.setAttribute("position", new gr(t, 3)), n.setAttribute("color", new gr([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1], 3));
                var i = new $s({
                    vertexColors: T
                });
                sl.call(this, n, i)
            }
            Nd.prototype = Object.create(ci.prototype), Nd.prototype.constructor = Nd, Nd.prototype.setDirection = function (e) {
                if (e.y > .99999) this.quaternion.set(0, 0, 0, 1);
                else if (e.y < -.99999) this.quaternion.set(1, 0, 0, 0);
                else {
                    Bd.set(e.z, 0, -e.x).normalize();
                    var t = Math.acos(e.y);
                    this.quaternion.setFromAxisAngle(Bd, t)
                }
            }, Nd.prototype.setLength = function (e, t, n) {
                void 0 === t && (t = .2 * e), void 0 === n && (n = .2 * t), this.line.scale.set(1, Math.max(1e-4, e - t), 1), this.line.updateMatrix(), this.cone.scale.set(n, t, n), this.cone.position.y = e, this.cone.updateMatrix()
            }, Nd.prototype.setColor = function (e) {
                this.line.material.color.set(e), this.cone.material.color.set(e)
            }, Nd.prototype.copy = function (e) {
                return ci.prototype.copy.call(this, e, !1), this.line.copy(e.line), this.cone.copy(e.cone), this
            }, Nd.prototype.clone = function () {
                return (new this.constructor).copy(this)
            }, Gd.prototype = Object.create(sl.prototype), Gd.prototype.constructor = Gd;
            var jd, Hd, Fd, Ud, zd = Math.pow(2, 8),
                Vd = [.125, .215, .35, .446, .526, .582],
                Wd = 5 + Vd.length,
                qd = {
                    [Nt]: 0,
                    [Gt]: 1,
                    [Ht]: 2,
                    [Ut]: 3,
                    [zt]: 4,
                    [Vt]: 5,
                    [jt]: 6
                },
                Xd = new Xu,
                Yd = (jd = 20, Hd = new Float32Array(jd), Fd = new Nn(0, 1, 0), (Ud = new Ic({
                    defines: {
                        n: jd
                    },
                    uniforms: {
                        envMap: {
                            value: null
                        },
                        samples: {
                            value: 1
                        },
                        weights: {
                            value: Hd
                        },
                        latitudinal: {
                            value: !1
                        },
                        dTheta: {
                            value: 0
                        },
                        mipInt: {
                            value: 0
                        },
                        poleAxis: {
                            value: Fd
                        },
                        inputEncoding: {
                            value: qd[Nt]
                        },
                        outputEncoding: {
                            value: qd[Nt]
                        }
                    },
                    vertexShader: gp(),
                    fragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${yp()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tfor (int i = 0; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfor (int dir = -1; dir < 2; dir += 2) {\n\t\t\tif (i == 0 && dir == 1)\n\t\t\t\tcontinue;\n\t\t\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\t\t\tif (all(equal(axis, vec3(0.0))))\n\t\t\t\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\n\t\t\taxis = normalize(axis);\n\t\t\tfloat theta = dTheta * float(dir * i);\n\t\t\tfloat cosTheta = cos(theta);\n\t\t\t// Rodrigues' axis-angle rotation\n\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t\t\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\t\t\tgl_FragColor.rgb +=\n\t\t\t\t\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\n\t\t}\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,
                    blending: S,
                    depthTest: !1,
                    depthWrite: !1
                })).type = "SphericalGaussianBlur", Ud),
                Jd = null,
                Kd = null,
                {
                    _lodPlanes: Zd,
                    _sizeLods: $d,
                    _sigmas: Qd
                } = function () {
                    for (var e = [], t = [], n = [], i = 8, r = 0; r < Wd; r++) {
                        var o = Math.pow(2, i);
                        t.push(o);
                        var a = 1 / o;
                        r > 4 ? a = Vd[r - 8 + 4 - 1] : 0 == r && (a = 0), n.push(a);
                        for (var s = 1 / (o - 1), l = -s / 2, c = 1 + s / 2, u = [l, l, c, l, c, c, l, l, c, c, l, c], h = new Float32Array(108), d = new Float32Array(72), p = new Float32Array(36), f = 0; f < 6; f++) {
                            var m = f % 3 * 2 / 3 - 1,
                                v = f > 2 ? 0 : -1,
                                g = [m, v, 0, m + 2 / 3, v, 0, m + 2 / 3, v + 1, 0, m, v, 0, m + 2 / 3, v + 1, 0, m, v + 1, 0];
                            h.set(g, 18 * f), d.set(u, 12 * f);
                            var y = [f, f, f, f, f, f];
                            p.set(y, 6 * f)
                        }
                        var _ = new Pr;
                        _.setAttribute("position", new cr(h, 3)), _.setAttribute("uv", new cr(d, 2)), _.setAttribute("faceIndex", new cr(p, 1)), e.push(_), i > 4 && i--
                    }
                    return {
                        _lodPlanes: e,
                        _sizeLods: t,
                        _sigmas: n
                    }
                }(),
                ep = null,
                tp = null,
                np = null,
                ip = (1 + Math.sqrt(5)) / 2,
                rp = 1 / ip,
                op = [new Nn(1, 1, 1), new Nn(-1, 1, 1), new Nn(1, 1, -1), new Nn(-1, 1, -1), new Nn(0, ip, rp), new Nn(0, ip, -rp), new Nn(rp, 0, ip), new Nn(-rp, 0, ip), new Nn(ip, rp, 0), new Nn(-ip, rp, 0)];

            function ap(e) {
                tp = e, cp(Yd)
            }

            function sp(e) {
                var t = {
                        magFilter: be,
                        minFilter: be,
                        generateMipmaps: !1,
                        type: e ? e.type : Le,
                        format: e ? e.format : Xe,
                        encoding: e ? e.encoding : Ht,
                        depthBuffer: !1,
                        stencilBuffer: !1
                    },
                    n = up(t);
                return n.depthBuffer = !e, ep = up(t), n
            }

            function lp(e) {
                ep.dispose(), tp.setRenderTarget(np), e.scissorTest = !1, e.setSize(e.width, e.height)
            }

            function cp(e) {
                var t = new ui;
                t.add(new qr(Zd[0], e)), tp.compile(t, Xd)
            }

            function up(e) {
                var t = new Rn(3 * zd, 3 * zd, e);
                return t.texture.mapping = me, t.texture.name = "PMREM.cubeUv", t.scissorTest = !0, t
            }

            function hp(e, t, n, i, r) {
                e.viewport.set(t, n, i, r), e.scissor.set(t, n, i, r)
            }

            function dp(e) {
                var t = tp.autoClear;
                tp.autoClear = !1;
                for (var n = 1; n < Wd; n++) {
                    pp(e, n - 1, n, Math.sqrt(Qd[n] * Qd[n] - Qd[n - 1] * Qd[n - 1]), op[(n - 1) % op.length])
                }
                tp.autoClear = t
            }

            function pp(e, t, n, i, r) {
                fp(e, ep, t, n, i, "latitudinal", r), fp(ep, e, n, n, i, "longitudinal", r)
            }

            function fp(e, t, n, i, r, o, a) {
                "latitudinal" !== o && "longitudinal" !== o && console.error("blur direction must be either latitudinal or longitudinal!");
                var s = new ui;
                s.add(new qr(Zd[i], Yd));
                var l = Yd.uniforms,
                    c = $d[n] - 1,
                    u = isFinite(r) ? Math.PI / (2 * c) : 2 * Math.PI / 39,
                    h = r / u,
                    d = isFinite(r) ? 1 + Math.floor(3 * h) : 20;
                d > 20 && console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${d} samples when the maximum is set to 20`);
                for (var p = [], f = 0, m = 0; m < 20; ++m) {
                    var v = m / h,
                        g = Math.exp(-v * v / 2);
                    p.push(g), 0 == m ? f += g : m < d && (f += 2 * g)
                }
                for (m = 0; m < p.length; m++) p[m] = p[m] / f;
                l.envMap.value = e.texture, l.samples.value = d, l.weights.value = p, l.latitudinal.value = "latitudinal" === o, a && (l.poleAxis.value = a), l.dTheta.value = u, l.mipInt.value = 8 - n, l.inputEncoding.value = qd[e.texture.encoding], l.outputEncoding.value = qd[e.texture.encoding];
                var y = $d[i];
                hp(t, v = 3 * Math.max(0, zd - 2 * y), (0 === i ? 0 : 2 * zd) + 2 * y * (i > 4 ? i - 8 + 4 : 0), 3 * y, 2 * y), tp.setRenderTarget(t), tp.render(s, Xd)
            }

            function mp() {
                var e = new Ic({
                    uniforms: {
                        envMap: {
                            value: null
                        },
                        texelSize: {
                            value: new En(1, 1)
                        },
                        inputEncoding: {
                            value: qd[Nt]
                        },
                        outputEncoding: {
                            value: qd[Nt]
                        }
                    },
                    vertexShader: gp(),
                    fragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${yp()}\n\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,
                    blending: S,
                    depthTest: !1,
                    depthWrite: !1
                });
                return e.type = "EquirectangularToCubeUV", e
            }

            function vp() {
                var e = new Ic({
                    uniforms: {
                        envMap: {
                            value: null
                        },
                        inputEncoding: {
                            value: qd[Nt]
                        },
                        outputEncoding: {
                            value: qd[Nt]
                        }
                    },
                    vertexShader: gp(),
                    fragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${yp()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,
                    blending: S,
                    depthTest: !1,
                    depthWrite: !1
                });
                return e.type = "CubemapToCubeUV", e
            }

            function gp() {
                return "\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t"
            }

            function yp() {
                return "\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t"
            }

            function _p(e, t, n, i, r, o, a) {
                return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."), new rr(e, t, n, r, o, a)
            }
            ap.prototype = {
                constructor: ap,
                fromScene: function (e, t = 0, n = .1, i = 100) {
                    np = tp.getRenderTarget();
                    var r = sp();
                    return function (e, t, n, i) {
                        var r = new so(90, 1, t, n),
                            o = [1, 1, 1, 1, -1, 1],
                            a = [1, 1, -1, -1, -1, 1],
                            s = tp.outputEncoding,
                            l = tp.toneMapping,
                            c = tp.toneMappingExposure,
                            u = tp.getClearColor(),
                            h = tp.getClearAlpha();
                        tp.toneMapping = re, tp.toneMappingExposure = 1, tp.outputEncoding = Nt, e.scale.z *= -1;
                        var d = e.background;
                        if (d && d.isColor) {
                            d.convertSRGBToLinear();
                            var p = Math.max(d.r, d.g, d.b),
                                f = Math.min(Math.max(Math.ceil(Math.log2(p)), -128), 127);
                            d = d.multiplyScalar(Math.pow(2, -f));
                            var m = (f + 128) / 255;
                            tp.setClearColor(d, m), e.background = null
                        }
                        for (var v = 0; v < 6; v++) {
                            var g = v % 3;
                            0 == g ? (r.up.set(0, o[v], 0), r.lookAt(a[v], 0, 0)) : 1 == g ? (r.up.set(0, 0, o[v]), r.lookAt(0, a[v], 0)) : (r.up.set(0, o[v], 0), r.lookAt(0, 0, a[v])), hp(i, g * zd, v > 2 ? zd : 0, zd, zd), tp.setRenderTarget(i), tp.render(e, r)
                        }
                        tp.toneMapping = l, tp.toneMappingExposure = c, tp.outputEncoding = s, tp.setClearColor(u, h), e.scale.z *= -1
                    }(e, n, i, r), t > 0 && pp(r, 0, 0, t), dp(r), lp(r), r
                },
                fromEquirectangular: function (e) {
                    return e.magFilter = be, e.minFilter = be, e.generateMipmaps = !1, this.fromCubemap(e)
                },
                fromCubemap: function (e) {
                    np = tp.getRenderTarget();
                    var t = sp(e);
                    return function (e, t) {
                        var n = new ui;
                        e.isCubeTexture ? null == Kd && (Kd = vp()) : null == Jd && (Jd = mp());
                        var i = e.isCubeTexture ? Kd : Jd;
                        n.add(new qr(Zd[0], i));
                        var r = i.uniforms;
                        r.envMap.value = e, e.isCubeTexture || r.texelSize.value.set(1 / e.image.width, 1 / e.image.height);
                        r.inputEncoding.value = qd[e.encoding], r.outputEncoding.value = qd[e.encoding], hp(t, 0, 0, 3 * zd, 2 * zd), tp.setRenderTarget(t), tp.render(n, Xd)
                    }(e, t), dp(t), lp(t), t
                },
                compileCubemapShader: function () {
                    null == Kd && cp(Kd = vp())
                },
                compileEquirectangularShader: function () {
                    null == Jd && cp(Jd = mp())
                },
                dispose: function () {
                    Yd.dispose(), null != Kd && Kd.dispose(), null != Jd && Jd.dispose();
                    for (var e = 0; e < Zd.length; e++) Zd[e].dispose()
                }
            };
            var bp = 0,
                wp = 1;

            function xp(e) {
                return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."), e
            }

            function Tp(e) {
                return void 0 === e && (e = []), console.warn("THREE.MultiMaterial has been removed. Use an Array instead."), e.isMultiMaterial = !0, e.materials = e, e.clone = function () {
                    return e.slice()
                }, e
            }

            function Sp(e, t) {
                return console.warn("THREE.PointCloud has been renamed to THREE.Points."), new fl(e, t)
            }

            function Mp(e) {
                return console.warn("THREE.Particle has been renamed to THREE.Sprite."), new Ns(e)
            }

            function Ep(e, t) {
                return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."), new fl(e, t)
            }

            function Ap(e) {
                return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."), new cl(e)
            }

            function Pp(e) {
                return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."), new cl(e)
            }

            function Cp(e) {
                return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."), new cl(e)
            }

            function Lp(e, t, n) {
                return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."), new Nn(e, t, n)
            }

            function Op(e, t) {
                return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."), new cr(e, t).setUsage(pn)
            }

            function Rp(e, t) {
                return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."), new ur(e, t)
            }

            function kp(e, t) {
                return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."), new hr(e, t)
            }

            function Ip(e, t) {
                return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."), new dr(e, t)
            }

            function Dp(e, t) {
                return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."), new pr(e, t)
            }

            function Bp(e, t) {
                return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."), new fr(e, t)
            }

            function Np(e, t) {
                return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."), new mr(e, t)
            }

            function Gp(e, t) {
                return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."), new vr(e, t)
            }

            function jp(e, t) {
                return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."), new gr(e, t)
            }

            function Hp(e, t) {
                return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."), new yr(e, t)
            }

            function Fp(e) {
                console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."), Mu.call(this, e), this.type = "catmullrom", this.closed = !0
            }

            function Up(e) {
                console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."), Mu.call(this, e), this.type = "catmullrom"
            }

            function zp(e) {
                console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."), Mu.call(this, e), this.type = "catmullrom"
            }

            function Vp(e) {
                return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."), new Gd(e)
            }

            function Wp(e, t) {
                return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."), new Od(e, t)
            }

            function qp(e, t) {
                return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."), new sl(new Mc(e.geometry), new $s({
                    color: void 0 !== t ? t : 16777215
                }))
            }

            function Xp(e, t) {
                return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."), new sl(new bl(e.geometry), new $s({
                    color: void 0 !== t ? t : 16777215
                }))
            }

            function Yp(e) {
                return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."), new uu(e)
            }

            function Jp(e) {
                return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."), new pu(e)
            }

            function Kp(e, t, n) {
                return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."), new co(e, n)
            }
            gu.create = function (e, t) {
                return console.log("THREE.Curve.create() has been deprecated"), e.prototype = Object.create(gu.prototype), e.prototype.constructor = e, e.prototype.getPoint = t, e
            }, Object.assign(Nu.prototype, {
                createPointsGeometry: function (e) {
                    console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
                    var t = this.getPoints(e);
                    return this.createGeometry(t)
                },
                createSpacedPointsGeometry: function (e) {
                    console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
                    var t = this.getSpacedPoints(e);
                    return this.createGeometry(t)
                },
                createGeometry: function (e) {
                    console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
                    for (var t = new Qr, n = 0, i = e.length; n < i; n++) {
                        var r = e[n];
                        t.vertices.push(new Nn(r.x, r.y, r.z || 0))
                    }
                    return t
                }
            }), Object.assign(Gu.prototype, {
                fromPoints: function (e) {
                    return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."), this.setFromPoints(e)
                }
            }), Fp.prototype = Object.create(Mu.prototype), Up.prototype = Object.create(Mu.prototype), zp.prototype = Object.create(Mu.prototype), Object.assign(zp.prototype, {
                initFromArray: function () {
                    console.error("THREE.Spline: .initFromArray() has been removed.")
                },
                getControlPointsArray: function () {
                    console.error("THREE.Spline: .getControlPointsArray() has been removed.")
                },
                reparametrizeByArcLength: function () {
                    console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")
                }
            }), bd.prototype.setColors = function () {
                console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")
            }, fd.prototype.update = function () {
                console.error("THREE.SkeletonHelper: update() no longer needs to be called.")
            }, Object.assign(lu.prototype, {
                extractUrlBase: function (e) {
                    return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."), Qu.extractUrlBase(e)
                }
            }), lu.Handlers = {
                add: function () {
                    console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")
                },
                get: function () {
                    console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")
                }
            }, Object.assign(rh.prototype, {
                setTexturePath: function (e) {
                    return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."), this.setResourcePath(e)
                }
            }), Object.assign(rd.prototype, {
                center: function (e) {
                    return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."), this.getCenter(e)
                },
                empty: function () {
                    return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."), this.isEmpty()
                },
                isIntersectionBox: function (e) {
                    return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(e)
                },
                size: function (e) {
                    return console.warn("THREE.Box2: .size() has been renamed to .getSize()."), this.getSize(e)
                }
            }), Object.assign(Si.prototype, {
                center: function (e) {
                    return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."), this.getCenter(e)
                },
                empty: function () {
                    return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."), this.isEmpty()
                },
                isIntersectionBox: function (e) {
                    return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(e)
                },
                isIntersectionSphere: function (e) {
                    return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."), this.intersectsSphere(e)
                },
                size: function (e) {
                    return console.warn("THREE.Box3: .size() has been renamed to .getSize()."), this.getSize(e)
                }
            }), fo.prototype.setFromMatrix = function (e) {
                return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."), this.setFromProjectionMatrix(e)
            }, sd.prototype.center = function (e) {
                return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."), this.getCenter(e)
            }, Object.assign(Mn, {
                random16: function () {
                    return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."), Math.random()
                },
                nearestPowerOfTwo: function (e) {
                    return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."), Mn.floorPowerOfTwo(e)
                },
                nextPowerOfTwo: function (e) {
                    return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."), Mn.ceilPowerOfTwo(e)
                }
            }), Object.assign(An.prototype, {
                flattenToArrayOffset: function (e, t) {
                    return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."), this.toArray(e, t)
                },
                multiplyVector3: function (e) {
                    return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."), e.applyMatrix3(this)
                },
                multiplyVector3Array: function () {
                    console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")
                },
                applyToBufferAttribute: function (e) {
                    return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."), e.applyMatrix3(this)
                },
                applyToVector3Array: function () {
                    console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")
                }
            }), Object.assign(Wn.prototype, {
                extractPosition: function (e) {
                    return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."), this.copyPosition(e)
                },
                flattenToArrayOffset: function (e, t) {
                    return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."), this.toArray(e, t)
                },
                getPosition: function () {
                    return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."), (new Nn).setFromMatrixColumn(this, 3)
                },
                setRotationFromQuaternion: function (e) {
                    return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."), this.makeRotationFromQuaternion(e)
                },
                multiplyToArray: function () {
                    console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")
                },
                multiplyVector3: function (e) {
                    return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."), e.applyMatrix4(this)
                },
                multiplyVector4: function (e) {
                    return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."), e.applyMatrix4(this)
                },
                multiplyVector3Array: function () {
                    console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")
                },
                rotateAxis: function (e) {
                    console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."), e.transformDirection(this)
                },
                crossVector: function (e) {
                    return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."), e.applyMatrix4(this)
                },
                translate: function () {
                    console.error("THREE.Matrix4: .translate() has been removed.")
                },
                rotateX: function () {
                    console.error("THREE.Matrix4: .rotateX() has been removed.")
                },
                rotateY: function () {
                    console.error("THREE.Matrix4: .rotateY() has been removed.")
                },
                rotateZ: function () {
                    console.error("THREE.Matrix4: .rotateZ() has been removed.")
                },
                rotateByAxis: function () {
                    console.error("THREE.Matrix4: .rotateByAxis() has been removed.")
                },
                applyToBufferAttribute: function (e) {
                    return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."), e.applyMatrix4(this)
                },
                applyToVector3Array: function () {
                    console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")
                },
                makeFrustum: function (e, t, n, i, r, o) {
                    return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."), this.makePerspective(e, t, i, n, r, o)
                }
            }), ji.prototype.isIntersectionLine = function (e) {
                return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."), this.intersectsLine(e)
            }, In.prototype.multiplyVector3 = function (e) {
                return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."), e.applyQuaternion(this)
            }, Object.assign(Di.prototype, {
                isIntersectionBox: function (e) {
                    return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."), this.intersectsBox(e)
                },
                isIntersectionPlane: function (e) {
                    return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."), this.intersectsPlane(e)
                },
                isIntersectionSphere: function (e) {
                    return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."), this.intersectsSphere(e)
                }
            }), Object.assign(Ki.prototype, {
                area: function () {
                    return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."), this.getArea()
                },
                barycoordFromPoint: function (e, t) {
                    return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."), this.getBarycoord(e, t)
                },
                midpoint: function (e) {
                    return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."), this.getMidpoint(e)
                },
                normal: function (e) {
                    return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."), this.getNormal(e)
                },
                plane: function (e) {
                    return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."), this.getPlane(e)
                }
            }), Object.assign(Ki, {
                barycoordFromPoint: function (e, t, n, i, r) {
                    return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."), Ki.getBarycoord(e, t, n, i, r)
                },
                normal: function (e, t, n, i) {
                    return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."), Ki.getNormal(e, t, n, i)
                }
            }), Object.assign(ju.prototype, {
                extractAllPoints: function (e) {
                    return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."), this.extractPoints(e)
                },
                extrude: function (e) {
                    return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."), new uc(this, e)
                },
                makeGeometry: function (e) {
                    return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."), new xc(this, e)
                }
            }), Object.assign(En.prototype, {
                fromAttribute: function (e, t, n) {
                    return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."), this.fromBufferAttribute(e, t, n)
                },
                distanceToManhattan: function (e) {
                    return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."), this.manhattanDistanceTo(e)
                },
                lengthManhattan: function () {
                    return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."), this.manhattanLength()
                }
            }), Object.assign(Nn.prototype, {
                setEulerFromRotationMatrix: function () {
                    console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")
                },
                setEulerFromQuaternion: function () {
                    console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")
                },
                getPositionFromMatrix: function (e) {
                    return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."), this.setFromMatrixPosition(e)
                },
                getScaleFromMatrix: function (e) {
                    return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."), this.setFromMatrixScale(e)
                },
                getColumnFromMatrix: function (e, t) {
                    return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."), this.setFromMatrixColumn(t, e)
                },
                applyProjection: function (e) {
                    return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."), this.applyMatrix4(e)
                },
                fromAttribute: function (e, t, n) {
                    return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."), this.fromBufferAttribute(e, t, n)
                },
                distanceToManhattan: function (e) {
                    return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."), this.manhattanDistanceTo(e)
                },
                lengthManhattan: function () {
                    return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."), this.manhattanLength()
                }
            }), Object.assign(On.prototype, {
                fromAttribute: function (e, t, n) {
                    return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."), this.fromBufferAttribute(e, t, n)
                },
                lengthManhattan: function () {
                    return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."), this.manhattanLength()
                }
            }), Object.assign(Qr.prototype, {
                computeTangents: function () {
                    console.error("THREE.Geometry: .computeTangents() has been removed.")
                },
                computeLineDistances: function () {
                    console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")
                },
                applyMatrix: function (e) {
                    return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."), this.applyMatrix4(e)
                }
            }), Object.assign(ci.prototype, {
                getChildByName: function (e) {
                    return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."), this.getObjectByName(e)
                },
                renderDepth: function () {
                    console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")
                },
                translate: function (e, t) {
                    return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."), this.translateOnAxis(t, e)
                },
                getWorldRotation: function () {
                    console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")
                },
                applyMatrix: function (e) {
                    return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."), this.applyMatrix4(e)
                }
            }), Object.defineProperties(ci.prototype, {
                eulerOrder: {
                    get: function () {
                        return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."), this.rotation.order
                    },
                    set: function (e) {
                        console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."), this.rotation.order = e
                    }
                },
                useQuaternion: {
                    get: function () {
                        console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
                    },
                    set: function () {
                        console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
                    }
                }
            }), Object.assign(qr.prototype, {
                setDrawMode: function () {
                    console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")
                }
            }), Object.defineProperties(qr.prototype, {
                drawMode: {
                    get: function () {
                        return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."), It
                    },
                    set: function () {
                        console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")
                    }
                }
            }), Object.defineProperties(Fs.prototype, {
                objects: {
                    get: function () {
                        return console.warn("THREE.LOD: .objects has been renamed to .levels."), this.levels
                    }
                }
            }), Object.defineProperty(Ws.prototype, "useVertexTexture", {
                get: function () {
                    console.warn("THREE.Skeleton: useVertexTexture has been removed.")
                },
                set: function () {
                    console.warn("THREE.Skeleton: useVertexTexture has been removed.")
                }
            }), Us.prototype.initBones = function () {
                console.error("THREE.SkinnedMesh: initBones() has been removed.")
            }, Object.defineProperty(gu.prototype, "__arcLengthDivisions", {
                get: function () {
                    return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."), this.arcLengthDivisions
                },
                set: function (e) {
                    console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."), this.arcLengthDivisions = e
                }
            }), so.prototype.setLens = function (e, t) {
                console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."), void 0 !== t && (this.filmGauge = t), this.setFocalLength(e)
            }, Object.defineProperties(Hu.prototype, {
                onlyShadow: {
                    set: function () {
                        console.warn("THREE.Light: .onlyShadow has been removed.")
                    }
                },
                shadowCameraFov: {
                    set: function (e) {
                        console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."), this.shadow.camera.fov = e
                    }
                },
                shadowCameraLeft: {
                    set: function (e) {
                        console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."), this.shadow.camera.left = e
                    }
                },
                shadowCameraRight: {
                    set: function (e) {
                        console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."), this.shadow.camera.right = e
                    }
                },
                shadowCameraTop: {
                    set: function (e) {
                        console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."), this.shadow.camera.top = e
                    }
                },
                shadowCameraBottom: {
                    set: function (e) {
                        console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."), this.shadow.camera.bottom = e
                    }
                },
                shadowCameraNear: {
                    set: function (e) {
                        console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."), this.shadow.camera.near = e
                    }
                },
                shadowCameraFar: {
                    set: function (e) {
                        console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."), this.shadow.camera.far = e
                    }
                },
                shadowCameraVisible: {
                    set: function () {
                        console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")
                    }
                },
                shadowBias: {
                    set: function (e) {
                        console.warn("THREE.Light: .shadowBias is now .shadow.bias."), this.shadow.bias = e
                    }
                },
                shadowDarkness: {
                    set: function () {
                        console.warn("THREE.Light: .shadowDarkness has been removed.")
                    }
                },
                shadowMapWidth: {
                    set: function (e) {
                        console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."), this.shadow.mapSize.width = e
                    }
                },
                shadowMapHeight: {
                    set: function (e) {
                        console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."), this.shadow.mapSize.height = e
                    }
                }
            }), Object.defineProperties(cr.prototype, {
                length: {
                    get: function () {
                        return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."), this.array.length
                    }
                },
                dynamic: {
                    get: function () {
                        return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."), this.usage === pn
                    },
                    set: function () {
                        console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."), this.setUsage(pn)
                    }
                }
            }), Object.assign(cr.prototype, {
                setDynamic: function (e) {
                    return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."), this.setUsage(!0 === e ? pn : dn), this
                },
                copyIndicesArray: function () {
                    console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")
                },
                setArray: function () {
                    console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")
                }
            }), Object.assign(Pr.prototype, {
                addIndex: function (e) {
                    console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."), this.setIndex(e)
                },
                addAttribute: function (e, t) {
                    return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."), t && t.isBufferAttribute || t && t.isInterleavedBufferAttribute ? "index" === e ? (console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."), this.setIndex(t), this) : this.setAttribute(e, t) : (console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."), this.setAttribute(e, new cr(arguments[1], arguments[2])))
                },
                addDrawCall: function (e, t, n) {
                    void 0 !== n && console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."), console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."), this.addGroup(e, t)
                },
                clearDrawCalls: function () {
                    console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."), this.clearGroups()
                },
                computeTangents: function () {
                    console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")
                },
                computeOffsets: function () {
                    console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")
                },
                removeAttribute: function (e) {
                    return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."), this.deleteAttribute(e)
                },
                applyMatrix: function (e) {
                    return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."), this.applyMatrix4(e)
                }
            }), Object.defineProperties(Pr.prototype, {
                drawcalls: {
                    get: function () {
                        return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."), this.groups
                    }
                },
                offsets: {
                    get: function () {
                        return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."), this.groups
                    }
                }
            }), Object.defineProperties(bs.prototype, {
                dynamic: {
                    get: function () {
                        return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."), this.usage === pn
                    },
                    set: function (e) {
                        console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."), this.setUsage(e)
                    }
                }
            }), Object.assign(bs.prototype, {
                setDynamic: function (e) {
                    return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."), this.setUsage(!0 === e ? pn : dn), this
                },
                setArray: function () {
                    console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")
                }
            }), Object.assign(hc.prototype, {
                getArrays: function () {
                    console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")
                },
                addShapeList: function () {
                    console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")
                },
                addShape: function () {
                    console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")
                }
            }), Object.defineProperties(Kh.prototype, {
                dynamic: {
                    set: function () {
                        console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")
                    }
                },
                onUpdate: {
                    value: function () {
                        return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."), this
                    }
                }
            }), Object.defineProperties(ar.prototype, {
                wrapAround: {
                    get: function () {
                        console.warn("THREE.Material: .wrapAround has been removed.")
                    },
                    set: function () {
                        console.warn("THREE.Material: .wrapAround has been removed.")
                    }
                },
                overdraw: {
                    get: function () {
                        console.warn("THREE.Material: .overdraw has been removed.")
                    },
                    set: function () {
                        console.warn("THREE.Material: .overdraw has been removed.")
                    }
                },
                wrapRGB: {
                    get: function () {
                        return console.warn("THREE.Material: .wrapRGB has been removed."), new er
                    }
                },
                shading: {
                    get: function () {
                        console.error("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead.")
                    },
                    set: function (e) {
                        console.warn("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead."), this.flatShading = e === _
                    }
                },
                stencilMask: {
                    get: function () {
                        return console.warn("THREE." + this.type + ": .stencilMask has been removed. Use .stencilFuncMask instead."), this.stencilFuncMask
                    },
                    set: function (e) {
                        console.warn("THREE." + this.type + ": .stencilMask has been removed. Use .stencilFuncMask instead."), this.stencilFuncMask = e
                    }
                }
            }), Object.defineProperties(Nc.prototype, {
                metal: {
                    get: function () {
                        return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."), !1
                    },
                    set: function () {
                        console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")
                    }
                }
            }), Object.defineProperties(oo.prototype, {
                derivatives: {
                    get: function () {
                        return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."), this.extensions.derivatives
                    },
                    set: function (e) {
                        console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."), this.extensions.derivatives = e
                    }
                }
            }), Object.assign(gs.prototype, {
                clearTarget: function (e, t, n, i) {
                    console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."), this.setRenderTarget(e), this.clear(t, n, i)
                },
                animate: function (e) {
                    console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."), this.setAnimationLoop(e)
                },
                getCurrentRenderTarget: function () {
                    return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."), this.getRenderTarget()
                },
                getMaxAnisotropy: function () {
                    return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."), this.capabilities.getMaxAnisotropy()
                },
                getPrecision: function () {
                    return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."), this.capabilities.precision
                },
                resetGLState: function () {
                    return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."), this.state.reset()
                },
                supportsFloatTextures: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."), this.extensions.get("OES_texture_float")
                },
                supportsHalfFloatTextures: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."), this.extensions.get("OES_texture_half_float")
                },
                supportsStandardDerivatives: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."), this.extensions.get("OES_standard_derivatives")
                },
                supportsCompressedTextureS3TC: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."), this.extensions.get("WEBGL_compressed_texture_s3tc")
                },
                supportsCompressedTexturePVRTC: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."), this.extensions.get("WEBGL_compressed_texture_pvrtc")
                },
                supportsBlendMinMax: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."), this.extensions.get("EXT_blend_minmax")
                },
                supportsVertexTextures: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."), this.capabilities.vertexTextures
                },
                supportsInstancedArrays: function () {
                    return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."), this.extensions.get("ANGLE_instanced_arrays")
                },
                enableScissorTest: function (e) {
                    console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."), this.setScissorTest(e)
                },
                initMaterial: function () {
                    console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")
                },
                addPrePlugin: function () {
                    console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")
                },
                addPostPlugin: function () {
                    console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")
                },
                updateShadowMap: function () {
                    console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")
                },
                setFaceCulling: function () {
                    console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")
                },
                allocTextureUnit: function () {
                    console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")
                },
                setTexture: function () {
                    console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")
                },
                setTexture2D: function () {
                    console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")
                },
                setTextureCube: function () {
                    console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")
                },
                getActiveMipMapLevel: function () {
                    return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."), this.getActiveMipmapLevel()
                }
            }), Object.defineProperties(gs.prototype, {
                shadowMapEnabled: {
                    get: function () {
                        return this.shadowMap.enabled
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."), this.shadowMap.enabled = e
                    }
                },
                shadowMapType: {
                    get: function () {
                        return this.shadowMap.type
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."), this.shadowMap.type = e
                    }
                },
                shadowMapCullFace: {
                    get: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")
                    },
                    set: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")
                    }
                },
                context: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."), this.getContext()
                    }
                },
                vr: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"), this.xr
                    }
                },
                gammaInput: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."), !1
                    },
                    set: function () {
                        console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")
                    }
                },
                gammaOutput: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."), !1
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."), this.outputEncoding = !0 === e ? Gt : Nt
                    }
                }
            }), Object.defineProperties(ls.prototype, {
                cullFace: {
                    get: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")
                    },
                    set: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")
                    }
                },
                renderReverseSided: {
                    get: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")
                    },
                    set: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")
                    }
                },
                renderSingleSided: {
                    get: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")
                    },
                    set: function () {
                        console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")
                    }
                }
            }), Object.defineProperties(Rn.prototype, {
                wrapS: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."), this.texture.wrapS
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."), this.texture.wrapS = e
                    }
                },
                wrapT: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."), this.texture.wrapT
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."), this.texture.wrapT = e
                    }
                },
                magFilter: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."), this.texture.magFilter
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."), this.texture.magFilter = e
                    }
                },
                minFilter: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."), this.texture.minFilter
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."), this.texture.minFilter = e
                    }
                },
                anisotropy: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."), this.texture.anisotropy
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."), this.texture.anisotropy = e
                    }
                },
                offset: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."), this.texture.offset
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."), this.texture.offset = e
                    }
                },
                repeat: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."), this.texture.repeat
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."), this.texture.repeat = e
                    }
                },
                format: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."), this.texture.format
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."), this.texture.format = e
                    }
                },
                type: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."), this.texture.type
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."), this.texture.type = e
                    }
                },
                generateMipmaps: {
                    get: function () {
                        return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."), this.texture.generateMipmaps
                    },
                    set: function (e) {
                        console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."), this.texture.generateMipmaps = e
                    }
                }
            }), Object.defineProperties(Ch.prototype, {
                load: {
                    value: function (e) {
                        console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");
                        var t = this;
                        return (new mh).load(e, (function (e) {
                            t.setBuffer(e)
                        })), this
                    }
                },
                startTime: {
                    set: function () {
                        console.warn("THREE.Audio: .startTime is now .play( delay ).")
                    }
                }
            }), Dh.prototype.getData = function () {
                return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."), this.getFrequencyData()
            }, lo.prototype.updateCubeMap = function (e, t) {
                return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."), this.update(e, t)
            };
            var Zp = {
                merge: function (e, t, n) {
                    var i;
                    console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."), t.isMesh && (t.matrixAutoUpdate && t.updateMatrix(), i = t.matrix, t = t.geometry), e.merge(t, i, n)
                },
                center: function (e) {
                    return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."), e.center()
                }
            };

            function $p() {
                console.error("THREE.CanvasRenderer has been removed")
            }

            function Qp() {
                console.error("THREE.JSONLoader has been removed.")
            }
            Pn.crossOrigin = void 0, Pn.loadTexture = function (e, t, n, i) {
                console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
                var r = new vu;
                r.setCrossOrigin(this.crossOrigin);
                var o = r.load(e, n, void 0, i);
                return t && (o.mapping = t), o
            }, Pn.loadTextureCube = function (e, t, n, i) {
                console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");
                var r = new mu;
                r.setCrossOrigin(this.crossOrigin);
                var o = r.load(e, n, void 0, i);
                return t && (o.mapping = t), o
            }, Pn.loadCompressedTexture = function () {
                console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")
            }, Pn.loadCompressedTextureCube = function () {
                console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")
            };
            var ef = {
                createMultiMaterialObject: function () {
                    console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
                },
                detach: function () {
                    console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
                },
                attach: function () {
                    console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
                }
            };

            function tf() {
                console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")
            }
            "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register", {
                detail: {
                    revision: i
                }
            }))
        }.call(this, n(12))
}, function (e, t) {
    var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}, function (e, t) {
    var n = e.exports = {
        version: "2.6.5"
    };
    "number" == typeof __e && (__e = n)
}, function (e, t, n) {
    var i = n(28),
        r = n(112),
        o = n(54),
        a = Object.defineProperty;
    t.f = n(16) ? Object.defineProperty : function (e, t, n) {
        if (i(e), t = o(t, !0), i(n), r) try {
            return a(e, t, n)
        } catch (e) {}
        if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
        return "value" in n && (e[t] = n.value), e
    }
}, function (e, t, n) {
    e.exports = !n(47)((function () {
        return 7 != Object.defineProperty({}, "a", {
            get: function () {
                return 7
            }
        }).a
    }))
}, function (e, t) {
    var n = {}.hasOwnProperty;
    e.exports = function (e, t) {
        return n.call(e, t)
    }
}, function (e, t, n) {
    "use strict";
    (function (e) {
        var i = n(77),
            r = n(78),
            o = n(79);

        function a() {
            return l.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
        }

        function s(e, t) {
            if (a() < t) throw new RangeError("Invalid typed array length");
            return l.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = l.prototype : (null === e && (e = new l(t)), e.length = t), e
        }

        function l(e, t, n) {
            if (!(l.TYPED_ARRAY_SUPPORT || this instanceof l)) return new l(e, t, n);
            if ("number" == typeof e) {
                if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string");
                return h(this, e)
            }
            return c(this, e, t, n)
        }

        function c(e, t, n, i) {
            if ("number" == typeof t) throw new TypeError('"value" argument must not be a number');
            return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function (e, t, n, i) {
                if (t.byteLength, n < 0 || t.byteLength < n) throw new RangeError("'offset' is out of bounds");
                if (t.byteLength < n + (i || 0)) throw new RangeError("'length' is out of bounds");
                t = void 0 === n && void 0 === i ? new Uint8Array(t) : void 0 === i ? new Uint8Array(t, n) : new Uint8Array(t, n, i);
                l.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = l.prototype : e = d(e, t);
                return e
            }(e, t, n, i) : "string" == typeof t ? function (e, t, n) {
                "string" == typeof n && "" !== n || (n = "utf8");
                if (!l.isEncoding(n)) throw new TypeError('"encoding" must be a valid string encoding');
                var i = 0 | f(t, n),
                    r = (e = s(e, i)).write(t, n);
                r !== i && (e = e.slice(0, r));
                return e
            }(e, t, n) : function (e, t) {
                if (l.isBuffer(t)) {
                    var n = 0 | p(t.length);
                    return 0 === (e = s(e, n)).length ? e : (t.copy(e, 0, 0, n), e)
                }
                if (t) {
                    if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || (i = t.length) != i ? s(e, 0) : d(e, t);
                    if ("Buffer" === t.type && o(t.data)) return d(e, t.data)
                }
                var i;
                throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
            }(e, t)
        }

        function u(e) {
            if ("number" != typeof e) throw new TypeError('"size" argument must be a number');
            if (e < 0) throw new RangeError('"size" argument must not be negative')
        }

        function h(e, t) {
            if (u(t), e = s(e, t < 0 ? 0 : 0 | p(t)), !l.TYPED_ARRAY_SUPPORT)
                for (var n = 0; n < t; ++n) e[n] = 0;
            return e
        }

        function d(e, t) {
            var n = t.length < 0 ? 0 : 0 | p(t.length);
            e = s(e, n);
            for (var i = 0; i < n; i += 1) e[i] = 255 & t[i];
            return e
        }

        function p(e) {
            if (e >= a()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a().toString(16) + " bytes");
            return 0 | e
        }

        function f(e, t) {
            if (l.isBuffer(e)) return e.length;
            if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength;
            "string" != typeof e && (e = "" + e);
            var n = e.length;
            if (0 === n) return 0;
            for (var i = !1;;) switch (t) {
                case "ascii":
                case "latin1":
                case "binary":
                    return n;
                case "utf8":
                case "utf-8":
                case void 0:
                    return H(e).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return 2 * n;
                case "hex":
                    return n >>> 1;
                case "base64":
                    return F(e).length;
                default:
                    if (i) return H(e).length;
                    t = ("" + t).toLowerCase(), i = !0
            }
        }

        function m(e, t, n) {
            var i = !1;
            if ((void 0 === t || t < 0) && (t = 0), t > this.length) return "";
            if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return "";
            if ((n >>>= 0) <= (t >>>= 0)) return "";
            for (e || (e = "utf8");;) switch (e) {
                case "hex":
                    return C(this, t, n);
                case "utf8":
                case "utf-8":
                    return E(this, t, n);
                case "ascii":
                    return A(this, t, n);
                case "latin1":
                case "binary":
                    return P(this, t, n);
                case "base64":
                    return M(this, t, n);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return L(this, t, n);
                default:
                    if (i) throw new TypeError("Unknown encoding: " + e);
                    e = (e + "").toLowerCase(), i = !0
            }
        }

        function v(e, t, n) {
            var i = e[t];
            e[t] = e[n], e[n] = i
        }

        function g(e, t, n, i, r) {
            if (0 === e.length) return -1;
            if ("string" == typeof n ? (i = n, n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648), n = +n, isNaN(n) && (n = r ? 0 : e.length - 1), n < 0 && (n = e.length + n), n >= e.length) {
                if (r) return -1;
                n = e.length - 1
            } else if (n < 0) {
                if (!r) return -1;
                n = 0
            }
            if ("string" == typeof t && (t = l.from(t, i)), l.isBuffer(t)) return 0 === t.length ? -1 : y(e, t, n, i, r);
            if ("number" == typeof t) return t &= 255, l.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? r ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : y(e, [t], n, i, r);
            throw new TypeError("val must be string, number or Buffer")
        }

        function y(e, t, n, i, r) {
            var o, a = 1,
                s = e.length,
                l = t.length;
            if (void 0 !== i && ("ucs2" === (i = String(i).toLowerCase()) || "ucs-2" === i || "utf16le" === i || "utf-16le" === i)) {
                if (e.length < 2 || t.length < 2) return -1;
                a = 2, s /= 2, l /= 2, n /= 2
            }

            function c(e, t) {
                return 1 === a ? e[t] : e.readUInt16BE(t * a)
            }
            if (r) {
                var u = -1;
                for (o = n; o < s; o++)
                    if (c(e, o) === c(t, -1 === u ? 0 : o - u)) {
                        if (-1 === u && (u = o), o - u + 1 === l) return u * a
                    } else -1 !== u && (o -= o - u), u = -1
            } else
                for (n + l > s && (n = s - l), o = n; o >= 0; o--) {
                    for (var h = !0, d = 0; d < l; d++)
                        if (c(e, o + d) !== c(t, d)) {
                            h = !1;
                            break
                        } if (h) return o
                }
            return -1
        }

        function _(e, t, n, i) {
            n = Number(n) || 0;
            var r = e.length - n;
            i ? (i = Number(i)) > r && (i = r) : i = r;
            var o = t.length;
            if (o % 2 != 0) throw new TypeError("Invalid hex string");
            i > o / 2 && (i = o / 2);
            for (var a = 0; a < i; ++a) {
                var s = parseInt(t.substr(2 * a, 2), 16);
                if (isNaN(s)) return a;
                e[n + a] = s
            }
            return a
        }

        function b(e, t, n, i) {
            return U(H(t, e.length - n), e, n, i)
        }

        function w(e, t, n, i) {
            return U(function (e) {
                for (var t = [], n = 0; n < e.length; ++n) t.push(255 & e.charCodeAt(n));
                return t
            }(t), e, n, i)
        }

        function x(e, t, n, i) {
            return w(e, t, n, i)
        }

        function T(e, t, n, i) {
            return U(F(t), e, n, i)
        }

        function S(e, t, n, i) {
            return U(function (e, t) {
                for (var n, i, r, o = [], a = 0; a < e.length && !((t -= 2) < 0); ++a) n = e.charCodeAt(a), i = n >> 8, r = n % 256, o.push(r), o.push(i);
                return o
            }(t, e.length - n), e, n, i)
        }

        function M(e, t, n) {
            return 0 === t && n === e.length ? i.fromByteArray(e) : i.fromByteArray(e.slice(t, n))
        }

        function E(e, t, n) {
            n = Math.min(e.length, n);
            for (var i = [], r = t; r < n;) {
                var o, a, s, l, c = e[r],
                    u = null,
                    h = c > 239 ? 4 : c > 223 ? 3 : c > 191 ? 2 : 1;
                if (r + h <= n) switch (h) {
                    case 1:
                        c < 128 && (u = c);
                        break;
                    case 2:
                        128 == (192 & (o = e[r + 1])) && (l = (31 & c) << 6 | 63 & o) > 127 && (u = l);
                        break;
                    case 3:
                        o = e[r + 1], a = e[r + 2], 128 == (192 & o) && 128 == (192 & a) && (l = (15 & c) << 12 | (63 & o) << 6 | 63 & a) > 2047 && (l < 55296 || l > 57343) && (u = l);
                        break;
                    case 4:
                        o = e[r + 1], a = e[r + 2], s = e[r + 3], 128 == (192 & o) && 128 == (192 & a) && 128 == (192 & s) && (l = (15 & c) << 18 | (63 & o) << 12 | (63 & a) << 6 | 63 & s) > 65535 && l < 1114112 && (u = l)
                }
                null === u ? (u = 65533, h = 1) : u > 65535 && (u -= 65536, i.push(u >>> 10 & 1023 | 55296), u = 56320 | 1023 & u), i.push(u), r += h
            }
            return function (e) {
                var t = e.length;
                if (t <= 4096) return String.fromCharCode.apply(String, e);
                var n = "",
                    i = 0;
                for (; i < t;) n += String.fromCharCode.apply(String, e.slice(i, i += 4096));
                return n
            }(i)
        }
        t.Buffer = l, t.SlowBuffer = function (e) {
            +e != e && (e = 0);
            return l.alloc(+e)
        }, t.INSPECT_MAX_BYTES = 50, l.TYPED_ARRAY_SUPPORT = void 0 !== e.TYPED_ARRAY_SUPPORT ? e.TYPED_ARRAY_SUPPORT : function () {
            try {
                var e = new Uint8Array(1);
                return e.__proto__ = {
                    __proto__: Uint8Array.prototype,
                    foo: function () {
                        return 42
                    }
                }, 42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
            } catch (e) {
                return !1
            }
        }(), t.kMaxLength = a(), l.poolSize = 8192, l._augment = function (e) {
            return e.__proto__ = l.prototype, e
        }, l.from = function (e, t, n) {
            return c(null, e, t, n)
        }, l.TYPED_ARRAY_SUPPORT && (l.prototype.__proto__ = Uint8Array.prototype, l.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && l[Symbol.species] === l && Object.defineProperty(l, Symbol.species, {
            value: null,
            configurable: !0
        })), l.alloc = function (e, t, n) {
            return function (e, t, n, i) {
                return u(t), t <= 0 ? s(e, t) : void 0 !== n ? "string" == typeof i ? s(e, t).fill(n, i) : s(e, t).fill(n) : s(e, t)
            }(null, e, t, n)
        }, l.allocUnsafe = function (e) {
            return h(null, e)
        }, l.allocUnsafeSlow = function (e) {
            return h(null, e)
        }, l.isBuffer = function (e) {
            return !(null == e || !e._isBuffer)
        }, l.compare = function (e, t) {
            if (!l.isBuffer(e) || !l.isBuffer(t)) throw new TypeError("Arguments must be Buffers");
            if (e === t) return 0;
            for (var n = e.length, i = t.length, r = 0, o = Math.min(n, i); r < o; ++r)
                if (e[r] !== t[r]) {
                    n = e[r], i = t[r];
                    break
                } return n < i ? -1 : i < n ? 1 : 0
        }, l.isEncoding = function (e) {
            switch (String(e).toLowerCase()) {
                case "hex":
                case "utf8":
                case "utf-8":
                case "ascii":
                case "latin1":
                case "binary":
                case "base64":
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return !0;
                default:
                    return !1
            }
        }, l.concat = function (e, t) {
            if (!o(e)) throw new TypeError('"list" argument must be an Array of Buffers');
            if (0 === e.length) return l.alloc(0);
            var n;
            if (void 0 === t)
                for (t = 0, n = 0; n < e.length; ++n) t += e[n].length;
            var i = l.allocUnsafe(t),
                r = 0;
            for (n = 0; n < e.length; ++n) {
                var a = e[n];
                if (!l.isBuffer(a)) throw new TypeError('"list" argument must be an Array of Buffers');
                a.copy(i, r), r += a.length
            }
            return i
        }, l.byteLength = f, l.prototype._isBuffer = !0, l.prototype.swap16 = function () {
            var e = this.length;
            if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var t = 0; t < e; t += 2) v(this, t, t + 1);
            return this
        }, l.prototype.swap32 = function () {
            var e = this.length;
            if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var t = 0; t < e; t += 4) v(this, t, t + 3), v(this, t + 1, t + 2);
            return this
        }, l.prototype.swap64 = function () {
            var e = this.length;
            if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var t = 0; t < e; t += 8) v(this, t, t + 7), v(this, t + 1, t + 6), v(this, t + 2, t + 5), v(this, t + 3, t + 4);
            return this
        }, l.prototype.toString = function () {
            var e = 0 | this.length;
            return 0 === e ? "" : 0 === arguments.length ? E(this, 0, e) : m.apply(this, arguments)
        }, l.prototype.equals = function (e) {
            if (!l.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
            return this === e || 0 === l.compare(this, e)
        }, l.prototype.inspect = function () {
            var e = "",
                n = t.INSPECT_MAX_BYTES;
            return this.length > 0 && (e = this.toString("hex", 0, n).match(/.{2}/g).join(" "), this.length > n && (e += " ... ")), "<Buffer " + e + ">"
        }, l.prototype.compare = function (e, t, n, i, r) {
            if (!l.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
            if (void 0 === t && (t = 0), void 0 === n && (n = e ? e.length : 0), void 0 === i && (i = 0), void 0 === r && (r = this.length), t < 0 || n > e.length || i < 0 || r > this.length) throw new RangeError("out of range index");
            if (i >= r && t >= n) return 0;
            if (i >= r) return -1;
            if (t >= n) return 1;
            if (this === e) return 0;
            for (var o = (r >>>= 0) - (i >>>= 0), a = (n >>>= 0) - (t >>>= 0), s = Math.min(o, a), c = this.slice(i, r), u = e.slice(t, n), h = 0; h < s; ++h)
                if (c[h] !== u[h]) {
                    o = c[h], a = u[h];
                    break
                } return o < a ? -1 : a < o ? 1 : 0
        }, l.prototype.includes = function (e, t, n) {
            return -1 !== this.indexOf(e, t, n)
        }, l.prototype.indexOf = function (e, t, n) {
            return g(this, e, t, n, !0)
        }, l.prototype.lastIndexOf = function (e, t, n) {
            return g(this, e, t, n, !1)
        }, l.prototype.write = function (e, t, n, i) {
            if (void 0 === t) i = "utf8", n = this.length, t = 0;
            else if (void 0 === n && "string" == typeof t) i = t, n = this.length, t = 0;
            else {
                if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                t |= 0, isFinite(n) ? (n |= 0, void 0 === i && (i = "utf8")) : (i = n, n = void 0)
            }
            var r = this.length - t;
            if ((void 0 === n || n > r) && (n = r), e.length > 0 && (n < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds");
            i || (i = "utf8");
            for (var o = !1;;) switch (i) {
                case "hex":
                    return _(this, e, t, n);
                case "utf8":
                case "utf-8":
                    return b(this, e, t, n);
                case "ascii":
                    return w(this, e, t, n);
                case "latin1":
                case "binary":
                    return x(this, e, t, n);
                case "base64":
                    return T(this, e, t, n);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return S(this, e, t, n);
                default:
                    if (o) throw new TypeError("Unknown encoding: " + i);
                    i = ("" + i).toLowerCase(), o = !0
            }
        }, l.prototype.toJSON = function () {
            return {
                type: "Buffer",
                data: Array.prototype.slice.call(this._arr || this, 0)
            }
        };

        function A(e, t, n) {
            var i = "";
            n = Math.min(e.length, n);
            for (var r = t; r < n; ++r) i += String.fromCharCode(127 & e[r]);
            return i
        }

        function P(e, t, n) {
            var i = "";
            n = Math.min(e.length, n);
            for (var r = t; r < n; ++r) i += String.fromCharCode(e[r]);
            return i
        }

        function C(e, t, n) {
            var i = e.length;
            (!t || t < 0) && (t = 0), (!n || n < 0 || n > i) && (n = i);
            for (var r = "", o = t; o < n; ++o) r += j(e[o]);
            return r
        }

        function L(e, t, n) {
            for (var i = e.slice(t, n), r = "", o = 0; o < i.length; o += 2) r += String.fromCharCode(i[o] + 256 * i[o + 1]);
            return r
        }

        function O(e, t, n) {
            if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
            if (e + t > n) throw new RangeError("Trying to access beyond buffer length")
        }

        function R(e, t, n, i, r, o) {
            if (!l.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance');
            if (t > r || t < o) throw new RangeError('"value" argument is out of bounds');
            if (n + i > e.length) throw new RangeError("Index out of range")
        }

        function k(e, t, n, i) {
            t < 0 && (t = 65535 + t + 1);
            for (var r = 0, o = Math.min(e.length - n, 2); r < o; ++r) e[n + r] = (t & 255 << 8 * (i ? r : 1 - r)) >>> 8 * (i ? r : 1 - r)
        }

        function I(e, t, n, i) {
            t < 0 && (t = 4294967295 + t + 1);
            for (var r = 0, o = Math.min(e.length - n, 4); r < o; ++r) e[n + r] = t >>> 8 * (i ? r : 3 - r) & 255
        }

        function D(e, t, n, i, r, o) {
            if (n + i > e.length) throw new RangeError("Index out of range");
            if (n < 0) throw new RangeError("Index out of range")
        }

        function B(e, t, n, i, o) {
            return o || D(e, 0, n, 4), r.write(e, t, n, i, 23, 4), n + 4
        }

        function N(e, t, n, i, o) {
            return o || D(e, 0, n, 8), r.write(e, t, n, i, 52, 8), n + 8
        }
        l.prototype.slice = function (e, t) {
            var n, i = this.length;
            if ((e = ~~e) < 0 ? (e += i) < 0 && (e = 0) : e > i && (e = i), (t = void 0 === t ? i : ~~t) < 0 ? (t += i) < 0 && (t = 0) : t > i && (t = i), t < e && (t = e), l.TYPED_ARRAY_SUPPORT)(n = this.subarray(e, t)).__proto__ = l.prototype;
            else {
                var r = t - e;
                n = new l(r, void 0);
                for (var o = 0; o < r; ++o) n[o] = this[o + e]
            }
            return n
        }, l.prototype.readUIntLE = function (e, t, n) {
            e |= 0, t |= 0, n || O(e, t, this.length);
            for (var i = this[e], r = 1, o = 0; ++o < t && (r *= 256);) i += this[e + o] * r;
            return i
        }, l.prototype.readUIntBE = function (e, t, n) {
            e |= 0, t |= 0, n || O(e, t, this.length);
            for (var i = this[e + --t], r = 1; t > 0 && (r *= 256);) i += this[e + --t] * r;
            return i
        }, l.prototype.readUInt8 = function (e, t) {
            return t || O(e, 1, this.length), this[e]
        }, l.prototype.readUInt16LE = function (e, t) {
            return t || O(e, 2, this.length), this[e] | this[e + 1] << 8
        }, l.prototype.readUInt16BE = function (e, t) {
            return t || O(e, 2, this.length), this[e] << 8 | this[e + 1]
        }, l.prototype.readUInt32LE = function (e, t) {
            return t || O(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
        }, l.prototype.readUInt32BE = function (e, t) {
            return t || O(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
        }, l.prototype.readIntLE = function (e, t, n) {
            e |= 0, t |= 0, n || O(e, t, this.length);
            for (var i = this[e], r = 1, o = 0; ++o < t && (r *= 256);) i += this[e + o] * r;
            return i >= (r *= 128) && (i -= Math.pow(2, 8 * t)), i
        }, l.prototype.readIntBE = function (e, t, n) {
            e |= 0, t |= 0, n || O(e, t, this.length);
            for (var i = t, r = 1, o = this[e + --i]; i > 0 && (r *= 256);) o += this[e + --i] * r;
            return o >= (r *= 128) && (o -= Math.pow(2, 8 * t)), o
        }, l.prototype.readInt8 = function (e, t) {
            return t || O(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
        }, l.prototype.readInt16LE = function (e, t) {
            t || O(e, 2, this.length);
            var n = this[e] | this[e + 1] << 8;
            return 32768 & n ? 4294901760 | n : n
        }, l.prototype.readInt16BE = function (e, t) {
            t || O(e, 2, this.length);
            var n = this[e + 1] | this[e] << 8;
            return 32768 & n ? 4294901760 | n : n
        }, l.prototype.readInt32LE = function (e, t) {
            return t || O(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
        }, l.prototype.readInt32BE = function (e, t) {
            return t || O(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
        }, l.prototype.readFloatLE = function (e, t) {
            return t || O(e, 4, this.length), r.read(this, e, !0, 23, 4)
        }, l.prototype.readFloatBE = function (e, t) {
            return t || O(e, 4, this.length), r.read(this, e, !1, 23, 4)
        }, l.prototype.readDoubleLE = function (e, t) {
            return t || O(e, 8, this.length), r.read(this, e, !0, 52, 8)
        }, l.prototype.readDoubleBE = function (e, t) {
            return t || O(e, 8, this.length), r.read(this, e, !1, 52, 8)
        }, l.prototype.writeUIntLE = function (e, t, n, i) {
            (e = +e, t |= 0, n |= 0, i) || R(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
            var r = 1,
                o = 0;
            for (this[t] = 255 & e; ++o < n && (r *= 256);) this[t + o] = e / r & 255;
            return t + n
        }, l.prototype.writeUIntBE = function (e, t, n, i) {
            (e = +e, t |= 0, n |= 0, i) || R(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
            var r = n - 1,
                o = 1;
            for (this[t + r] = 255 & e; --r >= 0 && (o *= 256);) this[t + r] = e / o & 255;
            return t + n
        }, l.prototype.writeUInt8 = function (e, t, n) {
            return e = +e, t |= 0, n || R(this, e, t, 1, 255, 0), l.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), this[t] = 255 & e, t + 1
        }, l.prototype.writeUInt16LE = function (e, t, n) {
            return e = +e, t |= 0, n || R(this, e, t, 2, 65535, 0), l.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : k(this, e, t, !0), t + 2
        }, l.prototype.writeUInt16BE = function (e, t, n) {
            return e = +e, t |= 0, n || R(this, e, t, 2, 65535, 0), l.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : k(this, e, t, !1), t + 2
        }, l.prototype.writeUInt32LE = function (e, t, n) {
            return e = +e, t |= 0, n || R(this, e, t, 4, 4294967295, 0), l.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e) : I(this, e, t, !0), t + 4
        }, l.prototype.writeUInt32BE = function (e, t, n) {
            return e = +e, t |= 0, n || R(this, e, t, 4, 4294967295, 0), l.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : I(this, e, t, !1), t + 4
        }, l.prototype.writeIntLE = function (e, t, n, i) {
            if (e = +e, t |= 0, !i) {
                var r = Math.pow(2, 8 * n - 1);
                R(this, e, t, n, r - 1, -r)
            }
            var o = 0,
                a = 1,
                s = 0;
            for (this[t] = 255 & e; ++o < n && (a *= 256);) e < 0 && 0 === s && 0 !== this[t + o - 1] && (s = 1), this[t + o] = (e / a >> 0) - s & 255;
            return t + n
        }, l.prototype.writeIntBE = function (e, t, n, i) {
            if (e = +e, t |= 0, !i) {
                var r = Math.pow(2, 8 * n - 1);
                R(this, e, t, n, r - 1, -r)
            }
            var o = n - 1,
                a = 1,
                s = 0;
            for (this[t + o] = 255 & e; --o >= 0 && (a *= 256);) e < 0 && 0 === s && 0 !== this[t + o + 1] && (s = 1), this[t + o] = (e / a >> 0) - s & 255;
            return t + n
        }, l.prototype.writeInt8 = function (e, t, n) {
            return e = +e, t |= 0, n || R(this, e, t, 1, 127, -128), l.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1
        }, l.prototype.writeInt16LE = function (e, t, n) {
            return e = +e, t |= 0, n || R(this, e, t, 2, 32767, -32768), l.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : k(this, e, t, !0), t + 2
        }, l.prototype.writeInt16BE = function (e, t, n) {
            return e = +e, t |= 0, n || R(this, e, t, 2, 32767, -32768), l.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : k(this, e, t, !1), t + 2
        }, l.prototype.writeInt32LE = function (e, t, n) {
            return e = +e, t |= 0, n || R(this, e, t, 4, 2147483647, -2147483648), l.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24) : I(this, e, t, !0), t + 4
        }, l.prototype.writeInt32BE = function (e, t, n) {
            return e = +e, t |= 0, n || R(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), l.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : I(this, e, t, !1), t + 4
        }, l.prototype.writeFloatLE = function (e, t, n) {
            return B(this, e, t, !0, n)
        }, l.prototype.writeFloatBE = function (e, t, n) {
            return B(this, e, t, !1, n)
        }, l.prototype.writeDoubleLE = function (e, t, n) {
            return N(this, e, t, !0, n)
        }, l.prototype.writeDoubleBE = function (e, t, n) {
            return N(this, e, t, !1, n)
        }, l.prototype.copy = function (e, t, n, i) {
            if (n || (n = 0), i || 0 === i || (i = this.length), t >= e.length && (t = e.length), t || (t = 0), i > 0 && i < n && (i = n), i === n) return 0;
            if (0 === e.length || 0 === this.length) return 0;
            if (t < 0) throw new RangeError("targetStart out of bounds");
            if (n < 0 || n >= this.length) throw new RangeError("sourceStart out of bounds");
            if (i < 0) throw new RangeError("sourceEnd out of bounds");
            i > this.length && (i = this.length), e.length - t < i - n && (i = e.length - t + n);
            var r, o = i - n;
            if (this === e && n < t && t < i)
                for (r = o - 1; r >= 0; --r) e[r + t] = this[r + n];
            else if (o < 1e3 || !l.TYPED_ARRAY_SUPPORT)
                for (r = 0; r < o; ++r) e[r + t] = this[r + n];
            else Uint8Array.prototype.set.call(e, this.subarray(n, n + o), t);
            return o
        }, l.prototype.fill = function (e, t, n, i) {
            if ("string" == typeof e) {
                if ("string" == typeof t ? (i = t, t = 0, n = this.length) : "string" == typeof n && (i = n, n = this.length), 1 === e.length) {
                    var r = e.charCodeAt(0);
                    r < 256 && (e = r)
                }
                if (void 0 !== i && "string" != typeof i) throw new TypeError("encoding must be a string");
                if ("string" == typeof i && !l.isEncoding(i)) throw new TypeError("Unknown encoding: " + i)
            } else "number" == typeof e && (e &= 255);
            if (t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index");
            if (n <= t) return this;
            var o;
            if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, e || (e = 0), "number" == typeof e)
                for (o = t; o < n; ++o) this[o] = e;
            else {
                var a = l.isBuffer(e) ? e : H(new l(e, i).toString()),
                    s = a.length;
                for (o = 0; o < n - t; ++o) this[o + t] = a[o % s]
            }
            return this
        };
        var G = /[^+\/0-9A-Za-z-_]/g;

        function j(e) {
            return e < 16 ? "0" + e.toString(16) : e.toString(16)
        }

        function H(e, t) {
            var n;
            t = t || 1 / 0;
            for (var i = e.length, r = null, o = [], a = 0; a < i; ++a) {
                if ((n = e.charCodeAt(a)) > 55295 && n < 57344) {
                    if (!r) {
                        if (n > 56319) {
                            (t -= 3) > -1 && o.push(239, 191, 189);
                            continue
                        }
                        if (a + 1 === i) {
                            (t -= 3) > -1 && o.push(239, 191, 189);
                            continue
                        }
                        r = n;
                        continue
                    }
                    if (n < 56320) {
                        (t -= 3) > -1 && o.push(239, 191, 189), r = n;
                        continue
                    }
                    n = 65536 + (r - 55296 << 10 | n - 56320)
                } else r && (t -= 3) > -1 && o.push(239, 191, 189);
                if (r = null, n < 128) {
                    if ((t -= 1) < 0) break;
                    o.push(n)
                } else if (n < 2048) {
                    if ((t -= 2) < 0) break;
                    o.push(n >> 6 | 192, 63 & n | 128)
                } else if (n < 65536) {
                    if ((t -= 3) < 0) break;
                    o.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
                } else {
                    if (!(n < 1114112)) throw new Error("Invalid code point");
                    if ((t -= 4) < 0) break;
                    o.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
                }
            }
            return o
        }

        function F(e) {
            return i.toByteArray(function (e) {
                if ((e = function (e) {
                        return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
                    }(e).replace(G, "")).length < 2) return "";
                for (; e.length % 4 != 0;) e += "=";
                return e
            }(e))
        }

        function U(e, t, n, i) {
            for (var r = 0; r < i && !(r + n >= t.length || r >= e.length); ++r) t[r + n] = e[r];
            return r
        }
    }).call(this, n(25))
}, function (e, t, n) {
    "use strict";
    var i = n(85);
    e.exports = Function.prototype.bind || i
}, function (e, t, n) {
    "use strict";
    var i = Function.prototype.toString,
        r = /^\s*class\b/,
        o = function (e) {
            try {
                var t = i.call(e);
                return r.test(t)
            } catch (e) {
                return !1
            }
        },
        a = Object.prototype.toString,
        s = "function" == typeof Symbol && "symbol" == typeof Symbol.toStringTag;
    e.exports = function (e) {
        if (!e) return !1;
        if ("function" != typeof e && "object" != typeof e) return !1;
        if ("function" == typeof e && !e.prototype) return !0;
        if (s) return function (e) {
            try {
                return !o(e) && (i.call(e), !0)
            } catch (e) {
                return !1
            }
        }(e);
        if (o(e)) return !1;
        var t = a.call(e);
        return "[object Function]" === t || "[object GeneratorFunction]" === t
    }
}, function (e, t, n) {
    var i = n(15),
        r = n(48);
    e.exports = n(16) ? function (e, t, n) {
        return i.f(e, t, r(1, n))
    } : function (e, t, n) {
        return e[t] = n, e
    }
}, function (e, t) {
    e.exports = function (e) {
        return "object" == typeof e ? null !== e : "function" == typeof e
    }
}, function (e, t, n) {
    var i = n(203),
        r = n(61);
    e.exports = function (e) {
        return i(r(e))
    }
}, function (e, t, n) {
    var i = n(66)("wks"),
        r = n(53),
        o = n(13).Symbol,
        a = "function" == typeof o;
    (e.exports = function (e) {
        return i[e] || (i[e] = a && o[e] || (a ? o : r)("Symbol." + e))
    }).store = i
}, function (e, t) {
    var n;
    n = function () {
        return this
    }();
    try {
        n = n || new Function("return this")()
    } catch (e) {
        "object" == typeof window && (n = window)
    }
    e.exports = n
}, function (e, t) {
    e.exports = function (e) {
        if (null == e) throw new TypeError("Cannot destructure undefined")
    }
}, function (e, t, n) {
    var i = n(13),
        r = n(14),
        o = n(111),
        a = n(21),
        s = n(17),
        l = function (e, t, n) {
            var c, u, h, d = e & l.F,
                p = e & l.G,
                f = e & l.S,
                m = e & l.P,
                v = e & l.B,
                g = e & l.W,
                y = p ? r : r[t] || (r[t] = {}),
                _ = y.prototype,
                b = p ? i : f ? i[t] : (i[t] || {}).prototype;
            for (c in p && (n = t), n)(u = !d && b && void 0 !== b[c]) && s(y, c) || (h = u ? b[c] : n[c], y[c] = p && "function" != typeof b[c] ? n[c] : v && u ? o(h, i) : g && b[c] == h ? function (e) {
                var t = function (t, n, i) {
                    if (this instanceof e) {
                        switch (arguments.length) {
                            case 0:
                                return new e;
                            case 1:
                                return new e(t);
                            case 2:
                                return new e(t, n)
                        }
                        return new e(t, n, i)
                    }
                    return e.apply(this, arguments)
                };
                return t.prototype = e.prototype, t
            }(h) : m && "function" == typeof h ? o(Function.call, h) : h, m && ((y.virtual || (y.virtual = {}))[c] = h, e & l.R && _ && !_[c] && a(_, c, h)))
        };
    l.F = 1, l.G = 2, l.S = 4, l.P = 8, l.B = 16, l.W = 32, l.U = 64, l.R = 128, e.exports = l
}, function (e, t, n) {
    var i = n(22);
    e.exports = function (e) {
        if (!i(e)) throw TypeError(e + " is not an object!");
        return e
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }
}, function (e, t, n) {
    "use strict";
    var i = n(86),
        r = "function" == typeof Symbol && "symbol" == typeof Symbol("foo"),
        o = Object.prototype.toString,
        a = Array.prototype.concat,
        s = Object.defineProperty,
        l = s && function () {
            var e = {};
            try {
                for (var t in s(e, "x", {
                        enumerable: !1,
                        value: e
                    }), e) return !1;
                return e.x === e
            } catch (e) {
                return !1
            }
        }(),
        c = function (e, t, n, i) {
            var r;
            t in e && ("function" != typeof (r = i) || "[object Function]" !== o.call(r) || !i()) || (l ? s(e, t, {
                configurable: !0,
                enumerable: !1,
                value: n,
                writable: !0
            }) : e[t] = n)
        },
        u = function (e, t) {
            var n = arguments.length > 2 ? arguments[2] : {},
                o = i(t);
            r && (o = a.call(o, Object.getOwnPropertySymbols(t)));
            for (var s = 0; s < o.length; s += 1) c(e, o[s], t[o[s]], n[o[s]])
        };
    u.supportsDescriptors = !!l, e.exports = u
}, function (e, t, n) {
    "use strict";
    var i = Object.prototype.toString;
    e.exports = function (e) {
        var t = i.call(e),
            n = "[object Arguments]" === t;
        return n || (n = "[object Array]" !== t && null !== e && "object" == typeof e && "number" == typeof e.length && e.length >= 0 && "[object Function]" === i.call(e.callee)), n
    }
}, function (e, t, n) {
    "use strict";
    var i = n(19),
        r = n(88),
        o = i.call(Function.call, String.prototype.replace),
        a = /^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,
        s = /[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;
    e.exports = function () {
        var e = r.ToString(r.CheckObjectCoercible(this));
        return o(o(e, a, ""), s, "")
    }
}, function (e, t, n) {
    "use strict";
    var i = Object.getOwnPropertyDescriptor ? function () {
            return Object.getOwnPropertyDescriptor(arguments, "callee").get
        }() : function () {
            throw new TypeError
        },
        r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator,
        o = Object.getPrototypeOf || function (e) {
            return e.__proto__
        },
        a = void 0,
        s = "undefined" == typeof Uint8Array ? void 0 : o(Uint8Array),
        l = {
            "$ %Array%": Array,
            "$ %ArrayBuffer%": "undefined" == typeof ArrayBuffer ? void 0 : ArrayBuffer,
            "$ %ArrayBufferPrototype%": "undefined" == typeof ArrayBuffer ? void 0 : ArrayBuffer.prototype,
            "$ %ArrayIteratorPrototype%": r ? o([][Symbol.iterator]()) : void 0,
            "$ %ArrayPrototype%": Array.prototype,
            "$ %ArrayProto_entries%": Array.prototype.entries,
            "$ %ArrayProto_forEach%": Array.prototype.forEach,
            "$ %ArrayProto_keys%": Array.prototype.keys,
            "$ %ArrayProto_values%": Array.prototype.values,
            "$ %AsyncFromSyncIteratorPrototype%": void 0,
            "$ %AsyncFunction%": void 0,
            "$ %AsyncFunctionPrototype%": void 0,
            "$ %AsyncGenerator%": void 0,
            "$ %AsyncGeneratorFunction%": void 0,
            "$ %AsyncGeneratorPrototype%": void 0,
            "$ %AsyncIteratorPrototype%": a && r && Symbol.asyncIterator ? a[Symbol.asyncIterator]() : void 0,
            "$ %Atomics%": "undefined" == typeof Atomics ? void 0 : Atomics,
            "$ %Boolean%": Boolean,
            "$ %BooleanPrototype%": Boolean.prototype,
            "$ %DataView%": "undefined" == typeof DataView ? void 0 : DataView,
            "$ %DataViewPrototype%": "undefined" == typeof DataView ? void 0 : DataView.prototype,
            "$ %Date%": Date,
            "$ %DatePrototype%": Date.prototype,
            "$ %decodeURI%": decodeURI,
            "$ %decodeURIComponent%": decodeURIComponent,
            "$ %encodeURI%": encodeURI,
            "$ %encodeURIComponent%": encodeURIComponent,
            "$ %Error%": Error,
            "$ %ErrorPrototype%": Error.prototype,
            "$ %eval%": eval,
            "$ %EvalError%": EvalError,
            "$ %EvalErrorPrototype%": EvalError.prototype,
            "$ %Float32Array%": "undefined" == typeof Float32Array ? void 0 : Float32Array,
            "$ %Float32ArrayPrototype%": "undefined" == typeof Float32Array ? void 0 : Float32Array.prototype,
            "$ %Float64Array%": "undefined" == typeof Float64Array ? void 0 : Float64Array,
            "$ %Float64ArrayPrototype%": "undefined" == typeof Float64Array ? void 0 : Float64Array.prototype,
            "$ %Function%": Function,
            "$ %FunctionPrototype%": Function.prototype,
            "$ %Generator%": void 0,
            "$ %GeneratorFunction%": void 0,
            "$ %GeneratorPrototype%": void 0,
            "$ %Int8Array%": "undefined" == typeof Int8Array ? void 0 : Int8Array,
            "$ %Int8ArrayPrototype%": "undefined" == typeof Int8Array ? void 0 : Int8Array.prototype,
            "$ %Int16Array%": "undefined" == typeof Int16Array ? void 0 : Int16Array,
            "$ %Int16ArrayPrototype%": "undefined" == typeof Int16Array ? void 0 : Int8Array.prototype,
            "$ %Int32Array%": "undefined" == typeof Int32Array ? void 0 : Int32Array,
            "$ %Int32ArrayPrototype%": "undefined" == typeof Int32Array ? void 0 : Int32Array.prototype,
            "$ %isFinite%": isFinite,
            "$ %isNaN%": isNaN,
            "$ %IteratorPrototype%": r ? o(o([][Symbol.iterator]())) : void 0,
            "$ %JSON%": JSON,
            "$ %JSONParse%": JSON.parse,
            "$ %Map%": "undefined" == typeof Map ? void 0 : Map,
            "$ %MapIteratorPrototype%": "undefined" != typeof Map && r ? o((new Map)[Symbol.iterator]()) : void 0,
            "$ %MapPrototype%": "undefined" == typeof Map ? void 0 : Map.prototype,
            "$ %Math%": Math,
            "$ %Number%": Number,
            "$ %NumberPrototype%": Number.prototype,
            "$ %Object%": Object,
            "$ %ObjectPrototype%": Object.prototype,
            "$ %ObjProto_toString%": Object.prototype.toString,
            "$ %ObjProto_valueOf%": Object.prototype.valueOf,
            "$ %parseFloat%": parseFloat,
            "$ %parseInt%": parseInt,
            "$ %Promise%": "undefined" == typeof Promise ? void 0 : Promise,
            "$ %PromisePrototype%": "undefined" == typeof Promise ? void 0 : Promise.prototype,
            "$ %PromiseProto_then%": "undefined" == typeof Promise ? void 0 : Promise.prototype.then,
            "$ %Promise_all%": "undefined" == typeof Promise ? void 0 : Promise.all,
            "$ %Promise_reject%": "undefined" == typeof Promise ? void 0 : Promise.reject,
            "$ %Promise_resolve%": "undefined" == typeof Promise ? void 0 : Promise.resolve,
            "$ %Proxy%": "undefined" == typeof Proxy ? void 0 : Proxy,
            "$ %RangeError%": RangeError,
            "$ %RangeErrorPrototype%": RangeError.prototype,
            "$ %ReferenceError%": ReferenceError,
            "$ %ReferenceErrorPrototype%": ReferenceError.prototype,
            "$ %Reflect%": "undefined" == typeof Reflect ? void 0 : Reflect,
            "$ %RegExp%": RegExp,
            "$ %RegExpPrototype%": RegExp.prototype,
            "$ %Set%": "undefined" == typeof Set ? void 0 : Set,
            "$ %SetIteratorPrototype%": "undefined" != typeof Set && r ? o((new Set)[Symbol.iterator]()) : void 0,
            "$ %SetPrototype%": "undefined" == typeof Set ? void 0 : Set.prototype,
            "$ %SharedArrayBuffer%": "undefined" == typeof SharedArrayBuffer ? void 0 : SharedArrayBuffer,
            "$ %SharedArrayBufferPrototype%": "undefined" == typeof SharedArrayBuffer ? void 0 : SharedArrayBuffer.prototype,
            "$ %String%": String,
            "$ %StringIteratorPrototype%": r ? o("" [Symbol.iterator]()) : void 0,
            "$ %StringPrototype%": String.prototype,
            "$ %Symbol%": r ? Symbol : void 0,
            "$ %SymbolPrototype%": r ? Symbol.prototype : void 0,
            "$ %SyntaxError%": SyntaxError,
            "$ %SyntaxErrorPrototype%": SyntaxError.prototype,
            "$ %ThrowTypeError%": i,
            "$ %TypedArray%": s,
            "$ %TypedArrayPrototype%": s ? s.prototype : void 0,
            "$ %TypeError%": TypeError,
            "$ %TypeErrorPrototype%": TypeError.prototype,
            "$ %Uint8Array%": "undefined" == typeof Uint8Array ? void 0 : Uint8Array,
            "$ %Uint8ArrayPrototype%": "undefined" == typeof Uint8Array ? void 0 : Uint8Array.prototype,
            "$ %Uint8ClampedArray%": "undefined" == typeof Uint8ClampedArray ? void 0 : Uint8ClampedArray,
            "$ %Uint8ClampedArrayPrototype%": "undefined" == typeof Uint8ClampedArray ? void 0 : Uint8ClampedArray.prototype,
            "$ %Uint16Array%": "undefined" == typeof Uint16Array ? void 0 : Uint16Array,
            "$ %Uint16ArrayPrototype%": "undefined" == typeof Uint16Array ? void 0 : Uint16Array.prototype,
            "$ %Uint32Array%": "undefined" == typeof Uint32Array ? void 0 : Uint32Array,
            "$ %Uint32ArrayPrototype%": "undefined" == typeof Uint32Array ? void 0 : Uint32Array.prototype,
            "$ %URIError%": URIError,
            "$ %URIErrorPrototype%": URIError.prototype,
            "$ %WeakMap%": "undefined" == typeof WeakMap ? void 0 : WeakMap,
            "$ %WeakMapPrototype%": "undefined" == typeof WeakMap ? void 0 : WeakMap.prototype,
            "$ %WeakSet%": "undefined" == typeof WeakSet ? void 0 : WeakSet,
            "$ %WeakSetPrototype%": "undefined" == typeof WeakSet ? void 0 : WeakSet.prototype
        };
    e.exports = function (e, t) {
        if (arguments.length > 1 && "boolean" != typeof t) throw new TypeError('"allowMissing" argument must be a boolean');
        var n = "$ " + e;
        if (!(n in l)) throw new SyntaxError("intrinsic " + e + " does not exist!");
        if (void 0 === l[n] && !t) throw new TypeError("intrinsic " + e + " exists, but is not available. Please file an issue!");
        return l[n]
    }
}, function (e, t, n) {
    "use strict";
    var i = n(19);
    e.exports = i.call(Function.call, Object.prototype.hasOwnProperty)
}, function (e, t, n) {
    "use strict";
    var i = n(32);
    e.exports = function () {
        return String.prototype.trim && "​" === "​".trim() ? String.prototype.trim : i
    }
}, function (e, t) {
    e.exports = function () {
        for (var e = {}, t = 0; t < arguments.length; t++) {
            var i = arguments[t];
            for (var r in i) n.call(i, r) && (e[r] = i[r])
        }
        return e
    };
    var n = Object.prototype.hasOwnProperty
}, function (e, t, n) {
    var i, r, o, a, s;
    e.exports = (r = [], o = document, a = o.documentElement.doScroll, (s = (a ? /^loaded|^c/ : /^loaded|^i|^c/).test(o.readyState)) || o.addEventListener("DOMContentLoaded", i = function () {
        for (o.removeEventListener("DOMContentLoaded", i), s = 1; i = r.shift();) i()
    }), function (e) {
        s ? setTimeout(e, 0) : r.push(e)
    })
}, function (e, t, n) {
    (e.exports ? function (t) {
        e.exports = t()
    } : n(76))((function () {
        "use strict";
        var e, t = {
                mobileDetectRules: {
                    phones: {
                        iPhone: "\\biPhone\\b|\\biPod\\b",
                        BlackBerry: "BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",
                        HTC: "HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",
                        Nexus: "Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",
                        Dell: "Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",
                        Motorola: "Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",
                        Samsung: "\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F",
                        LG: "\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",
                        Sony: "SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",
                        Asus: "Asus.*Galaxy|PadFone.*Mobile",
                        NokiaLumia: "Lumia [0-9]{3,4}",
                        Micromax: "Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",
                        Palm: "PalmSource|Palm",
                        Vertu: "Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",
                        Pantech: "PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",
                        Fly: "IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",
                        Wiko: "KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",
                        iMobile: "i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",
                        SimValley: "\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",
                        Wolfgang: "AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",
                        Alcatel: "Alcatel",
                        Nintendo: "Nintendo (3DS|Switch)",
                        Amoi: "Amoi",
                        INQ: "INQ",
                        OnePlus: "ONEPLUS",
                        GenericPhone: "Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"
                    },
                    tablets: {
                        iPad: "iPad|iPad.*Mobile",
                        NexusTablet: "Android.*Nexus[\\s]+(7|9|10)",
                        GoogleTablet: "Android.*Pixel C",
                        SamsungTablet: "SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V",
                        Kindle: "Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",
                        SurfaceTablet: "Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",
                        HPTablet: "HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",
                        AsusTablet: "^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",
                        BlackBerryTablet: "PlayBook|RIM Tablet",
                        HTCtablet: "HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",
                        MotorolaTablet: "xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",
                        NookTablet: "Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",
                        AcerTablet: "Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",
                        ToshibaTablet: "Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",
                        LGTablet: "\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",
                        FujitsuTablet: "Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",
                        PrestigioTablet: "PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",
                        LenovoTablet: "Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X",
                        DellTablet: "Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",
                        YarvikTablet: "Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",
                        MedionTablet: "Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",
                        ArnovaTablet: "97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",
                        IntensoTablet: "INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",
                        IRUTablet: "M702pro",
                        MegafonTablet: "MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",
                        EbodaTablet: "E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",
                        AllViewTablet: "Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",
                        ArchosTablet: "\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",
                        AinolTablet: "NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",
                        NokiaLumiaTablet: "Lumia 2520",
                        SonyTablet: "Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",
                        PhilipsTablet: "\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",
                        CubeTablet: "Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",
                        CobyTablet: "MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",
                        MIDTablet: "M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",
                        MSITablet: "MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",
                        SMiTTablet: "Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",
                        RockChipTablet: "Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",
                        FlyTablet: "IQ310|Fly Vision",
                        bqTablet: "Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",
                        HuaweiTablet: "MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",
                        NecTablet: "\\bN-06D|\\bN-08D",
                        PantechTablet: "Pantech.*P4100",
                        BronchoTablet: "Broncho.*(N701|N708|N802|a710)",
                        VersusTablet: "TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",
                        ZyncTablet: "z1000|Z99 2G|z930|z990|z909|Z919|z900",
                        PositivoTablet: "TB07STA|TB10STA|TB07FTA|TB10FTA",
                        NabiTablet: "Android.*\\bNabi",
                        KoboTablet: "Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",
                        DanewTablet: "DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",
                        TexetTablet: "NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",
                        PlaystationTablet: "Playstation.*(Portable|Vita)",
                        TrekstorTablet: "ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",
                        PyleAudioTablet: "\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",
                        AdvanTablet: "Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",
                        DanyTechTablet: "Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",
                        GalapadTablet: "Android.*\\bG1\\b(?!\\))",
                        MicromaxTablet: "Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",
                        KarbonnTablet: "Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",
                        AllFineTablet: "Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",
                        PROSCANTablet: "\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",
                        YONESTablet: "BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",
                        ChangJiaTablet: "TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",
                        GUTablet: "TX-A1301|TX-M9002|Q702|kf026",
                        PointOfViewTablet: "TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",
                        OvermaxTablet: "OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",
                        HCLTablet: "HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",
                        DPSTablet: "DPS Dream 9|DPS Dual 7",
                        VistureTablet: "V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",
                        CrestaTablet: "CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",
                        MediatekTablet: "\\bMT8125|MT8389|MT8135|MT8377\\b",
                        ConcordeTablet: "Concorde([ ]+)?Tab|ConCorde ReadMan",
                        GoCleverTablet: "GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",
                        ModecomTablet: "FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",
                        VoninoTablet: "\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",
                        ECSTablet: "V07OT2|TM105A|S10OT1|TR10CS1",
                        StorexTablet: "eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",
                        VodafoneTablet: "SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",
                        EssentielBTablet: "Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",
                        RossMoorTablet: "RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",
                        iMobileTablet: "i-mobile i-note",
                        TolinoTablet: "tolino tab [0-9.]+|tolino shine",
                        AudioSonicTablet: "\\bC-22Q|T7-QC|T-17B|T-17P\\b",
                        AMPETablet: "Android.* A78 ",
                        SkkTablet: "Android.* (SKYPAD|PHOENIX|CYCLOPS)",
                        TecnoTablet: "TECNO P9|TECNO DP8D",
                        JXDTablet: "Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",
                        iJoyTablet: "Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",
                        FX2Tablet: "FX2 PAD7|FX2 PAD10",
                        XoroTablet: "KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",
                        ViewsonicTablet: "ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",
                        VerizonTablet: "QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",
                        OdysTablet: "LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",
                        CaptivaTablet: "CAPTIVA PAD",
                        IconbitTablet: "NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",
                        TeclastTablet: "T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",
                        OndaTablet: "\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",
                        JaytechTablet: "TPC-PA762",
                        BlaupunktTablet: "Endeavour 800NG|Endeavour 1010",
                        DigmaTablet: "\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",
                        EvolioTablet: "ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",
                        LavaTablet: "QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",
                        AocTablet: "MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",
                        MpmanTablet: "MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",
                        CelkonTablet: "CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",
                        WolderTablet: "miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",
                        MediacomTablet: "M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",
                        MiTablet: "\\bMI PAD\\b|\\bHM NOTE 1W\\b",
                        NibiruTablet: "Nibiru M1|Nibiru Jupiter One",
                        NexoTablet: "NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",
                        LeaderTablet: "TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",
                        UbislateTablet: "UbiSlate[\\s]?7C",
                        PocketBookTablet: "Pocketbook",
                        KocasoTablet: "\\b(TB-1207)\\b",
                        HisenseTablet: "\\b(F5281|E2371)\\b",
                        Hudl: "Hudl HT7S3|Hudl 2",
                        TelstraTablet: "T-Hub2",
                        GenericTablet: "Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"
                    },
                    oss: {
                        AndroidOS: "Android",
                        BlackBerryOS: "blackberry|\\bBB10\\b|rim tablet os",
                        PalmOS: "PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",
                        SymbianOS: "Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",
                        WindowsMobileOS: "Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",
                        WindowsPhoneOS: "Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",
                        iOS: "\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",
                        iPadOS: "CPU OS 13",
                        MeeGoOS: "MeeGo",
                        MaemoOS: "Maemo",
                        JavaOS: "J2ME/|\\bMIDP\\b|\\bCLDC\\b",
                        webOS: "webOS|hpwOS",
                        badaOS: "\\bBada\\b",
                        BREWOS: "BREW"
                    },
                    uas: {
                        Chrome: "\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",
                        Dolfin: "\\bDolfin\\b",
                        Opera: "Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",
                        Skyfire: "Skyfire",
                        Edge: "Mobile Safari/[.0-9]* Edge",
                        IE: "IEMobile|MSIEMobile",
                        Firefox: "fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",
                        Bolt: "bolt",
                        TeaShark: "teashark",
                        Blazer: "Blazer",
                        Safari: "Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",
                        WeChat: "\\bMicroMessenger\\b",
                        UCBrowser: "UC.*Browser|UCWEB",
                        baiduboxapp: "baiduboxapp",
                        baidubrowser: "baidubrowser",
                        DiigoBrowser: "DiigoBrowser",
                        Mercury: "\\bMercury\\b",
                        ObigoBrowser: "Obigo",
                        NetFront: "NF-Browser",
                        GenericBrowser: "NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",
                        PaleMoon: "Android.*PaleMoon|Mobile.*PaleMoon"
                    },
                    props: {
                        Mobile: "Mobile/[VER]",
                        Build: "Build/[VER]",
                        Version: "Version/[VER]",
                        VendorID: "VendorID/[VER]",
                        iPad: "iPad.*CPU[a-z ]+[VER]",
                        iPhone: "iPhone.*CPU[a-z ]+[VER]",
                        iPod: "iPod.*CPU[a-z ]+[VER]",
                        Kindle: "Kindle/[VER]",
                        Chrome: ["Chrome/[VER]", "CriOS/[VER]", "CrMo/[VER]"],
                        Coast: ["Coast/[VER]"],
                        Dolfin: "Dolfin/[VER]",
                        Firefox: ["Firefox/[VER]", "FxiOS/[VER]"],
                        Fennec: "Fennec/[VER]",
                        Edge: "Edge/[VER]",
                        IE: ["IEMobile/[VER];", "IEMobile [VER]", "MSIE [VER];", "Trident/[0-9.]+;.*rv:[VER]"],
                        NetFront: "NetFront/[VER]",
                        NokiaBrowser: "NokiaBrowser/[VER]",
                        Opera: [" OPR/[VER]", "Opera Mini/[VER]", "Version/[VER]"],
                        "Opera Mini": "Opera Mini/[VER]",
                        "Opera Mobi": "Version/[VER]",
                        UCBrowser: ["UCWEB[VER]", "UC.*Browser/[VER]"],
                        MQQBrowser: "MQQBrowser/[VER]",
                        MicroMessenger: "MicroMessenger/[VER]",
                        baiduboxapp: "baiduboxapp/[VER]",
                        baidubrowser: "baidubrowser/[VER]",
                        SamsungBrowser: "SamsungBrowser/[VER]",
                        Iron: "Iron/[VER]",
                        Safari: ["Version/[VER]", "Safari/[VER]"],
                        Skyfire: "Skyfire/[VER]",
                        Tizen: "Tizen/[VER]",
                        Webkit: "webkit[ /][VER]",
                        PaleMoon: "PaleMoon/[VER]",
                        Gecko: "Gecko/[VER]",
                        Trident: "Trident/[VER]",
                        Presto: "Presto/[VER]",
                        Goanna: "Goanna/[VER]",
                        iOS: " \\bi?OS\\b [VER][ ;]{1}",
                        Android: "Android [VER]",
                        BlackBerry: ["BlackBerry[\\w]+/[VER]", "BlackBerry.*Version/[VER]", "Version/[VER]"],
                        BREW: "BREW [VER]",
                        Java: "Java/[VER]",
                        "Windows Phone OS": ["Windows Phone OS [VER]", "Windows Phone [VER]"],
                        "Windows Phone": "Windows Phone [VER]",
                        "Windows CE": "Windows CE/[VER]",
                        "Windows NT": "Windows NT [VER]",
                        Symbian: ["SymbianOS/[VER]", "Symbian/[VER]"],
                        webOS: ["webOS/[VER]", "hpwOS/[VER];"]
                    },
                    utils: {
                        Bot: "Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp",
                        MobileBot: "Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",
                        DesktopMode: "WPDesktop",
                        TV: "SonyDTV|HbbTV",
                        WebKit: "(webkit)[ /]([\\w.]+)",
                        Console: "\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",
                        Watch: "SM-V700"
                    }
                },
                detectMobileBrowsers: {
                    fullPattern: /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,
                    shortPattern: /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
                    tabletPattern: /android|ipad|playbook|silk/i
                }
            },
            n = Object.prototype.hasOwnProperty;

        function i(e, t) {
            return null != e && null != t && e.toLowerCase() === t.toLowerCase()
        }

        function r(e, t) {
            var n, i, r = e.length;
            if (!r || !t) return !1;
            for (n = t.toLowerCase(), i = 0; i < r; ++i)
                if (n === e[i].toLowerCase()) return !0;
            return !1
        }

        function o(e) {
            for (var t in e) n.call(e, t) && (e[t] = new RegExp(e[t], "i"))
        }

        function a(e, t) {
            this.ua = function (e) {
                return (e || "").substr(0, 500)
            }(e), this._cache = {}, this.maxPhoneWidth = t || 600
        }
        return t.FALLBACK_PHONE = "UnknownPhone", t.FALLBACK_TABLET = "UnknownTablet", t.FALLBACK_MOBILE = "UnknownMobile", e = "isArray" in Array ? Array.isArray : function (e) {
                return "[object Array]" === Object.prototype.toString.call(e)
            },
            function () {
                var i, r, a, s, l, c, u = t.mobileDetectRules;
                for (i in u.props)
                    if (n.call(u.props, i)) {
                        for (r = u.props[i], e(r) || (r = [r]), l = r.length, s = 0; s < l; ++s)(c = (a = r[s]).indexOf("[VER]")) >= 0 && (a = a.substring(0, c) + "([\\w._\\+]+)" + a.substring(c + 5)), r[s] = new RegExp(a, "i");
                        u.props[i] = r
                    } o(u.oss), o(u.phones), o(u.tablets), o(u.uas), o(u.utils), u.oss0 = {
                    WindowsPhoneOS: u.oss.WindowsPhoneOS,
                    WindowsMobileOS: u.oss.WindowsMobileOS
                }
            }(), t.findMatch = function (e, t) {
                for (var i in e)
                    if (n.call(e, i) && e[i].test(t)) return i;
                return null
            }, t.findMatches = function (e, t) {
                var i = [];
                for (var r in e) n.call(e, r) && e[r].test(t) && i.push(r);
                return i
            }, t.getVersionStr = function (e, i) {
                var r, o, a, s, l = t.mobileDetectRules.props;
                if (n.call(l, e))
                    for (a = (r = l[e]).length, o = 0; o < a; ++o)
                        if (null !== (s = r[o].exec(i))) return s[1];
                return null
            }, t.getVersion = function (e, n) {
                var i = t.getVersionStr(e, n);
                return i ? t.prepareVersionNo(i) : NaN
            }, t.prepareVersionNo = function (e) {
                var t;
                return 1 === (t = e.split(/[a-z._ \/\-]/i)).length && (e = t[0]), t.length > 1 && (e = t[0] + ".", t.shift(), e += t.join("")), Number(e)
            }, t.isMobileFallback = function (e) {
                return t.detectMobileBrowsers.fullPattern.test(e) || t.detectMobileBrowsers.shortPattern.test(e.substr(0, 4))
            }, t.isTabletFallback = function (e) {
                return t.detectMobileBrowsers.tabletPattern.test(e)
            }, t.prepareDetectionCache = function (e, n, i) {
                if (void 0 === e.mobile) {
                    var r, o, s;
                    if (o = t.findMatch(t.mobileDetectRules.tablets, n)) return e.mobile = e.tablet = o, void(e.phone = null);
                    if (r = t.findMatch(t.mobileDetectRules.phones, n)) return e.mobile = e.phone = r, void(e.tablet = null);
                    t.isMobileFallback(n) ? void 0 === (s = a.isPhoneSized(i)) ? (e.mobile = t.FALLBACK_MOBILE, e.tablet = e.phone = null) : s ? (e.mobile = e.phone = t.FALLBACK_PHONE, e.tablet = null) : (e.mobile = e.tablet = t.FALLBACK_TABLET, e.phone = null) : t.isTabletFallback(n) ? (e.mobile = e.tablet = t.FALLBACK_TABLET, e.phone = null) : e.mobile = e.tablet = e.phone = null
                }
            }, t.mobileGrade = function (e) {
                var t = null !== e.mobile();
                return e.os("iOS") && e.version("iPad") >= 4.3 || e.os("iOS") && e.version("iPhone") >= 3.1 || e.os("iOS") && e.version("iPod") >= 3.1 || e.version("Android") > 2.1 && e.is("Webkit") || e.version("Windows Phone OS") >= 7 || e.is("BlackBerry") && e.version("BlackBerry") >= 6 || e.match("Playbook.*Tablet") || e.version("webOS") >= 1.4 && e.match("Palm|Pre|Pixi") || e.match("hp.*TouchPad") || e.is("Firefox") && e.version("Firefox") >= 12 || e.is("Chrome") && e.is("AndroidOS") && e.version("Android") >= 4 || e.is("Skyfire") && e.version("Skyfire") >= 4.1 && e.is("AndroidOS") && e.version("Android") >= 2.3 || e.is("Opera") && e.version("Opera Mobi") > 11 && e.is("AndroidOS") || e.is("MeeGoOS") || e.is("Tizen") || e.is("Dolfin") && e.version("Bada") >= 2 || (e.is("UC Browser") || e.is("Dolfin")) && e.version("Android") >= 2.3 || e.match("Kindle Fire") || e.is("Kindle") && e.version("Kindle") >= 3 || e.is("AndroidOS") && e.is("NookTablet") || e.version("Chrome") >= 11 && !t || e.version("Safari") >= 5 && !t || e.version("Firefox") >= 4 && !t || e.version("MSIE") >= 7 && !t || e.version("Opera") >= 10 && !t ? "A" : e.os("iOS") && e.version("iPad") < 4.3 || e.os("iOS") && e.version("iPhone") < 3.1 || e.os("iOS") && e.version("iPod") < 3.1 || e.is("Blackberry") && e.version("BlackBerry") >= 5 && e.version("BlackBerry") < 6 || e.version("Opera Mini") >= 5 && e.version("Opera Mini") <= 6.5 && (e.version("Android") >= 2.3 || e.is("iOS")) || e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3") || e.version("Opera Mobi") >= 11 && e.is("SymbianOS") ? "B" : (e.version("BlackBerry") < 5 || e.match("MSIEMobile|Windows CE.*Mobile") || e.version("Windows Mobile"), "C")
            }, t.detectOS = function (e) {
                return t.findMatch(t.mobileDetectRules.oss0, e) || t.findMatch(t.mobileDetectRules.oss, e)
            }, t.getDeviceSmallerSide = function () {
                return window.screen.width < window.screen.height ? window.screen.width : window.screen.height
            }, a.prototype = {
                constructor: a,
                mobile: function () {
                    return t.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.mobile
                },
                phone: function () {
                    return t.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.phone
                },
                tablet: function () {
                    return t.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.tablet
                },
                userAgent: function () {
                    return void 0 === this._cache.userAgent && (this._cache.userAgent = t.findMatch(t.mobileDetectRules.uas, this.ua)), this._cache.userAgent
                },
                userAgents: function () {
                    return void 0 === this._cache.userAgents && (this._cache.userAgents = t.findMatches(t.mobileDetectRules.uas, this.ua)), this._cache.userAgents
                },
                os: function () {
                    return void 0 === this._cache.os && (this._cache.os = t.detectOS(this.ua)), this._cache.os
                },
                version: function (e) {
                    return t.getVersion(e, this.ua)
                },
                versionStr: function (e) {
                    return t.getVersionStr(e, this.ua)
                },
                is: function (e) {
                    return r(this.userAgents(), e) || i(e, this.os()) || i(e, this.phone()) || i(e, this.tablet()) || r(t.findMatches(t.mobileDetectRules.utils, this.ua), e)
                },
                match: function (e) {
                    return e instanceof RegExp || (e = new RegExp(e, "i")), e.test(this.ua)
                },
                isPhoneSized: function (e) {
                    return a.isPhoneSized(e || this.maxPhoneWidth)
                },
                mobileGrade: function () {
                    return void 0 === this._cache.grade && (this._cache.grade = t.mobileGrade(this)), this._cache.grade
                }
            }, "undefined" != typeof window && window.screen ? a.isPhoneSized = function (e) {
                return e < 0 ? void 0 : t.getDeviceSmallerSide() <= e
            } : a.isPhoneSized = function () {}, a._impl = t, a.version = "1.4.4 2019-09-21", a
    }))
}, function (e, t, n) {
    (function (t) {
        var i = n(80),
            r = function () {},
            o = n(98),
            a = n(99),
            s = n(102),
            l = n(103),
            c = n(36),
            u = self.XMLHttpRequest && "withCredentials" in new XMLHttpRequest;
        e.exports = function (e, n) {
            n = "function" == typeof n ? n : r, "string" == typeof e ? e = {
                uri: e
            } : e || (e = {}), e.binary && (e = function (e) {
                if (u) return c(e, {
                    responseType: "arraybuffer"
                });
                if (void 0 === self.XMLHttpRequest) throw new Error("your browser does not support XHR loading");
                var t = new self.XMLHttpRequest;
                return t.overrideMimeType("text/plain; charset=x-user-defined"), c({
                    xhr: t
                }, e)
            }(e)), i(e, (function (i, c, u) {
                if (i) return n(i);
                if (!/^2/.test(c.statusCode)) return n(new Error("http status code: " + c.statusCode));
                if (!u) return n(new Error("no body result"));
                var h, d, p = !1;
                if (h = u, "[object ArrayBuffer]" === Object.prototype.toString.call(h)) {
                    var f = new Uint8Array(u);
                    u = new t(f, "binary")
                }
                l(u) && (p = !0, "string" == typeof u && (u = new t(u, "binary"))), p || (t.isBuffer(u) && (u = u.toString(e.encoding)), u = u.trim());
                try {
                    var m = c.headers["content-type"];
                    d = p ? s(u) : /json/.test(m) || "{" === u.charAt(0) ? JSON.parse(u) : /xml/.test(m) || "<" === u.charAt(0) ? a(u) : o(u)
                } catch (e) {
                    n(new Error("error parsing font " + e.message)), n = r
                }
                n(null, d)
            }))
        }
    }).call(this, n(18).Buffer)
}, function (e, t) {
    function n(e) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
            return typeof e
        } : function (e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function i(t) {
        return "function" == typeof Symbol && "symbol" === n(Symbol.iterator) ? e.exports = i = function (e) {
            return n(e)
        } : e.exports = i = function (e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : n(e)
        }, i(t)
    }
    e.exports = i
}, function (e, t, n) {
    ! function () {
        function t(e, t) {
            document.addEventListener ? e.addEventListener("scroll", t, !1) : e.attachEvent("scroll", t)
        }

        function n(e) {
            this.a = document.createElement("div"), this.a.setAttribute("aria-hidden", "true"), this.a.appendChild(document.createTextNode(e)), this.b = document.createElement("span"), this.c = document.createElement("span"), this.h = document.createElement("span"), this.f = document.createElement("span"), this.g = -1, this.b.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", this.c.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", this.f.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", this.h.style.cssText = "display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;", this.b.appendChild(this.h), this.c.appendChild(this.f), this.a.appendChild(this.b), this.a.appendChild(this.c)
        }

        function i(e, t) {
            e.a.style.cssText = "max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:" + t + ";"
        }

        function r(e) {
            var t = e.a.offsetWidth,
                n = t + 100;
            return e.f.style.width = n + "px", e.c.scrollLeft = n, e.b.scrollLeft = e.b.scrollWidth + 100, e.g !== t && (e.g = t, !0)
        }

        function o(e, n) {
            function i() {
                var e = o;
                r(e) && e.a.parentNode && n(e.g)
            }
            var o = e;
            t(e.b, i), t(e.c, i), r(e)
        }

        function a(e, t) {
            var n = t || {};
            this.family = e, this.style = n.style || "normal", this.weight = n.weight || "normal", this.stretch = n.stretch || "normal"
        }
        var s = null,
            l = null,
            c = null,
            u = null;

        function h() {
            return null === u && (u = !!document.fonts), u
        }

        function d() {
            if (null === c) {
                var e = document.createElement("div");
                try {
                    e.style.font = "condensed 100px sans-serif"
                } catch (e) {}
                c = "" !== e.style.font
            }
            return c
        }

        function p(e, t) {
            return [e.style, e.weight, d() ? e.stretch : "", "100px", t].join(" ")
        }
        a.prototype.load = function (e, t) {
            var r = this,
                a = e || "BESbswy",
                c = 0,
                u = t || 3e3,
                d = (new Date).getTime();
            return new Promise((function (e, t) {
                if (h() && ! function () {
                        if (null === l)
                            if (h() && /Apple/.test(window.navigator.vendor)) {
                                var e = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);
                                l = !!e && 603 > parseInt(e[1], 10)
                            } else l = !1;
                        return l
                    }()) {
                    var f = new Promise((function (e, t) {
                            ! function n() {
                                (new Date).getTime() - d >= u ? t(Error(u + "ms timeout exceeded")) : document.fonts.load(p(r, '"' + r.family + '"'), a).then((function (t) {
                                    1 <= t.length ? e() : setTimeout(n, 25)
                                }), t)
                            }()
                        })),
                        m = new Promise((function (e, t) {
                            c = setTimeout((function () {
                                t(Error(u + "ms timeout exceeded"))
                            }), u)
                        }));
                    Promise.race([m, f]).then((function () {
                        clearTimeout(c), e(r)
                    }), t)
                } else ! function (e) {
                    document.body ? e() : document.addEventListener ? document.addEventListener("DOMContentLoaded", (function t() {
                        document.removeEventListener("DOMContentLoaded", t), e()
                    })) : document.attachEvent("onreadystatechange", (function t() {
                        "interactive" != document.readyState && "complete" != document.readyState || (document.detachEvent("onreadystatechange", t), e())
                    }))
                }((function () {
                    function l() {
                        var t;
                        (t = -1 != v && -1 != g || -1 != v && -1 != y || -1 != g && -1 != y) && ((t = v != g && v != y && g != y) || (null === s && (t = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent), s = !!t && (536 > parseInt(t[1], 10) || 536 === parseInt(t[1], 10) && 11 >= parseInt(t[2], 10))), t = s && (v == _ && g == _ && y == _ || v == b && g == b && y == b || v == w && g == w && y == w)), t = !t), t && (x.parentNode && x.parentNode.removeChild(x), clearTimeout(c), e(r))
                    }
                    var h = new n(a),
                        f = new n(a),
                        m = new n(a),
                        v = -1,
                        g = -1,
                        y = -1,
                        _ = -1,
                        b = -1,
                        w = -1,
                        x = document.createElement("div");
                    x.dir = "ltr", i(h, p(r, "sans-serif")), i(f, p(r, "serif")), i(m, p(r, "monospace")), x.appendChild(h.a), x.appendChild(f.a), x.appendChild(m.a), document.body.appendChild(x), _ = h.a.offsetWidth, b = f.a.offsetWidth, w = m.a.offsetWidth,
                        function e() {
                            if ((new Date).getTime() - d >= u) x.parentNode && x.parentNode.removeChild(x), t(Error(u + "ms timeout exceeded"));
                            else {
                                var n = document.hidden;
                                !0 !== n && void 0 !== n || (v = h.a.offsetWidth, g = f.a.offsetWidth, y = m.a.offsetWidth, l()), c = setTimeout(e, 50)
                            }
                        }(), o(h, (function (e) {
                            v = e, l()
                        })), i(h, p(r, '"' + r.family + '",sans-serif')), o(f, (function (e) {
                            g = e, l()
                        })), i(f, p(r, '"' + r.family + '",serif')), o(m, (function (e) {
                            y = e, l()
                        })), i(m, p(r, '"' + r.family + '",monospace'))
                }))
            }))
        }, e.exports = a
    }()
}, function (e, t, n) {
    "use strict";
    var i = n(3),
        r = n.n(i),
        o = n(10),
        a = n.n(o);
    window.Signals = new function e() {
        r()(this, e), this.onAssetLoaded = new a.a, this.onAssetsLoaded = new a.a, this.onScrollWheel = new a.a, this.onMobileScroll = new a.a, this.onResize = new a.a, this.onScroll = new a.a, this.onWindowMousemove = new a.a, this.onWindowMousedown = new a.a, this.onWindowMouseup = new a.a, this.onWindowTouchstart = new a.a, this.onWindowTouchmove = new a.a, this.onWindowTouchend = new a.a, this.onStartApplication = new a.a, this.onChangeIndex = new a.a
    }, t.a = window.Signals
}, function (e, t, n) {
    "use strict";
    n.d(t, "a", (function () {
        return f
    }));
    var i, r = n(3),
        o = n.n(r),
        a = n(4),
        s = n.n(a),
        l = n(9),
        c = n.n(l),
        u = n(6),
        h = n(7),
        d = n(44),
        p = n.n(d),
        f = (i = function () {
            function e(t) {
                o()(this, e), this.updatePageCallback = t.updatePageCallback, this._assetsLoaded = !1, this._setupRouter(), this._setupEvents()
            }
            return s()(e, [{
                key: "_setupRouter",
                value: function () {
                    var e = "".concat(window.location.protocol, "//").concat(window.location.host);
                    this.navigo = new p.a(e, !0), this.navigo.notFound(this._onRouteNotFound), this.navigo.on({
                        "/": {
                            as: h.b,
                            uses: this._onRouteHome
                        },
                        "/album/:id": {
                            as: h.d,
                            uses: this._onRouteProject
                        },
                        "/menu": {
                            as: h.c,
                            uses: this._onRouteMenu
                        },
                        "/about": {
                            as: h.a,
                            uses: this._onRouteAbout
                        }
                    })
                }
            }, {
                key: "_setupEvents",
                value: function () {
                    Signals.onAssetsLoaded.add(this._onAssetsLoaded)
                }
            }, {
                key: "navigateTo",
                value: function (e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    this.navigo.navigate(this.navigo.generate(e, t))
                }
            }, {
                key: "getLastRouteResolved",
                value: function () {
                    var e = this.navigo.lastRouteResolved();
                    return e.params || (e.params = null), e
                }
            }, {
                key: "_onAssetsLoaded",
                value: function () {
                    this._assetsLoaded = !0
                }
            }, {
                key: "_onRouteNotFound",
                value: function () {
                    this.updatePageCallback(h.b)
                }
            }, {
                key: "_onRouteHome",
                value: function () {
                    this.updatePageCallback(h.b)
                }
            }, {
                key: "_onRouteProject",
                value: function () {
                    this.updatePageCallback(h.d)
                }
            }, {
                key: "_onRouteMenu",
                value: function () {
                    this.updatePageCallback(h.c)
                }
            }, {
                key: "_onRouteAbout",
                value: function () {
                    this.updatePageCallback(h.a)
                }
            }]), e
        }(), c()(i.prototype, "_onAssetsLoaded", [u.a], Object.getOwnPropertyDescriptor(i.prototype, "_onAssetsLoaded"), i.prototype), c()(i.prototype, "_onRouteNotFound", [u.a], Object.getOwnPropertyDescriptor(i.prototype, "_onRouteNotFound"), i.prototype), c()(i.prototype, "_onRouteHome", [u.a], Object.getOwnPropertyDescriptor(i.prototype, "_onRouteHome"), i.prototype), c()(i.prototype, "_onRouteProject", [u.a], Object.getOwnPropertyDescriptor(i.prototype, "_onRouteProject"), i.prototype), c()(i.prototype, "_onRouteMenu", [u.a], Object.getOwnPropertyDescriptor(i.prototype, "_onRouteMenu"), i.prototype), c()(i.prototype, "_onRouteAbout", [u.a], Object.getOwnPropertyDescriptor(i.prototype, "_onRouteAbout"), i.prototype), i)
}, function (e, t, n) {
    e.exports = function () {
        "use strict";
        var e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
            return typeof e
        } : function (e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        };

        function t() {
            return !("undefined" == typeof window || !window.history || !window.history.pushState)
        }

        function n(e, n, i) {
            this.root = null, this._routes = [], this._useHash = n, this._hash = void 0 === i ? "#" : i, this._paused = !1, this._destroyed = !1, this._lastRouteResolved = null, this._notFoundHandler = null, this._defaultHandler = null, this._usePushState = !n && t(), this._onLocationChange = this._onLocationChange.bind(this), this._genericHooks = null, this._historyAPIUpdateMethod = "pushState", e ? this.root = n ? e.replace(/\/$/, "/" + this._hash) : e.replace(/\/$/, "") : n && (this.root = this._cLoc().split(this._hash)[0].replace(/\/$/, "/" + this._hash)), this._listen(), this.updatePageLinks()
        }

        function i(e) {
            return e instanceof RegExp ? e : e.replace(/\/+$/, "").replace(/^\/+/, "^/")
        }

        function r(e) {
            return e.replace(/\/$/, "").split("/").length
        }

        function o(e, t) {
            return r(t) - r(e)
        }

        function a(e, t) {
            return function (e) {
                return (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []).map((function (t) {
                    var r = function (e) {
                            var t = [];
                            return {
                                regexp: e instanceof RegExp ? e : new RegExp(e.replace(n.PARAMETER_REGEXP, (function (e, i, r) {
                                    return t.push(r), n.REPLACE_VARIABLE_REGEXP
                                })).replace(n.WILDCARD_REGEXP, n.REPLACE_WILDCARD) + n.FOLLOWED_BY_SLASH_REGEXP, n.MATCH_REGEXP_FLAGS),
                                paramNames: t
                            }
                        }(i(t.route)),
                        o = r.regexp,
                        a = r.paramNames,
                        s = e.replace(/^\/+/, "/").match(o),
                        l = function (e, t) {
                            return 0 === t.length ? null : e ? e.slice(1, e.length).reduce((function (e, n, i) {
                                return null === e && (e = {}), e[t[i]] = decodeURIComponent(n), e
                            }), null) : null
                        }(s, a);
                    return !!s && {
                        match: s,
                        route: t,
                        params: l
                    }
                })).filter((function (e) {
                    return e
                }))
            }(e, t)[0] || !1
        }

        function s(e, t) {
            var n = t.map((function (t) {
                    return "" === t.route || "*" === t.route ? e : e.split(new RegExp(t.route + "($|/)"))[0]
                })),
                r = i(e);
            return n.length > 1 ? n.reduce((function (e, t) {
                return e.length > t.length && (e = t), e
            }), n[0]) : 1 === n.length ? n[0] : r
        }

        function l(e, n, i) {
            var r, o = function (e) {
                return e.split(/\?(.*)?$/)[0]
            };
            return void 0 === i && (i = "#"), t() && !n ? o(e).split(i)[0] : (r = e.split(i)).length > 1 ? o(r[1]) : o(r[0])
        }

        function c(t, n, i) {
            if (n && "object" === (void 0 === n ? "undefined" : e(n))) {
                if (n.before) return void n.before((function () {
                    (!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) && (t(), n.after && n.after(i))
                }), i);
                if (n.after) return t(), void(n.after && n.after(i))
            }
            t()
        }
        return n.prototype = {
            helpers: {
                match: a,
                root: s,
                clean: i,
                getOnlyURL: l
            },
            navigate: function (e, t) {
                var n;
                return e = e || "", this._usePushState ? (n = (n = (t ? "" : this._getRoot() + "/") + e.replace(/^\/+/, "/")).replace(/([^:])(\/{2,})/g, "$1/"), history[this._historyAPIUpdateMethod]({}, "", n), this.resolve()) : "undefined" != typeof window && (e = e.replace(new RegExp("^" + this._hash), ""), window.location.href = window.location.href.replace(/#$/, "").replace(new RegExp(this._hash + ".*$"), "") + this._hash + e), this
            },
            on: function () {
                for (var t = this, n = arguments.length, i = Array(n), r = 0; r < n; r++) i[r] = arguments[r];
                if ("function" == typeof i[0]) this._defaultHandler = {
                    handler: i[0],
                    hooks: i[1]
                };
                else if (i.length >= 2)
                    if ("/" === i[0]) {
                        var a = i[1];
                        "object" === e(i[1]) && (a = i[1].uses), this._defaultHandler = {
                            handler: a,
                            hooks: i[2]
                        }
                    } else this._add(i[0], i[1], i[2]);
                else "object" === e(i[0]) && Object.keys(i[0]).sort(o).forEach((function (e) {
                    t.on(e, i[0][e])
                }));
                return this
            },
            off: function (e) {
                return null !== this._defaultHandler && e === this._defaultHandler.handler ? this._defaultHandler = null : null !== this._notFoundHandler && e === this._notFoundHandler.handler && (this._notFoundHandler = null), this._routes = this._routes.reduce((function (t, n) {
                    return n.handler !== e && t.push(n), t
                }), []), this
            },
            notFound: function (e, t) {
                return this._notFoundHandler = {
                    handler: e,
                    hooks: t
                }, this
            },
            resolve: function (e) {
                var n, i, r = this,
                    o = (e || this._cLoc()).replace(this._getRoot(), "");
                this._useHash && (o = o.replace(new RegExp("^/" + this._hash), "/"));
                var s = function (e) {
                        return e.split(/\?(.*)?$/).slice(1).join("")
                    }(e || this._cLoc()),
                    u = l(o, this._useHash, this._hash);
                return !this._paused && (this._lastRouteResolved && u === this._lastRouteResolved.url && s === this._lastRouteResolved.query ? (this._lastRouteResolved.hooks && this._lastRouteResolved.hooks.already && this._lastRouteResolved.hooks.already(this._lastRouteResolved.params), !1) : (i = a(u, this._routes)) ? (this._callLeave(), this._lastRouteResolved = {
                    url: u,
                    query: s,
                    hooks: i.route.hooks,
                    params: i.params,
                    name: i.route.name
                }, n = i.route.handler, c((function () {
                    c((function () {
                        i.route.route instanceof RegExp ? n.apply(void 0, i.match.slice(1, i.match.length)) : n(i.params, s)
                    }), i.route.hooks, i.params, r._genericHooks)
                }), this._genericHooks, i.params), i) : this._defaultHandler && ("" === u || "/" === u || u === this._hash || function (e, n, i) {
                    if (t() && !n) return !1;
                    if (!e.match(i)) return !1;
                    var r = e.split(i);
                    return r.length < 2 || "" === r[1]
                }(u, this._useHash, this._hash)) ? (c((function () {
                    c((function () {
                        r._callLeave(), r._lastRouteResolved = {
                            url: u,
                            query: s,
                            hooks: r._defaultHandler.hooks
                        }, r._defaultHandler.handler(s)
                    }), r._defaultHandler.hooks)
                }), this._genericHooks), !0) : (this._notFoundHandler && c((function () {
                    c((function () {
                        r._callLeave(), r._lastRouteResolved = {
                            url: u,
                            query: s,
                            hooks: r._notFoundHandler.hooks
                        }, r._notFoundHandler.handler(s)
                    }), r._notFoundHandler.hooks)
                }), this._genericHooks), !1))
            },
            destroy: function () {
                this._routes = [], this._destroyed = !0, this._lastRouteResolved = null, this._genericHooks = null, clearTimeout(this._listeningInterval), "undefined" != typeof window && (window.removeEventListener("popstate", this._onLocationChange), window.removeEventListener("hashchange", this._onLocationChange))
            },
            updatePageLinks: function () {
                var e = this;
                "undefined" != typeof document && this._findLinks().forEach((function (t) {
                    t.hasListenerAttached || (t.addEventListener("click", (function (n) {
                        if ((n.ctrlKey || n.metaKey) && "a" == n.target.tagName.toLowerCase()) return !1;
                        var i = e.getLinkPath(t);
                        e._destroyed || (n.preventDefault(), e.navigate(i.replace(/\/+$/, "").replace(/^\/+/, "/")))
                    })), t.hasListenerAttached = !0)
                }))
            },
            generate: function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    n = this._routes.reduce((function (n, i) {
                        var r;
                        if (i.name === e)
                            for (r in n = i.route, t) n = n.toString().replace(":" + r, t[r]);
                        return n
                    }), "");
                return this._useHash ? this._hash + n : n
            },
            link: function (e) {
                return this._getRoot() + e
            },
            pause: function () {
                var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                this._paused = e, this._historyAPIUpdateMethod = e ? "replaceState" : "pushState"
            },
            resume: function () {
                this.pause(!1)
            },
            historyAPIUpdateMethod: function (e) {
                return void 0 === e ? this._historyAPIUpdateMethod : (this._historyAPIUpdateMethod = e, e)
            },
            disableIfAPINotAvailable: function () {
                t() || this.destroy()
            },
            lastRouteResolved: function () {
                return this._lastRouteResolved
            },
            getLinkPath: function (e) {
                return e.getAttribute("href")
            },
            hooks: function (e) {
                this._genericHooks = e
            },
            _add: function (t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                return "string" == typeof t && (t = encodeURI(t)), this._routes.push("object" === (void 0 === n ? "undefined" : e(n)) ? {
                    route: t,
                    handler: n.uses,
                    name: n.as,
                    hooks: i || n.hooks
                } : {
                    route: t,
                    handler: n,
                    hooks: i
                }), this._add
            },
            _getRoot: function () {
                return null !== this.root ? this.root : (this.root = s(this._cLoc().split("?")[0], this._routes), this.root)
            },
            _listen: function () {
                var e = this;
                if (this._usePushState) window.addEventListener("popstate", this._onLocationChange);
                else if ("undefined" != typeof window && "onhashchange" in window) window.addEventListener("hashchange", this._onLocationChange);
                else {
                    var t = this._cLoc(),
                        n = void 0,
                        i = void 0;
                    (i = function () {
                        n = e._cLoc(), t !== n && (t = n, e.resolve()), e._listeningInterval = setTimeout(i, 200)
                    })()
                }
            },
            _cLoc: function () {
                return "undefined" != typeof window ? void 0 !== window.__NAVIGO_WINDOW_LOCATION_MOCK__ ? window.__NAVIGO_WINDOW_LOCATION_MOCK__ : i(window.location.href) : ""
            },
            _findLinks: function () {
                return [].slice.call(document.querySelectorAll("[data-navigo]"))
            },
            _onLocationChange: function () {
                this.resolve()
            },
            _callLeave: function () {
                var e = this._lastRouteResolved;
                e && e.hooks && e.hooks.leave && e.hooks.leave(e.params)
            }
        }, n.PARAMETER_REGEXP = /([:*])(\w+)/g, n.WILDCARD_REGEXP = /\*/g, n.REPLACE_VARIABLE_REGEXP = "([^/]+)", n.REPLACE_WILDCARD = "(?:.*)", n.FOLLOWED_BY_SLASH_REGEXP = "(?:/$|$)", n.MATCH_REGEXP_FLAGS = "", n
    }()
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="loader">\n  <div class="loader__content">\n    <div class="loader__title font-title">FO<span>U</span>R MILES</div>\n    <div class="loader__subcontainer">\n      <div class="js-loader__icon loader__icon">\n        <svg id="Calque_1" data-name="Calque 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.5 14.01">\n          <path d="M0,9.29a5,5,0,0,0,3.5,4.47V4.81A5,5,0,0,0,0,9.29Z" transform="translate(0 0.25)" />\n          <path d="M16.5,9.29A5,5,0,0,1,13,13.76V4.81A5,5,0,0,1,16.5,9.29Z" transform="translate(0 0.25)" />\n          <path d="M3,13.13V4.72A4.74,4.74,0,0,1,7.72,0H8.78A4.74,4.74,0,0,1,13.5,4.72v8.41" transform="translate(0 0.25)"\n            style="fill:none;stroke:#000;stroke-miterlimit:10;stroke-width:0.5px" /></svg>\n      </div>\n      <div class="js-loader__please loader__please font-body">Please put your headphones on</div>\n      <div class="js-loader__enter loader__enter font-title">\n        <div class="js-loader__albums loader__albums font-title">The Music of Miles Davis in 4 albums</div>\n        <span><svg height=\'11\' width=\'9\' fill="#ffffff" xmlns:x="http://ns.adobe.com/Extensibility/1.0/"\n          xmlns:i="http://ns.adobe.com/AdobeIllustrator/10.0/" xmlns:graph="http://ns.adobe.com/Graphs/1.0/"\n          xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n          xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" i:viewOrigin="3 16" i:rulerOrigin="0 0"\n          i:pageBounds="0 16 16 0" viewBox="0 0 10.5 16" style="enable-background:new 0 0 10.5 16;" xml:space="preserve" x="0px"\n          y="0px" overflow="visible">\n          <polygon fill="#000" i:knockout="Off" points="2.5,0 0,2.5 5.5,8 0,13.5 2.5,16 10.5,8 "></polygon>\n          </g>\n          </g>\n        </svg></span>ENTER\n      </div>\n    </div>\n  </div>\n  <div class="js-loader__canvas loader__canvas"></div>\n</div>';
        return __p
    }
}, function (e, t, n) {
    "use strict";
    var i, r, o = n(3),
        a = n.n(o),
        s = n(4),
        l = n.n(s),
        c = n(2),
        u = n.n(c),
        h = n(9),
        d = n.n(h),
        p = n(0),
        f = (n(7), function () {
            function e(t) {
                var n = this;
                a()(this, e), u()(this, "_onResize", (function () {
                    n.resize()
                })), this._parent = t.parent, this._width = p.a.DESKTOP ? 700 : .9 * window.innerWidth, this._height = p.a.DESKTOP ? 700 : .9 * window.innerWidth, this._arc = {
                    pr: 0,
                    prTg: 0
                }, this._setupCanvas(), this.addEvents()
            }
            return l()(e, [{
                key: "_setupCanvas",
                value: function () {
                    this._ctx = function (e, t, n, i) {
                        n = !1 !== n;
                        var r = document.createElement("canvas"),
                            o = r.getContext("2d"),
                            a = window.devicePixelRatio ? window.devicePixelRatio : 1;
                        return a = Math.max(a, 1), r.width = e, r.height = t, r.style.width = "".concat(e, "px"), r.style.height = "".concat(t, "px"), n && (i && (a = Math.min(a, i)), r.width = e * a, r.height = t * a, o.scale(a, a)), o
                    }(this._width, this._height, !0, 2), this._parent.appendChild(this._ctx.canvas)
                }
            }, {
                key: "addEvents",
                value: function () {
                    Signals.onResize.add(this._onResize)
                }
            }, {
                key: "resize",
                value: function (e, t) {
                    this._width = p.a.DESKTOP ? 700 : .9 * window.innerWidth, this._height = p.a.DESKTOP ? 700 : .9 * window.innerWidth,
                        function (e, t, n, i, r) {
                            void 0 === i && (i = !0);
                            var o = window.devicePixelRatio ? window.devicePixelRatio : 1;
                            o = Math.max(o, 1), e.canvas.width = t, e.canvas.height = n, e.canvas.style.width = "".concat(t, "px"), e.canvas.style.height = "".concat(n, "px"), i && (r && (o = Math.min(o, r)), e.canvas.width = t * o, e.canvas.height = n * o, e.scale(o, o))
                        }(this._ctx, this._width, this._height, !0, 2)
                }
            }, {
                key: "update",
                value: function () {
                    this._arc.pr += .1 * (this._arc.prTg - this._arc.pr), this._draw()
                }
            }, {
                key: "_draw",
                value: function () {
                    this._ctx.clearRect(0, 0, this._width, this._height), this._drawCircle()
                }
            }, {
                key: "_drawCircle",
                value: function () {
                    var e = .5 * this._width,
                        t = .5 * this._height,
                        n = .5 * this._width - .5;
                    this._ctx.beginPath(), this._ctx.arc(e, t, n, 0, 2 * Math.PI * this._arc.pr), this._ctx.stroke()
                }
            }, {
                key: "progressTarget",
                set: function (e) {
                    this._arc.prTg = e
                }
            }]), e
        }()),
        m = n(1),
        v = n(6),
        g = n(5),
        y = n(45),
        _ = n.n(y);
    n(107);
    n.d(t, "a", (function () {
        return b
    }));
    var b = Object(g.a)()(i = Object(g.e)()((r = function () {
        function e(t) {
            var n = this;
            a()(this, e), u()(this, "_onEnterClick", (function () {
                n.hide()
            })), this.el = t.parent.appendChild(Object(m.a)(_()())), this._onHide = t.onHide, this._ui = {
                canvasContainer: this.el.querySelector(".js-loader__canvas"),
                icon: this.el.querySelector(".js-loader__icon"),
                please: this.el.querySelector(".js-loader__please"),
                albums: this.el.querySelector(".js-loader__albums"),
                enter: this.el.querySelector(".js-loader__enter")
            }, this._loaderCanvas = new f({
                parent: this._ui.canvasContainer,
                width: .5 * window.innerWidth,
                height: .5 * window.innerHeight
            }), this._params = {
                canvas: {
                    opacity: 1
                },
                icon: {
                    opacity: 1
                },
                please: {
                    opacity: 1
                },
                enter: {
                    opacity: 0
                },
                albums: {
                    opacity: 0
                },
                needsUpdate: !1
            }, this.addEvents(), this.show(), this._updateCSS()
        }
        return l()(e, [{
            key: "addEvents",
            value: function () {
                Signals.onAssetLoaded.add(this.onAssetLoaded), Signals.onAssetsLoaded.add(this.onAssetsLoaded), this._ui.enter.addEventListener("click", this._onEnterClick)
            }
        }, {
            key: "removeEvents",
            value: function () {
                Signals.onAssetLoaded.remove(this.onAssetLoaded), Signals.onAssetsLoaded.remove(this.onAssetsLoaded), this._ui.enter.removeEventListener("click", this._onEnterClick)
            }
        }, {
            key: "show",
            value: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                e.delay;
                this.el.style.display = "block"
            }
        }, {
            key: "hide",
            value: function () {
                var e = this,
                    t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = t.delay,
                    i = void 0 === n ? 0 : n;
                gsap.to(this.el, {
                    duration: 1,
                    ease: "Power2.easeOut",
                    delay: i,
                    opacity: 0,
                    onComplete: function () {
                        e.el.style.display = "none"
                    }
                }), this.removeEvents(), this._onHide(), this.update = function () {}
            }
        }, {
            key: "activate",
            value: function () {
                var e = this,
                    t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = t.delay,
                    i = void 0 === n ? 0 : n;
                this._params.needsUpdate = !0, gsap.killTweensOf(this._params.canvas), gsap.to(this._params.canvas, {
                    opacity: 0,
                    duration: 1,
                    delay: i,
                    ease: "Power2.easeOut"
                }), gsap.killTweensOf(this._params.icon), gsap.to(this._params.icon, {
                    opacity: 0,
                    duration: 1,
                    delay: i + .2,
                    ease: "Power2.easeOut"
                }), gsap.killTweensOf(this._params.please), gsap.to(this._params.please, {
                    opacity: 0,
                    duration: 1,
                    delay: i + .4,
                    ease: "Power2.easeOut"
                }), gsap.killTweensOf(this._params.albums), gsap.to(this._params.albums, {
                    opacity: 1,
                    duration: 1,
                    delay: i + .6,
                    ease: "Power2.easeOut"
                }), gsap.killTweensOf(this._params.enter), gsap.to(this._params.enter, {
                    opacity: 1,
                    duration: 1,
                    delay: i + .8,
                    ease: "Power2.easeOut",
                    onComplete: function () {
                        e._params.needsUpdate = !1
                    }
                })
            }
        }, {
            key: "deactivate",
            value: function () {}
        }, {
            key: "onAssetLoaded",
            value: function (e) {
                var t = e / 100;
                this._loaderCanvas.progressTarget = t
            }
        }, {
            key: "onAssetsLoaded",
            value: function (e) {
                var t = e / 100;
                this._loaderCanvas.progressTarget = t, this.activate({
                    delay: 1
                })
            }
        }, {
            key: "update",
            value: function () {
                this.visible() && this._loaderCanvas.update(), this._params.needsUpdate && this._updateCSS()
            }
        }, {
            key: "_updateCSS",
            value: function () {
                this._ui.canvasContainer.style.opacity = this._params.canvas.opacity, this._ui.icon.style.opacity = this._params.icon.opacity, this._ui.please.style.opacity = this._params.please.opacity, this._ui.enter.style.opacity = this._params.enter.opacity, this._ui.albums.style.opacity = this._params.albums.opacity
            }
        }]), e
    }(), d()(r.prototype, "onAssetLoaded", [v.a], Object.getOwnPropertyDescriptor(r.prototype, "onAssetLoaded"), r.prototype), d()(r.prototype, "onAssetsLoaded", [v.a], Object.getOwnPropertyDescriptor(r.prototype, "onAssetsLoaded"), r.prototype), i = r)) || i) || i
}, function (e, t) {
    e.exports = function (e) {
        try {
            return !!e()
        } catch (e) {
            return !0
        }
    }
}, function (e, t) {
    e.exports = function (e, t) {
        return {
            enumerable: !(1 & e),
            configurable: !(2 & e),
            writable: !(4 & e),
            value: t
        }
    }
}, function (e, t) {
    var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}, function (e, t) {
    var n = e.exports = {
        version: "2.6.5"
    };
    "number" == typeof __e && (__e = n)
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = a(n(122)),
        r = a(n(196)),
        o = a(n(123));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = window.AudioContext || window.webkitAudioContext || r.default,
        l = new s;
    l || (l = new r.default), o.default && 44100 !== l.sampleRate && ((0, i.default)(l), l.close(), l = new s), "suspended" === l.state && "function" == typeof l.resume && window.setTimeout((function () {
        return l.resume()
    }), 1e3), t.default = l
}, function (e, t) {
    e.exports = !0
}, function (e, t) {
    var n = 0,
        i = Math.random();
    e.exports = function (e) {
        return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++n + i).toString(36))
    }
}, function (e, t, n) {
    var i = n(22);
    e.exports = function (e, t) {
        if (!i(e)) return e;
        var n, r;
        if (t && "function" == typeof (n = e.toString) && !i(r = n.call(e))) return r;
        if ("function" == typeof (n = e.valueOf) && !i(r = n.call(e))) return r;
        if (!t && "function" == typeof (n = e.toString) && !i(r = n.call(e))) return r;
        throw TypeError("Can't convert object to primitive value")
    }
}, function (e, t) {
    e.exports = function (e) {
        return "object" == typeof e ? null !== e : "function" == typeof e
    }
}, function (e, t, n) {
    e.exports = !n(57)((function () {
        return 7 != Object.defineProperty({}, "a", {
            get: function () {
                return 7
            }
        }).a
    }))
}, function (e, t) {
    e.exports = function (e) {
        try {
            return !!e()
        } catch (e) {
            return !0
        }
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i, r = n(29),
        o = (i = r) && i.__esModule ? i : {
            default: i
        };
    var a = function () {
        function e(t) {
            var n = this;
            (0, o.default)(this, e), this.context = t, this._destination = null, this._source = null, this._nodes = [], this._nodes.has = function (e) {
                return n.has(e)
            }, this._nodes.add = function (e) {
                return n.add(e)
            }, this._nodes.remove = function (e) {
                return n.remove(e)
            }, this._nodes.toggle = function (e, t) {
                return n.toggle(e, t)
            }, this._nodes.removeAll = function () {
                return n.removeAll()
            }, Object.keys(e.prototype).forEach((function (t) {
                n._nodes.hasOwnProperty(t) || "function" != typeof e.prototype[t] || (n._nodes[t] = n[t].bind(n))
            }))
        }
        return e.prototype.setSource = function (e) {
            return this._source = e, this._updateConnections(), e
        }, e.prototype.setDestination = function (e) {
            return this._connectToDestination(e), e
        }, e.prototype.has = function (e) {
            return !!e && this._nodes.indexOf(e) > -1
        }, e.prototype.add = function (e) {
            if (!e) return null;
            if (this.has(e)) return e;
            if (Array.isArray(e)) {
                for (var t = void 0, n = 0; n < e.length; n++) t = this.add(e[n]);
                return t
            }
            return this._nodes.push(e), this._updateConnections(), e
        }, e.prototype.remove = function (e) {
            if (!e) return null;
            if (!this.has(e)) return e;
            for (var t = this._nodes.length, n = 0; n < t; n++)
                if (e === this._nodes[n]) {
                    this._nodes.splice(n, 1);
                    break
                } return e.disconnect(), this._updateConnections(), e
        }, e.prototype.toggle = function (e, t) {
            t = !!t;
            var n = this.has(e);
            return arguments.length > 1 && n === t ? this : (n ? this.remove(e) : this.add(e), this)
        }, e.prototype.removeAll = function () {
            for (; this._nodes.length;) {
                this._nodes.pop().disconnect()
            }
            return this._updateConnections(), this
        }, e.prototype.destroy = function () {
            this.removeAll(), this.context = null, this._destination = null, this._source && this._source.disconnect(), this._source = null
        }, e.prototype._connect = function (e, t) {
            e.disconnect(), e.connect(t._in || t)
        }, e.prototype._connectToDestination = function (e) {
            var t = this._nodes[this._nodes.length - 1] || this._source;
            t && this._connect(t, e), this._destination = e
        }, e.prototype._updateConnections = function () {
            if (this._source) {
                for (var e = void 0, t = void 0, n = 0; n < this._nodes.length; n++) e = this._nodes[n], t = 0 === n ? this._source : this._nodes[n - 1], this._connect(t, e);
                this._destination && this._connectToDestination(this._destination)
            }
        }, e
    }();
    t.default = a
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = a(n(197)),
        r = a(n(214)),
        o = "function" == typeof r.default && "symbol" == typeof i.default ? function (e) {
            return typeof e
        } : function (e) {
            return e && "function" == typeof r.default && e.constructor === r.default && e !== r.default.prototype ? "symbol" : typeof e
        };

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t.default = "function" == typeof r.default && "symbol" === o(i.default) ? function (e) {
        return void 0 === e ? "undefined" : o(e)
    } : function (e) {
        return e && "function" == typeof r.default && e.constructor === r.default && e !== r.default.prototype ? "symbol" : void 0 === e ? "undefined" : o(e)
    }
}, function (e, t) {
    var n = Math.ceil,
        i = Math.floor;
    e.exports = function (e) {
        return isNaN(e = +e) ? 0 : (e > 0 ? i : n)(e)
    }
}, function (e, t) {
    e.exports = function (e) {
        if (null == e) throw TypeError("Can't call method on  " + e);
        return e
    }
}, function (e, t) {
    e.exports = {}
}, function (e, t, n) {
    var i = n(28),
        r = n(202),
        o = n(67),
        a = n(65)("IE_PROTO"),
        s = function () {},
        l = function () {
            var e, t = n(113)("iframe"),
                i = o.length;
            for (t.style.display = "none", n(207).appendChild(t), t.src = "javascript:", (e = t.contentWindow.document).open(), e.write("<script>document.F=Object<\/script>"), e.close(), l = e.F; i--;) delete l.prototype[o[i]];
            return l()
        };
    e.exports = Object.create || function (e, t) {
        var n;
        return null !== e ? (s.prototype = i(e), n = new s, s.prototype = null, n[a] = e) : n = l(), void 0 === t ? n : r(n, t)
    }
}, function (e, t, n) {
    var i = n(127),
        r = n(67);
    e.exports = Object.keys || function (e) {
        return i(e, r)
    }
}, function (e, t, n) {
    var i = n(66)("keys"),
        r = n(53);
    e.exports = function (e) {
        return i[e] || (i[e] = r(e))
    }
}, function (e, t, n) {
    var i = n(14),
        r = n(13),
        o = r["__core-js_shared__"] || (r["__core-js_shared__"] = {});
    (e.exports = function (e, t) {
        return o[e] || (o[e] = void 0 !== t ? t : {})
    })("versions", []).push({
        version: i.version,
        mode: n(52) ? "pure" : "global",
        copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
    })
}, function (e, t) {
    e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}, function (e, t, n) {
    var i = n(15).f,
        r = n(17),
        o = n(24)("toStringTag");
    e.exports = function (e, t, n) {
        e && !r(e = n ? e : e.prototype, o) && i(e, o, {
            configurable: !0,
            value: t
        })
    }
}, function (e, t, n) {
    t.f = n(24)
}, function (e, t, n) {
    var i = n(13),
        r = n(14),
        o = n(52),
        a = n(69),
        s = n(15).f;
    e.exports = function (e) {
        var t = r.Symbol || (r.Symbol = o ? {} : i.Symbol || {});
        "_" == e.charAt(0) || e in t || s(t, e, {
            value: a.f(e)
        })
    }
}, function (e, t) {
    t.f = {}.propertyIsEnumerable
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i, r = n(59),
        o = (i = r) && i.__esModule ? i : {
            default: i
        };
    t.default = function (e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" !== (void 0 === t ? "undefined" : (0, o.default)(t)) && "function" != typeof t ? e : t
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = a(n(224)),
        r = a(n(228)),
        o = a(n(59));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t.default = function (e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === t ? "undefined" : (0, o.default)(t)));
        e.prototype = (0, r.default)(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (i.default ? (0, i.default)(e, t) : e.__proto__ = t)
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i, r = n(110),
        o = (i = r) && i.__esModule ? i : {
            default: i
        };
    t.default = function () {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), (0, o.default)(e, i.key, i)
            }
        }
        return function (t, n, i) {
            return n && e(t.prototype, n), i && e(t, i), t
        }
    }()
}, function (e, t, n) {
    "use strict";
    (function (e) {
        var t = n(3),
            i = n.n(t),
            r = n(4),
            o = n.n(r),
            a = n(0),
            s = n(39),
            l = n.n(s),
            c = (n(105), n(106), n(8)),
            u = n(41),
            h = n.n(u);
        new(function () {
            function t() {
                var e = this;
                i()(this, t), this.assetsToLoad = 0, this.assetsLoaded = 0, this.JSONS = [], this.waitForJSON = !1, this.waitForJSON ? void 0 !== c.a.jsons && c.a.jsons.length > 0 && (this.assetsToLoad += c.a.jsons.length, this.loadJSONS((function () {
                    for (var t = e.JSONS[0].media.projects, n = 0; n < t.length; n++) {
                        var i = t[n];
                        if ("image" === i.type) {
                            var r = {
                                id: i.id,
                                url: "images/projects/".concat(i.id, "/").concat(i.id, ".png")
                            };
                            c.a.textures.push(r)
                        } else {
                            var o = {
                                id: i.id,
                                url: "videos/projects/".concat(i.id, "/").concat(i.id, ".mp4")
                            };
                            c.a.videos.push(o)
                        }
                    }
                    e._startLoading()
                }))) : this._startLoading()
            }
            return o()(t, [{
                key: "_startLoading",
                value: function () {
                    void 0 !== c.a.fonts && c.a.images.length > 0 && (this.assetsToLoad += c.a.fonts.length, this.loadFonts()), void 0 !== c.a.images && c.a.images.length > 0 && (this.assetsToLoad += c.a.images.length, this.loadImages()), void 0 !== c.a.textures && c.a.textures.length > 0 && (this.assetsToLoad += c.a.textures.length, this.loadTextures()), void 0 !== c.a.sounds && c.a.sounds.length > 0 && (this.assetsToLoad += c.a.sounds.length, this.loadSounds()), void 0 !== c.a.videos && c.a.videos.length > 0 && (this.assetsToLoad += c.a.videos.length, this.loadVideos()), void 0 !== c.a.models && c.a.models.length > 0 && (this.assetsToLoad += c.a.models.length, this.loadModels()), void 0 !== c.a.fontsTextures && c.a.fontsTextures.length > 0 && (this.assetsToLoad += c.a.fontsTextures.length, this.loadFontsTextures()), 0 === this.assetsToLoad && Signals.onAssetsLoaded.dispatch(100)
                }
            }, {
                key: "loadFonts",
                value: function () {
                    for (var e = this, t = c.a.fonts, n = 0; n < t.length; n += 1) this.loadFont(t[n]).then((function () {
                        e.assetsLoaded += 1;
                        var t = e.assetsLoaded / e.assetsToLoad * 100;
                        Signals.onAssetLoaded.dispatch(t), console.log(t), 100 === t && Signals.onAssetsLoaded.dispatch(t)
                    }), (function (e) {
                        console.log(e)
                    }))
                }
            }, {
                key: "loadFont",
                value: function (e) {
                    return new Promise((function (t, n) {
                        console.log(e.id), new h.a(e.id).load().then((function () {
                            t()
                        }), (function (e) {
                            n("Error at the font loading:" + e)
                        }))
                    }))
                }
            }, {
                key: "loadImages",
                value: function () {
                    for (var e = this, t = c.a.images, n = 0; n < t.length; n += 1) this.loadImage(t[n]).then((function (t) {
                        a.a.resources.images.push(t), e.assetsLoaded += 1;
                        var n = e.assetsLoaded / e.assetsToLoad * 100;
                        Signals.onAssetLoaded.dispatch(n), console.log(n), 100 === n && Signals.onAssetsLoaded.dispatch(n)
                    }), (function (e) {
                        console.log(e)
                    }))
                }
            }, {
                key: "loadImage",
                value: function (e) {
                    return new Promise((function (t, n) {
                        var i = new Image;
                        i.alt = e.description, i.onload = function () {
                            t({
                                id: e.id,
                                media: i
                            })
                        }, i.onerror = function () {
                            n("Erreur lors du chargement de l'image : ".concat(i.src))
                        }, i.src = e.url
                    }))
                }
            }, {
                key: "loadTextures",
                value: function () {
                    for (var e = this, t = c.a.textures, n = 0; n < t.length; n += 1) this.loadTexture(t[n]).then((function (t) {
                        a.a.resources.textures.push(t), e.assetsLoaded += 1;
                        var n = e.assetsLoaded / e.assetsToLoad * 100;
                        Signals.onAssetLoaded.dispatch(n), 100 === n && Signals.onAssetsLoaded.dispatch(n)
                    }), (function (e) {
                        console.log(e)
                    }))
                }
            }, {
                key: "loadTexture",
                value: function (t) {
                    return new Promise((function (n, i) {
                        (new e.TextureLoader).load(t.url, (function (e) {
                            n({
                                id: t.id,
                                media: e
                            })
                        }), (function (e) {
                            console.log("".concat(e.loaded / e.total * 100, " % loaded"))
                        }), (function (e) {
                            i("Une erreur est survenue lors du chargement de la texture : ".concat(e))
                        }))
                    }))
                }
            }, {
                key: "loadSounds",
                value: function () {
                    for (var e = this, t = c.a.sounds, n = 0; n < t.length; n++) this.loadSound(t[n]).then((function (t) {
                        a.a.resources.textures.push(t), e.assetsLoaded += 1;
                        var n = e.assetsLoaded / e.assetsToLoad * 100;
                        Signals.onAssetLoaded.dispatch(n), 100 === n && Signals.onAssetsLoaded.dispatch(n)
                    }), (function (e) {
                        console.log(e)
                    }))
                }
            }, {
                key: "loadSound",
                value: function (e) {
                    return new Promise((function (t, n) {
                        var i = AudioController.createSound({
                            id: e.id,
                            url: e.url,
                            useAnalyser: e.analyser
                        });
                        i.on("ready", (function () {
                            t({
                                id: e.id,
                                media: i
                            })
                        })), i.on("error", (function () {
                            n("Une erreur est survenue lors du chargement du son : ".concat(i))
                        }))
                    }))
                }
            }, {
                key: "loadVideos",
                value: function () {
                    for (var e = this, t = c.a.videos, n = 0; n < t.length; n += 1) this.loadVideo(t[n]).then((function (t) {
                        a.a.resources.videos.push(t), e.assetsLoaded += 1;
                        var n = e.assetsLoaded / e.assetsToLoad * 100;
                        Signals.onAssetLoaded.dispatch(n), 100 === n && Signals.onAssetsLoaded.dispatch(n)
                    }), (function (e) {
                        console.log(e)
                    }))
                }
            }, {
                key: "loadVideo",
                value: function (e) {
                    return new Promise((function (t, n) {
                        var i = document.createElement("video");
                        i.oncanplaythrough = function () {
                            t({
                                id: e.id,
                                media: i
                            })
                        }, i.oncanplay = function () {
                            t({
                                id: e.id,
                                media: i
                            })
                        }, i.onloadedmetadata = function () {
                            t({
                                id: e.id,
                                media: i
                            })
                        }, i.onloadeddata = function () {
                            t({
                                id: e.id,
                                media: i
                            })
                        };
                        var r = setInterval((function () {
                            4 === i.readyState && (clearInterval(r), t({
                                id: e.id,
                                media: i
                            }))
                        }), 100);
                        i.onerror = function () {
                            n("Une erreur est survenue lors du chargement de la video : ".concat(i))
                        }, i.src = e.url
                    }))
                }
            }, {
                key: "loadModels",
                value: function () {
                    for (var e = this, t = c.a.models, n = 0; n < t.length; n += 1) this.loadModel(t[n]).then((function (t) {
                        a.a.resources.models.push(t), e.assetsLoaded += 1;
                        var n = e.assetsLoaded / e.assetsToLoad * 100;
                        Signals.onAssetLoaded.dispatch(n), 100 === n && Signals.onAssetsLoaded.dispatch(n)
                    }), (function (e) {
                        console.error(e)
                    }))
                }
            }, {
                key: "loadModel",
                value: function (t) {
                    return new Promise((function (n, i) {
                        switch (t.url.split(".").pop()) {
                            case "obj":
                                (new e.OBJLoader).load(t.url, (function (e) {
                                    n({
                                        id: t.id,
                                        media: e,
                                        type: "obj"
                                    })
                                }), (function () {}), (function () {
                                    i("An error happened with the model import.")
                                }));
                                break;
                            case "gltf":
                                (new e.GLTFLoader).load(t.url, (function (e) {
                                    n({
                                        id: t.id,
                                        media: e,
                                        type: "gltf"
                                    })
                                }), (function () {}), (function () {
                                    i("An error happened with the model import.")
                                }));
                                break;
                            default:
                                (new e.OBJLoader).load(t.url, (function (e) {
                                    n({
                                        id: t.id,
                                        media: e,
                                        type: "obj"
                                    })
                                }), (function () {}), (function () {
                                    i("An error happened with the model import.")
                                }))
                        }
                    }))
                }
            }, {
                key: "loadFontsTextures",
                value: function () {
                    for (var e = this, t = c.a.fontsTextures, n = 0; n < t.length; n += 1) this.loadFontsTexture(t[n]).then((function (t) {
                        a.a.resources.fontsTextures.push(t), e.assetsLoaded += 1;
                        var n = e.assetsLoaded / e.assetsToLoad * 100;
                        Signals.onAssetLoaded.dispatch(n), 100 === n && Signals.onAssetsLoaded.dispatch(n)
                    }), (function (e) {
                        console.error(e)
                    }))
                }
            }, {
                key: "loadFontsTexture",
                value: function (t) {
                    return new Promise((function (n, i) {
                        l()(t.json, (function (r, o) {
                            r && i("error while loading font texture {1} : " + r), (new e.TextureLoader).load(t.image, (function (e) {
                                n({
                                    id: t.id,
                                    media: {
                                        font: o,
                                        texture: e
                                    }
                                })
                            }), void 0, (function (e) {
                                i("error while loading font texture {2} : " + e)
                            }))
                        }))
                    }))
                }
            }, {
                key: "loadJSONS",
                value: function (e) {
                    for (var t = this, n = c.a.jsons, i = 0; i < n.length; i += 1) this.loadJSON(n[i]).then((function (n) {
                        if (t.JSONS.push(n), a.a.resources.jsons.push(n), t.assetsLoaded += 1, t.waitForJSON) e();
                        else {
                            var i = t.assetsLoaded / t.assetsToLoad * 100;
                            Signals.onAssetLoaded.dispatch(i), 100 === i && Signals.onAssetsLoaded.dispatch(i)
                        }
                    }), (function (e) {
                        console.error(e)
                    }))
                }
            }, {
                key: "loadJSON",
                value: function (e) {
                    return new Promise((function (t, n) {
                        var i = new XMLHttpRequest;
                        i.overrideMimeType("application/json"), i.open("GET", e.url, !0), i.onreadystatechange = function () {
                            4 == i.readyState && "200" == i.status && t({
                                id: e.id,
                                media: JSON.parse(i.responseText)
                            })
                        }, i.send(null)
                    }))
                }
            }]), t
        }())
    }).call(this, n(12))
}, function (e, t) {
    e.exports = function () {
        throw new Error("define cannot be used indirect")
    }
}, function (e, t, n) {
    "use strict";
    t.byteLength = function (e) {
        var t = c(e),
            n = t[0],
            i = t[1];
        return 3 * (n + i) / 4 - i
    }, t.toByteArray = function (e) {
        for (var t, n = c(e), i = n[0], a = n[1], s = new o(function (e, t, n) {
                return 3 * (t + n) / 4 - n
            }(0, i, a)), l = 0, u = a > 0 ? i - 4 : i, h = 0; h < u; h += 4) t = r[e.charCodeAt(h)] << 18 | r[e.charCodeAt(h + 1)] << 12 | r[e.charCodeAt(h + 2)] << 6 | r[e.charCodeAt(h + 3)], s[l++] = t >> 16 & 255, s[l++] = t >> 8 & 255, s[l++] = 255 & t;
        2 === a && (t = r[e.charCodeAt(h)] << 2 | r[e.charCodeAt(h + 1)] >> 4, s[l++] = 255 & t);
        1 === a && (t = r[e.charCodeAt(h)] << 10 | r[e.charCodeAt(h + 1)] << 4 | r[e.charCodeAt(h + 2)] >> 2, s[l++] = t >> 8 & 255, s[l++] = 255 & t);
        return s
    }, t.fromByteArray = function (e) {
        for (var t, n = e.length, r = n % 3, o = [], a = 0, s = n - r; a < s; a += 16383) o.push(u(e, a, a + 16383 > s ? s : a + 16383));
        1 === r ? (t = e[n - 1], o.push(i[t >> 2] + i[t << 4 & 63] + "==")) : 2 === r && (t = (e[n - 2] << 8) + e[n - 1], o.push(i[t >> 10] + i[t >> 4 & 63] + i[t << 2 & 63] + "="));
        return o.join("")
    };
    for (var i = [], r = [], o = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, l = a.length; s < l; ++s) i[s] = a[s], r[a.charCodeAt(s)] = s;

    function c(e) {
        var t = e.length;
        if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
        var n = e.indexOf("=");
        return -1 === n && (n = t), [n, n === t ? 0 : 4 - n % 4]
    }

    function u(e, t, n) {
        for (var r, o, a = [], s = t; s < n; s += 3) r = (e[s] << 16 & 16711680) + (e[s + 1] << 8 & 65280) + (255 & e[s + 2]), a.push(i[(o = r) >> 18 & 63] + i[o >> 12 & 63] + i[o >> 6 & 63] + i[63 & o]);
        return a.join("")
    }
    r["-".charCodeAt(0)] = 62, r["_".charCodeAt(0)] = 63
}, function (e, t) {
    t.read = function (e, t, n, i, r) {
        var o, a, s = 8 * r - i - 1,
            l = (1 << s) - 1,
            c = l >> 1,
            u = -7,
            h = n ? r - 1 : 0,
            d = n ? -1 : 1,
            p = e[t + h];
        for (h += d, o = p & (1 << -u) - 1, p >>= -u, u += s; u > 0; o = 256 * o + e[t + h], h += d, u -= 8);
        for (a = o & (1 << -u) - 1, o >>= -u, u += i; u > 0; a = 256 * a + e[t + h], h += d, u -= 8);
        if (0 === o) o = 1 - c;
        else {
            if (o === l) return a ? NaN : 1 / 0 * (p ? -1 : 1);
            a += Math.pow(2, i), o -= c
        }
        return (p ? -1 : 1) * a * Math.pow(2, o - i)
    }, t.write = function (e, t, n, i, r, o) {
        var a, s, l, c = 8 * o - r - 1,
            u = (1 << c) - 1,
            h = u >> 1,
            d = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
            p = i ? 0 : o - 1,
            f = i ? 1 : -1,
            m = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
        for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0, a = u) : (a = Math.floor(Math.log(t) / Math.LN2), t * (l = Math.pow(2, -a)) < 1 && (a--, l *= 2), (t += a + h >= 1 ? d / l : d * Math.pow(2, 1 - h)) * l >= 2 && (a++, l /= 2), a + h >= u ? (s = 0, a = u) : a + h >= 1 ? (s = (t * l - 1) * Math.pow(2, r), a += h) : (s = t * Math.pow(2, h - 1) * Math.pow(2, r), a = 0)); r >= 8; e[n + p] = 255 & s, p += f, s /= 256, r -= 8);
        for (a = a << r | s, c += r; c > 0; e[n + p] = 255 & a, p += f, a /= 256, c -= 8);
        e[n + p - f] |= 128 * m
    }
}, function (e, t) {
    e.exports = Array.isArray || function (e) {
        return "[object Array]" == Object.prototype.toString.call(e)
    }
}, function (e, t, n) {
    "use strict";
    var i = n(81),
        r = n(82),
        o = n(83),
        a = n(36);

    function s(e, t, n) {
        var i = e;
        return r(t) ? (n = t, "string" == typeof e && (i = {
            uri: e
        })) : i = a(t, {
            uri: e
        }), i.callback = n, i
    }

    function l(e, t, n) {
        return c(t = s(e, t, n))
    }

    function c(e) {
        if (void 0 === e.callback) throw new Error("callback argument missing");
        var t = !1,
            n = function (n, i, r) {
                t || (t = !0, e.callback(n, i, r))
            };

        function i() {
            var e = void 0;
            if (e = u.response ? u.response : u.responseText || function (e) {
                    try {
                        if ("document" === e.responseType) return e.responseXML;
                        var t = e.responseXML && "parsererror" === e.responseXML.documentElement.nodeName;
                        if ("" === e.responseType && !t) return e.responseXML
                    } catch (e) {}
                    return null
                }(u), g) try {
                e = JSON.parse(e)
            } catch (e) {}
            return e
        }

        function r(e) {
            return clearTimeout(h), e instanceof Error || (e = new Error("" + (e || "Unknown XMLHttpRequest Error"))), e.statusCode = 0, n(e, y)
        }

        function a() {
            if (!c) {
                var t;
                clearTimeout(h), t = e.useXDR && void 0 === u.status ? 200 : 1223 === u.status ? 204 : u.status;
                var r = y,
                    a = null;
                return 0 !== t ? (r = {
                    body: i(),
                    statusCode: t,
                    method: p,
                    headers: {},
                    url: d,
                    rawRequest: u
                }, u.getAllResponseHeaders && (r.headers = o(u.getAllResponseHeaders()))) : a = new Error("Internal XMLHttpRequest Error"), n(a, r, r.body)
            }
        }
        var s, c, u = e.xhr || null;
        u || (u = e.cors || e.useXDR ? new l.XDomainRequest : new l.XMLHttpRequest);
        var h, d = u.url = e.uri || e.url,
            p = u.method = e.method || "GET",
            f = e.body || e.data,
            m = u.headers = e.headers || {},
            v = !!e.sync,
            g = !1,
            y = {
                body: void 0,
                headers: {},
                statusCode: 0,
                method: p,
                url: d,
                rawRequest: u
            };
        if ("json" in e && !1 !== e.json && (g = !0, m.accept || m.Accept || (m.Accept = "application/json"), "GET" !== p && "HEAD" !== p && (m["content-type"] || m["Content-Type"] || (m["Content-Type"] = "application/json"), f = JSON.stringify(!0 === e.json ? f : e.json))), u.onreadystatechange = function () {
                4 === u.readyState && setTimeout(a, 0)
            }, u.onload = a, u.onerror = r, u.onprogress = function () {}, u.onabort = function () {
                c = !0
            }, u.ontimeout = r, u.open(p, d, !v, e.username, e.password), v || (u.withCredentials = !!e.withCredentials), !v && e.timeout > 0 && (h = setTimeout((function () {
                if (!c) {
                    c = !0, u.abort("timeout");
                    var e = new Error("XMLHttpRequest timeout");
                    e.code = "ETIMEDOUT", r(e)
                }
            }), e.timeout)), u.setRequestHeader)
            for (s in m) m.hasOwnProperty(s) && u.setRequestHeader(s, m[s]);
        else if (e.headers && ! function (e) {
                for (var t in e)
                    if (e.hasOwnProperty(t)) return !1;
                return !0
            }(e.headers)) throw new Error("Headers cannot be set on an XDomainRequest object");
        return "responseType" in e && (u.responseType = e.responseType), "beforeSend" in e && "function" == typeof e.beforeSend && e.beforeSend(u), u.send(f || null), u
    }
    e.exports = l, e.exports.default = l, l.XMLHttpRequest = i.XMLHttpRequest || function () {}, l.XDomainRequest = "withCredentials" in new l.XMLHttpRequest ? l.XMLHttpRequest : i.XDomainRequest,
        function (e, t) {
            for (var n = 0; n < e.length; n++) t(e[n])
        }(["get", "put", "post", "patch", "head", "delete"], (function (e) {
            l["delete" === e ? "del" : e] = function (t, n, i) {
                return (n = s(t, n, i)).method = e.toUpperCase(), c(n)
            }
        }))
}, function (e, t, n) {
    (function (t) {
        var n;
        n = "undefined" != typeof window ? window : void 0 !== t ? t : "undefined" != typeof self ? self : {}, e.exports = n
    }).call(this, n(25))
}, function (e, t) {
    e.exports = function (e) {
        var t = n.call(e);
        return "[object Function]" === t || "function" == typeof e && "[object RegExp]" !== t || "undefined" != typeof window && (e === window.setTimeout || e === window.alert || e === window.confirm || e === window.prompt)
    };
    var n = Object.prototype.toString
}, function (e, t, n) {
    var i = n(84),
        r = n(97);
    e.exports = function (e) {
        if (!e) return {};
        var t = {};
        return r(i(e).split("\n"), (function (e) {
            var n, r = e.indexOf(":"),
                o = i(e.slice(0, r)).toLowerCase(),
                a = i(e.slice(r + 1));
            void 0 === t[o] ? t[o] = a : (n = t[o], "[object Array]" === Object.prototype.toString.call(n) ? t[o].push(a) : t[o] = [t[o], a])
        })), t
    }
}, function (e, t, n) {
    "use strict";
    var i = n(19),
        r = n(30),
        o = n(32),
        a = n(35),
        s = n(96),
        l = i.call(Function.call, a());
    r(l, {
        getPolyfill: a,
        implementation: o,
        shim: s
    }), e.exports = l
}, function (e, t, n) {
    "use strict";
    var i = "Function.prototype.bind called on incompatible ",
        r = Array.prototype.slice,
        o = Object.prototype.toString;
    e.exports = function (e) {
        var t = this;
        if ("function" != typeof t || "[object Function]" !== o.call(t)) throw new TypeError(i + t);
        for (var n, a = r.call(arguments, 1), s = function () {
                if (this instanceof n) {
                    var i = t.apply(this, a.concat(r.call(arguments)));
                    return Object(i) === i ? i : this
                }
                return t.apply(e, a.concat(r.call(arguments)))
            }, l = Math.max(0, t.length - a.length), c = [], u = 0; u < l; u++) c.push("$" + u);
        if (n = Function("binder", "return function (" + c.join(",") + "){ return binder.apply(this,arguments); }")(s), t.prototype) {
            var h = function () {};
            h.prototype = t.prototype, n.prototype = new h, h.prototype = null
        }
        return n
    }
}, function (e, t, n) {
    "use strict";
    var i = Array.prototype.slice,
        r = n(31),
        o = Object.keys,
        a = o ? function (e) {
            return o(e)
        } : n(87),
        s = Object.keys;
    a.shim = function () {
        Object.keys ? function () {
            var e = Object.keys(arguments);
            return e && e.length === arguments.length
        }(1, 2) || (Object.keys = function (e) {
            return r(e) ? s(i.call(e)) : s(e)
        }) : Object.keys = a;
        return Object.keys || a
    }, e.exports = a
}, function (e, t, n) {
    "use strict";
    var i;
    if (!Object.keys) {
        var r = Object.prototype.hasOwnProperty,
            o = Object.prototype.toString,
            a = n(31),
            s = Object.prototype.propertyIsEnumerable,
            l = !s.call({
                toString: null
            }, "toString"),
            c = s.call((function () {}), "prototype"),
            u = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],
            h = function (e) {
                var t = e.constructor;
                return t && t.prototype === e
            },
            d = {
                $applicationCache: !0,
                $console: !0,
                $external: !0,
                $frame: !0,
                $frameElement: !0,
                $frames: !0,
                $innerHeight: !0,
                $innerWidth: !0,
                $outerHeight: !0,
                $outerWidth: !0,
                $pageXOffset: !0,
                $pageYOffset: !0,
                $parent: !0,
                $scrollLeft: !0,
                $scrollTop: !0,
                $scrollX: !0,
                $scrollY: !0,
                $self: !0,
                $webkitIndexedDB: !0,
                $webkitStorageInfo: !0,
                $window: !0
            },
            p = function () {
                if ("undefined" == typeof window) return !1;
                for (var e in window) try {
                    if (!d["$" + e] && r.call(window, e) && null !== window[e] && "object" == typeof window[e]) try {
                        h(window[e])
                    } catch (e) {
                        return !0
                    }
                } catch (e) {
                    return !0
                }
                return !1
            }();
        i = function (e) {
            var t = null !== e && "object" == typeof e,
                n = "[object Function]" === o.call(e),
                i = a(e),
                s = t && "[object String]" === o.call(e),
                d = [];
            if (!t && !n && !i) throw new TypeError("Object.keys called on a non-object");
            var f = c && n;
            if (s && e.length > 0 && !r.call(e, 0))
                for (var m = 0; m < e.length; ++m) d.push(String(m));
            if (i && e.length > 0)
                for (var v = 0; v < e.length; ++v) d.push(String(v));
            else
                for (var g in e) f && "prototype" === g || !r.call(e, g) || d.push(String(g));
            if (l)
                for (var y = function (e) {
                        if ("undefined" == typeof window || !p) return h(e);
                        try {
                            return h(e)
                        } catch (e) {
                            return !1
                        }
                    }(e), _ = 0; _ < u.length; ++_) y && "constructor" === u[_] || !r.call(e, u[_]) || d.push(u[_]);
            return d
        }
    }
    e.exports = i
}, function (e, t, n) {
    "use strict";
    var i = n(33),
        r = i("%Object%"),
        o = i("%TypeError%"),
        a = i("%String%"),
        s = n(89),
        l = n(90),
        c = n(91),
        u = n(92),
        h = n(93),
        d = n(20),
        p = n(94),
        f = n(34),
        m = {
            ToPrimitive: p,
            ToBoolean: function (e) {
                return !!e
            },
            ToNumber: function (e) {
                return +e
            },
            ToInteger: function (e) {
                var t = this.ToNumber(e);
                return l(t) ? 0 : 0 !== t && c(t) ? u(t) * Math.floor(Math.abs(t)) : t
            },
            ToInt32: function (e) {
                return this.ToNumber(e) >> 0
            },
            ToUint32: function (e) {
                return this.ToNumber(e) >>> 0
            },
            ToUint16: function (e) {
                var t = this.ToNumber(e);
                if (l(t) || 0 === t || !c(t)) return 0;
                var n = u(t) * Math.floor(Math.abs(t));
                return h(n, 65536)
            },
            ToString: function (e) {
                return a(e)
            },
            ToObject: function (e) {
                return this.CheckObjectCoercible(e), r(e)
            },
            CheckObjectCoercible: function (e, t) {
                if (null == e) throw new o(t || "Cannot call method on " + e);
                return e
            },
            IsCallable: d,
            SameValue: function (e, t) {
                return e === t ? 0 !== e || 1 / e == 1 / t : l(e) && l(t)
            },
            Type: function (e) {
                return null === e ? "Null" : void 0 === e ? "Undefined" : "function" == typeof e || "object" == typeof e ? "Object" : "number" == typeof e ? "Number" : "boolean" == typeof e ? "Boolean" : "string" == typeof e ? "String" : void 0
            },
            IsPropertyDescriptor: function (e) {
                if ("Object" !== this.Type(e)) return !1;
                var t = {
                    "[[Configurable]]": !0,
                    "[[Enumerable]]": !0,
                    "[[Get]]": !0,
                    "[[Set]]": !0,
                    "[[Value]]": !0,
                    "[[Writable]]": !0
                };
                for (var n in e)
                    if (f(e, n) && !t[n]) return !1;
                var i = f(e, "[[Value]]"),
                    r = f(e, "[[Get]]") || f(e, "[[Set]]");
                if (i && r) throw new o("Property Descriptors may not be both accessor and data descriptors");
                return !0
            },
            IsAccessorDescriptor: function (e) {
                return void 0 !== e && (s(this, "Property Descriptor", "Desc", e), !(!f(e, "[[Get]]") && !f(e, "[[Set]]")))
            },
            IsDataDescriptor: function (e) {
                return void 0 !== e && (s(this, "Property Descriptor", "Desc", e), !(!f(e, "[[Value]]") && !f(e, "[[Writable]]")))
            },
            IsGenericDescriptor: function (e) {
                return void 0 !== e && (s(this, "Property Descriptor", "Desc", e), !this.IsAccessorDescriptor(e) && !this.IsDataDescriptor(e))
            },
            FromPropertyDescriptor: function (e) {
                if (void 0 === e) return e;
                if (s(this, "Property Descriptor", "Desc", e), this.IsDataDescriptor(e)) return {
                    value: e["[[Value]]"],
                    writable: !!e["[[Writable]]"],
                    enumerable: !!e["[[Enumerable]]"],
                    configurable: !!e["[[Configurable]]"]
                };
                if (this.IsAccessorDescriptor(e)) return {
                    get: e["[[Get]]"],
                    set: e["[[Set]]"],
                    enumerable: !!e["[[Enumerable]]"],
                    configurable: !!e["[[Configurable]]"]
                };
                throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")
            },
            ToPropertyDescriptor: function (e) {
                if ("Object" !== this.Type(e)) throw new o("ToPropertyDescriptor requires an object");
                var t = {};
                if (f(e, "enumerable") && (t["[[Enumerable]]"] = this.ToBoolean(e.enumerable)), f(e, "configurable") && (t["[[Configurable]]"] = this.ToBoolean(e.configurable)), f(e, "value") && (t["[[Value]]"] = e.value), f(e, "writable") && (t["[[Writable]]"] = this.ToBoolean(e.writable)), f(e, "get")) {
                    var n = e.get;
                    if (void 0 !== n && !this.IsCallable(n)) throw new TypeError("getter must be a function");
                    t["[[Get]]"] = n
                }
                if (f(e, "set")) {
                    var i = e.set;
                    if (void 0 !== i && !this.IsCallable(i)) throw new o("setter must be a function");
                    t["[[Set]]"] = i
                }
                if ((f(t, "[[Get]]") || f(t, "[[Set]]")) && (f(t, "[[Value]]") || f(t, "[[Writable]]"))) throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");
                return t
            }
        };
    e.exports = m
}, function (e, t, n) {
    "use strict";
    var i = n(33),
        r = i("%TypeError%"),
        o = i("%SyntaxError%"),
        a = n(34),
        s = {
            "Property Descriptor": function (e, t) {
                if ("Object" !== e.Type(t)) return !1;
                var n = {
                    "[[Configurable]]": !0,
                    "[[Enumerable]]": !0,
                    "[[Get]]": !0,
                    "[[Set]]": !0,
                    "[[Value]]": !0,
                    "[[Writable]]": !0
                };
                for (var i in t)
                    if (a(t, i) && !n[i]) return !1;
                var o = a(t, "[[Value]]"),
                    s = a(t, "[[Get]]") || a(t, "[[Set]]");
                if (o && s) throw new r("Property Descriptors may not be both accessor and data descriptors");
                return !0
            }
        };
    e.exports = function (e, t, n, i) {
        var a = s[t];
        if ("function" != typeof a) throw new o("unknown record type: " + t);
        if (!a(e, i)) throw new r(n + " must be a " + t);
        console.log(a(e, i), i)
    }
}, function (e, t) {
    e.exports = Number.isNaN || function (e) {
        return e != e
    }
}, function (e, t) {
    var n = Number.isNaN || function (e) {
        return e != e
    };
    e.exports = Number.isFinite || function (e) {
        return "number" == typeof e && !n(e) && e !== 1 / 0 && e !== -1 / 0
    }
}, function (e, t) {
    e.exports = function (e) {
        return e >= 0 ? 1 : -1
    }
}, function (e, t) {
    e.exports = function (e, t) {
        var n = e % t;
        return Math.floor(n >= 0 ? n : n + t)
    }
}, function (e, t, n) {
    "use strict";
    var i = Object.prototype.toString,
        r = n(95),
        o = n(20),
        a = function (e) {
            var t;
            if ((t = arguments.length > 1 ? arguments[1] : "[object Date]" === i.call(e) ? String : Number) === String || t === Number) {
                var n, a, s = t === String ? ["toString", "valueOf"] : ["valueOf", "toString"];
                for (a = 0; a < s.length; ++a)
                    if (o(e[s[a]]) && (n = e[s[a]](), r(n))) return n;
                throw new TypeError("No default value")
            }
            throw new TypeError("invalid [[DefaultValue]] hint supplied")
        };
    e.exports = function (e) {
        return r(e) ? e : arguments.length > 1 ? a(e, arguments[1]) : a(e)
    }
}, function (e, t) {
    e.exports = function (e) {
        return null === e || "function" != typeof e && "object" != typeof e
    }
}, function (e, t, n) {
    "use strict";
    var i = n(30),
        r = n(35);
    e.exports = function () {
        var e = r();
        return i(String.prototype, {
            trim: e
        }, {
            trim: function () {
                return String.prototype.trim !== e
            }
        }), e
    }
}, function (e, t, n) {
    "use strict";
    var i = n(20),
        r = Object.prototype.toString,
        o = Object.prototype.hasOwnProperty,
        a = function (e, t, n) {
            for (var i = 0, r = e.length; i < r; i++) o.call(e, i) && (null == n ? t(e[i], i, e) : t.call(n, e[i], i, e))
        },
        s = function (e, t, n) {
            for (var i = 0, r = e.length; i < r; i++) null == n ? t(e.charAt(i), i, e) : t.call(n, e.charAt(i), i, e)
        },
        l = function (e, t, n) {
            for (var i in e) o.call(e, i) && (null == n ? t(e[i], i, e) : t.call(n, e[i], i, e))
        };
    e.exports = function (e, t, n) {
        if (!i(t)) throw new TypeError("iterator must be a function");
        var o;
        arguments.length >= 3 && (o = n), "[object Array]" === r.call(e) ? a(e, t, o) : "string" == typeof e ? s(e, t, o) : l(e, t, o)
    }
}, function (e, t) {
    function n(e, t) {
        if (!(e = e.replace(/\t+/g, " ").trim())) return null;
        var n = e.indexOf(" ");
        if (-1 === n) throw new Error("no named row at line " + t);
        var r = e.substring(0, n);
        e = (e = (e = (e = e.substring(n + 1)).replace(/letter=[\'\"]\S+[\'\"]/gi, "")).split("=")).map((function (e) {
            return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)
        }));
        for (var o = [], a = 0; a < e.length; a++) {
            var s = e[a];
            0 === a ? o.push({
                key: s[0],
                data: ""
            }) : a === e.length - 1 ? o[o.length - 1].data = i(s[0]) : (o[o.length - 1].data = i(s[0]), o.push({
                key: s[1],
                data: ""
            }))
        }
        var l = {
            key: r,
            data: {}
        };
        return o.forEach((function (e) {
            l.data[e.key] = e.data
        })), l
    }

    function i(e) {
        return e && 0 !== e.length ? 0 === e.indexOf('"') || 0 === e.indexOf("'") ? e.substring(1, e.length - 1) : -1 !== e.indexOf(",") ? function (e) {
            return e.split(",").map((function (e) {
                return parseInt(e, 10)
            }))
        }(e) : parseInt(e, 10) : ""
    }
    e.exports = function (e) {
        if (!e) throw new Error("no data provided");
        var t = {
                pages: [],
                chars: [],
                kernings: []
            },
            i = (e = e.toString().trim()).split(/\r\n?|\n/g);
        if (0 === i.length) throw new Error("no data in BMFont file");
        for (var r = 0; r < i.length; r++) {
            var o = n(i[r], r);
            if (o)
                if ("page" === o.key) {
                    if ("number" != typeof o.data.id) throw new Error("malformed file at line " + r + " -- needs page id=N");
                    if ("string" != typeof o.data.file) throw new Error("malformed file at line " + r + ' -- needs page file="path"');
                    t.pages[o.data.id] = o.data.file
                } else "chars" === o.key || "kernings" === o.key || ("char" === o.key ? t.chars.push(o.data) : "kerning" === o.key ? t.kernings.push(o.data) : t[o.key] = o.data)
        }
        return t
    }
}, function (e, t, n) {
    var i = n(100),
        r = n(101),
        o = {
            scaleh: "scaleH",
            scalew: "scaleW",
            stretchh: "stretchH",
            lineheight: "lineHeight",
            alphachnl: "alphaChnl",
            redchnl: "redChnl",
            greenchnl: "greenChnl",
            bluechnl: "blueChnl"
        };

    function a(e) {
        return function (e) {
            for (var t = [], n = 0; n < e.attributes.length; n++) t.push(e.attributes[n]);
            return t
        }(e).reduce((function (e, t) {
            var n;
            return e[(n = t.nodeName, o[n.toLowerCase()] || n)] = t.nodeValue, e
        }), {})
    }
    e.exports = function (e) {
        e = e.toString();
        var t = r(e),
            n = {
                pages: [],
                chars: [],
                kernings: []
            };
        ["info", "common"].forEach((function (e) {
            var r = t.getElementsByTagName(e)[0];
            r && (n[e] = i(a(r)))
        }));
        var o = t.getElementsByTagName("pages")[0];
        if (!o) throw new Error("malformed file -- no <pages> element");
        for (var s = o.getElementsByTagName("page"), l = 0; l < s.length; l++) {
            var c = s[l],
                u = parseInt(c.getAttribute("id"), 10),
                h = c.getAttribute("file");
            if (isNaN(u)) throw new Error('malformed file -- page "id" attribute is NaN');
            if (!h) throw new Error('malformed file -- needs page "file" attribute');
            n.pages[parseInt(u, 10)] = h
        }
        return ["chars", "kernings"].forEach((function (e) {
            var r = t.getElementsByTagName(e)[0];
            if (r)
                for (var o = e.substring(0, e.length - 1), s = r.getElementsByTagName(o), l = 0; l < s.length; l++) {
                    var c = s[l];
                    n[e].push(i(a(c)))
                }
        })), n
    }
}, function (e, t) {
    e.exports = function (e) {
        for (var t in "chasrset" in e && (e.charset = e.chasrset, delete e.chasrset), e) "face" !== t && "charset" !== t && (e[t] = "padding" === t || "spacing" === t ? e[t].split(",").map((function (e) {
            return parseInt(e, 10)
        })) : parseInt(e[t], 10));
        return e
    }
}, function (e, t) {
    e.exports = void 0 !== self.DOMParser ? function (e) {
        return (new self.DOMParser).parseFromString(e, "application/xml")
    } : void 0 !== self.ActiveXObject && new self.ActiveXObject("Microsoft.XMLDOM") ? function (e) {
        var t = new self.ActiveXObject("Microsoft.XMLDOM");
        return t.async = "false", t.loadXML(e), t
    } : function (e) {
        var t = document.createElement("div");
        return t.innerHTML = e, t
    }
}, function (e, t) {
    var n = [66, 77, 70];

    function i(e, t, n) {
        if (n > t.length - 1) return 0;
        var i = t.readUInt8(n++),
            o = t.readInt32LE(n);
        switch (n += 4, i) {
            case 1:
                e.info = function (e, t) {
                    var n = {};
                    n.size = e.readInt16LE(t);
                    var i = e.readUInt8(t + 2);
                    n.smooth = i >> 7 & 1, n.unicode = i >> 6 & 1, n.italic = i >> 5 & 1, n.bold = i >> 4 & 1, i >> 3 & 1 && (n.fixedHeight = 1);
                    return n.charset = e.readUInt8(t + 3) || "", n.stretchH = e.readUInt16LE(t + 4), n.aa = e.readUInt8(t + 6), n.padding = [e.readInt8(t + 7), e.readInt8(t + 8), e.readInt8(t + 9), e.readInt8(t + 10)], n.spacing = [e.readInt8(t + 11), e.readInt8(t + 12)], n.outline = e.readUInt8(t + 13), n.face = function (e, t) {
                        return r(e, t).toString("utf8")
                    }(e, t + 14), n
                }(t, n);
                break;
            case 2:
                e.common = function (e, t) {
                    var n = {};
                    n.lineHeight = e.readUInt16LE(t), n.base = e.readUInt16LE(t + 2), n.scaleW = e.readUInt16LE(t + 4), n.scaleH = e.readUInt16LE(t + 6), n.pages = e.readUInt16LE(t + 8);
                    e.readUInt8(t + 10);
                    return n.packed = 0, n.alphaChnl = e.readUInt8(t + 11), n.redChnl = e.readUInt8(t + 12), n.greenChnl = e.readUInt8(t + 13), n.blueChnl = e.readUInt8(t + 14), n
                }(t, n);
                break;
            case 3:
                e.pages = function (e, t, n) {
                    for (var i = [], o = r(e, t), a = o.length + 1, s = n / a, l = 0; l < s; l++) i[l] = e.slice(t, t + o.length).toString("utf8"), t += a;
                    return i
                }(t, n, o);
                break;
            case 4:
                e.chars = function (e, t, n) {
                    for (var i = [], r = n / 20, o = 0; o < r; o++) {
                        var a = {},
                            s = 20 * o;
                        a.id = e.readUInt32LE(t + 0 + s), a.x = e.readUInt16LE(t + 4 + s), a.y = e.readUInt16LE(t + 6 + s), a.width = e.readUInt16LE(t + 8 + s), a.height = e.readUInt16LE(t + 10 + s), a.xoffset = e.readInt16LE(t + 12 + s), a.yoffset = e.readInt16LE(t + 14 + s), a.xadvance = e.readInt16LE(t + 16 + s), a.page = e.readUInt8(t + 18 + s), a.chnl = e.readUInt8(t + 19 + s), i[o] = a
                    }
                    return i
                }(t, n, o);
                break;
            case 5:
                e.kernings = function (e, t, n) {
                    for (var i = [], r = n / 10, o = 0; o < r; o++) {
                        var a = {},
                            s = 10 * o;
                        a.first = e.readUInt32LE(t + 0 + s), a.second = e.readUInt32LE(t + 4 + s), a.amount = e.readInt16LE(t + 8 + s), i[o] = a
                    }
                    return i
                }(t, n, o)
        }
        return 5 + o
    }

    function r(e, t) {
        for (var n = t; n < e.length && 0 !== e[n]; n++);
        return e.slice(t, n)
    }
    e.exports = function (e) {
        if (e.length < 6) throw new Error("invalid buffer length for BMFont");
        if (!n.every((function (t, n) {
                return e.readUInt8(n) === t
            }))) throw new Error("BMFont missing BMF byte header");
        var t = 3;
        if (e.readUInt8(t++) > 3) throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");
        for (var r = {
                kernings: [],
                chars: []
            }, o = 0; o < 5; o++) t += i(r, e, t);
        return r
    }
}, function (e, t, n) {
    (function (t) {
        var i = n(104),
            r = new t([66, 77, 70, 3]);
        e.exports = function (e) {
            return "string" == typeof e ? "BMF" === e.substring(0, 3) : e.length > 4 && i(e.slice(0, 4), r)
        }
    }).call(this, n(18).Buffer)
}, function (e, t, n) {
    var i = n(18).Buffer;
    e.exports = function (e, t) {
        if (i.isBuffer(e) && i.isBuffer(t)) {
            if ("function" == typeof e.equals) return e.equals(t);
            if (e.length !== t.length) return !1;
            for (var n = 0; n < e.length; n++)
                if (e[n] !== t[n]) return !1;
            return !0
        }
    }
}, function (e, t, n) {
    (function (e) {
        e.OBJLoader = function (t) {
            this.manager = void 0 !== t ? t : e.DefaultLoadingManager, this.materials = null, this.regexp = {
                vertex_pattern: /^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,
                normal_pattern: /^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,
                uv_pattern: /^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,
                face_vertex: /^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,
                face_vertex_uv: /^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,
                face_vertex_uv_normal: /^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,
                face_vertex_normal: /^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,
                object_pattern: /^[og]\s*(.+)?/,
                smoothing_pattern: /^s\s+(\d+|on|off)/,
                material_library_pattern: /^mtllib /,
                material_use_pattern: /^usemtl /
            }
        }, e.OBJLoader.prototype = {
            constructor: e.OBJLoader,
            load: function (t, n, i, r) {
                var o = this,
                    a = new e.FileLoader(o.manager);
                a.setPath(this.path), a.load(t, (function (e) {
                    n(o.parse(e))
                }), i, r)
            },
            setPath: function (e) {
                this.path = e
            },
            setMaterials: function (e) {
                this.materials = e
            },
            _createParserState: function () {
                var e = {
                    objects: [],
                    object: {},
                    vertices: [],
                    normals: [],
                    uvs: [],
                    materialLibraries: [],
                    startObject: function (e, t) {
                        if (this.object && !1 === this.object.fromDeclaration) return this.object.name = e, void(this.object.fromDeclaration = !1 !== t);
                        var n = this.object && "function" == typeof this.object.currentMaterial ? this.object.currentMaterial() : void 0;
                        if (this.object && "function" == typeof this.object._finalize && this.object._finalize(!0), this.object = {
                                name: e || "",
                                fromDeclaration: !1 !== t,
                                geometry: {
                                    vertices: [],
                                    normals: [],
                                    uvs: []
                                },
                                materials: [],
                                smooth: !0,
                                startMaterial: function (e, t) {
                                    var n = this._finalize(!1);
                                    n && (n.inherited || n.groupCount <= 0) && this.materials.splice(n.index, 1);
                                    var i = {
                                        index: this.materials.length,
                                        name: e || "",
                                        mtllib: Array.isArray(t) && t.length > 0 ? t[t.length - 1] : "",
                                        smooth: void 0 !== n ? n.smooth : this.smooth,
                                        groupStart: void 0 !== n ? n.groupEnd : 0,
                                        groupEnd: -1,
                                        groupCount: -1,
                                        inherited: !1,
                                        clone: function (e) {
                                            var t = {
                                                index: "number" == typeof e ? e : this.index,
                                                name: this.name,
                                                mtllib: this.mtllib,
                                                smooth: this.smooth,
                                                groupStart: 0,
                                                groupEnd: -1,
                                                groupCount: -1,
                                                inherited: !1
                                            };
                                            return t.clone = this.clone.bind(t), t
                                        }
                                    };
                                    return this.materials.push(i), i
                                },
                                currentMaterial: function () {
                                    if (this.materials.length > 0) return this.materials[this.materials.length - 1]
                                },
                                _finalize: function (e) {
                                    var t = this.currentMaterial();
                                    if (t && -1 === t.groupEnd && (t.groupEnd = this.geometry.vertices.length / 3, t.groupCount = t.groupEnd - t.groupStart, t.inherited = !1), e && this.materials.length > 1)
                                        for (var n = this.materials.length - 1; n >= 0; n--) this.materials[n].groupCount <= 0 && this.materials.splice(n, 1);
                                    return e && 0 === this.materials.length && this.materials.push({
                                        name: "",
                                        smooth: this.smooth
                                    }), t
                                }
                            }, n && n.name && "function" == typeof n.clone) {
                            var i = n.clone(0);
                            i.inherited = !0, this.object.materials.push(i)
                        }
                        this.objects.push(this.object)
                    },
                    finalize: function () {
                        this.object && "function" == typeof this.object._finalize && this.object._finalize(!0)
                    },
                    parseVertexIndex: function (e, t) {
                        var n = parseInt(e, 10);
                        return 3 * (n >= 0 ? n - 1 : n + t / 3)
                    },
                    parseNormalIndex: function (e, t) {
                        var n = parseInt(e, 10);
                        return 3 * (n >= 0 ? n - 1 : n + t / 3)
                    },
                    parseUVIndex: function (e, t) {
                        var n = parseInt(e, 10);
                        return 2 * (n >= 0 ? n - 1 : n + t / 2)
                    },
                    addVertex: function (e, t, n) {
                        var i = this.vertices,
                            r = this.object.geometry.vertices;
                        r.push(i[e + 0]), r.push(i[e + 1]), r.push(i[e + 2]), r.push(i[t + 0]), r.push(i[t + 1]), r.push(i[t + 2]), r.push(i[n + 0]), r.push(i[n + 1]), r.push(i[n + 2])
                    },
                    addVertexLine: function (e) {
                        var t = this.vertices,
                            n = this.object.geometry.vertices;
                        n.push(t[e + 0]), n.push(t[e + 1]), n.push(t[e + 2])
                    },
                    addNormal: function (e, t, n) {
                        var i = this.normals,
                            r = this.object.geometry.normals;
                        r.push(i[e + 0]), r.push(i[e + 1]), r.push(i[e + 2]), r.push(i[t + 0]), r.push(i[t + 1]), r.push(i[t + 2]), r.push(i[n + 0]), r.push(i[n + 1]), r.push(i[n + 2])
                    },
                    addUV: function (e, t, n) {
                        var i = this.uvs,
                            r = this.object.geometry.uvs;
                        r.push(i[e + 0]), r.push(i[e + 1]), r.push(i[t + 0]), r.push(i[t + 1]), r.push(i[n + 0]), r.push(i[n + 1])
                    },
                    addUVLine: function (e) {
                        var t = this.uvs,
                            n = this.object.geometry.uvs;
                        n.push(t[e + 0]), n.push(t[e + 1])
                    },
                    addFace: function (e, t, n, i, r, o, a, s, l, c, u, h) {
                        var d, p = this.vertices.length,
                            f = this.parseVertexIndex(e, p),
                            m = this.parseVertexIndex(t, p),
                            v = this.parseVertexIndex(n, p);
                        if (void 0 === i ? this.addVertex(f, m, v) : (d = this.parseVertexIndex(i, p), this.addVertex(f, m, d), this.addVertex(m, v, d)), void 0 !== r) {
                            var g = this.uvs.length;
                            f = this.parseUVIndex(r, g), m = this.parseUVIndex(o, g), v = this.parseUVIndex(a, g), void 0 === i ? this.addUV(f, m, v) : (d = this.parseUVIndex(s, g), this.addUV(f, m, d), this.addUV(m, v, d))
                        }
                        if (void 0 !== l) {
                            var y = this.normals.length;
                            f = this.parseNormalIndex(l, y), m = l === c ? f : this.parseNormalIndex(c, y), v = l === u ? f : this.parseNormalIndex(u, y), void 0 === i ? this.addNormal(f, m, v) : (d = this.parseNormalIndex(h, y), this.addNormal(f, m, d), this.addNormal(m, v, d))
                        }
                    },
                    addLineGeometry: function (e, t) {
                        this.object.geometry.type = "Line";
                        for (var n = this.vertices.length, i = this.uvs.length, r = 0, o = e.length; r < o; r++) this.addVertexLine(this.parseVertexIndex(e[r], n));
                        var a = 0;
                        for (o = t.length; a < o; a++) this.addUVLine(this.parseUVIndex(t[a], i))
                    }
                };
                return e.startObject("", !1), e
            },
            parse: function (t) {
                console.time("OBJLoader");
                var n = this._createParserState(); - 1 !== t.indexOf("\r\n") && (t = t.replace(/\r\n/g, "\n")), -1 !== t.indexOf("\\\n") && (t = t.replace(/\\\n/g, ""));
                for (var i = t.split("\n"), r = "", o = "", a = "", s = [], l = "function" == typeof "".trimLeft, c = 0, u = i.length; c < u; c++)
                    if (r = i[c], 0 !== (r = l ? r.trimLeft() : r.trim()).length && "#" !== (o = r.charAt(0)))
                        if ("v" === o)
                            if (" " === (a = r.charAt(1)) && null !== (s = this.regexp.vertex_pattern.exec(r))) n.vertices.push(parseFloat(s[1]), parseFloat(s[2]), parseFloat(s[3]));
                            else if ("n" === a && null !== (s = this.regexp.normal_pattern.exec(r))) n.normals.push(parseFloat(s[1]), parseFloat(s[2]), parseFloat(s[3]));
                else {
                    if ("t" !== a || null === (s = this.regexp.uv_pattern.exec(r))) throw new Error("Unexpected vertex/normal/uv line: '" + r + "'");
                    n.uvs.push(parseFloat(s[1]), parseFloat(s[2]))
                } else if ("f" === o)
                    if (null !== (s = this.regexp.face_vertex_uv_normal.exec(r))) n.addFace(s[1], s[4], s[7], s[10], s[2], s[5], s[8], s[11], s[3], s[6], s[9], s[12]);
                    else if (null !== (s = this.regexp.face_vertex_uv.exec(r))) n.addFace(s[1], s[3], s[5], s[7], s[2], s[4], s[6], s[8]);
                else if (null !== (s = this.regexp.face_vertex_normal.exec(r))) n.addFace(s[1], s[3], s[5], s[7], void 0, void 0, void 0, void 0, s[2], s[4], s[6], s[8]);
                else {
                    if (null === (s = this.regexp.face_vertex.exec(r))) throw new Error("Unexpected face line: '" + r + "'");
                    n.addFace(s[1], s[2], s[3], s[4])
                } else if ("l" === o) {
                    var h = r.substring(1).trim().split(" "),
                        d = [],
                        p = [];
                    if (-1 === r.indexOf("/")) d = h;
                    else
                        for (var f = 0, m = h.length; f < m; f++) {
                            var v = h[f].split("/");
                            "" !== v[0] && d.push(v[0]), "" !== v[1] && p.push(v[1])
                        }
                    n.addLineGeometry(d, p)
                } else if (null !== (s = this.regexp.object_pattern.exec(r))) {
                    var g = (" " + s[0].substr(1).trim()).substr(1);
                    n.startObject(g)
                } else if (this.regexp.material_use_pattern.test(r)) n.object.startMaterial(r.substring(7).trim(), n.materialLibraries);
                else if (this.regexp.material_library_pattern.test(r)) n.materialLibraries.push(r.substring(7).trim());
                else {
                    if (null === (s = this.regexp.smoothing_pattern.exec(r))) {
                        if ("\0" === r) continue;
                        throw new Error("Unexpected line: '" + r + "'")
                    }
                    var y = s[1].trim().toLowerCase();
                    n.object.smooth = "1" === y || "on" === y, (L = n.object.currentMaterial()) && (L.smooth = n.object.smooth)
                }
                n.finalize();
                var _ = new e.Group;
                _.materialLibraries = [].concat(n.materialLibraries);
                for (c = 0, u = n.objects.length; c < u; c++) {
                    var b = n.objects[c],
                        w = b.geometry,
                        x = b.materials,
                        T = "Line" === w.type;
                    if (0 !== w.vertices.length) {
                        var S = new e.BufferGeometry;
                        S.addAttribute("position", new e.BufferAttribute(new Float32Array(w.vertices), 3)), w.normals.length > 0 ? S.addAttribute("normal", new e.BufferAttribute(new Float32Array(w.normals), 3)) : S.computeVertexNormals(), w.uvs.length > 0 && S.addAttribute("uv", new e.BufferAttribute(new Float32Array(w.uvs), 2));
                        for (var M, E = [], A = 0, P = x.length; A < P; A++) {
                            var C = x[A],
                                L = void 0;
                            if (null !== this.materials && (L = this.materials.create(C.name), T && L && !(L instanceof e.LineBasicMaterial))) {
                                var O = new e.LineBasicMaterial;
                                O.copy(L), L = O
                            }
                            L || ((L = T ? new e.LineBasicMaterial : new e.MeshPhongMaterial).name = C.name), L.shading = C.smooth ? e.SmoothShading : e.FlatShading, E.push(L)
                        }
                        if (E.length > 1) {
                            for (A = 0, P = x.length; A < P; A++) {
                                C = x[A];
                                S.addGroup(C.groupStart, C.groupCount, A)
                            }
                            var R = new e.MultiMaterial(E);
                            M = T ? new e.LineSegments(S, R) : new e.Mesh(S, R)
                        } else M = T ? new e.LineSegments(S, E[0]) : new e.Mesh(S, E[0]);
                        M.name = b.name, _.add(M)
                    }
                }
                return console.timeEnd("OBJLoader"), _
            }
        }
    }).call(this, n(12))
}, function (e, t, n) {
    "use strict";
    (function (e) {
        var t = n(40),
            i = n.n(t);
        e.GLTFLoader = function () {
            function t(t) {
                this.manager = void 0 !== t ? t : e.DefaultLoadingManager, this.dracoLoader = null
            }

            function n() {
                var e = {};
                return {
                    get: function (t) {
                        return e[t]
                    },
                    add: function (t, n) {
                        e[t] = n
                    },
                    remove: function (t) {
                        delete e[t]
                    },
                    removeAll: function () {
                        e = {}
                    }
                }
            }
            t.prototype = {
                constructor: t,
                crossOrigin: "anonymous",
                load: function (t, n, i, r) {
                    var o, a = this;
                    o = void 0 !== this.resourcePath ? this.resourcePath : void 0 !== this.path ? this.path : e.LoaderUtils.extractUrlBase(t), a.manager.itemStart(t);
                    var s = function (e) {
                            r ? r(e) : console.error(e), a.manager.itemEnd(t), a.manager.itemError(t)
                        },
                        l = new e.FileLoader(a.manager);
                    l.setPath(this.path), l.setResponseType("arraybuffer"), l.load(t, (function (e) {
                        try {
                            a.parse(e, o, (function (e) {
                                n(e), a.manager.itemEnd(t)
                            }), s)
                        } catch (e) {
                            s(e)
                        }
                    }), i, s)
                },
                setCrossOrigin: function (e) {
                    return this.crossOrigin = e, this
                },
                setPath: function (e) {
                    return this.path = e, this
                },
                setResourcePath: function (e) {
                    return this.resourcePath = e, this
                },
                setDRACOLoader: function (e) {
                    return this.dracoLoader = e, this
                },
                parse: function (t, n, i, c) {
                    var u, f = {};
                    if ("string" == typeof t) u = t;
                    else if (e.LoaderUtils.decodeText(new Uint8Array(t, 0, 4)) === l) {
                        try {
                            f[r.KHR_BINARY_GLTF] = new h(t)
                        } catch (e) {
                            return void(c && c(e))
                        }
                        u = f[r.KHR_BINARY_GLTF].content
                    } else u = e.LoaderUtils.decodeText(new Uint8Array(t));
                    var m = JSON.parse(u);
                    if (void 0 === m.asset || m.asset.version[0] < 2) c && c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));
                    else {
                        if (m.extensionsUsed)
                            for (var v = 0; v < m.extensionsUsed.length; ++v) {
                                var g = m.extensionsUsed[v],
                                    y = m.extensionsRequired || [];
                                switch (g) {
                                    case r.KHR_LIGHTS_PUNCTUAL:
                                        f[g] = new a(m);
                                        break;
                                    case r.KHR_MATERIALS_UNLIT:
                                        f[g] = new s(m);
                                        break;
                                    case r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:
                                        f[g] = new p;
                                        break;
                                    case r.KHR_DRACO_MESH_COMPRESSION:
                                        f[g] = new d(m, this.dracoLoader);
                                        break;
                                    case r.MSFT_TEXTURE_DDS:
                                        f[r.MSFT_TEXTURE_DDS] = new o;
                                        break;
                                    default:
                                        y.indexOf(g) >= 0 && console.warn('THREE.GLTFLoader: Unknown extension "' + g + '".')
                                }
                            }
                        var _ = new U(m, f, {
                            path: n || this.resourcePath || "",
                            crossOrigin: this.crossOrigin,
                            manager: this.manager
                        });
                        _.parse((function (e, t, n, r, o) {
                            var a = {
                                scene: e,
                                scenes: t,
                                cameras: n,
                                animations: r,
                                asset: o.asset,
                                parser: _,
                                userData: {}
                            };
                            I(f, a, o), i(a)
                        }), c)
                    }
                }
            };
            var r = {
                KHR_BINARY_GLTF: "KHR_binary_glTF",
                KHR_DRACO_MESH_COMPRESSION: "KHR_draco_mesh_compression",
                KHR_LIGHTS_PUNCTUAL: "KHR_lights_punctual",
                KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: "KHR_materials_pbrSpecularGlossiness",
                KHR_MATERIALS_UNLIT: "KHR_materials_unlit",
                MSFT_TEXTURE_DDS: "MSFT_texture_dds"
            };

            function o() {
                if (!e.DDSLoader) throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");
                this.name = r.MSFT_TEXTURE_DDS, this.ddsLoader = new e.DDSLoader
            }

            function a(t) {
                this.name = r.KHR_LIGHTS_PUNCTUAL, this.lights = [];
                for (var n = (t.extensions && t.extensions[r.KHR_LIGHTS_PUNCTUAL] || {}).lights || [], i = 0; i < n.length; i++) {
                    var o, a = n[i],
                        s = new e.Color(16777215);
                    void 0 !== a.color && s.fromArray(a.color);
                    var l = void 0 !== a.range ? a.range : 0;
                    switch (a.type) {
                        case "directional":
                            (o = new e.DirectionalLight(s)).target.position.set(0, 0, -1), o.add(o.target);
                            break;
                        case "point":
                            (o = new e.PointLight(s)).distance = l;
                            break;
                        case "spot":
                            (o = new e.SpotLight(s)).distance = l, a.spot = a.spot || {}, a.spot.innerConeAngle = void 0 !== a.spot.innerConeAngle ? a.spot.innerConeAngle : 0, a.spot.outerConeAngle = void 0 !== a.spot.outerConeAngle ? a.spot.outerConeAngle : Math.PI / 4, o.angle = a.spot.outerConeAngle, o.penumbra = 1 - a.spot.innerConeAngle / a.spot.outerConeAngle, o.target.position.set(0, 0, -1), o.add(o.target);
                            break;
                        default:
                            throw new Error('THREE.GLTFLoader: Unexpected light type, "' + a.type + '".')
                    }
                    o.decay = 2, void 0 !== a.intensity && (o.intensity = a.intensity), o.name = a.name || "light_" + i, this.lights.push(o)
                }
            }

            function s(e) {
                this.name = r.KHR_MATERIALS_UNLIT
            }
            s.prototype.getMaterialType = function (t) {
                return e.MeshBasicMaterial
            }, s.prototype.extendParams = function (t, n, i) {
                var r = [];
                t.color = new e.Color(1, 1, 1), t.opacity = 1;
                var o = n.pbrMetallicRoughness;
                if (o) {
                    if (Array.isArray(o.baseColorFactor)) {
                        var a = o.baseColorFactor;
                        t.color.fromArray(a), t.opacity = a[3]
                    }
                    void 0 !== o.baseColorTexture && r.push(i.assignTexture(t, "map", o.baseColorTexture.index))
                }
                return Promise.all(r)
            };
            var l = "glTF",
                c = 1313821514,
                u = 5130562;

            function h(t) {
                this.name = r.KHR_BINARY_GLTF, this.content = null, this.body = null;
                var n = new DataView(t, 0, 12);
                if (this.header = {
                        magic: e.LoaderUtils.decodeText(new Uint8Array(t.slice(0, 4))),
                        version: n.getUint32(4, !0),
                        length: n.getUint32(8, !0)
                    }, this.header.magic !== l) throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");
                if (this.header.version < 2) throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");
                for (var i = new DataView(t, 12), o = 0; o < i.byteLength;) {
                    var a = i.getUint32(o, !0);
                    o += 4;
                    var s = i.getUint32(o, !0);
                    if (o += 4, s === c) {
                        var h = new Uint8Array(t, 12 + o, a);
                        this.content = e.LoaderUtils.decodeText(h)
                    } else if (s === u) {
                        var d = 12 + o;
                        this.body = t.slice(d, d + a)
                    }
                    o += a
                }
                if (null === this.content) throw new Error("THREE.GLTFLoader: JSON content not found.")
            }

            function d(e, t) {
                if (!t) throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");
                this.name = r.KHR_DRACO_MESH_COMPRESSION, this.json = e, this.dracoLoader = t
            }

            function p() {
                return {
                    name: r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,
                    specularGlossinessParams: ["color", "map", "lightMap", "lightMapIntensity", "aoMap", "aoMapIntensity", "emissive", "emissiveIntensity", "emissiveMap", "bumpMap", "bumpScale", "normalMap", "displacementMap", "displacementScale", "displacementBias", "specularMap", "specular", "glossinessMap", "glossiness", "alphaMap", "envMap", "envMapIntensity", "refractionRatio"],
                    getMaterialType: function () {
                        return e.ShaderMaterial
                    },
                    extendParams: function (t, n, i) {
                        var r = n.extensions[this.name],
                            o = e.ShaderLib.standard,
                            a = e.UniformsUtils.clone(o.uniforms),
                            s = ["#ifdef USE_SPECULARMAP", "\tuniform sampler2D specularMap;", "#endif"].join("\n"),
                            l = ["#ifdef USE_GLOSSINESSMAP", "\tuniform sampler2D glossinessMap;", "#endif"].join("\n"),
                            c = ["vec3 specularFactor = specular;", "#ifdef USE_SPECULARMAP", "\tvec4 texelSpecular = texture2D( specularMap, vUv );", "\ttexelSpecular = sRGBToLinear( texelSpecular );", "\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture", "\tspecularFactor *= texelSpecular.rgb;", "#endif"].join("\n"),
                            u = ["float glossinessFactor = glossiness;", "#ifdef USE_GLOSSINESSMAP", "\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );", "\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture", "\tglossinessFactor *= texelGlossiness.a;", "#endif"].join("\n"),
                            h = ["PhysicalMaterial material;", "material.diffuseColor = diffuseColor.rgb;", "material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );", "material.specularColor = specularFactor.rgb;"].join("\n"),
                            d = o.fragmentShader.replace("uniform float roughness;", "uniform vec3 specular;").replace("uniform float metalness;", "uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>", s).replace("#include <metalnessmap_pars_fragment>", l).replace("#include <roughnessmap_fragment>", c).replace("#include <metalnessmap_fragment>", u).replace("#include <lights_physical_fragment>", h);
                        delete a.roughness, delete a.metalness, delete a.roughnessMap, delete a.metalnessMap, a.specular = {
                            value: (new e.Color).setHex(1118481)
                        }, a.glossiness = {
                            value: .5
                        }, a.specularMap = {
                            value: null
                        }, a.glossinessMap = {
                            value: null
                        }, t.vertexShader = o.vertexShader, t.fragmentShader = d, t.uniforms = a, t.defines = {
                            STANDARD: ""
                        }, t.color = new e.Color(1, 1, 1), t.opacity = 1;
                        var p = [];
                        if (Array.isArray(r.diffuseFactor)) {
                            var f = r.diffuseFactor;
                            t.color.fromArray(f), t.opacity = f[3]
                        }
                        if (void 0 !== r.diffuseTexture && p.push(i.assignTexture(t, "map", r.diffuseTexture.index)), t.emissive = new e.Color(0, 0, 0), t.glossiness = void 0 !== r.glossinessFactor ? r.glossinessFactor : 1, t.specular = new e.Color(1, 1, 1), Array.isArray(r.specularFactor) && t.specular.fromArray(r.specularFactor), void 0 !== r.specularGlossinessTexture) {
                            var m = r.specularGlossinessTexture.index;
                            p.push(i.assignTexture(t, "glossinessMap", m)), p.push(i.assignTexture(t, "specularMap", m))
                        }
                        return Promise.all(p)
                    },
                    createMaterial: function (t) {
                        var n = new e.ShaderMaterial({
                            defines: t.defines,
                            vertexShader: t.vertexShader,
                            fragmentShader: t.fragmentShader,
                            uniforms: t.uniforms,
                            fog: !0,
                            lights: !0,
                            opacity: t.opacity,
                            transparent: t.transparent
                        });
                        return n.isGLTFSpecularGlossinessMaterial = !0, n.color = t.color, n.map = void 0 === t.map ? null : t.map, n.lightMap = null, n.lightMapIntensity = 1, n.aoMap = void 0 === t.aoMap ? null : t.aoMap, n.aoMapIntensity = 1, n.emissive = t.emissive, n.emissiveIntensity = 1, n.emissiveMap = void 0 === t.emissiveMap ? null : t.emissiveMap, n.bumpMap = void 0 === t.bumpMap ? null : t.bumpMap, n.bumpScale = 1, n.normalMap = void 0 === t.normalMap ? null : t.normalMap, t.normalScale && (n.normalScale = t.normalScale), n.displacementMap = null, n.displacementScale = 1, n.displacementBias = 0, n.specularMap = void 0 === t.specularMap ? null : t.specularMap, n.specular = t.specular, n.glossinessMap = void 0 === t.glossinessMap ? null : t.glossinessMap, n.glossiness = t.glossiness, n.alphaMap = null, n.envMap = void 0 === t.envMap ? null : t.envMap, n.envMapIntensity = 1, n.refractionRatio = .98, n.extensions.derivatives = !0, n
                    },
                    cloneMaterial: function (e) {
                        var t = e.clone();
                        t.isGLTFSpecularGlossinessMaterial = !0;
                        for (var n = this.specularGlossinessParams, i = 0, r = n.length; i < r; i++) t[n[i]] = e[n[i]];
                        return t
                    },
                    refreshUniforms: function (e, t, n, i, r, o) {
                        if (!0 === r.isGLTFSpecularGlossinessMaterial) {
                            var a, s = r.uniforms,
                                l = r.defines;
                            s.opacity.value = r.opacity, s.diffuse.value.copy(r.color), s.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity), s.map.value = r.map, s.specularMap.value = r.specularMap, s.alphaMap.value = r.alphaMap, s.lightMap.value = r.lightMap, s.lightMapIntensity.value = r.lightMapIntensity, s.aoMap.value = r.aoMap, s.aoMapIntensity.value = r.aoMapIntensity, r.map ? a = r.map : r.specularMap ? a = r.specularMap : r.displacementMap ? a = r.displacementMap : r.normalMap ? a = r.normalMap : r.bumpMap ? a = r.bumpMap : r.glossinessMap ? a = r.glossinessMap : r.alphaMap ? a = r.alphaMap : r.emissiveMap && (a = r.emissiveMap), void 0 !== a && (a.isWebGLRenderTarget && (a = a.texture), !0 === a.matrixAutoUpdate && a.updateMatrix(), s.uvTransform.value.copy(a.matrix)), s.envMap.value = r.envMap, s.envMapIntensity.value = r.envMapIntensity, s.flipEnvMap.value = r.envMap && r.envMap.isCubeTexture ? -1 : 1, s.refractionRatio.value = r.refractionRatio, s.specular.value.copy(r.specular), s.glossiness.value = r.glossiness, s.glossinessMap.value = r.glossinessMap, s.emissiveMap.value = r.emissiveMap, s.bumpMap.value = r.bumpMap, s.normalMap.value = r.normalMap, s.displacementMap.value = r.displacementMap, s.displacementScale.value = r.displacementScale, s.displacementBias.value = r.displacementBias, null !== s.glossinessMap.value && void 0 === l.USE_GLOSSINESSMAP && (l.USE_GLOSSINESSMAP = "", l.USE_ROUGHNESSMAP = ""), null === s.glossinessMap.value && void 0 !== l.USE_GLOSSINESSMAP && (delete l.USE_GLOSSINESSMAP, delete l.USE_ROUGHNESSMAP)
                        }
                    }
                }
            }

            function f(t, n, i, r) {
                e.Interpolant.call(this, t, n, i, r)
            }
            d.prototype.decodePrimitive = function (e, t) {
                var n = this.json,
                    i = this.dracoLoader,
                    r = e.extensions[this.name].bufferView,
                    o = e.extensions[this.name].attributes,
                    a = {},
                    s = {},
                    l = {};
                for (var c in o) c in E && (a[E[c]] = o[c]);
                for (c in e.attributes)
                    if (void 0 !== E[c] && void 0 !== o[c]) {
                        var u = n.accessors[e.attributes[c]],
                            h = x[u.componentType];
                        l[E[c]] = h, s[E[c]] = !0 === u.normalized
                    } return t.getDependency("bufferView", r).then((function (e) {
                    return new Promise((function (t) {
                        i.decodeDracoFile(e, (function (e) {
                            for (var n in e.attributes) {
                                var i = e.attributes[n],
                                    r = s[n];
                                void 0 !== r && (i.normalized = r)
                            }
                            t(e)
                        }), a, l)
                    }))
                }))
            }, f.prototype = Object.create(e.Interpolant.prototype), f.prototype.constructor = f, f.prototype.copySampleValue_ = function (e) {
                for (var t = this.resultBuffer, n = this.sampleValues, i = this.valueSize, r = e * i * 3 + i, o = 0; o !== i; o++) t[o] = n[r + o];
                return t
            }, f.prototype.beforeStart_ = f.prototype.copySampleValue_, f.prototype.afterEnd_ = f.prototype.copySampleValue_, f.prototype.interpolate_ = function (e, t, n, i) {
                for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = 2 * a, l = 3 * a, c = i - t, u = (n - t) / c, h = u * u, d = h * u, p = e * l, f = p - l, m = 2 * d - 3 * h + 1, v = d - 2 * h + u, g = -2 * d + 3 * h, y = d - h, _ = 0; _ !== a; _++) {
                    var b = o[f + _ + a],
                        w = o[f + _ + s] * c,
                        x = o[p + _ + a],
                        T = o[p + _] * c;
                    r[_] = m * b + v * w + g * x + y * T
                }
                return r
            };
            var m = 0,
                v = 1,
                g = 2,
                y = 3,
                _ = 4,
                b = 5,
                w = 6,
                x = (e.Matrix3, e.Matrix4, e.Vector2, e.Vector3, e.Vector4, e.Texture, {
                    5120: Int8Array,
                    5121: Uint8Array,
                    5122: Int16Array,
                    5123: Uint16Array,
                    5125: Uint32Array,
                    5126: Float32Array
                }),
                T = {
                    9728: e.NearestFilter,
                    9729: e.LinearFilter,
                    9984: e.NearestMipMapNearestFilter,
                    9985: e.LinearMipMapNearestFilter,
                    9986: e.NearestMipMapLinearFilter,
                    9987: e.LinearMipMapLinearFilter
                },
                S = {
                    33071: e.ClampToEdgeWrapping,
                    33648: e.MirroredRepeatWrapping,
                    10497: e.RepeatWrapping
                },
                M = (e.BackSide, e.FrontSide, e.NeverDepth, e.LessDepth, e.EqualDepth, e.LessEqualDepth, e.GreaterEqualDepth, e.NotEqualDepth, e.GreaterEqualDepth, e.AlwaysDepth, e.AddEquation, e.SubtractEquation, e.ReverseSubtractEquation, e.ZeroFactor, e.OneFactor, e.SrcColorFactor, e.OneMinusSrcColorFactor, e.SrcAlphaFactor, e.OneMinusSrcAlphaFactor, e.DstAlphaFactor, e.OneMinusDstAlphaFactor, e.DstColorFactor, e.OneMinusDstColorFactor, e.SrcAlphaSaturateFactor, {
                    SCALAR: 1,
                    VEC2: 2,
                    VEC3: 3,
                    VEC4: 4,
                    MAT2: 4,
                    MAT3: 9,
                    MAT4: 16
                }),
                E = {
                    POSITION: "position",
                    NORMAL: "normal",
                    TEXCOORD_0: "uv",
                    TEXCOORD0: "uv",
                    TEXCOORD: "uv",
                    TEXCOORD_1: "uv2",
                    COLOR_0: "color",
                    COLOR0: "color",
                    COLOR: "color",
                    WEIGHTS_0: "skinWeight",
                    WEIGHT: "skinWeight",
                    JOINTS_0: "skinIndex",
                    JOINT: "skinIndex"
                },
                A = {
                    scale: "scale",
                    translation: "position",
                    rotation: "quaternion",
                    weights: "morphTargetInfluences"
                },
                P = {
                    CUBICSPLINE: e.InterpolateSmooth,
                    LINEAR: e.InterpolateLinear,
                    STEP: e.InterpolateDiscrete
                },
                C = "OPAQUE",
                L = "MASK",
                O = "BLEND",
                R = {
                    "image/png": e.RGBAFormat,
                    "image/jpeg": e.RGBFormat
                };

            function k(e, t) {
                return "string" != typeof e || "" === e ? "" : /^(https?:)?\/\//i.test(e) ? e : /^data:.*,.*$/i.test(e) ? e : /^blob:.*$/i.test(e) ? e : t + e
            }

            function I(e, t, n) {
                for (var i in n.extensions) void 0 === e[i] && (t.userData.gltfExtensions = t.userData.gltfExtensions || {}, t.userData.gltfExtensions[i] = n.extensions[i])
            }

            function D(e, t) {
                void 0 !== t.extras && ("object" === i()(t.extras) ? e.userData = t.extras : console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, " + t.extras))
            }

            function B(e, t) {
                if (e.updateMorphTargets(), void 0 !== t.weights)
                    for (var n = 0, i = t.weights.length; n < i; n++) e.morphTargetInfluences[n] = t.weights[n];
                if (t.extras && Array.isArray(t.extras.targetNames)) {
                    var r = t.extras.targetNames;
                    if (e.morphTargetInfluences.length === r.length) {
                        e.morphTargetDictionary = {};
                        for (n = 0, i = r.length; n < i; n++) e.morphTargetDictionary[r[n]] = n
                    } else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")
                }
            }

            function N(e, t) {
                return e.indices === t.indices && G(e.attributes, t.attributes)
            }

            function G(e, t) {
                if (Object.keys(e).length !== Object.keys(t).length) return !1;
                for (var n in e)
                    if (e[n] !== t[n]) return !1;
                return !0
            }

            function j(e, t) {
                if (e.length !== t.length) return !1;
                for (var n = 0, i = e.length; n < i; n++)
                    if (e[n] !== t[n]) return !1;
                return !0
            }

            function H(e, t) {
                for (var n = 0, i = e.length; n < i; n++) {
                    var r = e[n];
                    if (N(r.primitive, t)) return r.promise
                }
                return null
            }

            function F(t) {
                if (t.isInterleavedBufferAttribute) {
                    for (var n = t.count, i = t.itemSize, r = t.array.slice(0, n * i), o = 0; o < n; ++o) r[o] = t.getX(o), i >= 2 && (r[o + 1] = t.getY(o)), i >= 3 && (r[o + 2] = t.getZ(o)), i >= 4 && (r[o + 3] = t.getW(o));
                    return new e.BufferAttribute(r, i, t.normalized)
                }
                return t.clone()
            }

            function U(t, i, r) {
                this.json = t || {}, this.extensions = i || {}, this.options = r || {}, this.cache = new n, this.primitiveCache = [], this.multiplePrimitivesCache = [], this.multiPassGeometryCache = [], this.textureLoader = new e.TextureLoader(this.options.manager), this.textureLoader.setCrossOrigin(this.options.crossOrigin), this.fileLoader = new e.FileLoader(this.options.manager), this.fileLoader.setResponseType("arraybuffer")
            }

            function z(e, t, n) {
                var i = t.attributes;
                for (var r in i) {
                    var o = E[r],
                        a = n[i[r]];
                    o && (o in e.attributes || e.addAttribute(o, a))
                }
                void 0 === t.indices || e.index || e.setIndex(n[t.indices]), void 0 !== t.targets && function (e, t, n) {
                    for (var i = !1, r = !1, o = 0, a = t.length; o < a; o++) {
                        if (void 0 !== (c = t[o]).POSITION && (i = !0), void 0 !== c.NORMAL && (r = !0), i && r) break
                    }
                    if (i || r) {
                        var s = [],
                            l = [];
                        for (o = 0, a = t.length; o < a; o++) {
                            var c = t[o],
                                u = "morphTarget" + o;
                            if (i) {
                                if (void 0 !== c.POSITION) {
                                    var h = F(n[c.POSITION]);
                                    h.name = u;
                                    for (var d = e.attributes.position, p = 0, f = h.count; p < f; p++) h.setXYZ(p, h.getX(p) + d.getX(p), h.getY(p) + d.getY(p), h.getZ(p) + d.getZ(p))
                                } else h = e.attributes.position;
                                s.push(h)
                            }
                            if (r) {
                                if (void 0 !== c.NORMAL) {
                                    var m;
                                    (m = F(n[c.NORMAL])).name = u;
                                    var v = e.attributes.normal;
                                    for (p = 0, f = m.count; p < f; p++) m.setXYZ(p, m.getX(p) + v.getX(p), m.getY(p) + v.getY(p), m.getZ(p) + v.getZ(p))
                                } else m = e.attributes.normal;
                                l.push(m)
                            }
                        }
                        i && (e.morphAttributes.position = s), r && (e.morphAttributes.normal = l)
                    }
                }(e, t.targets, n), D(e, t)
            }
            return U.prototype.parse = function (e, t) {
                var n = this.json;
                this.cache.removeAll(), this.markDefs(), this.getMultiDependencies(["scene", "animation", "camera"]).then((function (t) {
                    var i = t.scenes || [],
                        r = i[n.scene || 0],
                        o = t.animations || [],
                        a = t.cameras || [];
                    e(r, i, a, o, n)
                })).catch(t)
            }, U.prototype.markDefs = function () {
                for (var e = this.json.nodes || [], t = this.json.skins || [], n = this.json.meshes || [], i = {}, r = {}, o = 0, a = t.length; o < a; o++)
                    for (var s = t[o].joints, l = 0, c = s.length; l < c; l++) e[s[l]].isBone = !0;
                for (var u = 0, h = e.length; u < h; u++) {
                    var d = e[u];
                    void 0 !== d.mesh && (void 0 === i[d.mesh] && (i[d.mesh] = r[d.mesh] = 0), i[d.mesh]++, void 0 !== d.skin && (n[d.mesh].isSkinnedMesh = !0))
                }
                this.json.meshReferences = i, this.json.meshUses = r
            }, U.prototype.getDependency = function (e, t) {
                var n = e + ":" + t,
                    i = this.cache.get(n);
                if (!i) {
                    switch (e) {
                        case "scene":
                            i = this.loadScene(t);
                            break;
                        case "node":
                            i = this.loadNode(t);
                            break;
                        case "mesh":
                            i = this.loadMesh(t);
                            break;
                        case "accessor":
                            i = this.loadAccessor(t);
                            break;
                        case "bufferView":
                            i = this.loadBufferView(t);
                            break;
                        case "buffer":
                            i = this.loadBuffer(t);
                            break;
                        case "material":
                            i = this.loadMaterial(t);
                            break;
                        case "texture":
                            i = this.loadTexture(t);
                            break;
                        case "skin":
                            i = this.loadSkin(t);
                            break;
                        case "animation":
                            i = this.loadAnimation(t);
                            break;
                        case "camera":
                            i = this.loadCamera(t);
                            break;
                        default:
                            throw new Error("Unknown type: " + e)
                    }
                    this.cache.add(n, i)
                }
                return i
            }, U.prototype.getDependencies = function (e) {
                var t = this.cache.get(e);
                if (!t) {
                    var n = this,
                        i = this.json[e + ("mesh" === e ? "es" : "s")] || [];
                    t = Promise.all(i.map((function (t, i) {
                        return n.getDependency(e, i)
                    }))), this.cache.add(e, t)
                }
                return t
            }, U.prototype.getMultiDependencies = function (e) {
                for (var t = {}, n = [], i = 0, r = e.length; i < r; i++) {
                    var o = e[i],
                        a = this.getDependencies(o);
                    a = a.then(function (e, n) {
                        t[e] = n
                    }.bind(this, o + ("mesh" === o ? "es" : "s"))), n.push(a)
                }
                return Promise.all(n).then((function () {
                    return t
                }))
            }, U.prototype.loadBuffer = function (e) {
                var t = this.json.buffers[e],
                    n = this.fileLoader;
                if (t.type && "arraybuffer" !== t.type) throw new Error("THREE.GLTFLoader: " + t.type + " buffer type is not supported.");
                if (void 0 === t.uri && 0 === e) return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);
                var i = this.options;
                return new Promise((function (e, r) {
                    n.load(k(t.uri, i.path), e, void 0, (function () {
                        r(new Error('THREE.GLTFLoader: Failed to load buffer "' + t.uri + '".'))
                    }))
                }))
            }, U.prototype.loadBufferView = function (e) {
                var t = this.json.bufferViews[e];
                return this.getDependency("buffer", t.buffer).then((function (e) {
                    var n = t.byteLength || 0,
                        i = t.byteOffset || 0;
                    return e.slice(i, i + n)
                }))
            }, U.prototype.loadAccessor = function (t) {
                var n = this,
                    i = this.json,
                    r = this.json.accessors[t];
                if (void 0 === r.bufferView && void 0 === r.sparse) return null;
                var o = [];
                return void 0 !== r.bufferView ? o.push(this.getDependency("bufferView", r.bufferView)) : o.push(null), void 0 !== r.sparse && (o.push(this.getDependency("bufferView", r.sparse.indices.bufferView)), o.push(this.getDependency("bufferView", r.sparse.values.bufferView))), Promise.all(o).then((function (t) {
                    var o, a, s = t[0],
                        l = M[r.type],
                        c = x[r.componentType],
                        u = c.BYTES_PER_ELEMENT,
                        h = u * l,
                        d = r.byteOffset || 0,
                        p = void 0 !== r.bufferView ? i.bufferViews[r.bufferView].byteStride : void 0,
                        f = !0 === r.normalized;
                    if (p && p !== h) {
                        var m = "InterleavedBuffer:" + r.bufferView + ":" + r.componentType,
                            v = n.cache.get(m);
                        v || (o = new c(s), v = new e.InterleavedBuffer(o, p / u), n.cache.add(m, v)), a = new e.InterleavedBufferAttribute(v, l, d / u, f)
                    } else o = null === s ? new c(r.count * l) : new c(s, d, r.count * l), a = new e.BufferAttribute(o, l, f);
                    if (void 0 !== r.sparse) {
                        var g = M.SCALAR,
                            y = x[r.sparse.indices.componentType],
                            _ = r.sparse.indices.byteOffset || 0,
                            b = r.sparse.values.byteOffset || 0,
                            w = new y(t[1], _, r.sparse.count * g),
                            T = new c(t[2], b, r.sparse.count * l);
                        null !== s && a.setArray(a.array.slice());
                        for (var S = 0, E = w.length; S < E; S++) {
                            var A = w[S];
                            if (a.setX(A, T[S * l]), l >= 2 && a.setY(A, T[S * l + 1]), l >= 3 && a.setZ(A, T[S * l + 2]), l >= 4 && a.setW(A, T[S * l + 3]), l >= 5) throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")
                        }
                    }
                    return a
                }))
            }, U.prototype.loadTexture = function (t) {
                var n, i = this,
                    o = this.json,
                    a = this.options,
                    s = this.textureLoader,
                    l = window.URL || window.webkitURL,
                    c = o.textures[t],
                    u = c.extensions || {},
                    h = (n = u[r.MSFT_TEXTURE_DDS] ? o.images[u[r.MSFT_TEXTURE_DDS].source] : o.images[c.source]).uri,
                    d = !1;
                return void 0 !== n.bufferView && (h = i.getDependency("bufferView", n.bufferView).then((function (e) {
                    d = !0;
                    var t = new Blob([e], {
                        type: n.mimeType
                    });
                    return h = l.createObjectURL(t)
                }))), Promise.resolve(h).then((function (t) {
                    var n = e.Loader.Handlers.get(t);
                    return n || (n = u[r.MSFT_TEXTURE_DDS] ? i.extensions[r.MSFT_TEXTURE_DDS].ddsLoader : s), new Promise((function (e, i) {
                        n.load(k(t, a.path), e, void 0, i)
                    }))
                })).then((function (t) {
                    !0 === d && l.revokeObjectURL(h), t.flipY = !1, void 0 !== c.name && (t.name = c.name), n.mimeType in R && (t.format = R[n.mimeType]);
                    var i = (o.samplers || {})[c.sampler] || {};
                    return t.magFilter = T[i.magFilter] || e.LinearFilter, t.minFilter = T[i.minFilter] || e.LinearMipMapLinearFilter, t.wrapS = S[i.wrapS] || e.RepeatWrapping, t.wrapT = S[i.wrapT] || e.RepeatWrapping, t
                }))
            }, U.prototype.assignTexture = function (e, t, n) {
                return this.getDependency("texture", n).then((function (n) {
                    e[t] = n
                }))
            }, U.prototype.loadMaterial = function (t) {
                var n, i = this.json,
                    o = this.extensions,
                    a = i.materials[t],
                    s = {},
                    l = a.extensions || {},
                    c = [];
                if (l[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {
                    var u = o[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];
                    n = u.getMaterialType(a), c.push(u.extendParams(s, a, this))
                } else if (l[r.KHR_MATERIALS_UNLIT]) {
                    var h = o[r.KHR_MATERIALS_UNLIT];
                    n = h.getMaterialType(a), c.push(h.extendParams(s, a, this))
                } else {
                    n = e.MeshStandardMaterial;
                    var d = a.pbrMetallicRoughness || {};
                    if (s.color = new e.Color(1, 1, 1), s.opacity = 1, Array.isArray(d.baseColorFactor)) {
                        var p = d.baseColorFactor;
                        s.color.fromArray(p), s.opacity = p[3]
                    }
                    if (void 0 !== d.baseColorTexture && c.push(this.assignTexture(s, "map", d.baseColorTexture.index)), s.metalness = void 0 !== d.metallicFactor ? d.metallicFactor : 1, s.roughness = void 0 !== d.roughnessFactor ? d.roughnessFactor : 1, void 0 !== d.metallicRoughnessTexture) {
                        var f = d.metallicRoughnessTexture.index;
                        c.push(this.assignTexture(s, "metalnessMap", f)), c.push(this.assignTexture(s, "roughnessMap", f))
                    }
                }!0 === a.doubleSided && (s.side = e.DoubleSide);
                var m = a.alphaMode || C;
                return m === O ? s.transparent = !0 : (s.transparent = !1, m === L && (s.alphaTest = void 0 !== a.alphaCutoff ? a.alphaCutoff : .5)), void 0 !== a.normalTexture && n !== e.MeshBasicMaterial && (c.push(this.assignTexture(s, "normalMap", a.normalTexture.index)), s.normalScale = new e.Vector2(1, 1), void 0 !== a.normalTexture.scale && s.normalScale.set(a.normalTexture.scale, a.normalTexture.scale)), void 0 !== a.occlusionTexture && n !== e.MeshBasicMaterial && (c.push(this.assignTexture(s, "aoMap", a.occlusionTexture.index)), void 0 !== a.occlusionTexture.strength && (s.aoMapIntensity = a.occlusionTexture.strength)), void 0 !== a.emissiveFactor && n !== e.MeshBasicMaterial && (s.emissive = (new e.Color).fromArray(a.emissiveFactor)), void 0 !== a.emissiveTexture && n !== e.MeshBasicMaterial && c.push(this.assignTexture(s, "emissiveMap", a.emissiveTexture.index)), Promise.all(c).then((function () {
                    var t;
                    return t = n === e.ShaderMaterial ? o[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s) : new n(s), void 0 !== a.name && (t.name = a.name), t.normalScale && (t.normalScale.y = -t.normalScale.y), t.map && (t.map.encoding = e.sRGBEncoding), t.emissiveMap && (t.emissiveMap.encoding = e.sRGBEncoding), t.specularMap && (t.specularMap.encoding = e.sRGBEncoding), D(t, a), a.extensions && I(o, t, a), t
                }))
            }, U.prototype.loadGeometries = function (t) {
                var n, i = this,
                    o = this.extensions,
                    a = this.primitiveCache,
                    s = function (e) {
                        if (e.length < 2) return !1;
                        var t = e[0],
                            n = t.targets || [];
                        if (void 0 === t.indices) return !1;
                        for (var i = 1, r = e.length; i < r; i++) {
                            var o = e[i];
                            if (t.mode !== o.mode) return !1;
                            if (void 0 === o.indices) return !1;
                            if (!G(t.attributes, o.attributes)) return !1;
                            var a = o.targets || [];
                            if (n.length !== a.length) return !1;
                            for (var s = 0, l = n.length; s < l; s++)
                                if (!G(n[s], a[s])) return !1
                        }
                        return !0
                    }(t);
                return s && (n = t, t = [t[0]]), this.getDependencies("accessor").then((function (l) {
                    for (var c = [], u = 0, h = t.length; u < h; u++) {
                        var d = t[u],
                            p = H(a, d);
                        if (p) c.push(p);
                        else if (d.extensions && d.extensions[r.KHR_DRACO_MESH_COMPRESSION]) {
                            var f = o[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(d, i).then((function (e) {
                                return z(e, d, l), e
                            }));
                            a.push({
                                primitive: d,
                                promise: f
                            }), c.push(f)
                        } else {
                            var m = new e.BufferGeometry;
                            z(m, d, l);
                            f = Promise.resolve(m);
                            a.push({
                                primitive: d,
                                promise: f
                            }), c.push(f)
                        }
                    }
                    return Promise.all(c).then((function (r) {
                        if (s) {
                            var o = r[0];
                            if (null !== (y = function (e, t, n) {
                                    for (var i = 0, r = e.length; i < r; i++) {
                                        var o = e[i];
                                        if (t === o.baseGeometry && j(n, o.primitives)) return o.geometry
                                    }
                                    return null
                                }(g = i.multiPassGeometryCache, o, n))) return [y.geometry];
                            var a = new e.BufferGeometry;
                            for (var c in a.name = o.name, a.userData = o.userData, o.attributes) a.addAttribute(c, o.attributes[c]);
                            for (var c in o.morphAttributes) a.morphAttributes[c] = o.morphAttributes[c];
                            for (var u = [], h = 0, d = 0, p = n.length; d < p; d++) {
                                for (var f = l[n[d].indices], m = 0, v = f.count; m < v; m++) u.push(f.array[m]);
                                a.addGroup(h, f.count, d), h += f.count
                            }
                            return a.setIndex(u), g.push({
                                geometry: a,
                                baseGeometry: o,
                                primitives: n
                            }), [a]
                        }
                        if (r.length > 1 && void 0 !== e.BufferGeometryUtils) {
                            for (d = 1, p = t.length; d < p; d++)
                                if (t[0].mode !== t[d].mode) return r;
                            var g, y;
                            if (y = function (e, t) {
                                    for (var n = 0, i = e.length; n < i; n++) {
                                        var r = e[n];
                                        if (j(t, r.baseGeometries)) return r.geometry
                                    }
                                    return null
                                }(g = i.multiplePrimitivesCache, r)) {
                                if (null !== y.geometry) return [y.geometry]
                            } else {
                                a = e.BufferGeometryUtils.mergeBufferGeometries(r, !0);
                                if (g.push({
                                        geometry: a,
                                        baseGeometries: r
                                    }), null !== a) return [a]
                            }
                        }
                        return r
                    }))
                }))
            }, U.prototype.loadMesh = function (t) {
                var n = this,
                    i = this.json,
                    o = this.extensions,
                    a = i.meshes[t];
                return this.getMultiDependencies(["accessor", "material"]).then((function (i) {
                    for (var s = a.primitives, l = [], c = 0, u = s.length; c < u; c++) l[c] = void 0 === s[c].material ? new e.MeshStandardMaterial({
                        color: 16777215,
                        emissive: 0,
                        metalness: 1,
                        roughness: 1,
                        transparent: !1,
                        depthTest: !0,
                        side: e.FrontSide
                    }) : i.materials[s[c].material];
                    return n.loadGeometries(s).then((function (i) {
                        for (var c = 1 === i.length && i[0].groups.length > 0, u = [], h = 0, d = i.length; h < d; h++) {
                            var p, f = i[h],
                                x = s[h],
                                T = c ? l : l[h];
                            if (x.mode === _ || x.mode === b || x.mode === w || void 0 === x.mode) p = !0 === a.isSkinnedMesh ? new e.SkinnedMesh(f, T) : new e.Mesh(f, T), x.mode === b ? p.drawMode = e.TriangleStripDrawMode : x.mode === w && (p.drawMode = e.TriangleFanDrawMode);
                            else if (x.mode === v) p = new e.LineSegments(f, T);
                            else if (x.mode === y) p = new e.Line(f, T);
                            else if (x.mode === g) p = new e.LineLoop(f, T);
                            else {
                                if (x.mode !== m) throw new Error("THREE.GLTFLoader: Primitive mode unsupported: " + x.mode);
                                p = new e.Points(f, T)
                            }
                            Object.keys(p.geometry.morphAttributes).length > 0 && B(p, a), p.name = a.name || "mesh_" + t, i.length > 1 && (p.name += "_" + h), D(p, a), u.push(p);
                            for (var S = c ? p.material : [p.material], M = void 0 !== f.attributes.color, E = void 0 === f.attributes.normal, A = !0 === p.isSkinnedMesh, P = Object.keys(f.morphAttributes).length > 0, C = P && void 0 !== f.morphAttributes.normal, L = 0, O = S.length; L < O; L++) {
                                T = S[L];
                                if (p.isPoints) {
                                    var R = "PointsMaterial:" + T.uuid,
                                        k = n.cache.get(R);
                                    k || (k = new e.PointsMaterial, e.Material.prototype.copy.call(k, T), k.color.copy(T.color), k.map = T.map, k.lights = !1, n.cache.add(R, k)), T = k
                                } else if (p.isLine) {
                                    R = "LineBasicMaterial:" + T.uuid;
                                    var I = n.cache.get(R);
                                    I || (I = new e.LineBasicMaterial, e.Material.prototype.copy.call(I, T), I.color.copy(T.color), I.lights = !1, n.cache.add(R, I)), T = I
                                }
                                if (M || E || A || P) {
                                    R = "ClonedMaterial:" + T.uuid + ":";
                                    T.isGLTFSpecularGlossinessMaterial && (R += "specular-glossiness:"), A && (R += "skinning:"), M && (R += "vertex-colors:"), E && (R += "flat-shading:"), P && (R += "morph-targets:"), C && (R += "morph-normals:");
                                    var N = n.cache.get(R);
                                    N || (N = T.isGLTFSpecularGlossinessMaterial ? o[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(T) : T.clone(), A && (N.skinning = !0), M && (N.vertexColors = e.VertexColors), E && (N.flatShading = !0), P && (N.morphTargets = !0), C && (N.morphNormals = !0), n.cache.add(R, N)), T = N
                                }
                                S[L] = T, T.aoMap && void 0 === f.attributes.uv2 && void 0 !== f.attributes.uv && (console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."), f.addAttribute("uv2", new e.BufferAttribute(f.attributes.uv.array, 2))), T.isGLTFSpecularGlossinessMaterial && (p.onBeforeRender = o[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms)
                            }
                            p.material = c ? S : S[0]
                        }
                        if (1 === u.length) return u[0];
                        var G = new e.Group;
                        for (h = 0, d = u.length; h < d; h++) G.add(u[h]);
                        return G
                    }))
                }))
            }, U.prototype.loadCamera = function (t) {
                var n, i = this.json.cameras[t],
                    r = i[i.type];
                if (r) return "perspective" === i.type ? n = new e.PerspectiveCamera(e.Math.radToDeg(r.yfov), r.aspectRatio || 1, r.znear || 1, r.zfar || 2e6) : "orthographic" === i.type && (n = new e.OrthographicCamera(r.xmag / -2, r.xmag / 2, r.ymag / 2, r.ymag / -2, r.znear, r.zfar)), void 0 !== i.name && (n.name = i.name), D(n, i), Promise.resolve(n);
                console.warn("THREE.GLTFLoader: Missing camera parameters.")
            }, U.prototype.loadSkin = function (e) {
                var t = this.json.skins[e],
                    n = {
                        joints: t.joints
                    };
                return void 0 === t.inverseBindMatrices ? Promise.resolve(n) : this.getDependency("accessor", t.inverseBindMatrices).then((function (e) {
                    return n.inverseBindMatrices = e, n
                }))
            }, U.prototype.loadAnimation = function (t) {
                var n = this.json.animations[t];
                return this.getMultiDependencies(["accessor", "node"]).then((function (i) {
                    for (var r = [], o = 0, a = n.channels.length; o < a; o++) {
                        var s = n.channels[o],
                            l = n.samplers[s.sampler];
                        if (l) {
                            var c = s.target,
                                u = void 0 !== c.node ? c.node : c.id,
                                h = void 0 !== n.parameters ? n.parameters[l.input] : l.input,
                                d = void 0 !== n.parameters ? n.parameters[l.output] : l.output,
                                p = i.accessors[h],
                                m = i.accessors[d],
                                v = i.nodes[u];
                            if (v) {
                                var g;
                                switch (v.updateMatrix(), v.matrixAutoUpdate = !0, A[c.path]) {
                                    case A.weights:
                                        g = e.NumberKeyframeTrack;
                                        break;
                                    case A.rotation:
                                        g = e.QuaternionKeyframeTrack;
                                        break;
                                    case A.position:
                                    case A.scale:
                                    default:
                                        g = e.VectorKeyframeTrack
                                }
                                var y = v.name ? v.name : v.uuid,
                                    _ = void 0 !== l.interpolation ? P[l.interpolation] : e.InterpolateLinear,
                                    b = [];
                                A[c.path] === A.weights ? v.traverse((function (e) {
                                    !0 === e.isMesh && e.morphTargetInfluences && b.push(e.name ? e.name : e.uuid)
                                })) : b.push(y);
                                for (var w = 0, x = b.length; w < x; w++) {
                                    var T = new g(b[w] + "." + A[c.path], e.AnimationUtils.arraySlice(p.array, 0), e.AnimationUtils.arraySlice(m.array, 0), _);
                                    "CUBICSPLINE" === l.interpolation && (T.createInterpolant = function (e) {
                                        return new f(this.times, this.values, this.getValueSize() / 3, e)
                                    }, T.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = !0), r.push(T)
                                }
                            }
                        }
                    }
                    u = void 0 !== n.name ? n.name : "animation_" + t;
                    return new e.AnimationClip(u, void 0, r)
                }))
            }, U.prototype.loadNode = function (t) {
                var n = this.json,
                    i = this.extensions,
                    o = n.meshReferences,
                    a = n.meshUses,
                    s = n.nodes[t];
                return this.getMultiDependencies(["mesh", "skin", "camera", "light"]).then((function (t) {
                    var n;
                    if (!0 === s.isBone) n = new e.Bone;
                    else if (void 0 !== s.mesh) {
                        var l = t.meshes[s.mesh];
                        if (o[s.mesh] > 1) {
                            var c = a[s.mesh]++;
                            (n = l.clone()).name += "_instance_" + c, n.onBeforeRender = l.onBeforeRender;
                            for (var u = 0, h = n.children.length; u < h; u++) n.children[u].name += "_instance_" + c, n.children[u].onBeforeRender = l.children[u].onBeforeRender
                        } else n = l
                    } else if (void 0 !== s.camera) n = t.cameras[s.camera];
                    else if (s.extensions && s.extensions[r.KHR_LIGHTS_PUNCTUAL] && void 0 !== s.extensions[r.KHR_LIGHTS_PUNCTUAL].light) {
                        n = i[r.KHR_LIGHTS_PUNCTUAL].lights[s.extensions[r.KHR_LIGHTS_PUNCTUAL].light]
                    } else n = new e.Object3D;
                    if (void 0 !== s.name && (n.name = e.PropertyBinding.sanitizeNodeName(s.name)), D(n, s), s.extensions && I(i, n, s), void 0 !== s.matrix) {
                        var d = new e.Matrix4;
                        d.fromArray(s.matrix), n.applyMatrix(d)
                    } else void 0 !== s.translation && n.position.fromArray(s.translation), void 0 !== s.rotation && n.quaternion.fromArray(s.rotation), void 0 !== s.scale && n.scale.fromArray(s.scale);
                    return n
                }))
            }, U.prototype.loadScene = function () {
                function t(n, i, r, o, a) {
                    var s = o[n],
                        l = r.nodes[n];
                    if (void 0 !== l.skin)
                        for (var c = !0 === s.isGroup ? s.children : [s], u = 0, h = c.length; u < h; u++) {
                            for (var d = c[u], p = a[l.skin], f = [], m = [], v = 0, g = p.joints.length; v < g; v++) {
                                var y = p.joints[v],
                                    _ = o[y];
                                if (_) {
                                    f.push(_);
                                    var b = new e.Matrix4;
                                    void 0 !== p.inverseBindMatrices && b.fromArray(p.inverseBindMatrices.array, 16 * v), m.push(b)
                                } else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.', y)
                            }
                            d.bind(new e.Skeleton(f, m), d.matrixWorld)
                        }
                    if (i.add(s), l.children) {
                        var w = l.children;
                        for (u = 0, h = w.length; u < h; u++) {
                            t(w[u], s, r, o, a)
                        }
                    }
                }
                return function (n) {
                    var i = this.json,
                        r = this.extensions,
                        o = this.json.scenes[n];
                    return this.getMultiDependencies(["node", "skin"]).then((function (n) {
                        var a = new e.Scene;
                        void 0 !== o.name && (a.name = o.name), D(a, o), o.extensions && I(r, a, o);
                        for (var s = o.nodes || [], l = 0, c = s.length; l < c; l++) t(s[l], a, i, n.nodes, n.skins);
                        return a
                    }))
                }
            }(), t
        }()
    }).call(this, n(12))
}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {
    "use strict";

    function i(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function r(e, t) {
        e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t
    }
    var o, a, s, l, c, u, h, d, p, f, m, v, g, y, _, b, w, x, T, S, M, E, A, P, C, L = {
            autoSleep: 120,
            force3D: "auto",
            nullTargetWarn: 1,
            units: {
                lineHeight: ""
            }
        },
        O = {
            duration: .5,
            overwrite: !1,
            delay: 0
        },
        R = 2 * Math.PI,
        k = R / 4,
        I = 0,
        D = Math.sqrt,
        B = Math.cos,
        N = Math.sin,
        G = function (e) {
            return "string" == typeof e
        },
        j = function (e) {
            return "function" == typeof e
        },
        H = function (e) {
            return "number" == typeof e
        },
        F = function (e) {
            return void 0 === e
        },
        U = function (e) {
            return "object" == typeof e
        },
        z = function (e) {
            return !1 !== e
        },
        V = function () {
            return "undefined" != typeof window
        },
        W = function (e) {
            return j(e) || G(e)
        },
        q = Array.isArray,
        X = /(?:-?\.?\d|\.)+/gi,
        Y = /[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,
        J = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g,
        K = /[-+=.]*\d+(?:\.|e-|e)*\d*/gi,
        Z = /\(([^()]+)\)/i,
        $ = /[+-]=-?[\.\d]+/,
        Q = /[#\-+.]*\b[a-z\d-=+%.]+/gi,
        ee = {},
        te = {},
        ne = function (e) {
            return (te = Pe(e, ee)) && an
        },
        ie = function (e, t) {
            return console.warn("Invalid property", e, "set to", t, "Missing plugin? gsap.registerPlugin()")
        },
        re = function (e, t) {
            return !t && console.warn(e)
        },
        oe = function (e, t) {
            return e && (ee[e] = t) && te && (te[e] = t) || ee
        },
        ae = function () {
            return 0
        },
        se = {},
        le = [],
        ce = {},
        ue = {},
        he = {},
        de = 30,
        pe = [],
        fe = "",
        me = function (e) {
            var t, n, i = e[0];
            if (U(i) || j(i) || (e = [e]), !(t = (i._gsap || {}).harness)) {
                for (n = pe.length; n-- && !pe[n].targetTest(i););
                t = pe[n]
            }
            for (n = e.length; n--;) e[n] && (e[n]._gsap || (e[n]._gsap = new Lt(e[n], t))) || e.splice(n, 1);
            return e
        },
        ve = function (e) {
            return e._gsap || me(Ze(e))[0]._gsap
        },
        ge = function (e, t) {
            var n = e[t];
            return j(n) ? e[t]() : F(n) && e.getAttribute(t) || n
        },
        ye = function (e, t) {
            return (e = e.split(",")).forEach(t) || e
        },
        _e = function (e) {
            return Math.round(1e5 * e) / 1e5 || 0
        },
        be = function (e, t) {
            for (var n = t.length, i = 0; e.indexOf(t[i]) < 0 && ++i < n;);
            return i < n
        },
        we = function (e, t, n) {
            var i, r = H(e[1]),
                o = (r ? 2 : 1) + (t < 2 ? 0 : 1),
                a = e[o];
            if (r && (a.duration = e[1]), a.parent = n, t) {
                for (i = a; n && !("immediateRender" in i);) i = n.vars.defaults || {}, n = z(n.vars.inherit) && n.parent;
                a.immediateRender = z(i.immediateRender), t < 2 ? a.runBackwards = 1 : a.startAt = e[o - 1]
            }
            return a
        },
        xe = function () {
            var e, t, n = le.length,
                i = le.slice(0);
            for (ce = {}, le.length = 0, e = 0; e < n; e++)(t = i[e]) && t._lazy && (t.render(t._lazy[0], t._lazy[1], !0)._lazy = 0)
        },
        Te = function (e, t, n, i) {
            le.length && xe(), e.render(t, n, i), le.length && xe()
        },
        Se = function (e) {
            var t = parseFloat(e);
            return (t || 0 === t) && (e + "").match(Q).length < 2 ? t : e
        },
        Me = function (e) {
            return e
        },
        Ee = function (e, t) {
            for (var n in t) n in e || (e[n] = t[n]);
            return e
        },
        Ae = function (e, t) {
            for (var n in t) n in e || "duration" === n || "ease" === n || (e[n] = t[n])
        },
        Pe = function (e, t) {
            for (var n in t) e[n] = t[n];
            return e
        },
        Ce = function e(t, n) {
            for (var i in n) t[i] = U(n[i]) ? e(t[i] || (t[i] = {}), n[i]) : n[i];
            return t
        },
        Le = function (e, t) {
            var n, i = {};
            for (n in e) n in t || (i[n] = e[n]);
            return i
        },
        Oe = function (e, t, n, i) {
            void 0 === n && (n = "_first"), void 0 === i && (i = "_last");
            var r = t._prev,
                o = t._next;
            r ? r._next = o : e[n] === t && (e[n] = o), o ? o._prev = r : e[i] === t && (e[i] = r), t._dp = e, t._next = t._prev = t.parent = null
        },
        Re = function (e, t) {
            !e.parent || t && !e.parent.autoRemoveChildren || e.parent.remove(e), e._act = 0
        },
        ke = function (e) {
            for (var t = e; t;) t._dirty = 1, t = t.parent;
            return e
        },
        Ie = function (e) {
            for (var t = e.parent; t && t.parent;) t._dirty = 1, t.totalDuration(), t = t.parent;
            return e
        },
        De = function (e) {
            return e._repeat ? Be(e._tTime, e = e.duration() + e._rDelay) * e : 0
        },
        Be = function (e, t) {
            return (e /= t) && ~~e === e ? ~~e - 1 : ~~e
        },
        Ne = function (e, t) {
            return (e - t._start) * t._ts + (t._ts >= 0 ? 0 : t._dirty ? t.totalDuration() : t._tDur)
        },
        Ge = function (e) {
            return e._end = _e(e._start + (e._tDur / Math.abs(e._ts || e._pauseTS || 1e-8) || 0))
        },
        je = function (e, t, n) {
            if (t.parent && Re(t), t._start = _e(n + t._delay), t._end = _e(t._start + (t.totalDuration() / Math.abs(t.timeScale()) || 0)), function (e, t, n, i, r) {
                    void 0 === n && (n = "_first"), void 0 === i && (i = "_last");
                    var o, a = e[i];
                    if (r)
                        for (o = t[r]; a && a[r] > o;) a = a._prev;
                    a ? (t._next = a._next, a._next = t) : (t._next = e[n], e[n] = t), t._next ? t._next._prev = t : e[i] = t, t._prev = a, t.parent = e
                }(e, t, "_first", "_last", e._sort ? "_start" : 0), e._recent = t, t._time || !t._dur && t._initted) {
                var i = (e.rawTime() - t._start) * t._ts;
                (!t._dur || qe(0, t.totalDuration(), i) - t._tTime > 1e-8) && t.render(i, !0)
            }
            if (ke(e)._dp && e._initted && e._time >= e._dur && e._ts) {
                if (e._dur < e.duration())
                    for (var r = e; r._dp;) r.rawTime() >= 0 && r.totalTime(r._tTime), r = r._dp;
                e._zTime = -1e-8
            }
            return e
        },
        He = function (e, t, n, i) {
            return Nt(e, t), e._initted ? !n && e._pt && (e._dur && !1 !== e.vars.lazy || !e._dur && e.vars.lazy) && u !== yt.frame ? (le.push(e), e._lazy = [t, i], 1) : void 0 : 1
        },
        Fe = function (e, t, n) {
            var i = e._repeat,
                r = _e(t);
            return e._dur = r, e._tDur = i ? i < 0 ? 1e12 : _e(r * (i + 1) + e._rDelay * i) : r, !n && ke(e.parent), e.parent && Ge(e), e
        },
        Ue = function (e) {
            return e instanceof Rt ? ke(e) : Fe(e, e._dur)
        },
        ze = {
            _start: 0,
            endTime: ae
        },
        Ve = function e(t, n) {
            var i, r, o = t.labels,
                a = t._recent || ze,
                s = t.duration() >= 1e8 ? a.endTime(!1) : t._dur;
            return G(n) && (isNaN(n) || n in o) ? "<" === (i = n.charAt(0)) || ">" === i ? ("<" === i ? a._start : a.endTime(a._repeat >= 0)) + (parseFloat(n.substr(1)) || 0) : (i = n.indexOf("=")) < 0 ? (n in o || (o[n] = s), o[n]) : (r = +(n.charAt(i - 1) + n.substr(i + 1)), i > 1 ? e(t, n.substr(0, i - 1)) + r : s + r) : null == n ? s : +n
        },
        We = function (e, t) {
            return e || 0 === e ? t(e) : t
        },
        qe = function (e, t, n) {
            return n < e ? e : n > t ? t : n
        },
        Xe = function (e) {
            return (e + "").substr((parseFloat(e) + "").length)
        },
        Ye = [].slice,
        Je = function (e, t) {
            return e && U(e) && "length" in e && (!t && !e.length || e.length - 1 in e && U(e[0])) && !e.nodeType && e !== a
        },
        Ke = function (e, t, n) {
            return void 0 === n && (n = []), e.forEach((function (e) {
                var i;
                return G(e) && !t || Je(e, 1) ? (i = n).push.apply(i, Ze(e)) : n.push(e)
            })) || n
        },
        Ze = function (e, t) {
            return !G(e) || t || !s && _t() ? q(e) ? Ke(e, t) : Je(e) ? Ye.call(e, 0) : e ? [e] : [] : Ye.call(l.querySelectorAll(e), 0)
        },
        $e = function (e) {
            return e.sort((function () {
                return .5 - Math.random()
            }))
        },
        Qe = function (e) {
            if (j(e)) return e;
            var t = U(e) ? e : {
                    each: e
                },
                n = Mt(t.ease),
                i = t.from || 0,
                r = parseFloat(t.base) || 0,
                o = {},
                a = i > 0 && i < 1,
                s = isNaN(i) || a,
                l = t.axis,
                c = i,
                u = i;
            return G(i) ? c = u = {
                    center: .5,
                    edges: .5,
                    end: 1
                } [i] || 0 : !a && s && (c = i[0], u = i[1]),
                function (e, a, h) {
                    var d, p, f, m, v, g, y, _, b, w = (h || t).length,
                        x = o[w];
                    if (!x) {
                        if (!(b = "auto" === t.grid ? 0 : (t.grid || [1, 1e8])[1])) {
                            for (y = -1e8; y < (y = h[b++].getBoundingClientRect().left) && b < w;);
                            b--
                        }
                        for (x = o[w] = [], d = s ? Math.min(b, w) * c - .5 : i % b, p = s ? w * u / b - .5 : i / b | 0, y = 0, _ = 1e8, g = 0; g < w; g++) f = g % b - d, m = p - (g / b | 0), x[g] = v = l ? Math.abs("y" === l ? m : f) : D(f * f + m * m), v > y && (y = v), v < _ && (_ = v);
                        "random" === i && $e(x), x.max = y - _, x.min = _, x.v = w = (parseFloat(t.amount) || parseFloat(t.each) * (b > w ? w - 1 : l ? "y" === l ? w / b : b : Math.max(b, w / b)) || 0) * ("edges" === i ? -1 : 1), x.b = w < 0 ? r - w : r, x.u = Xe(t.amount || t.each) || 0, n = n && w < 0 ? St(n) : n
                    }
                    return w = (x[e] - x.min) / x.max || 0, _e(x.b + (n ? n(w) : w) * x.v) + x.u
                }
        },
        et = function (e) {
            var t = e < 1 ? Math.pow(10, (e + "").length - 2) : 1;
            return function (n) {
                return ~~(Math.round(parseFloat(n) / e) * e * t) / t + (H(n) ? 0 : Xe(n))
            }
        },
        tt = function (e, t) {
            var n, i, r = q(e);
            return !r && U(e) && (n = r = e.radius || 1e8, e.values ? (e = Ze(e.values), (i = !H(e[0])) && (n *= n)) : e = et(e.increment)), We(t, r ? j(e) ? function (t) {
                return i = e(t), Math.abs(i - t) <= n ? i : t
            } : function (t) {
                for (var r, o, a = parseFloat(i ? t.x : t), s = parseFloat(i ? t.y : 0), l = 1e8, c = 0, u = e.length; u--;)(r = i ? (r = e[u].x - a) * r + (o = e[u].y - s) * o : Math.abs(e[u] - a)) < l && (l = r, c = u);
                return c = !n || l <= n ? e[c] : t, i || c === t || H(t) ? c : c + Xe(t)
            } : et(e))
        },
        nt = function (e, t, n, i) {
            return We(q(e) ? !t : !0 === n ? !!(n = 0) : !i, (function () {
                return q(e) ? e[~~(Math.random() * e.length)] : (n = n || 1e-5) && (i = n < 1 ? Math.pow(10, (n + "").length - 2) : 1) && ~~(Math.round((e + Math.random() * (t - e)) / n) * n * i) / i
            }))
        },
        it = function (e, t, n) {
            return We(n, (function (n) {
                return e[~~t(n)]
            }))
        },
        rt = function (e) {
            for (var t, n, i, r, o = 0, a = ""; ~(t = e.indexOf("random(", o));) i = e.indexOf(")", t), r = "[" === e.charAt(t + 7), n = e.substr(t + 7, i - t - 7).match(r ? Q : X), a += e.substr(o, t - o) + nt(r ? n : +n[0], +n[1], +n[2] || 1e-5), o = i + 1;
            return a + e.substr(o, e.length - o)
        },
        ot = function (e, t, n, i, r) {
            var o = t - e,
                a = i - n;
            return We(r, (function (t) {
                return n + (t - e) / o * a
            }))
        },
        at = function (e, t, n) {
            var i, r, o, a = e.labels,
                s = 1e8;
            for (i in a)(r = a[i] - t) < 0 == !!n && r && s > (r = Math.abs(r)) && (o = i, s = r);
            return o
        },
        st = function (e, t, n) {
            var i, r, o = e.vars,
                a = o[t];
            if (a) return i = o[t + "Params"], r = o.callbackScope || e, n && le.length && xe(), i ? a.apply(r, i) : a.call(r)
        },
        lt = function (e) {
            return Re(e), e.progress() < 1 && st(e, "onInterrupt"), e
        },
        ct = function (e) {
            var t = (e = !e.name && e.default || e).name,
                n = j(e),
                i = t && !n && e.init ? function () {
                    this._props = []
                } : e,
                r = {
                    init: ae,
                    render: Kt,
                    add: Dt,
                    kill: $t,
                    modifier: Zt,
                    rawVars: 0
                },
                o = {
                    targetTest: 0,
                    get: 0,
                    getSetter: qt,
                    aliases: {},
                    register: 0
                };
            if (_t(), e !== i) {
                if (ue[t]) return;
                Ee(i, Ee(Le(e, r), o)), Pe(i.prototype, Pe(r, Le(e, o))), ue[i.prop = t] = i, e.targetTest && (pe.push(i), se[t] = 1), t = ("css" === t ? "CSS" : t.charAt(0).toUpperCase() + t.substr(1)) + "Plugin"
            }
            oe(t, i), e.register && e.register(an, i, tn)
        },
        ut = {
            aqua: [0, 255, 255],
            lime: [0, 255, 0],
            silver: [192, 192, 192],
            black: [0, 0, 0],
            maroon: [128, 0, 0],
            teal: [0, 128, 128],
            blue: [0, 0, 255],
            navy: [0, 0, 128],
            white: [255, 255, 255],
            olive: [128, 128, 0],
            yellow: [255, 255, 0],
            orange: [255, 165, 0],
            gray: [128, 128, 128],
            purple: [128, 0, 128],
            green: [0, 128, 0],
            red: [255, 0, 0],
            pink: [255, 192, 203],
            cyan: [0, 255, 255],
            transparent: [255, 255, 255, 0]
        },
        ht = function (e, t, n) {
            return 255 * (6 * (e = e < 0 ? e + 1 : e > 1 ? e - 1 : e) < 1 ? t + (n - t) * e * 6 : e < .5 ? n : 3 * e < 2 ? t + (n - t) * (2 / 3 - e) * 6 : t) + .5 | 0
        },
        dt = function (e, t, n) {
            var i, r, o, a, s, l, c, u, h, d, p = e ? H(e) ? [e >> 16, e >> 8 & 255, 255 & e] : 0 : ut.black;
            if (!p) {
                if ("," === e.substr(-1) && (e = e.substr(0, e.length - 1)), ut[e]) p = ut[e];
                else if ("#" === e.charAt(0)) 4 === e.length && (i = e.charAt(1), r = e.charAt(2), o = e.charAt(3), e = "#" + i + i + r + r + o + o), p = [(e = parseInt(e.substr(1), 16)) >> 16, e >> 8 & 255, 255 & e];
                else if ("hsl" === e.substr(0, 3))
                    if (p = d = e.match(X), t) {
                        if (~e.indexOf("=")) return p = e.match(Y), n && p.length < 4 && (p[3] = 1), p
                    } else a = +p[0] % 360 / 360, s = +p[1] / 100, i = 2 * (l = +p[2] / 100) - (r = l <= .5 ? l * (s + 1) : l + s - l * s), p.length > 3 && (p[3] *= 1), p[0] = ht(a + 1 / 3, i, r), p[1] = ht(a, i, r), p[2] = ht(a - 1 / 3, i, r);
                else p = e.match(X) || ut.transparent;
                p = p.map(Number)
            }
            return t && !d && (i = p[0] / 255, r = p[1] / 255, o = p[2] / 255, l = ((c = Math.max(i, r, o)) + (u = Math.min(i, r, o))) / 2, c === u ? a = s = 0 : (h = c - u, s = l > .5 ? h / (2 - c - u) : h / (c + u), a = c === i ? (r - o) / h + (r < o ? 6 : 0) : c === r ? (o - i) / h + 2 : (i - r) / h + 4, a *= 60), p[0] = ~~(a + .5), p[1] = ~~(100 * s + .5), p[2] = ~~(100 * l + .5)), n && p.length < 4 && (p[3] = 1), p
        },
        pt = function (e) {
            var t = [],
                n = [],
                i = -1;
            return e.split(mt).forEach((function (e) {
                var r = e.match(J) || [];
                t.push.apply(t, r), n.push(i += r.length + 1)
            })), t.c = n, t
        },
        ft = function (e, t, n) {
            var i, r, o, a, s = "",
                l = (e + s).match(mt),
                c = t ? "hsla(" : "rgba(",
                u = 0;
            if (!l) return e;
            if (l = l.map((function (e) {
                    return (e = dt(e, t, 1)) && c + (t ? e[0] + "," + e[1] + "%," + e[2] + "%," + e[3] : e.join(",")) + ")"
                })), n && (o = pt(e), (i = n.c).join(s) !== o.c.join(s)))
                for (a = (r = e.replace(mt, "1").split(J)).length - 1; u < a; u++) s += r[u] + (~i.indexOf(u) ? l.shift() || c + "0,0,0,0)" : (o.length ? o : l.length ? l : n).shift());
            if (!r)
                for (a = (r = e.split(mt)).length - 1; u < a; u++) s += r[u] + l[u];
            return s + r[a]
        },
        mt = function () {
            var e, t = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
            for (e in ut) t += "|" + e + "\\b";
            return new RegExp(t + ")", "gi")
        }(),
        vt = /hsl[a]?\(/,
        gt = function (e) {
            var t, n = e.join(" ");
            if (mt.lastIndex = 0, mt.test(n)) return t = vt.test(n), e[1] = ft(e[1], t), e[0] = ft(e[0], t, pt(e[1])), !0
        },
        yt = (g = Date.now, y = 500, _ = 33, b = g(), w = b, T = x = 1 / 240, M = function e(t) {
            var n, i, r = g() - w,
                o = !0 === t;
            r > y && (b += r - _), w += r, v.time = (w - b) / 1e3, ((n = v.time - T) > 0 || o) && (v.frame++, T += n + (n >= x ? .004 : x - n), i = 1), o || (p = f(e)), i && S.forEach((function (e) {
                return e(v.time, r, v.frame, t)
            }))
        }, v = {
            time: 0,
            frame: 0,
            tick: function () {
                M(!0)
            },
            wake: function () {
                c && (!s && V() && (a = s = window, l = a.document || {}, ee.gsap = an, (a.gsapVersions || (a.gsapVersions = [])).push(an.version), ne(te || a.GreenSockGlobals || !a.gsap && a || {}), m = a.requestAnimationFrame), p && v.sleep(), f = m || function (e) {
                    return setTimeout(e, 1e3 * (T - v.time) + 1 | 0)
                }, d = 1, M(2))
            },
            sleep: function () {
                (m ? a.cancelAnimationFrame : clearTimeout)(p), d = 0, f = ae
            },
            lagSmoothing: function (e, t) {
                y = e || 1e8, _ = Math.min(t, y, 0)
            },
            fps: function (e) {
                x = 1 / (e || 240), T = v.time + x
            },
            add: function (e) {
                S.indexOf(e) < 0 && S.push(e), _t()
            },
            remove: function (e) {
                var t;
                ~(t = S.indexOf(e)) && S.splice(t, 1)
            },
            _listeners: S = []
        }),
        _t = function () {
            return !d && yt.wake()
        },
        bt = {},
        wt = /^[\d.\-M][\d.\-,\s]/,
        xt = /["']/g,
        Tt = function (e) {
            for (var t, n, i, r = {}, o = e.substr(1, e.length - 3).split(":"), a = o[0], s = 1, l = o.length; s < l; s++) n = o[s], t = s !== l - 1 ? n.lastIndexOf(",") : n.length, i = n.substr(0, t), r[a] = isNaN(i) ? i.replace(xt, "").trim() : +i, a = n.substr(t + 1).trim();
            return r
        },
        St = function (e) {
            return function (t) {
                return 1 - e(1 - t)
            }
        },
        Mt = function (e, t) {
            return e && (j(e) ? e : bt[e] || function (e) {
                var t = (e + "").split("("),
                    n = bt[t[0]];
                return n && t.length > 1 && n.config ? n.config.apply(null, ~e.indexOf("{") ? [Tt(t[1])] : Z.exec(e)[1].split(",").map(Se)) : bt._CE && wt.test(e) ? bt._CE("", e) : n
            }(e)) || t
        },
        Et = function (e, t, n, i) {
            void 0 === n && (n = function (e) {
                return 1 - t(1 - e)
            }), void 0 === i && (i = function (e) {
                return e < .5 ? t(2 * e) / 2 : 1 - t(2 * (1 - e)) / 2
            });
            var r, o = {
                easeIn: t,
                easeOut: n,
                easeInOut: i
            };
            return ye(e, (function (e) {
                for (var t in bt[e] = ee[e] = o, bt[r = e.toLowerCase()] = n, o) bt[r + ("easeIn" === t ? ".in" : "easeOut" === t ? ".out" : ".inOut")] = bt[e + "." + t] = o[t]
            })), o
        },
        At = function (e) {
            return function (t) {
                return t < .5 ? (1 - e(1 - 2 * t)) / 2 : .5 + e(2 * (t - .5)) / 2
            }
        },
        Pt = function e(t, n, i) {
            var r = n >= 1 ? n : 1,
                o = (i || (t ? .3 : .45)) / (n < 1 ? n : 1),
                a = o / R * (Math.asin(1 / r) || 0),
                s = function (e) {
                    return 1 === e ? 1 : r * Math.pow(2, -10 * e) * N((e - a) * o) + 1
                },
                l = "out" === t ? s : "in" === t ? function (e) {
                    return 1 - s(1 - e)
                } : At(s);
            return o = R / o, l.config = function (n, i) {
                return e(t, n, i)
            }, l
        },
        Ct = function e(t, n) {
            void 0 === n && (n = 1.70158);
            var i = function (e) {
                    return e ? --e * e * ((n + 1) * e + n) + 1 : 0
                },
                r = "out" === t ? i : "in" === t ? function (e) {
                    return 1 - i(1 - e)
                } : At(i);
            return r.config = function (n) {
                return e(t, n)
            }, r
        };
    ye("Linear,Quad,Cubic,Quart,Quint,Strong", (function (e, t) {
        var n = t < 5 ? t + 1 : t;
        Et(e + ",Power" + (n - 1), t ? function (e) {
            return Math.pow(e, n)
        } : function (e) {
            return e
        }, (function (e) {
            return 1 - Math.pow(1 - e, n)
        }), (function (e) {
            return e < .5 ? Math.pow(2 * e, n) / 2 : 1 - Math.pow(2 * (1 - e), n) / 2
        }))
    })), bt.Linear.easeNone = bt.none = bt.Linear.easeIn, Et("Elastic", Pt("in"), Pt("out"), Pt()), E = 7.5625, P = 1 / (A = 2.75), Et("Bounce", (function (e) {
        return 1 - C(1 - e)
    }), C = function (e) {
        return e < P ? E * e * e : e < .7272727272727273 ? E * Math.pow(e - 1.5 / A, 2) + .75 : e < .9090909090909092 ? E * (e -= 2.25 / A) * e + .9375 : E * Math.pow(e - 2.625 / A, 2) + .984375
    }), Et("Expo", (function (e) {
        return e ? Math.pow(2, 10 * (e - 1)) : 0
    })), Et("Circ", (function (e) {
        return -(D(1 - e * e) - 1)
    })), Et("Sine", (function (e) {
        return 1 - B(e * k)
    })), Et("Back", Ct("in"), Ct("out"), Ct()), bt.SteppedEase = bt.steps = ee.SteppedEase = {
        config: function (e, t) {
            void 0 === e && (e = 1);
            var n = 1 / e,
                i = e + (t ? 0 : 1),
                r = t ? 1 : 0;
            return function (e) {
                return ((i * qe(0, 1 - 1e-8, e) | 0) + r) * n
            }
        }
    }, O.ease = bt["quad.out"], ye("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt", (function (e) {
        return fe += e + "," + e + "Params,"
    }));
    var Lt = function (e, t) {
            this.id = I++, e._gsap = this, this.target = e, this.harness = t, this.get = t ? t.get : ge, this.set = t ? t.getSetter : qt
        },
        Ot = function () {
            function e(e, t) {
                var n = e.parent || o;
                this.vars = e, this._delay = +e.delay || 0, (this._repeat = e.repeat || 0) && (this._rDelay = e.repeatDelay || 0, this._yoyo = !!e.yoyo || !!e.yoyoEase), this._ts = 1, Fe(this, +e.duration, 1), this.data = e.data, d || yt.wake(), n && je(n, this, t || 0 === t ? t : n._time), e.reversed && this.reversed(!0), e.paused && this.paused(!0)
            }
            var t = e.prototype;
            return t.delay = function (e) {
                return e || 0 === e ? (this._delay = e, this) : this._delay
            }, t.duration = function (e) {
                return arguments.length ? Fe(this, e) : this.totalDuration() && this._dur
            }, t.totalDuration = function (e) {
                return arguments.length ? (this._dirty = 0, Fe(this, this._repeat < 0 ? e : (e - this._repeat * this._rDelay) / (this._repeat + 1))) : this._tDur
            }, t.totalTime = function (e, t) {
                if (_t(), !arguments.length) return this._tTime;
                var n = this.parent || this._dp;
                if (n && n.smoothChildTiming && this._ts) {
                    for (this._start = _e(n._time - (this._ts > 0 ? e / this._ts : ((this._dirty ? this.totalDuration() : this._tDur) - e) / -this._ts)), Ge(this), n._dirty || ke(n); n.parent;) n.parent._time !== n._start + (n._ts >= 0 ? n._tTime / n._ts : (n.totalDuration() - n._tTime) / -n._ts) && n.totalTime(n._tTime, !0), n = n.parent;
                    !this.parent && this._dp.autoRemoveChildren && je(this._dp, this, this._start - this._delay)
                }
                return this._tTime === e && (this._dur || t) && 1e-8 !== Math.abs(this._zTime) || (this._ts || (this._pTime = e), Te(this, e, t)), this
            }, t.time = function (e, t) {
                return arguments.length ? this.totalTime(Math.min(this.totalDuration(), e + De(this)) % this._dur || (e ? this._dur : 0), t) : this._time
            }, t.totalProgress = function (e, t) {
                return arguments.length ? this.totalTime(this.totalDuration() * e, t) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio
            }, t.progress = function (e, t) {
                return arguments.length ? this.totalTime(this.duration() * (!this._yoyo || 1 & this.iteration() ? e : 1 - e) + De(this), t) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio
            }, t.iteration = function (e, t) {
                var n = this.duration() + this._rDelay;
                return arguments.length ? this.totalTime(this._time + (e - 1) * n, t) : this._repeat ? Be(this._tTime, n) + 1 : 1
            }, t.timeScale = function (e) {
                if (!arguments.length) return this._ts || this._pauseTS || 0;
                if (null !== this._pauseTS) return this._pauseTS = e, this;
                var t = this.parent && this._ts ? Ne(this.parent._time, this) : this._tTime;
                return this._ts = e, Ie(this.totalTime(t, !0))
            }, t.paused = function (e) {
                var t = !this._ts;
                return arguments.length ? (t !== e && (e ? (this._pauseTS = this._ts, this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()), this._ts = this._act = 0) : (_t(), this._ts = this._pauseTS || 1, this._pauseTS = null, this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, 1 === this.progress() && (this._tTime -= 1e-8) && 1e-8 !== Math.abs(this._zTime)))), this) : t
            }, t.startTime = function (e) {
                return arguments.length ? (this.parent && this.parent._sort && je(this.parent, this, e - this._delay), this) : this._start
            }, t.endTime = function (e) {
                return this._start + (z(e) ? this.totalDuration() : this.duration()) / Math.abs(this._ts)
            }, t.rawTime = function (e) {
                var t = this.parent || this._dp;
                return t ? e && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : this._ts ? Ne(t.rawTime(e), this) : this._tTime : this._tTime
            }, t.repeat = function (e) {
                return arguments.length ? (this._repeat = e, Ue(this)) : this._repeat
            }, t.repeatDelay = function (e) {
                return arguments.length ? (this._rDelay = e, Ue(this)) : this._rDelay
            }, t.yoyo = function (e) {
                return arguments.length ? (this._yoyo = e, this) : this._yoyo
            }, t.seek = function (e, t) {
                return this.totalTime(Ve(this, e), z(t))
            }, t.restart = function (e, t) {
                return this.play().totalTime(e ? -this._delay : 0, z(t))
            }, t.play = function (e, t) {
                return null != e && this.seek(e, t), this.reversed(!1).paused(!1)
            }, t.reverse = function (e, t) {
                return null != e && this.seek(e || this.totalDuration(), t), this.reversed(!0).paused(!1)
            }, t.pause = function (e, t) {
                return null != e && this.seek(e, t), this.paused(!0)
            }, t.resume = function () {
                return this.paused(!1)
            }, t.reversed = function (e) {
                var t = this._ts || this._pauseTS || 0;
                return arguments.length ? (e !== this.reversed() && (this[null === this._pauseTS ? "_ts" : "_pauseTS"] = Math.abs(t) * (e ? -1 : 1), this.totalTime(this._tTime, !0)), this) : t < 0
            }, t.invalidate = function () {
                return this._initted = 0, this._zTime = -1e-8, this
            }, t.isActive = function (e) {
                var t, n = this.parent || this._dp,
                    i = this._start;
                return !(n && !(this._ts && (this._initted || !e) && n.isActive(e) && (t = n.rawTime(!0)) >= i && t < this.endTime(!0) - 1e-8))
            }, t.eventCallback = function (e, t, n) {
                var i = this.vars;
                return arguments.length > 1 ? (t ? (i[e] = t, n && (i[e + "Params"] = n), "onUpdate" === e && (this._onUpdate = t)) : delete i[e], this) : i[e]
            }, t.then = function (e) {
                var t = this;
                return new Promise((function (n) {
                    var i = j(e) ? e : Me,
                        r = function () {
                            var e = t.then;
                            t.then = null, j(i) && (i = i(t)) && (i.then || i === t) && (t.then = e), n(i), t.then = e
                        };
                    t._initted && 1 === t.totalProgress() && t._ts >= 0 || !t._tTime && t._ts < 0 ? r() : t._prom = r
                }))
            }, t.kill = function () {
                lt(this)
            }, e
        }();
    Ee(Ot.prototype, {
        _time: 0,
        _start: 0,
        _end: 0,
        _tTime: 0,
        _tDur: 0,
        _dirty: 0,
        _repeat: 0,
        _yoyo: !1,
        parent: null,
        _initted: !1,
        _rDelay: 0,
        _ts: 1,
        _dp: 0,
        ratio: 0,
        _zTime: -1e-8,
        _prom: 0,
        _pauseTS: null
    });
    var Rt = function (e) {
        function t(t, n) {
            var i;
            return void 0 === t && (t = {}), (i = e.call(this, t, n) || this).labels = {}, i.smoothChildTiming = !!t.smoothChildTiming, i.autoRemoveChildren = !!t.autoRemoveChildren, i._sort = z(t.sortChildren), i
        }
        r(t, e);
        var n = t.prototype;
        return n.to = function (e, t, n) {
            return new Ft(e, we(arguments, 0, this), Ve(this, H(t) ? arguments[3] : n)), this
        }, n.from = function (e, t, n) {
            return new Ft(e, we(arguments, 1, this), Ve(this, H(t) ? arguments[3] : n)), this
        }, n.fromTo = function (e, t, n, i) {
            return new Ft(e, we(arguments, 2, this), Ve(this, H(t) ? arguments[4] : i)), this
        }, n.set = function (e, t, n) {
            return t.duration = 0, t.parent = this, t.repeatDelay || (t.repeat = 0), t.immediateRender = !!t.immediateRender, new Ft(e, t, Ve(this, n)), this
        }, n.call = function (e, t, n) {
            return je(this, Ft.delayedCall(0, e, t), Ve(this, n))
        }, n.staggerTo = function (e, t, n, i, r, o, a) {
            return n.duration = t, n.stagger = n.stagger || i, n.onComplete = o, n.onCompleteParams = a, n.parent = this, new Ft(e, n, Ve(this, r)), this
        }, n.staggerFrom = function (e, t, n, i, r, o, a) {
            return n.runBackwards = 1, n.immediateRender = z(n.immediateRender), this.staggerTo(e, t, n, i, r, o, a)
        }, n.staggerFromTo = function (e, t, n, i, r, o, a, s) {
            return i.startAt = n, i.immediateRender = z(i.immediateRender), this.staggerTo(e, t, i, r, o, a, s)
        }, n.render = function (e, t, n) {
            var i, r, a, s, l, c, u, h, d, p, f, m, v = this._time,
                g = this._dirty ? this.totalDuration() : this._tDur,
                y = this._dur,
                _ = this !== o && e > g - 1e-8 && e >= 0 ? g : e < 1e-8 ? 0 : e,
                b = this._zTime < 0 != e < 0 && (this._initted || !y);
            if (_ !== this._tTime || n || b) {
                if (v !== this._time && y && (_ += this._time - v, e += this._time - v), i = _, d = this._start, c = !(h = this._ts), b && (y || (v = this._zTime), !e && t || (this._zTime = e)), this._repeat && (f = this._yoyo, l = y + this._rDelay, ((i = _e(_ % l)) > y || g === _) && (i = y), (s = ~~(_ / l)) && s === _ / l && (i = y, s--), f && 1 & s && (i = y - i, m = 1), s !== (p = Be(this._tTime, l)) && !this._lock)) {
                    var w = f && 1 & p,
                        x = w === (f && 1 & s);
                    if (s < p && (w = !w), v = w ? 0 : y, this._lock = 1, this.render(v, t, !y)._lock = 0, !t && this.parent && st(this, "onRepeat"), this.vars.repeatRefresh && !m && (this.invalidate()._lock = 1), v !== this._time || c !== !this._ts) return this;
                    if (x && (this._lock = 2, v = w ? y + 1e-4 : -1e-4, this.render(v, !0), this.vars.repeatRefresh && !m && this.invalidate()), this._lock = 0, !this._ts && !c) return this
                }
                if (this._hasPause && !this._forcing && this._lock < 2 && (u = function (e, t, n) {
                        var i;
                        if (n > t)
                            for (i = e._first; i && i._start <= n;) {
                                if (!i._dur && "isPause" === i.data && i._start > t) return i;
                                i = i._next
                            } else
                                for (i = e._last; i && i._start >= n;) {
                                    if (!i._dur && "isPause" === i.data && i._start < t) return i;
                                    i = i._prev
                                }
                    }(this, _e(v), _e(i))) && (_ -= i - (i = u._start)), this._tTime = _, this._time = i, this._act = !h, this._initted || (this._onUpdate = this.vars.onUpdate, this._initted = 1, this._zTime = e), v || !i || t || st(this, "onStart"), i >= v && e >= 0)
                    for (r = this._first; r;) {
                        if (a = r._next, (r._act || i >= r._start) && r._ts && u !== r) {
                            if (r.parent !== this) return this.render(e, t, n);
                            if (r.render(r._ts > 0 ? (i - r._start) * r._ts : (r._dirty ? r.totalDuration() : r._tDur) + (i - r._start) * r._ts, t, n), i !== this._time || !this._ts && !c) {
                                u = 0, a && (_ += this._zTime = -1e-8);
                                break
                            }
                        }
                        r = a
                    } else {
                        r = this._last;
                        for (var T = e < 0 ? e : i; r;) {
                            if (a = r._prev, (r._act || T <= r._end) && r._ts && u !== r) {
                                if (r.parent !== this) return this.render(e, t, n);
                                if (r.render(r._ts > 0 ? (T - r._start) * r._ts : (r._dirty ? r.totalDuration() : r._tDur) + (T - r._start) * r._ts, t, n), i !== this._time || !this._ts && !c) {
                                    u = 0, a && (_ += this._zTime = T ? -1e-8 : 1e-8);
                                    break
                                }
                            }
                            r = a
                        }
                    }
                if (u && !t && (this.pause(), u.render(i >= v ? 0 : -1e-8)._zTime = i >= v ? 1 : -1, this._ts)) return this._start = d, Ge(this), this.render(e, t, n);
                this._onUpdate && !t && st(this, "onUpdate", !0), (_ === g && g >= this.totalDuration() || !_ && this._ts < 0) && (d !== this._start && Math.abs(h) === Math.abs(this._ts) || ((e || !y) && (e && this._ts > 0 || !_ && this._ts < 0) && Re(this, 1), t || e < 0 && !v || (st(this, _ === g ? "onComplete" : "onReverseComplete", !0), this._prom && this._prom())))
            }
            return this
        }, n.add = function (e, t) {
            var n = this;
            if (H(t) || (t = Ve(this, t)), !(e instanceof Ot)) {
                if (q(e)) return e.forEach((function (e) {
                    return n.add(e, t)
                })), ke(this);
                if (G(e)) return this.addLabel(e, t);
                if (!j(e)) return this;
                e = Ft.delayedCall(0, e)
            }
            return this !== e ? je(this, e, t) : this
        }, n.getChildren = function (e, t, n, i) {
            void 0 === e && (e = !0), void 0 === t && (t = !0), void 0 === n && (n = !0), void 0 === i && (i = -1e8);
            for (var r = [], o = this._first; o;) o._start >= i && (o instanceof Ft ? t && r.push(o) : (n && r.push(o), e && r.push.apply(r, o.getChildren(!0, t, n)))), o = o._next;
            return r
        }, n.getById = function (e) {
            for (var t = this.getChildren(1, 1, 1), n = t.length; n--;)
                if (t[n].vars.id === e) return t[n]
        }, n.remove = function (e) {
            return G(e) ? this.removeLabel(e) : j(e) ? this.killTweensOf(e) : (Oe(this, e), e === this._recent && (this._recent = this._last), ke(this))
        }, n.totalTime = function (t, n) {
            return arguments.length ? (this._forcing = 1, this.parent || this._dp || !this._ts || (this._start = _e(yt.time - (this._ts > 0 ? t / this._ts : (this.totalDuration() - t) / -this._ts))), e.prototype.totalTime.call(this, t, n), this._forcing = 0, this) : this._tTime
        }, n.addLabel = function (e, t) {
            return this.labels[e] = Ve(this, t), this
        }, n.removeLabel = function (e) {
            return delete this.labels[e], this
        }, n.addPause = function (e, t, n) {
            var i = Ft.delayedCall(0, t || ae, n);
            return i.data = "isPause", this._hasPause = 1, je(this, i, Ve(this, e))
        }, n.removePause = function (e) {
            var t = this._first;
            for (e = Ve(this, e); t;) t._start === e && "isPause" === t.data && Re(t), t = t._next
        }, n.killTweensOf = function (e, t, n) {
            for (var i = this.getTweensOf(e, n), r = i.length; r--;) kt !== i[r] && i[r].kill(e, t);
            return this
        }, n.getTweensOf = function (e, t) {
            for (var n, i = [], r = Ze(e), o = this._first; o;) o instanceof Ft ? !be(o._targets, r) || t && !o.isActive("started" === t) || i.push(o) : (n = o.getTweensOf(r, t)).length && i.push.apply(i, n), o = o._next;
            return i
        }, n.tweenTo = function (e, t) {
            t = t || {};
            var n = this,
                i = Ve(n, e),
                r = t,
                o = r.startAt,
                a = r.onStart,
                s = r.onStartParams,
                l = Ft.to(n, Ee(t, {
                    ease: "none",
                    lazy: !1,
                    time: i,
                    duration: t.duration || Math.abs(i - (o && "time" in o ? o.time : n._time)) / n.timeScale() || 1e-8,
                    onStart: function () {
                        n.pause();
                        var e = t.duration || Math.abs(i - n._time) / n.timeScale();
                        l._dur !== e && Fe(l, e).render(l._time, !0, !0), a && a.apply(l, s || [])
                    }
                }));
            return l
        }, n.tweenFromTo = function (e, t, n) {
            return this.tweenTo(t, Ee({
                startAt: {
                    time: Ve(this, e)
                }
            }, n))
        }, n.recent = function () {
            return this._recent
        }, n.nextLabel = function (e) {
            return void 0 === e && (e = this._time), at(this, Ve(this, e))
        }, n.previousLabel = function (e) {
            return void 0 === e && (e = this._time), at(this, Ve(this, e), 1)
        }, n.currentLabel = function (e) {
            return arguments.length ? this.seek(e, !0) : this.previousLabel(this._time + 1e-8)
        }, n.shiftChildren = function (e, t, n) {
            void 0 === n && (n = 0);
            for (var i, r = this._first, o = this.labels; r;) r._start >= n && (r._start += e), r = r._next;
            if (t)
                for (i in o) o[i] >= n && (o[i] += e);
            return ke(this)
        }, n.invalidate = function () {
            var t = this._first;
            for (this._lock = 0; t;) t.invalidate(), t = t._next;
            return e.prototype.invalidate.call(this)
        }, n.clear = function (e) {
            void 0 === e && (e = !0);
            for (var t, n = this._first; n;) t = n._next, this.remove(n), n = t;
            return this._time = this._tTime = 0, e && (this.labels = {}), ke(this)
        }, n.totalDuration = function (e) {
            var t, n, i, r, a = 0,
                s = this,
                l = s._last,
                c = 1e8;
            if (arguments.length) return s._repeat < 0 ? s : s.timeScale(s.totalDuration() / e);
            if (s._dirty) {
                for (r = s.parent; l;) t = l._prev, l._dirty && l.totalDuration(), (i = l._start) > c && s._sort && l._ts && !s._lock ? (s._lock = 1, je(s, l, i - l._delay)._lock = 0) : c = i, i < 0 && l._ts && (a -= i, (!r && !s._dp || r && r.smoothChildTiming) && (s._start += i / s._ts, s._time -= i, s._tTime -= i), s.shiftChildren(-i, !1, -1e20), c = 0), (n = Ge(l)) > a && l._ts && (a = n), l = t;
                Fe(s, s === o && s._time > a ? s._time : Math.min(1e8, a), 1), s._dirty = 0
            }
            return s._tDur
        }, t.updateRoot = function (e) {
            if (o._ts && (Te(o, Ne(e, o)), u = yt.frame), yt.frame >= de) {
                de += L.autoSleep || 120;
                var t = o._first;
                if ((!t || !t._ts) && L.autoSleep && yt._listeners.length < 2) {
                    for (; t && !t._ts;) t = t._next;
                    t || yt.sleep()
                }
            }
        }, t
    }(Ot);
    Ee(Rt.prototype, {
        _lock: 0,
        _hasPause: 0,
        _forcing: 0
    });
    var kt, It = function (e, t, n, i, r, o, a) {
            var s, l, c, u, h, d, p, f, m = new tn(this._pt, e, t, 0, 1, Jt, null, r),
                v = 0,
                g = 0;
            for (m.b = n, m.e = i, n += "", (p = ~(i += "").indexOf("random(")) && (i = rt(i)), o && (o(f = [n, i], e, t), n = f[0], i = f[1]), l = n.match(K) || []; s = K.exec(i);) u = s[0], h = i.substring(v, s.index), c ? c = (c + 1) % 5 : "rgba(" === h.substr(-5) && (c = 1), u !== l[g++] && (d = parseFloat(l[g - 1]) || 0, m._pt = {
                _next: m._pt,
                p: h || 1 === g ? h : ",",
                s: d,
                c: "=" === u.charAt(1) ? parseFloat(u.substr(2)) * ("-" === u.charAt(0) ? -1 : 1) : parseFloat(u) - d,
                m: c && c < 4 ? Math.round : 0
            }, v = K.lastIndex);
            return m.c = v < i.length ? i.substring(v, i.length) : "", m.fp = a, ($.test(i) || p) && (m.e = 0), this._pt = m, m
        },
        Dt = function (e, t, n, i, r, o, a, s, l) {
            j(i) && (i = i(r || 0, e, o));
            var c, u = e[t],
                h = "get" !== n ? n : j(u) ? l ? e[t.indexOf("set") || !j(e["get" + t.substr(3)]) ? t : "get" + t.substr(3)](l) : e[t]() : u,
                d = j(u) ? l ? Vt : zt : Ut;
            if (G(i) && (~i.indexOf("random(") && (i = rt(i)), "=" === i.charAt(1) && (i = parseFloat(h) + parseFloat(i.substr(2)) * ("-" === i.charAt(0) ? -1 : 1) + (Xe(h) || 0))), h !== i) return isNaN(h + i) ? (!u && !(t in e) && ie(t, i), It.call(this, e, t, h, i, d, s || L.stringFilter, l)) : (c = new tn(this._pt, e, t, +h || 0, i - (h || 0), "boolean" == typeof u ? Yt : Xt, 0, d), l && (c.fp = l), a && c.modifier(a, this, e), this._pt = c)
        },
        Bt = function (e, t, n, i, r, o) {
            var a, s, l, c;
            if (ue[e] && !1 !== (a = new ue[e]).init(r, a.rawVars ? t[e] : function (e, t, n, i, r) {
                    if (j(e) && (e = Gt(e, r, t, n, i)), !U(e) || e.style && e.nodeType || q(e)) return G(e) ? Gt(e, r, t, n, i) : e;
                    var o, a = {};
                    for (o in e) a[o] = Gt(e[o], r, t, n, i);
                    return a
                }(t[e], i, r, o, n), n, i, o) && (n._pt = s = new tn(n._pt, r, e, 0, 1, a.render, a, 0, a.priority), n !== h))
                for (l = n._ptLookup[n._targets.indexOf(r)], c = a._props.length; c--;) l[a._props[c]] = s;
            return a
        },
        Nt = function e(t, n) {
            var i, r, a, s, l, c, u, h, d, p, f, m, v = t.vars,
                g = v.ease,
                y = v.startAt,
                _ = v.immediateRender,
                b = v.lazy,
                w = v.onUpdate,
                x = v.onUpdateParams,
                T = v.callbackScope,
                S = v.runBackwards,
                M = v.yoyoEase,
                E = v.keyframes,
                A = v.autoRevert,
                P = t._dur,
                C = t._startAt,
                L = t._targets,
                R = t.parent,
                k = R && "nested" === R.data ? R.parent._targets : L,
                I = "auto" === t._overwrite,
                D = t.timeline;
            if (!D || E && g || (g = "none"), t._ease = Mt(g, O.ease), t._yEase = M ? St(Mt(!0 === M ? g : M, O.ease)) : 0, M && t._yoyo && !t._repeat && (M = t._yEase, t._yEase = t._ease, t._ease = M), !D) {
                if (C && C.render(-1, !0).kill(), y) {
                    if (Re(t._startAt = Ft.set(L, Ee({
                            data: "isStart",
                            overwrite: !1,
                            parent: R,
                            immediateRender: !0,
                            lazy: z(b),
                            startAt: null,
                            delay: 0,
                            onUpdate: w,
                            onUpdateParams: x,
                            callbackScope: T,
                            stagger: 0
                        }, y))), _)
                        if (n > 0) !A && (t._startAt = 0);
                        else if (P) return
                } else if (S && P)
                    if (C) !A && (t._startAt = 0);
                    else if (n && (_ = !1), Re(t._startAt = Ft.set(L, Pe(Le(v, se), {
                        overwrite: !1,
                        data: "isFromStart",
                        lazy: _ && z(b),
                        immediateRender: _,
                        stagger: 0,
                        parent: R
                    }))), _) {
                    if (!n) return
                } else e(t._startAt, 1e-8);
                for (i = Le(v, se), t._pt = 0, m = (h = L[0] ? ve(L[0]).harness : 0) && v[h.prop], b = P && z(b) || b && !P, r = 0; r < L.length; r++) {
                    if (u = (l = L[r])._gsap || me(L)[r]._gsap, t._ptLookup[r] = p = {}, ce[u.id] && xe(), f = k === L ? r : k.indexOf(l), h && !1 !== (d = new h).init(l, m || i, t, f, k) && (t._pt = s = new tn(t._pt, l, d.name, 0, 1, d.render, d, 0, d.priority), d._props.forEach((function (e) {
                            p[e] = s
                        })), d.priority && (c = 1)), !h || m)
                        for (a in i) ue[a] && (d = Bt(a, i, t, f, l, k)) ? d.priority && (c = 1) : p[a] = s = Dt.call(t, l, a, "get", i[a], f, k, 0, v.stringFilter);
                    t._op && t._op[r] && t.kill(l, t._op[r]), I && t._pt && (kt = t, o.killTweensOf(l, p, "started"), kt = 0), t._pt && b && (ce[u.id] = 1)
                }
                c && en(t), t._onInit && t._onInit(t)
            }
            t._from = !D && !!v.runBackwards, t._onUpdate = w, t._initted = 1
        },
        Gt = function (e, t, n, i, r) {
            return j(e) ? e.call(t, n, i, r) : G(e) && ~e.indexOf("random(") ? rt(e) : e
        },
        jt = fe + "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",
        Ht = (jt + ",id,stagger,delay,duration,paused").split(","),
        Ft = function (e) {
            function t(t, n, r) {
                var a;
                "number" == typeof n && (r.duration = n, n = r, r = null);
                var s, l, c, u, h, d, p, f, m = (a = e.call(this, function (e) {
                        var t = e.parent || o,
                            n = e.keyframes ? Ae : Ee;
                        if (z(e.inherit))
                            for (; t;) n(e, t.vars.defaults), t = t.parent;
                        return e
                    }(n), r) || this).vars,
                    v = m.duration,
                    g = m.delay,
                    y = m.immediateRender,
                    _ = m.stagger,
                    b = m.overwrite,
                    w = m.keyframes,
                    x = m.defaults,
                    T = (q(t) ? H(t[0]) : "length" in n) ? [t] : Ze(t);
                if (a._targets = T.length ? me(T) : re("GSAP target " + t + " not found. https://greensock.com", !L.nullTargetWarn) || [], a._ptLookup = [], a._overwrite = b, w || _ || W(v) || W(g)) {
                    if (n = a.vars, (s = a.timeline = new Rt({
                            data: "nested",
                            defaults: x || {}
                        })).kill(), s.parent = i(a), w) Ee(s.vars.defaults, {
                        ease: "none"
                    }), w.forEach((function (e) {
                        return s.to(T, e, ">")
                    }));
                    else {
                        if (u = T.length, p = _ ? Qe(_) : ae, U(_))
                            for (h in _) ~jt.indexOf(h) && (f || (f = {}), f[h] = _[h]);
                        for (l = 0; l < u; l++) {
                            for (h in c = {}, n) Ht.indexOf(h) < 0 && (c[h] = n[h]);
                            c.stagger = 0, f && Pe(c, f), n.yoyoEase && !n.repeat && (c.yoyoEase = n.yoyoEase), d = T[l], c.duration = +Gt(v, i(a), l, d, T), c.delay = (+Gt(g, i(a), l, d, T) || 0) - a._delay, !_ && 1 === u && c.delay && (a._delay = g = c.delay, a._start += g, c.delay = 0), s.to(d, c, p(l, d, T))
                        }
                        v = g = 0
                    }
                    v || a.duration(v = s.duration())
                } else a.timeline = 0;
                return !0 === b && (kt = i(a), o.killTweensOf(T), kt = 0), (y || !v && !w && a._start === a.parent._time && z(y) && function e(t) {
                    return !t || t._ts && e(t.parent)
                }(i(a)) && "nested" !== a.parent.data) && (a._tTime = -1e-8, a.render(Math.max(0, -g))), a
            }
            r(t, e);
            var n = t.prototype;
            return n.render = function (e, t, n) {
                var i, r, o, a, s, l, c, u, h, d = this._time,
                    p = this._tDur,
                    f = this._dur,
                    m = e > p - 1e-8 && e >= 0 ? p : e < 1e-8 ? 0 : e;
                if (f) {
                    if (m !== this._tTime || !e || n || this._startAt && this._zTime < 0 != e < 0) {
                        if (i = m, u = this.timeline, this._repeat) {
                            if (a = f + this._rDelay, ((i = _e(m % a)) > f || p === m) && (i = f), (o = ~~(m / a)) && o === m / a && (i = f, o--), (l = this._yoyo && 1 & o) && (h = this._yEase, i = f - i), s = Be(this._tTime, a), i === d && !n && this._initted) return this;
                            o !== s && (!this.vars.repeatRefresh || l || this._lock || (this._lock = n = 1, this.render(a * o, !0).invalidate()._lock = 0))
                        }
                        if (!this._initted && He(this, i, n, t)) return this._tTime = 0, this;
                        for (this._tTime = m, this._time = i, !this._act && this._ts && (this._act = 1, this._lazy = 0), this.ratio = c = (h || this._ease)(i / f), this._from && (this.ratio = c = 1 - c), d || !i || t || st(this, "onStart"), r = this._pt; r;) r.r(c, r.d), r = r._next;
                        u && u.render(e < 0 ? e : !i && l ? -1e-8 : u._dur * c, t, n) || this._startAt && (this._zTime = e), this._onUpdate && !t && (e < 0 && this._startAt && this._startAt.render(e, !0, n), st(this, "onUpdate")), this._repeat && o !== s && this.vars.onRepeat && !t && this.parent && st(this, "onRepeat"), m !== this._tDur && m || this._tTime !== m || (e < 0 && this._startAt && !this._onUpdate && this._startAt.render(e, !0, n), (e || !f) && (e && this._ts > 0 || !m && this._ts < 0) && Re(this, 1), t || e < 0 && !d || (st(this, m === p ? "onComplete" : "onReverseComplete", !0), this._prom && this._prom()))
                    }
                } else ! function (e, t, n, i) {
                    var r, o = e._zTime < 0 ? 0 : 1,
                        a = t < 0 ? 0 : 1,
                        s = e._rDelay,
                        l = 0;
                    if (s && e._repeat && (l = qe(0, e._tDur, t), Be(l, s) !== Be(e._tTime, s) && (o = 1 - a, e.vars.repeatRefresh && e._initted && e.invalidate())), (e._initted || !He(e, t, i, n)) && (a !== o || i || 1e-8 === e._zTime || !t && e._zTime)) {
                        for (e._zTime = t || (n ? 1e-8 : 0), e.ratio = a, e._from && (a = 1 - a), e._time = 0, e._tTime = l, n || st(e, "onStart"), r = e._pt; r;) r.r(a, r.d), r = r._next;
                        !a && e._startAt && !e._onUpdate && e._start && e._startAt.render(t, !0, i), e._onUpdate && !n && st(e, "onUpdate"), l && e._repeat && !n && e.parent && st(e, "onRepeat"), (t >= e._tDur || t < 0) && e.ratio === a && (e.ratio && Re(e, 1), n || (st(e, e.ratio ? "onComplete" : "onReverseComplete", !0), e._prom && e._prom()))
                    }
                }(this, e, t, n);
                return this
            }, n.targets = function () {
                return this._targets
            }, n.invalidate = function () {
                return this._pt = this._op = this._startAt = this._onUpdate = this._act = this._lazy = 0, this._ptLookup = [], this.timeline && this.timeline.invalidate(), e.prototype.invalidate.call(this)
            }, n.kill = function (e, t) {
                if (void 0 === t && (t = "all"), !(e || t && "all" !== t) && (this._lazy = 0, this.parent)) return lt(this);
                if (this.timeline) return this.timeline.killTweensOf(e, t, kt && !0 !== kt.vars.overwrite), this;
                var n, i, r, o, a, s, l, c = this._targets,
                    u = e ? Ze(e) : c,
                    h = this._ptLookup,
                    d = this._pt;
                if ((!t || "all" === t) && function (e, t) {
                        for (var n = e.length, i = n === t.length; i && n-- && e[n] === t[n];);
                        return n < 0
                    }(c, u)) return lt(this);
                for (n = this._op = this._op || [], "all" !== t && (G(t) && (a = {}, ye(t, (function (e) {
                        return a[e] = 1
                    })), t = a), t = function (e, t) {
                        var n, i, r, o, a = e[0] ? ve(e[0]).harness : 0,
                            s = a && a.aliases;
                        if (!s) return t;
                        for (i in n = Pe({}, t), s)
                            if (i in n)
                                for (r = (o = s[i].split(",")).length; r--;) n[o[r]] = n[i];
                        return n
                    }(c, t)), l = c.length; l--;)
                    if (~u.indexOf(c[l]))
                        for (a in i = h[l], "all" === t ? (n[l] = t, o = i, r = {}) : (r = n[l] = n[l] || {}, o = t), o)(s = i && i[a]) && ("kill" in s.d && !0 !== s.d.kill(a) || Oe(this, s, "_pt"), delete i[a]), "all" !== r && (r[a] = 1);
                return this._initted && !this._pt && d && lt(this), this
            }, t.to = function (e, n) {
                return new t(e, n, arguments[2])
            }, t.from = function (e, n) {
                return new t(e, we(arguments, 1))
            }, t.delayedCall = function (e, n, i, r) {
                return new t(n, 0, {
                    immediateRender: !1,
                    lazy: !1,
                    overwrite: !1,
                    delay: e,
                    onComplete: n,
                    onReverseComplete: n,
                    onCompleteParams: i,
                    onReverseCompleteParams: i,
                    callbackScope: r
                })
            }, t.fromTo = function (e, n, i) {
                return new t(e, we(arguments, 2))
            }, t.set = function (e, n) {
                return n.duration = 0, n.repeatDelay || (n.repeat = 0), new t(e, n)
            }, t.killTweensOf = function (e, t, n) {
                return o.killTweensOf(e, t, n)
            }, t
        }(Ot);
    Ee(Ft.prototype, {
        _targets: [],
        _lazy: 0,
        _startAt: 0,
        _op: 0,
        _onInit: 0
    }), ye("staggerTo,staggerFrom,staggerFromTo", (function (e) {
        Ft[e] = function () {
            var t = new Rt,
                n = Ye.call(arguments, 0);
            return n.splice("staggerFromTo" === e ? 5 : 4, 0, 0), t[e].apply(t, n)
        }
    }));
    var Ut = function (e, t, n) {
            return e[t] = n
        },
        zt = function (e, t, n) {
            return e[t](n)
        },
        Vt = function (e, t, n, i) {
            return e[t](i.fp, n)
        },
        Wt = function (e, t, n) {
            return e.setAttribute(t, n)
        },
        qt = function (e, t) {
            return j(e[t]) ? zt : F(e[t]) && e.setAttribute ? Wt : Ut
        },
        Xt = function (e, t) {
            return t.set(t.t, t.p, Math.round(1e4 * (t.s + t.c * e)) / 1e4, t)
        },
        Yt = function (e, t) {
            return t.set(t.t, t.p, !!(t.s + t.c * e), t)
        },
        Jt = function (e, t) {
            var n = t._pt,
                i = "";
            if (!e && t.b) i = t.b;
            else if (1 === e && t.e) i = t.e;
            else {
                for (; n;) i = n.p + (n.m ? n.m(n.s + n.c * e) : Math.round(1e4 * (n.s + n.c * e)) / 1e4) + i, n = n._next;
                i += t.c
            }
            t.set(t.t, t.p, i, t)
        },
        Kt = function (e, t) {
            for (var n = t._pt; n;) n.r(e, n.d), n = n._next
        },
        Zt = function (e, t, n, i) {
            for (var r, o = this._pt; o;) r = o._next, o.p === i && o.modifier(e, t, n), o = r
        },
        $t = function (e) {
            for (var t, n, i = this._pt; i;) n = i._next, i.p === e && !i.op || i.op === e ? Oe(this, i, "_pt") : i.dep || (t = 1), i = n;
            return !t
        },
        Qt = function (e, t, n, i) {
            i.mSet(e, t, i.m.call(i.tween, n, i.mt), i)
        },
        en = function (e) {
            for (var t, n, i, r, o = e._pt; o;) {
                for (t = o._next, n = i; n && n.pr > o.pr;) n = n._next;
                (o._prev = n ? n._prev : r) ? o._prev._next = o: i = o, (o._next = n) ? n._prev = o : r = o, o = t
            }
            e._pt = i
        },
        tn = function () {
            function e(e, t, n, i, r, o, a, s, l) {
                this.t = t, this.s = i, this.c = r, this.p = n, this.r = o || Xt, this.d = a || this, this.set = s || Ut, this.pr = l || 0, this._next = e, e && (e._prev = this)
            }
            return e.prototype.modifier = function (e, t, n) {
                this.mSet = this.mSet || this.set, this.set = Qt, this.m = e, this.mt = n, this.tween = t
            }, e
        }();
    ye(fe + "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert", (function (e) {
        return se[e] = 1
    })), ee.TweenMax = ee.TweenLite = Ft, ee.TimelineLite = ee.TimelineMax = Rt, o = new Rt({
        sortChildren: !1,
        defaults: O,
        autoRemoveChildren: !0,
        id: "root",
        smoothChildTiming: !0
    }), L.stringFilter = gt;
    var nn = {
        registerPlugin: function () {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            t.forEach((function (e) {
                return ct(e)
            }))
        },
        timeline: function (e) {
            return new Rt(e)
        },
        getTweensOf: function (e, t) {
            return o.getTweensOf(e, t)
        },
        getProperty: function (e, t, n, i) {
            G(e) && (e = Ze(e)[0]);
            var r = ve(e || {}).get,
                o = n ? Me : Se;
            return "native" === n && (n = ""), e ? t ? o((ue[t] && ue[t].get || r)(e, t, n, i)) : function (t, n, i) {
                return o((ue[t] && ue[t].get || r)(e, t, n, i))
            } : e
        },
        quickSetter: function (e, t, n) {
            if ((e = Ze(e)).length > 1) {
                var i = e.map((function (e) {
                        return an.quickSetter(e, t, n)
                    })),
                    r = i.length;
                return function (e) {
                    for (var t = r; t--;) i[t](e)
                }
            }
            e = e[0] || {};
            var o = ue[t],
                a = ve(e),
                s = o ? function (t) {
                    var i = new o;
                    h._pt = 0, i.init(e, n ? t + n : t, h, 0, [e]), i.render(1, i), h._pt && Kt(1, h)
                } : a.set(e, t);
            return o ? s : function (i) {
                return s(e, t, n ? i + n : i, a, 1)
            }
        },
        isTweening: function (e) {
            return o.getTweensOf(e, !0).length > 0
        },
        defaults: function (e) {
            return e && e.ease && (e.ease = Mt(e.ease, O.ease)), Ce(O, e || {})
        },
        config: function (e) {
            return Ce(L, e || {})
        },
        registerEffect: function (e) {
            var t = e.name,
                n = e.effect,
                i = e.plugins,
                r = e.defaults,
                o = e.extendTimeline;
            (i || "").split(",").forEach((function (e) {
                return e && !ue[e] && !ee[e] && re(t + " effect requires " + e + " plugin.")
            })), he[t] = function (e, t) {
                return n(Ze(e), Ee(t || {}, r))
            }, o && (Rt.prototype[t] = function (e, n, i) {
                return this.add(he[t](e, U(n) ? n : (i = n) && {}), i)
            })
        },
        registerEase: function (e, t) {
            bt[e] = Mt(t)
        },
        parseEase: function (e, t) {
            return arguments.length ? Mt(e, t) : bt
        },
        getById: function (e) {
            return o.getById(e)
        },
        exportRoot: function (e, t) {
            void 0 === e && (e = {});
            var n, i, r = new Rt(e);
            for (r.smoothChildTiming = z(e.smoothChildTiming), o.remove(r), r._dp = 0, r._time = r._tTime = o._time, n = o._first; n;) i = n._next, !t && !n._dur && n instanceof Ft && n.vars.onComplete === n._targets[0] || je(r, n, n._start - n._delay), n = i;
            return je(o, r, 0), r
        },
        utils: {
            wrap: function e(t, n, i) {
                var r = n - t;
                return q(t) ? it(t, e(0, t.length), n) : We(i, (function (e) {
                    return (r + (e - t) % r) % r + t
                }))
            },
            wrapYoyo: function e(t, n, i) {
                var r = n - t,
                    o = 2 * r;
                return q(t) ? it(t, e(0, t.length - 1), n) : We(i, (function (e) {
                    return t + ((e = (o + (e - t) % o) % o) > r ? o - e : e)
                }))
            },
            distribute: Qe,
            random: nt,
            snap: tt,
            normalize: function (e, t, n) {
                return ot(e, t, 0, 1, n)
            },
            getUnit: Xe,
            clamp: function (e, t, n) {
                return We(n, (function (n) {
                    return qe(e, t, n)
                }))
            },
            splitColor: dt,
            toArray: Ze,
            mapRange: ot,
            pipe: function () {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                return function (e) {
                    return t.reduce((function (e, t) {
                        return t(e)
                    }), e)
                }
            },
            unitize: function (e, t) {
                return function (n) {
                    return e(parseFloat(n)) + (t || Xe(n))
                }
            },
            interpolate: function e(t, n, i, r) {
                var o = isNaN(t + n) ? 0 : function (e) {
                    return (1 - e) * t + e * n
                };
                if (!o) {
                    var a, s, l, c, u, h = G(t),
                        d = {};
                    if (!0 === i && (r = 1) && (i = null), h) t = {
                        p: t
                    }, n = {
                        p: n
                    };
                    else if (q(t) && !q(n)) {
                        for (l = [], c = t.length, u = c - 2, s = 1; s < c; s++) l.push(e(t[s - 1], t[s]));
                        c--, o = function (e) {
                            e *= c;
                            var t = Math.min(u, ~~e);
                            return l[t](e - t)
                        }, i = n
                    } else r || (t = Pe(q(t) ? [] : {}, t));
                    if (!l) {
                        for (a in n) Dt.call(d, t, a, "get", n[a]);
                        o = function (e) {
                            return Kt(e, d) || (h ? t.p : t)
                        }
                    }
                }
                return We(i, o)
            },
            shuffle: $e
        },
        install: ne,
        effects: he,
        ticker: yt,
        updateRoot: Rt.updateRoot,
        plugins: ue,
        globalTimeline: o,
        core: {
            PropTween: tn,
            globals: oe,
            Tween: Ft,
            Timeline: Rt,
            Animation: Ot,
            getCache: ve,
            _removeLinkedListItem: Oe
        }
    };
    ye("to,from,fromTo,delayedCall,set,killTweensOf", (function (e) {
        return nn[e] = Ft[e]
    })), yt.add(Rt.updateRoot), h = nn.to({}, {
        duration: 0
    });
    var rn = function (e, t) {
            for (var n = e._pt; n && n.p !== t && n.op !== t && n.fp !== t;) n = n._next;
            return n
        },
        on = function (e, t) {
            return {
                name: e,
                rawVars: 1,
                init: function (e, n, i) {
                    i._onInit = function (e) {
                        var i, r;
                        if (G(n) && (i = {}, ye(n, (function (e) {
                                return i[e] = 1
                            })), n = i), t) {
                            for (r in i = {}, n) i[r] = t(n[r]);
                            n = i
                        }! function (e, t) {
                            var n, i, r, o = e._targets;
                            for (n in t)
                                for (i = o.length; i--;)(r = e._ptLookup[i][n]) && (r = r.d) && (r._pt && (r = rn(r, n)), r && r.modifier && r.modifier(t[n], e, o[i], n))
                        }(e, n)
                    }
                }
            }
        },
        an = nn.registerPlugin({
            name: "attr",
            init: function (e, t, n, i, r) {
                for (var o in t) this.add(e, "setAttribute", (e.getAttribute(o) || 0) + "", t[o], i, r, 0, 0, o), this._props.push(o)
            }
        }, {
            name: "endArray",
            init: function (e, t) {
                for (var n = t.length; n--;) this.add(e, n, e[n] || 0, t[n])
            }
        }, on("roundProps", et), on("modifiers"), on("snap", tt)) || nn;
    Ft.version = Rt.version = an.version = "3.2.1", c = 1, V() && _t();
    bt.Power0, bt.Power1, bt.Power2, bt.Power3, bt.Power4, bt.Linear, bt.Quad, bt.Cubic, bt.Quart, bt.Quint, bt.Strong, bt.Elastic, bt.Back, bt.SteppedEase, bt.Bounce, bt.Sine, bt.Expo, bt.Circ;
    var sn, ln, cn, un, hn, dn, pn, fn, mn = {},
        vn = 180 / Math.PI,
        gn = Math.PI / 180,
        yn = Math.atan2,
        _n = /([A-Z])/g,
        bn = /(?:left|right|width|margin|padding|x)/i,
        wn = /[\s,\(]\S/,
        xn = {
            autoAlpha: "opacity,visibility",
            scale: "scaleX,scaleY",
            alpha: "opacity"
        },
        Tn = function (e, t) {
            return t.set(t.t, t.p, Math.round(1e4 * (t.s + t.c * e)) / 1e4 + t.u, t)
        },
        Sn = function (e, t) {
            return t.set(t.t, t.p, 1 === e ? t.e : Math.round(1e4 * (t.s + t.c * e)) / 1e4 + t.u, t)
        },
        Mn = function (e, t) {
            return t.set(t.t, t.p, e ? Math.round(1e4 * (t.s + t.c * e)) / 1e4 + t.u : t.b, t)
        },
        En = function (e, t) {
            var n = t.s + t.c * e;
            t.set(t.t, t.p, ~~(n + (n < 0 ? -.5 : .5)) + t.u, t)
        },
        An = function (e, t) {
            return t.set(t.t, t.p, e ? t.e : t.b, t)
        },
        Pn = function (e, t) {
            return t.set(t.t, t.p, 1 !== e ? t.b : t.e, t)
        },
        Cn = function (e, t, n) {
            return e.style[t] = n
        },
        Ln = function (e, t, n) {
            return e.style.setProperty(t, n)
        },
        On = function (e, t, n) {
            return e._gsap[t] = n
        },
        Rn = function (e, t, n) {
            return e._gsap.scaleX = e._gsap.scaleY = n
        },
        kn = function (e, t, n, i, r) {
            var o = e._gsap;
            o.scaleX = o.scaleY = n, o.renderTransform(r, o)
        },
        In = function (e, t, n, i, r) {
            var o = e._gsap;
            o[t] = n, o.renderTransform(r, o)
        },
        Dn = "transform",
        Bn = Dn + "Origin",
        Nn = function (e, t) {
            var n = ln.createElementNS ? ln.createElementNS((t || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"), e) : ln.createElement(e);
            return n.style ? n : ln.createElement(e)
        },
        Gn = function e(t, n, i) {
            var r = getComputedStyle(t);
            return r[n] || r.getPropertyValue(n.replace(_n, "-$1").toLowerCase()) || r.getPropertyValue(n) || !i && e(t, Hn(n) || n, 1) || ""
        },
        jn = "O,Moz,ms,Ms,Webkit".split(","),
        Hn = function (e, t, n) {
            var i = (t || hn).style,
                r = 5;
            if (e in i && !n) return e;
            for (e = e.charAt(0).toUpperCase() + e.substr(1); r-- && !(jn[r] + e in i););
            return r < 0 ? null : (3 === r ? "ms" : r >= 0 ? jn[r] : "") + e
        },
        Fn = function () {
            "undefined" != typeof window && (sn = window, ln = sn.document, cn = ln.documentElement, hn = Nn("div") || {
                style: {}
            }, dn = Nn("div"), Dn = Hn(Dn), Bn = Hn(Bn), hn.style.cssText = "border-width:0;line-height:0;position:absolute;padding:0", fn = !!Hn("perspective"), un = 1)
        },
        Un = function e(t) {
            var n, i = Nn("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"),
                r = this.parentNode,
                o = this.nextSibling,
                a = this.style.cssText;
            if (cn.appendChild(i), i.appendChild(this), this.style.display = "block", t) try {
                n = this.getBBox(), this._gsapBBox = this.getBBox, this.getBBox = e
            } catch (e) {} else this._gsapBBox && (n = this._gsapBBox());
            return r && (o ? r.insertBefore(this, o) : r.appendChild(this)), cn.removeChild(i), this.style.cssText = a, n
        },
        zn = function (e, t) {
            for (var n = t.length; n--;)
                if (e.hasAttribute(t[n])) return e.getAttribute(t[n])
        },
        Vn = function (e) {
            var t;
            try {
                t = e.getBBox()
            } catch (n) {
                t = Un.call(e, !0)
            }
            return t && t.width || (t = Un.call(e, !0)), !t || t.width || t.x || t.y ? t : {
                x: +zn(e, ["x", "cx", "x1"]) || 0,
                y: +zn(e, ["y", "cy", "y1"]) || 0,
                width: 0,
                height: 0
            }
        },
        Wn = function (e) {
            return !(!e.getCTM || e.parentNode && !e.ownerSVGElement || !Vn(e))
        },
        qn = function (e, t) {
            if (t) {
                var n = e.style;
                t in mn && (t = Dn), n.removeProperty ? ("ms" !== t.substr(0, 2) && "webkit" !== t.substr(0, 6) || (t = "-" + t), n.removeProperty(t.replace(_n, "-$1").toLowerCase())) : n.removeAttribute(t)
            }
        },
        Xn = function (e, t, n, i, r, o) {
            var a = new tn(e._pt, t, n, 0, 1, o ? Pn : An);
            return e._pt = a, a.b = i, a.e = r, e._props.push(n), a
        },
        Yn = {
            deg: 1,
            rad: 1,
            turn: 1
        },
        Jn = function (e, t, n, i) {
            var r, o, a, s, l = parseFloat(n) || 0,
                c = (n + "").trim().substr((l + "").length) || "px",
                u = hn.style,
                h = bn.test(t),
                d = "svg" === e.tagName.toLowerCase(),
                p = (d ? "client" : "offset") + (h ? "Width" : "Height"),
                f = "px" === i;
            return i === c || !l || Yn[i] || Yn[c] ? l : (s = e.getCTM && Wn(e), "%" === i && (mn[t] || ~t.indexOf("adius")) ? _e(l / (s ? e.getBBox()[h ? "width" : "height"] : e[p]) * 100) : (u[h ? "width" : "height"] = 100 + (f ? c : i), o = ~t.indexOf("adius") || "em" === i && e.appendChild && !d ? e : e.parentNode, s && (o = (e.ownerSVGElement || {}).parentNode), o && o !== ln && o.appendChild || (o = ln.body), (a = o._gsap) && "%" === i && a.width && h && a.time === yt.time ? _e(l / a.width * 100) : (o === e && (u.position = "static"), o.appendChild(hn), r = hn[p], o.removeChild(hn), u.position = "absolute", h && "%" === i && ((a = ve(o)).time = yt.time, a.width = o[p]), _e(f ? r * l / 100 : 100 / r * l))))
        },
        Kn = function (e, t, n, i) {
            var r;
            return un || Fn(), t in xn && "transform" !== t && ~(t = xn[t]).indexOf(",") && (t = t.split(",")[0]), mn[t] && "transform" !== t ? (r = si(e, i), r = "transformOrigin" !== t ? r[t] : li(Gn(e, Bn)) + " " + r.zOrigin + "px") : (!(r = e.style[t]) || "auto" === r || i || ~(r + "").indexOf("calc(")) && (r = ei[t] && ei[t](e, t, n) || Gn(e, t) || ge(e, t) || ("opacity" === t ? 1 : 0)), n && !~(r + "").indexOf(" ") ? Jn(e, t, r, n) + n : r
        },
        Zn = function (e, t, n, i) {
            if (!n || "none" === n) {
                var r = Hn(t, e, 1),
                    o = r && Gn(e, r, 1);
                o && o !== n && (t = r, n = o)
            }
            var a, s, l, c, u, h, d, p, f, m, v, g, y = new tn(this._pt, e.style, t, 0, 1, Jt),
                _ = 0,
                b = 0;
            if (y.b = n, y.e = i, n += "", "auto" === (i += "") && (e.style[t] = i, i = Gn(e, t) || i, e.style[t] = n), gt(a = [n, i]), i = a[1], l = (n = a[0]).match(J) || [], (i.match(J) || []).length) {
                for (; s = J.exec(i);) d = s[0], f = i.substring(_, s.index), u ? u = (u + 1) % 5 : "rgba(" !== f.substr(-5) && "hsla(" !== f.substr(-5) || (u = 1), d !== (h = l[b++] || "") && (c = parseFloat(h) || 0, v = h.substr((c + "").length), (g = "=" === d.charAt(1) ? +(d.charAt(0) + "1") : 0) && (d = d.substr(2)), p = parseFloat(d), m = d.substr((p + "").length), _ = J.lastIndex - m.length, m || (m = m || L.units[t] || v, _ === i.length && (i += m, y.e += m)), v !== m && (c = Jn(e, t, h, m) || 0), y._pt = {
                    _next: y._pt,
                    p: f || 1 === b ? f : ",",
                    s: c,
                    c: g ? g * p : p - c,
                    m: u && u < 4 ? Math.round : 0
                });
                y.c = _ < i.length ? i.substring(_, i.length) : ""
            } else y.r = "display" === t && "none" === i ? Pn : An;
            return $.test(i) && (y.e = 0), this._pt = y, y
        },
        $n = {
            top: "0%",
            bottom: "100%",
            left: "0%",
            right: "100%",
            center: "50%"
        },
        Qn = function (e, t) {
            if (t.tween && t.tween._time === t.tween._dur) {
                var n, i, r, o = t.t,
                    a = o.style,
                    s = t.u;
                if ("all" === s || !0 === s) a.cssText = "", i = 1;
                else
                    for (r = (s = s.split(",")).length; --r > -1;) n = s[r], mn[n] && (i = 1, n = "transformOrigin" === n ? Bn : Dn), qn(o, n);
                i && (qn(o, Dn), (i = o._gsap) && (i.svg && o.removeAttribute("transform"), si(o, 1)))
            }
        },
        ei = {
            clearProps: function (e, t, n, i, r) {
                if ("isFromStart" !== r.data) {
                    var o = e._pt = new tn(e._pt, t, n, 0, 0, Qn);
                    return o.u = i, o.pr = -10, o.tween = r, e._props.push(n), 1
                }
            }
        },
        ti = [1, 0, 0, 1, 0, 0],
        ni = {},
        ii = function (e) {
            return "matrix(1, 0, 0, 1, 0, 0)" === e || "none" === e || !e
        },
        ri = function (e) {
            var t = Gn(e, Dn);
            return ii(t) ? ti : t.substr(7).match(Y).map(_e)
        },
        oi = function (e, t) {
            var n, i, r, o, a = e._gsap || ve(e),
                s = e.style,
                l = ri(e);
            return a.svg && e.getAttribute("transform") ? "1,0,0,1,0,0" === (l = [(r = e.transform.baseVal.consolidate().matrix).a, r.b, r.c, r.d, r.e, r.f]).join(",") ? ti : l : (l !== ti || e.offsetParent || e === cn || a.svg || (r = s.display, s.display = "block", (n = e.parentNode) && e.offsetParent || (o = 1, i = e.nextSibling, cn.appendChild(e)), l = ri(e), r ? s.display = r : qn(e, "display"), o && (i ? n.insertBefore(e, i) : n ? n.appendChild(e) : cn.removeChild(e))), t && l.length > 6 ? [l[0], l[1], l[4], l[5], l[12], l[13]] : l)
        },
        ai = function (e, t, n, i, r, o) {
            var a, s, l, c = e._gsap,
                u = r || oi(e, !0),
                h = c.xOrigin || 0,
                d = c.yOrigin || 0,
                p = c.xOffset || 0,
                f = c.yOffset || 0,
                m = u[0],
                v = u[1],
                g = u[2],
                y = u[3],
                _ = u[4],
                b = u[5],
                w = t.split(" "),
                x = parseFloat(w[0]) || 0,
                T = parseFloat(w[1]) || 0;
            n ? u !== ti && (s = m * y - v * g) && (l = x * (-v / s) + T * (m / s) - (m * b - v * _) / s, x = x * (y / s) + T * (-g / s) + (g * b - y * _) / s, T = l) : (x = (a = Vn(e)).x + (~w[0].indexOf("%") ? x / 100 * a.width : x), T = a.y + (~(w[1] || w[0]).indexOf("%") ? T / 100 * a.height : T)), i || !1 !== i && c.smooth ? (_ = x - h, b = T - d, c.xOffset = p + (_ * m + b * g) - _, c.yOffset = f + (_ * v + b * y) - b) : c.xOffset = c.yOffset = 0, c.xOrigin = x, c.yOrigin = T, c.smooth = !!i, c.origin = t, c.originIsAbsolute = !!n, e.style[Bn] = "0px 0px", o && (Xn(o, c, "xOrigin", h, x), Xn(o, c, "yOrigin", d, T), Xn(o, c, "xOffset", p, c.xOffset), Xn(o, c, "yOffset", f, c.yOffset)), e.setAttribute("data-svg-origin", x + " " + T)
        },
        si = function (e, t) {
            var n = e._gsap || new Lt(e);
            if ("x" in n && !t && !n.uncache) return n;
            var i, r, o, a, s, l, c, u, h, d, p, f, m, v, g, y, _, b, w, x, T, S, M, E, A, P, C, O, R, k, I, D, B = e.style,
                N = n.scaleX < 0,
                G = Gn(e, Bn) || "0";
            return i = r = o = l = c = u = h = d = p = 0, a = s = 1, n.svg = !(!e.getCTM || !Wn(e)), v = oi(e, n.svg), n.svg && (E = !n.uncache && e.getAttribute("data-svg-origin"), ai(e, E || G, !!E || n.originIsAbsolute, !1 !== n.smooth, v)), f = n.xOrigin || 0, m = n.yOrigin || 0, v !== ti && (b = v[0], w = v[1], x = v[2], T = v[3], i = S = v[4], r = M = v[5], 6 === v.length ? (a = Math.sqrt(b * b + w * w), s = Math.sqrt(T * T + x * x), l = b || w ? yn(w, b) * vn : 0, (h = x || T ? yn(x, T) * vn + l : 0) && (s *= Math.cos(h * gn)), n.svg && (i -= f - (f * b + m * x), r -= m - (f * w + m * T))) : (D = v[6], k = v[7], C = v[8], O = v[9], R = v[10], I = v[11], i = v[12], r = v[13], o = v[14], c = (g = yn(D, R)) * vn, g && (E = S * (y = Math.cos(-g)) + C * (_ = Math.sin(-g)), A = M * y + O * _, P = D * y + R * _, C = S * -_ + C * y, O = M * -_ + O * y, R = D * -_ + R * y, I = k * -_ + I * y, S = E, M = A, D = P), u = (g = yn(-x, R)) * vn, g && (y = Math.cos(-g), I = T * (_ = Math.sin(-g)) + I * y, b = E = b * y - C * _, w = A = w * y - O * _, x = P = x * y - R * _), l = (g = yn(w, b)) * vn, g && (E = b * (y = Math.cos(g)) + w * (_ = Math.sin(g)), A = S * y + M * _, w = w * y - b * _, M = M * y - S * _, b = E, S = A), c && Math.abs(c) + Math.abs(l) > 359.9 && (c = l = 0, u = 180 - u), a = _e(Math.sqrt(b * b + w * w + x * x)), s = _e(Math.sqrt(M * M + D * D)), g = yn(S, M), h = Math.abs(g) > 2e-4 ? g * vn : 0, p = I ? 1 / (I < 0 ? -I : I) : 0), n.svg && (v = e.getAttribute("transform"), n.forceCSS = e.setAttribute("transform", "") || !ii(Gn(e, Dn)), v && e.setAttribute("transform", v))), Math.abs(h) > 90 && Math.abs(h) < 270 && (N ? (a *= -1, h += l <= 0 ? 180 : -180, l += l <= 0 ? 180 : -180) : (s *= -1, h += h <= 0 ? 180 : -180)), n.x = ((n.xPercent = i && Math.round(e.offsetWidth / 2) === Math.round(-i) ? -50 : 0) ? 0 : i) + "px", n.y = ((n.yPercent = r && Math.round(e.offsetHeight / 2) === Math.round(-r) ? -50 : 0) ? 0 : r) + "px", n.z = o + "px", n.scaleX = _e(a), n.scaleY = _e(s), n.rotation = _e(l) + "deg", n.rotationX = _e(c) + "deg", n.rotationY = _e(u) + "deg", n.skewX = h + "deg", n.skewY = d + "deg", n.transformPerspective = p + "px", (n.zOrigin = parseFloat(G.split(" ")[2]) || 0) && (B[Bn] = li(G)), n.xOffset = n.yOffset = 0, n.force3D = L.force3D, n.renderTransform = n.svg ? di : fn ? hi : ui, n.uncache = 0, n
        },
        li = function (e) {
            return (e = e.split(" "))[0] + " " + e[1]
        },
        ci = function (e, t, n) {
            var i = Xe(t);
            return _e(parseFloat(t) + parseFloat(Jn(e, "x", n + "px", i))) + i
        },
        ui = function (e, t) {
            t.z = "0px", t.rotationY = t.rotationX = "0deg", t.force3D = 0, hi(e, t)
        },
        hi = function (e, t) {
            var n = t || this,
                i = n.xPercent,
                r = n.yPercent,
                o = n.x,
                a = n.y,
                s = n.z,
                l = n.rotation,
                c = n.rotationY,
                u = n.rotationX,
                h = n.skewX,
                d = n.skewY,
                p = n.scaleX,
                f = n.scaleY,
                m = n.transformPerspective,
                v = n.force3D,
                g = n.target,
                y = n.zOrigin,
                _ = "",
                b = "auto" === v && e && 1 !== e || !0 === v;
            if (y && ("0deg" !== u || "0deg" !== c)) {
                var w, x = parseFloat(c) * gn,
                    T = Math.sin(x),
                    S = Math.cos(x);
                x = parseFloat(u) * gn, w = Math.cos(x), o = ci(g, o, T * w * -y), a = ci(g, a, -Math.sin(x) * -y), s = ci(g, s, S * w * -y + y)
            }
            "0px" !== m && (_ += "perspective(" + m + ") "), (i || r) && (_ += "translate(" + i + "%, " + r + "%) "), (b || "0px" !== o || "0px" !== a || "0px" !== s) && (_ += "0px" !== s || b ? "translate3d(" + o + ", " + a + ", " + s + ") " : "translate(" + o + ", " + a + ") "), "0deg" !== l && (_ += "rotate(" + l + ") "), "0deg" !== c && (_ += "rotateY(" + c + ") "), "0deg" !== u && (_ += "rotateX(" + u + ") "), "0deg" === h && "0deg" === d || (_ += "skew(" + h + ", " + d + ") "), 1 === p && 1 === f || (_ += "scale(" + p + ", " + f + ") "), g.style[Dn] = _ || "translate(0, 0)"
        },
        di = function (e, t) {
            var n, i, r, o, a, s = t || this,
                l = s.xPercent,
                c = s.yPercent,
                u = s.x,
                h = s.y,
                d = s.rotation,
                p = s.skewX,
                f = s.skewY,
                m = s.scaleX,
                v = s.scaleY,
                g = s.target,
                y = s.xOrigin,
                _ = s.yOrigin,
                b = s.xOffset,
                w = s.yOffset,
                x = s.forceCSS,
                T = parseFloat(u),
                S = parseFloat(h);
            d = parseFloat(d), p = parseFloat(p), (f = parseFloat(f)) && (p += f = parseFloat(f), d += f), d || p ? (d *= gn, p *= gn, n = Math.cos(d) * m, i = Math.sin(d) * m, r = Math.sin(d - p) * -v, o = Math.cos(d - p) * v, p && (f *= gn, a = Math.tan(p - f), r *= a = Math.sqrt(1 + a * a), o *= a, f && (a = Math.tan(f), n *= a = Math.sqrt(1 + a * a), i *= a)), n = _e(n), i = _e(i), r = _e(r), o = _e(o)) : (n = m, o = v, i = r = 0), (T && !~(u + "").indexOf("px") || S && !~(h + "").indexOf("px")) && (T = Jn(g, "x", u, "px"), S = Jn(g, "y", h, "px")), (y || _ || b || w) && (T = _e(T + y - (y * n + _ * r) + b), S = _e(S + _ - (y * i + _ * o) + w)), (l || c) && (a = g.getBBox(), T = _e(T + l / 100 * a.width), S = _e(S + c / 100 * a.height)), a = "matrix(" + n + "," + i + "," + r + "," + o + "," + T + "," + S + ")", g.setAttribute("transform", a), x && (g.style[Dn] = a)
        },
        pi = function (e, t, n, i, r, o) {
            var a, s, l = G(r),
                c = parseFloat(r) * (l && ~r.indexOf("rad") ? vn : 1),
                u = o ? c * o : c - i,
                h = i + u + "deg";
            return l && ("short" === (a = r.split("_")[1]) && (u %= 360) !== u % 180 && (u += u < 0 ? 360 : -360), "cw" === a && u < 0 ? u = (u + 36e9) % 360 - 360 * ~~(u / 360) : "ccw" === a && u > 0 && (u = (u - 36e9) % 360 - 360 * ~~(u / 360))), e._pt = s = new tn(e._pt, t, n, i, u, Sn), s.e = h, s.u = "deg", e._props.push(n), s
        },
        fi = function (e, t, n) {
            var i, r, o, a, s, l, c, u = dn.style,
                h = n._gsap;
            for (r in u.cssText = getComputedStyle(n).cssText + ";position:absolute;display:block;", u[Dn] = t, ln.body.appendChild(dn), i = si(dn, 1), mn)(o = h[r]) !== (a = i[r]) && "perspective,force3D,transformOrigin,svgOrigin".indexOf(r) < 0 && (s = Xe(o) !== (c = Xe(a)) ? Jn(n, r, o, c) : parseFloat(o), l = parseFloat(a), e._pt = new tn(e._pt, h, r, s, l - s, Tn), e._pt.u = c || 0, e._props.push(r));
            ln.body.removeChild(dn)
        };
    ye("padding,margin,Width,Radius", (function (e, t) {
        var n = "Top",
            i = "Right",
            r = "Bottom",
            o = "Left",
            a = (t < 3 ? [n, i, r, o] : [n + o, n + i, r + i, r + o]).map((function (n) {
                return t < 2 ? e + n : "border" + n + e
            }));
        ei[t > 1 ? "border" + e : e] = function (e, t, n, i, r) {
            var o, s;
            if (arguments.length < 4) return o = a.map((function (t) {
                return Kn(e, t, n)
            })), 5 === (s = o.join(" ")).split(o[0]).length ? o[0] : s;
            o = (i + "").split(" "), s = {}, a.forEach((function (e, t) {
                return s[e] = o[t] = o[t] || o[(t - 1) / 2 | 0]
            })), e.init(t, s, r)
        }
    }));
    var mi, vi, gi = {
        name: "css",
        register: Fn,
        targetTest: function (e) {
            return e.style && e.nodeType
        },
        init: function (e, t, n, i, r) {
            var o, a, s, l, c, u, h, d, p, f, m, v, g, y, _, b, w, x, T, S = this._props,
                M = e.style;
            for (h in un || Fn(), t)
                if ("autoRound" !== h && (a = t[h], !ue[h] || !Bt(h, t, n, i, e, r)))
                    if (c = typeof a, u = ei[h], "function" === c && (c = typeof (a = a.call(n, i, e, r))), "string" === c && ~a.indexOf("random(") && (a = rt(a)), u) u(this, e, h, a, n) && (_ = 1);
                    else if ("--" === h.substr(0, 2)) this.add(M, "setProperty", getComputedStyle(e).getPropertyValue(h) + "", a + "", i, r, 0, 0, h);
            else {
                if (o = Kn(e, h), l = parseFloat(o), (f = "string" === c && "=" === a.charAt(1) ? +(a.charAt(0) + "1") : 0) && (a = a.substr(2)), s = parseFloat(a), h in xn && ("autoAlpha" === h && (1 === l && "hidden" === Kn(e, "visibility") && s && (l = 0), Xn(this, M, "visibility", l ? "inherit" : "hidden", s ? "inherit" : "hidden", !s)), "scale" !== h && "transform" !== h && ~(h = xn[h]).indexOf(",") && (h = h.split(",")[0])), m = h in mn)
                    if (v || ((g = e._gsap).renderTransform || si(e), y = !1 !== t.smoothOrigin && g.smooth, (v = this._pt = new tn(this._pt, M, Dn, 0, 1, g.renderTransform, g, 0, -1)).dep = 1), "scale" === h) this._pt = new tn(this._pt, g, "scaleY", g.scaleY, f ? f * s : s - g.scaleY), S.push("scaleY", h), h += "X";
                    else {
                        if ("transformOrigin" === h) {
                            w = void 0, x = void 0, T = void 0, w = (b = a).split(" "), x = w[0], T = w[1] || "50%", "top" !== x && "bottom" !== x && "left" !== T && "right" !== T || (b = x, x = T, T = b), w[0] = $n[x] || x, w[1] = $n[T] || T, a = w.join(" "), g.svg ? ai(e, a, 0, y, 0, this) : ((p = parseFloat(a.split(" ")[2]) || 0) !== g.zOrigin && Xn(this, g, "zOrigin", g.zOrigin, p), Xn(this, M, h, li(o), li(a)));
                            continue
                        }
                        if ("svgOrigin" === h) {
                            ai(e, a, 1, y, 0, this);
                            continue
                        }
                        if (h in ni) {
                            pi(this, g, h, l, a, f);
                            continue
                        }
                        if ("smoothOrigin" === h) {
                            Xn(this, g, "smooth", g.smooth, a);
                            continue
                        }
                        if ("force3D" === h) {
                            g[h] = a;
                            continue
                        }
                        if ("transform" === h) {
                            fi(this, a, e);
                            continue
                        }
                    }
                else h in M || (h = Hn(h) || h);
                if (m || (s || 0 === s) && (l || 0 === l) && !wn.test(a) && h in M) s || (s = 0), (d = (o + "").substr((l + "").length)) !== (p = (a + "").substr((s + "").length) || (h in L.units ? L.units[h] : d)) && (l = Jn(e, h, o, p)), this._pt = new tn(this._pt, m ? g : M, h, l, f ? f * s : s - l, "px" !== p || !1 === t.autoRound || m ? Tn : En), this._pt.u = p || 0, d !== p && (this._pt.b = o, this._pt.r = Mn);
                else if (h in M) Zn.call(this, e, h, o, a);
                else {
                    if (!(h in e)) {
                        ie(h, a);
                        continue
                    }
                    this.add(e, h, e[h], a, i, r)
                }
                S.push(h)
            }
            _ && en(this)
        },
        get: Kn,
        aliases: xn,
        getSetter: function (e, t, n) {
            var i = xn[t];
            return i && i.indexOf(",") < 0 && (t = i), t in mn && t !== Bn && (e._gsap.x || Kn(e, "x")) ? n && pn === n ? "scale" === t ? Rn : On : (pn = n || {}) && ("scale" === t ? kn : In) : e.style && !F(e.style[t]) ? Cn : ~t.indexOf("-") ? Ln : qt(e, t)
        },
        core: {
            _removeProperty: qn,
            _getMatrix: oi
        }
    };
    an.utils.checkPrefix = Hn, vi = ye("x,y,z,scale,scaleX,scaleY,xPercent,yPercent," + (mi = "rotation,rotationX,rotationY,skewX,skewY") + ",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective", (function (e) {
        mn[e] = 1
    })), ye(mi, (function (e) {
        L.units[e] = "deg", ni[e] = 1
    })), xn[vi[13]] = "x,y,z,scale,scaleX,scaleY,xPercent,yPercent," + mi, ye("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY", (function (e) {
        var t = e.split(":");
        xn[t[1]] = vi[t[0]]
    })), ye("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective", (function (e) {
        L.units[e] = "px"
    })), an.registerPlugin(gi), n.d(t, "a", (function () {
        return yi
    }));
    var yi = an.registerPlugin(gi) || an;
    yi.core.Tween
}, function (e, t, n) {
    e.exports = {
        default: n(167),
        __esModule: !0
    }
}, function (e, t, n) {
    var i = n(169);
    e.exports = function (e, t, n) {
        if (i(e), void 0 === t) return e;
        switch (n) {
            case 1:
                return function (n) {
                    return e.call(t, n)
                };
            case 2:
                return function (n, i) {
                    return e.call(t, n, i)
                };
            case 3:
                return function (n, i, r) {
                    return e.call(t, n, i, r)
                }
        }
        return function () {
            return e.apply(t, arguments)
        }
    }
}, function (e, t, n) {
    e.exports = !n(16) && !n(47)((function () {
        return 7 != Object.defineProperty(n(113)("div"), "a", {
            get: function () {
                return 7
            }
        }).a
    }))
}, function (e, t, n) {
    var i = n(22),
        r = n(13).document,
        o = i(r) && i(r.createElement);
    e.exports = function (e) {
        return o ? r.createElement(e) : {}
    }
}, function (e, t, n) {
    var i = n(173),
        r = n(178);
    e.exports = n(56) ? function (e, t, n) {
        return i.f(e, t, r(1, n))
    } : function (e, t, n) {
        return e[t] = n, e
    }
}, function (e, t) {
    var n = {}.hasOwnProperty;
    e.exports = function (e, t) {
        return n.call(e, t)
    }
}, function (e, t) {
    var n = 0,
        i = Math.random();
    e.exports = function (e) {
        return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++n + i).toString(36))
    }
}, function (e, t, n) {
    var i = n(50),
        r = n(49),
        o = r["__core-js_shared__"] || (r["__core-js_shared__"] = {});
    (e.exports = function (e, t) {
        return o[e] || (o[e] = void 0 !== t ? t : {})
    })("versions", []).push({
        version: i.version,
        mode: n(181) ? "pure" : "global",
        copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
    })
}, function (e, t, n) {
    var i = n(119),
        r = n(120);
    e.exports = function (e) {
        return i(r(e))
    }
}, function (e, t, n) {
    var i = n(187);
    e.exports = Object("z").propertyIsEnumerable(0) ? Object : function (e) {
        return "String" == i(e) ? e.split("") : Object(e)
    }
}, function (e, t) {
    e.exports = function (e) {
        if (null == e) throw TypeError("Can't call method on  " + e);
        return e
    }
}, function (e, t) {
    var n = Math.ceil,
        i = Math.floor;
    e.exports = function (e) {
        return isNaN(e = +e) ? 0 : (e > 0 ? i : n)(e)
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e) {
        var t = e.createBuffer(1, 1, e.sampleRate),
            n = e.createBufferSource();
        n.buffer = t, n.connect(e.destination), n.start(0), n.stop(0), n.disconnect()
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = navigator && /(iPhone|iPad|iPod)/i.test(navigator.userAgent)
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i, r = n(59),
        o = (i = r) && i.__esModule ? i : {
            default: i
        };
    var a = [],
        s = {},
        l = document.createElement("audio");

    function c(e) {
        if ("string" != typeof e) return "";
        if ("data:" === e.slice(0, 5)) {
            var t = e.match(/data:audio\/(ogg|mp3|opus|wav|m4a)/i);
            if (t && t.length > 1) return t[1].toLowerCase()
        }
        var n = (e = (e = e.split("?")[0]).slice(e.lastIndexOf("/") + 1)).split(".");
        return 1 === n.length || "" === n[0] && 2 === n.length ? "" : n.pop().toLowerCase()
    }

    function u(e) {
        return !!(e && window.ArrayBuffer && e instanceof window.ArrayBuffer)
    }

    function h(e) {
        return !!(e && window.HTMLMediaElement && e instanceof window.HTMLMediaElement)
    }

    function d(e) {
        return !(!e || "string" != typeof e || !(e.indexOf(".") > -1 || "data:" === e.slice(0, 5)))
    }

    function p(e) {
        return e.src || e.url || e.data || e
    }
    l && ([{
        ext: "ogg",
        type: 'audio/ogg; codecs="vorbis"'
    }, {
        ext: "mp3",
        type: "audio/mpeg;"
    }, {
        ext: "opus",
        type: 'audio/ogg; codecs="opus"'
    }, {
        ext: "wav",
        type: 'audio/wav; codecs="1"'
    }, {
        ext: "m4a",
        type: "audio/x-m4a;"
    }, {
        ext: "m4a",
        type: "audio/aac;"
    }].forEach((function (e) {
        var t = !!l.canPlayType(e.type);
        t && -1 === a.indexOf(e.ext) && a.push(e.ext), s[e.ext] = t
    })), l = null), t.default = {
        canPlay: s,
        containsURL: function (e) {
            if (!e || h(e)) return !1;
            var t = p(e);
            return d(t) || u(t) || Array.isArray(t) && d(t[0])
        },
        extensions: a,
        getFileExtension: c,
        getSrc: p,
        getSupportedFile: function (e) {
            var t = void 0;
            if (Array.isArray(e))
                for (var n = 0; n < e.length; n++) {
                    var i = c(t = e[n]);
                    if (a.indexOf(i) > -1) break
                } else "object" === (void 0 === e ? "undefined" : (0, o.default)(e)) && Object.keys(e).some((function (n) {
                    var i = c(t = e[n]);
                    return a.indexOf(i) > -1
                }));
            return t || e
        },
        isAudioBuffer: function (e) {
            return !!(e && window.AudioBuffer && e instanceof window.AudioBuffer)
        },
        isArrayBuffer: u,
        isMediaElement: h,
        isMediaStream: function (e) {
            return !!(e && "function" == typeof e.getAudioTracks && e.getAudioTracks().length && window.MediaStreamTrack && e.getAudioTracks()[0] instanceof window.MediaStreamTrack)
        },
        isOscillatorType: function (e) {
            return !(!e || "string" != typeof e || "sine" !== e && "square" !== e && "sawtooth" !== e && "triangle" !== e)
        },
        isURL: d
    }
}, function (e, t, n) {
    "use strict";
    var i = n(52),
        r = n(27),
        o = n(126),
        a = n(21),
        s = n(62),
        l = n(201),
        c = n(68),
        u = n(208),
        h = n(24)("iterator"),
        d = !([].keys && "next" in [].keys()),
        p = function () {
            return this
        };
    e.exports = function (e, t, n, f, m, v, g) {
        l(n, t, f);
        var y, _, b, w = function (e) {
                if (!d && e in M) return M[e];
                switch (e) {
                    case "keys":
                    case "values":
                        return function () {
                            return new n(this, e)
                        }
                }
                return function () {
                    return new n(this, e)
                }
            },
            x = t + " Iterator",
            T = "values" == m,
            S = !1,
            M = e.prototype,
            E = M[h] || M["@@iterator"] || m && M[m],
            A = E || w(m),
            P = m ? T ? w("entries") : A : void 0,
            C = "Array" == t && M.entries || E;
        if (C && (b = u(C.call(new e))) !== Object.prototype && b.next && (c(b, x, !0), i || "function" == typeof b[h] || a(b, h, p)), T && E && "values" !== E.name && (S = !0, A = function () {
                return E.call(this)
            }), i && !g || !d && !S && M[h] || a(M, h, A), s[t] = A, s[x] = p, m)
            if (y = {
                    values: T ? A : w("values"),
                    keys: v ? A : w("keys"),
                    entries: P
                }, g)
                for (_ in y) _ in M || o(M, _, y[_]);
            else r(r.P + r.F * (d || S), t, y);
        return y
    }
}, function (e, t, n) {
    e.exports = n(21)
}, function (e, t, n) {
    var i = n(17),
        r = n(23),
        o = n(204)(!1),
        a = n(65)("IE_PROTO");
    e.exports = function (e, t) {
        var n, s = r(e),
            l = 0,
            c = [];
        for (n in s) n != a && i(s, n) && c.push(n);
        for (; t.length > l;) i(s, n = t[l++]) && (~o(c, n) || c.push(n));
        return c
    }
}, function (e, t) {
    var n = {}.toString;
    e.exports = function (e) {
        return n.call(e).slice(8, -1)
    }
}, function (e, t) {
    t.f = Object.getOwnPropertySymbols
}, function (e, t, n) {
    var i = n(127),
        r = n(67).concat("length", "prototype");
    t.f = Object.getOwnPropertyNames || function (e) {
        return i(e, r)
    }
}, function (e, t, n) {
    var i = n(71),
        r = n(48),
        o = n(23),
        a = n(54),
        s = n(17),
        l = n(112),
        c = Object.getOwnPropertyDescriptor;
    t.f = n(16) ? c : function (e, t) {
        if (e = o(e), t = a(t, !0), l) try {
            return c(e, t)
        } catch (e) {}
        if (s(e, t)) return r(!i.f.call(e, t), e[t])
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = a;
    var i, r = n(58),
        o = (i = r) && i.__esModule ? i : {
            default: i
        };

    function a(e, t) {
        var n = [],
            i = new o.default(e),
            r = e.createGain(),
            a = 1,
            s = null;

        function l(e, t) {
            var i = void 0;
            return e || 0 === e ? (n.some((function (t) {
                return (t === e || t.id === e) && (i = t, !0)
            })), i && t ? t(i) : i) : i
        }

        function c(e) {
            return l(e, (function (e) {
                return n.splice(n.indexOf(e), 1)
            })), s
        }
        return e && (i.setSource(r), i.setDestination(t || e.destination)), s = {
            add: function (e) {
                return e.gain.disconnect(), e.gain.connect(r), n.push(e), e.once("destroy", c), s
            },
            find: l,
            remove: c,
            play: function (e, t) {
                return n.forEach((function (n) {
                    return n.play(e, t)
                })), s
            },
            pause: function () {
                return n.forEach((function (e) {
                    e.playing && e.pause()
                })), s
            },
            resume: function () {
                return n.forEach((function (e) {
                    e.paused && e.play()
                })), s
            },
            stop: function () {
                return n.forEach((function (e) {
                    return e.stop()
                })), s
            },
            seek: function (e) {
                return n.forEach((function (t) {
                    return t.seek(e)
                })), s
            },
            setVolume: function (e) {
                return s.volume = e, s
            },
            mute: function () {
                return a = s.volume, s.volume = 0, s
            },
            unMute: function () {
                return s.volume = a || 1, s
            },
            fade: function (t, i) {
                if (e) {
                    var o = r.gain,
                        a = e.currentTime;
                    o.cancelScheduledValues(a), o.setValueAtTime(o.value, a), o.linearRampToValueAtTime(t, a + i)
                } else n.forEach((function (e) {
                    return e.fade(t, i)
                }));
                return s
            },
            load: function () {
                n.forEach((function (e) {
                    return e.load()
                }))
            },
            unload: function () {
                n.forEach((function (e) {
                    return e.unload()
                }))
            },
            destroy: function () {
                for (; n.length;) n.pop().destroy()
            },
            gain: r,
            get effects() {
                return i._nodes
            },
            set effects(e) {
                i.removeAll().add(e)
            },
            get fx() {
                return this.effects
            },
            set fx(e) {
                this.effects = e
            },
            get sounds() {
                return n
            },
            get volume() {
                return r.gain.value
            },
            set volume(t) {
                isNaN(t) || (t = Math.min(Math.max(t, 0), 1), e ? (r.gain.cancelScheduledValues(e.currentTime), r.gain.value = t, r.gain.setValueAtTime(t, e.currentTime)) : r.gain.value = t, n.forEach((function (e) {
                    e.context || (e.groupVolume = t)
                })))
            }
        }
    }
    a.Effects = o.default
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = s;
    var i, r = n(134),
        o = (i = r) && i.__esModule ? i : {
            default: i
        };
    var a = ["", "ABORTED", "NETWORK", "DECODE", "SRC_NOT_SUPPORTED"];

    function s(e, t) {
        var n = new o.default,
            i = null,
            r = null,
            s = !1,
            l = 0,
            c = null,
            u = null;

        function h() {
            n.off(), r && "function" == typeof r.removeEventListener && (r.removeEventListener("load", y), r.removeEventListener("canplaythrough", y), r.removeEventListener("error", f), r.onerror = null), c && (c.removeEventListener("progress", p), c.removeEventListener("load", g), c.removeEventListener("error", f))
        }

        function d(e) {
            n.emit("progress", 1), n.emit("loaded", e), n.emit("complete", e), h()
        }

        function p(e) {
            e.lengthComputable && (l = e.loaded / e.total, n.emit("progress", l))
        }

        function f() {
            m();
            var t = "";
            c ? t = c.status + " " + c.statusText : r && r.error && (t = a[r.error.code]), n.listenerCount("error") && n.emit("error", new Error("Load Error: " + t + " " + e)), h()
        }

        function m() {
            window.clearTimeout(u)
        }

        function v(e) {
            i.decodeAudioData(e, (function (e) {
                r = e, c = null, l = 1, d(e)
            }), f)
        }

        function g() {
            c.status >= 400 ? f() : v(c.response)
        }

        function y() {
            m(), r && (r.readyState ? (l = 1, d(r)) : f())
        }

        function _() {
            m(), h(), c && 4 !== c.readyState && c.abort(), c = null
        }

        function b() {
            e instanceof window.ArrayBuffer ? v(e) : ((c = new XMLHttpRequest).open("GET", e, !0), c.responseType = "arraybuffer", c.addEventListener("progress", p), c.addEventListener("load", g), c.addEventListener("error", f), c.send())
        }

        function w() {
            r && r.tagName || (r = document.createElement("audio")), s || (m(), u = window.setTimeout(y, 3e3), r.addEventListener("canplaythrough", y, !1), r.addEventListener("load", y, !1)), r.addEventListener("error", f, !1), r.preload = "auto", r.onerror = f, r.src = e, r.load(), s && d(r)
        }

        function x() {
            var n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            !e || t && !n || (i ? b() : w())
        }
        var T = {
            on: n.on.bind(n),
            once: n.once.bind(n),
            off: n.off.bind(n),
            load: function (t) {
                e = t, x()
            },
            start: x,
            cancel: _,
            destroy: function () {
                _(), c = null, r = null, i = null
            }
        };
        return Object.defineProperties(T, {
            data: {
                get: function () {
                    return r
                }
            },
            progress: {
                get: function () {
                    return l
                }
            },
            audioContext: {
                set: function (e) {
                    i = e
                }
            },
            isTouchLocked: {
                set: function (e) {
                    s = e
                }
            },
            url: {
                get: function () {
                    return e
                }
            }
        }), Object.freeze(T)
    }
    s.Group = function () {
        var e = new o.default,
            t = [],
            n = 0,
            i = 0,
            r = null;

        function a(t) {
            var r = n + t;
            e.emit("progress", r / i)
        }

        function s() {
            n++, u(), e.emit("progress", n / i), c()
        }

        function l(t) {
            u(), e.listenerCount("error") && e.emit("error", t), c()
        }

        function c() {
            if (0 === t.length) return r = null, void e.emit("complete");
            (r = t.pop()).on("progress", a), r.once("loaded", s), r.once("error", l), r.start()
        }

        function u() {
            r.off("progress", a), r.off("loaded", s), r.off("error", l)
        }
        return Object.freeze({
            on: e.on.bind(e),
            once: e.once.bind(e),
            off: e.off.bind(e),
            add: function (e) {
                return t.push(e), i++, e
            },
            start: function () {
                i = t.length, c()
            }
        })
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = a(n(29)),
        r = a(n(72)),
        o = a(n(73));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function (e) {
        function t() {
            return (0, i.default)(this, t), (0, r.default)(this, e.call(this))
        }
        return (0, o.default)(t, e), t.prototype.off = function (e, t) {
            return t ? this.removeListener(e, t) : e ? this.removeAllListeners(e) : this.removeAllListeners()
        }, t
    }(a(n(231)).default.EventEmitter);
    t.default = s
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i, r = n(51),
        o = (i = r) && i.__esModule ? i : {
            default: i
        };
    var a = void 0;
    t.default = {
        getOfflineContext: function (e, t, n) {
            if (a) return a;
            e = e || 2, t = (n = n || 44100) || e;
            var i = window.OfflineAudioContext || window.webkitOfflineAudioContext;
            return a = i ? new i(e, t, n) : null
        },
        cloneBuffer: function (e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e.length;
            if (!o.default || o.default.isFake) return e;
            for (var i = e.numberOfChannels, r = o.default.createBuffer(i, n, e.sampleRate), a = 0; a < i; a++) r.getChannelData(a).set(e.getChannelData(a).slice(t, t + n));
            return r
        },
        reverseBuffer: function (e) {
            for (var t = e.numberOfChannels, n = 0; n < t; n++) Array.prototype.reverse.call(e.getChannelData(n));
            return e
        },
        ramp: function (e, t, n, i, r) {
            o.default.isFake || (e.setValueAtTime(t, o.default.currentTime), r ? e.linearRampToValueAtTime(n, o.default.currentTime + i) : e.exponentialRampToValueAtTime(n, o.default.currentTime + i))
        },
        getFrequency: function (e) {
            if (o.default.isFake) return 0;
            var t = o.default.sampleRate / 2,
                n = Math.log(t / 40) / Math.LN2;
            return t * Math.pow(2, n * (e - 1))
        },
        timeCode: function (e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ":",
                n = Math.floor(e / 60),
                i = Math.floor(e % 3600 % 60),
                r = (n < 10 ? "0" + n : n) + t,
                o = i < 10 ? "0" + i : i;
            return r + o
        }
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e) {
        return "number" == typeof e && !isNaN(e) && isFinite(e)
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="disc">\n  <svg id="Calque_1" class="js-disc__svg disc__svg" data-name="Calque 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 672.64 672.64">\n    <path\n      d="M251.21-70.68A336.13,336.13,0,0,0,64.88,455.22q2.49,3.36,5.05,6.65a336,336,0,0,0,465.31,63.36q12.07-9,23.21-18.86A336.48,336.48,0,0,0,510.13-32.15,337.38,337.38,0,0,0,251.21-70.68ZM510-31.9a335.8,335.8,0,0,1,48.28,538.05Q547.12,516,535.06,525a335.67,335.67,0,0,1-464.9-63.3q-2.56-3.29-5-6.64A336.16,336.16,0,0,1,251.28-70.4,337.14,337.14,0,0,1,510-31.9Z"\n      transform="translate(1.26 81.28)" style="fill:none" />\n    <path\n      d="M346.85,210.45a46,46,0,0,1,27.41,20.35l.21-.12a46.33,46.33,0,0,0-83.7,10.73l.21.07A46.18,46.18,0,0,1,346.85,210.45Z"\n      transform="translate(1.26 81.28)" />\n    <path d="M308,292.37l-.13.19a46.35,46.35,0,0,0,60.66-5.6l-.15-.15A46.19,46.19,0,0,1,308,292.37Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M239.48,310.64a109.86,109.86,0,0,1-11.32-83.87l.12-.43-.21-.05-.12.42A110.79,110.79,0,0,0,306.3,362l.06-.21A109.81,109.81,0,0,1,239.48,310.64Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M413.81,177.37a111.75,111.75,0,0,1,16.83,22.08A109.82,109.82,0,0,1,442,283.32a111.18,111.18,0,0,1-8.83,22.89l.15.15a111.9,111.9,0,0,0,8.9-23,110.75,110.75,0,0,0-28.23-106.14Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M161.57,279.86a175.3,175.3,0,0,0,36.29,84.59l.16-.13a176.69,176.69,0,0,1-12.92-18.65A176,176,0,0,1,380.94,85c3.28.87,6.53,1.85,9.74,2.9l.11-.19A176.17,176.17,0,0,0,161.57,279.86Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M510.09,230.37a175.84,175.84,0,0,1-111,188.94l.08.2A176.33,176.33,0,0,0,501.53,195l-.2.08A176,176,0,0,1,510.09,230.37Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M410.19,497.53a252.58,252.58,0,0,1-306.77-138.8l-.2.09a252.81,252.81,0,0,0,307,138.92q10.8-3.37,21.16-7.68l-.08-.2Q421,494.14,410.19,497.53Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M529.87,95.3a252.81,252.81,0,0,0-271-80.46,255.27,255.27,0,0,0-39,15.86l.1.19a254.84,254.84,0,0,1,39-15.84A252.58,252.58,0,0,1,563,147.86l.2-.09A252.08,252.08,0,0,0,529.87,95.3Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M346.85,210.45a46,46,0,0,1,27.41,20.35l.21-.12a46.33,46.33,0,0,0-83.7,10.73l.21.07A46.18,46.18,0,0,1,346.85,210.45Z"\n      transform="translate(1.26 81.28)" />\n    <path d="M308,292.37l-.13.19a46.35,46.35,0,0,0,60.66-5.6l-.15-.15A46.19,46.19,0,0,1,308,292.37Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M70.9,461.11c-1.71-2.21-3.41-4.43-5-6.62A335.38,335.38,0,0,1,48.93,80.62C54.49,71.5,60.56,62.55,67,54L67,54l-.19-.15,0,.06c-6.4,8.54-12.47,17.49-18,26.61a335,335,0,0,0,17,374.14c1.61,2.17,3.3,4.4,5,6.62a336,336,0,0,0,42.48,45.21l0,.05.16-.18,0-.05A336.26,336.26,0,0,1,70.9,461.11ZM659.81,171.44A336.66,336.66,0,0,0,552.8.05l-.06,0-.16.18.06.05A336.34,336.34,0,0,1,659.58,171.5a336.08,336.08,0,0,1-38.39,258c-4.45,7.29-9.27,14.55-14.35,21.58l0,.06.19.13,0-.06c5.07-7,9.9-14.29,14.35-21.59a336.34,336.34,0,0,0,38.42-258.15Z"\n      transform="translate(1.26 81.28)" />\n    <circle class="js-disc__circle disc__circle" cx="336.32" cy="336.32" r="4.29" />\n  </svg>\n  <div class="disc__text font-title disc__start"><svg class="js-disc__arrow disc__arrow" fill="#ffffff" xmlns:x="http://ns.adobe.com/Extensibility/1.0/"\n    xmlns:i="http://ns.adobe.com/AdobeIllustrator/10.0/" xmlns:graph="http://ns.adobe.com/Graphs/1.0/"\n    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n    xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" i:viewOrigin="3 16" i:rulerOrigin="0 0"\n    i:pageBounds="0 16 16 0" viewBox="0 0 10.5 16" style="enable-background:new 0 0 10.5 16;" xml:space="preserve" x="0px"\n    y="0px" overflow="visible">\n    <polygon fill="#fff" i:knockout="Off" points="2.5,0 0,2.5 5.5,8 0,13.5 2.5,16 10.5,8 "></polygon>\n    </g>\n    </g>\n  </svg><span class="js-disc__start">START</span></div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="homeTitle textGrid font-title">\n  <div class="textGrid__line textGrid__line2">\n    <div class="js-homeTitle__letter textGrid__letter">M</div>\n    <div class="js-homeTitle__letter textGrid__letter">I</div>\n    <div class="js-homeTitle__letter textGrid__letter">L</div>\n    <div class="js-homeTitle__letter textGrid__letter">E</div>\n    <div class="js-homeTitle__letter textGrid__letter">S</div>\n  </div>\n  <div class="textGrid__line textGrid__line4">\n    <div class="js-homeTitle__letter textGrid__letter"></div>\n    <div class="js-homeTitle__letter textGrid__letter">D</div>\n    <div class="js-homeTitle__letter textGrid__letter">A</div>\n    <div class="js-homeTitle__letter textGrid__letter">V</div>\n    <div class="js-homeTitle__letter textGrid__letter">I</div>\n    <div class="js-homeTitle__letter textGrid__letter">S</div>\n  </div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="homePager">\n  <div class="homePager__disc font-title">\n    <span class="homePager__letter">D</span>\n    <span class="homePager__letter">I</span>\n    <span class="homePager__letter">S</span>\n    <span class="homePager__letter">C</span>\n    <span class="js-homePager__lastLetter homePager__letter homePager__lastLetter">\n      <span class="homePager__number js-homePager__numberFirst homePager__numberFirst">1</span>\n      <span class="homePager__number js-homePager__numberSecond homePager__numberSecond">2</span>\n    </span>\n  </div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="home">\n  <div class="js-home__title home__title"></div>\n  <div class="js-home__subtitle home__subtitle"></div>\n  <div class="js-home__button home__button"></div>\n  <div class="js-home__disc home__disc"></div>\n</div>\n';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="shellScroll">\n  <div class="shellScroll__text font-title">SCROLL</div>\n  <div class="js-shellScroll__line shellScroll__line">\n    <div class="js-shellScroll__bg shellScroll__bg"></div>\n  </div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="shellsound">\n  <div class="shellsound shellsound__bar shellsound__bar1 js-shellsound__bar1"></div>\n  <div class="shellsound shellsound__bar shellsound__bar2 js-shellsound__bar2"></div>\n  <div class="shellsound shellsound__bar shellsound__bar3 js-shellsound__bar3"></div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="shell">\n\n  <div class="js-shell__menu shell__menu">\n    <div class="shell__menu-line shell__menu-firstLine"></div>\n    <div class="shell__menu-line shell__menu-secondLine"></div>\n    <div class="shell__menu-line shell__menu-thirdLine"></div>\n  </div>\n\n  <div class="js-shell__back shell__back font-title">\n    BACK\n  </div>\n\n  <div class="js-shell__scroll shell__scroll"></div>\n\n  <div class="js-shell__pager shell__pager font-title">\n    <div class="js-shell__previous shell__previous">\n      <div class="shell__pager-arrow"></div>\n      <div class="shell__pager-text">PREVIOUS ALBUM</div>\n    </div>\n    <div class="js-shell__next shell__next">\n      <div class="shell__pager-text">NEXT ALBUM</div>\n      <div class="shell__pager-arrow"></div>\n    </div>\n  </div>\n\n  <div class="js-shell__sound shell__sound"></div>\n\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="projectHead">\n    <div class="js-projectHead__title projectHead__title textGrid font-title">\n      <div class="textGrid__line textGrid__line1 js-projectHead__line1 projectHead__line"></div>\n      <div class="textGrid__line textGrid__line3 js-projectHead__line2 projectHead__line"></div>\n      <div class="textGrid__line textGrid__line5 js-projectHead__line3 projectHead__line"></div>\n    </div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="projectMentions font-italic">\n  <div class="js-projectMentions__1 projectMentions__1"></div>\n  <div class="js-projectMentions__2 projectMentions__2"></div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="linkHover">\n  <img class="js-linkHover__img linkHover__img" src="" alt="">\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="projectFirstSection project__container">\n  <div class="js-projectFirstSection__pager projectFirstSection__pager project__pager font-title">1</div>\n  <div class="projectFirstSection__container">\n    <div class="projectFirstSection__left">\n      <div class="js-projectFirstSection__record projectFirstSection__record font-title">THE RECORD</div>\n      <div class="projectFirstSection__details">\n        <div class="js-projectFirstSection__topLine projectFirstSection__topLine"></div>\n        <div class="projectFirstSection__dateGroup">\n          <span class="js-projectFirstSection__releaseDate projectFirstSection__releaseDate font-subtitle">RELEASE DATE</span>\n          <span class="js-projectFirstSection__date projectFirstSection__date font-title"></span>\n        </div>\n        <div class="js-projectFirstSection__labelGroup projectFirstSection__labelGroup">\n          <span class="font-subtitle">LABEL</span>\n          <span class="js-projectFirstSection__label projectFirstSection__label font-title"></span>\n        </div>\n        <div class="js-projectFirstSection__producerGroup projectFirstSection__producerGroup">\n          <span class="font-subtitle">PRODUCER</span>\n          <span class="js-projectFirstSection__producer projectFirstSection__producer font-title"></span>\n        </div>\n        <div class="js-projectFirstSection__bottomLine projectFirstSection__bottomLine"></div>\n      </div>\n    </div>\n    <div class="projectFirstSection__right">\n      <div class="js-projectFirstSection__description projectFirstSection__description project__description-global"></div>\n    </div>\n  </div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="projectSecondSection project__container">\n  <div class="js-projectSecondSection__pager projectSecondSection__pager project__pager font-title">2</div>\n\n  <div class="projectSecondSection__container">\n    <div class="projectSecondSection__left">\n      <div class="js-projectSecondSection__band projectSecondSection__band font-title">THE BAND</div>\n    </div>\n    <div class="projectSecondSection__right">\n      <div class="js-projectSecondSection__list projectSecondSection__list"></div>\n    </div>\n  </div>\n\n  <div class="js-projectSecondSection__expression projectSecondSection__expression">\n    <div class="projectSecondSection__expressionTextContainer">\n      <div class="js-projectSecondSection__expressionText projectSecondSection__expressionText font-title"></div>\n      <div class="js-projectSecondSection__expressionMilesDavis projectSecondSection__expressionMilesDavis font-title">MILES DAVIS</div>\n    </div>\n    <div class="js-projectSecondSection__expressionImg projectSecondSection__expressionImg"></div>\n  </div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="js-projectDisc__sound projectDisc__sound projectDisc__sound">\n  <div class="projectDisc__sound-titleContainer">\n    <div class="js-projectDisc__title projectDisc__title projectDisc__title"></div>\n    <svg class="js-projectDisc__svgSound projectDisc__svgSound" data-name="Calque 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72.28 127.29">\n      <path class="cls-1" d="M164.9,213.4a2.95,2.95,0,0,1-2.4-4.6,106.85,106.85,0,0,0,0-118.1,3,3,0,0,1,4.9-3.3,112.39,112.39,0,0,1,18.8,62.1A113.44,113.44,0,0,1,167.4,212a2.87,2.87,0,0,1-2.5,1.4Z" transform="translate(-113.92 -86.11)"/><path class="cls-1" d="M141.7,196.1a2.52,2.52,0,0,1-1.6-.5,2.84,2.84,0,0,1-.9-4,77,77,0,0,0,0-83.5,2.9,2.9,0,1,1,4.9-3.1,83,83,0,0,1,0,89.8,3,3,0,0,1-2.4,1.3Z" transform="translate(-113.92 -86.11)"/><path class="cls-1" d="M116.8,178.1a2.3,2.3,0,0,1-1.4-.4,2.94,2.94,0,0,1-1.1-4,48.45,48.45,0,0,0,6.5-24.1,47.83,47.83,0,0,0-6.5-23.7,2.93,2.93,0,0,1,5.1-2.9,52.84,52.84,0,0,1,0,53.6,3,3,0,0,1-2.6,1.5Z" transform="translate(-113.92 -86.11)"/>\n    </svg>\n  </div>\n  <div class="js-projectDisc__bar projectDisc__bar projectDisc__bar"></div>\n  <div class="js-projectDisc__circle projectDisc__circle projectDisc__circle"></div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="projectDisc">\n\n  <svg id="Calque_1" class="js-projectDisc__svg projectDisc__svg" data-name="Calque 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 672.64 672.64">\n    <path\n      d="M251.21-70.68A336.13,336.13,0,0,0,64.88,455.22q2.49,3.36,5.05,6.65a336,336,0,0,0,465.31,63.36q12.07-9,23.21-18.86A336.48,336.48,0,0,0,510.13-32.15,337.38,337.38,0,0,0,251.21-70.68ZM510-31.9a335.8,335.8,0,0,1,48.28,538.05Q547.12,516,535.06,525a335.67,335.67,0,0,1-464.9-63.3q-2.56-3.29-5-6.64A336.16,336.16,0,0,1,251.28-70.4,337.14,337.14,0,0,1,510-31.9Z"\n      transform="translate(1.26 81.28)" style="fill:none" />\n    <path\n      d="M346.85,210.45a46,46,0,0,1,27.41,20.35l.21-.12a46.33,46.33,0,0,0-83.7,10.73l.21.07A46.18,46.18,0,0,1,346.85,210.45Z"\n      transform="translate(1.26 81.28)" />\n    <path d="M308,292.37l-.13.19a46.35,46.35,0,0,0,60.66-5.6l-.15-.15A46.19,46.19,0,0,1,308,292.37Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M239.48,310.64a109.86,109.86,0,0,1-11.32-83.87l.12-.43-.21-.05-.12.42A110.79,110.79,0,0,0,306.3,362l.06-.21A109.81,109.81,0,0,1,239.48,310.64Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M413.81,177.37a111.75,111.75,0,0,1,16.83,22.08A109.82,109.82,0,0,1,442,283.32a111.18,111.18,0,0,1-8.83,22.89l.15.15a111.9,111.9,0,0,0,8.9-23,110.75,110.75,0,0,0-28.23-106.14Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M161.57,279.86a175.3,175.3,0,0,0,36.29,84.59l.16-.13a176.69,176.69,0,0,1-12.92-18.65A176,176,0,0,1,380.94,85c3.28.87,6.53,1.85,9.74,2.9l.11-.19A176.17,176.17,0,0,0,161.57,279.86Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M510.09,230.37a175.84,175.84,0,0,1-111,188.94l.08.2A176.33,176.33,0,0,0,501.53,195l-.2.08A176,176,0,0,1,510.09,230.37Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M410.19,497.53a252.58,252.58,0,0,1-306.77-138.8l-.2.09a252.81,252.81,0,0,0,307,138.92q10.8-3.37,21.16-7.68l-.08-.2Q421,494.14,410.19,497.53Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M529.87,95.3a252.81,252.81,0,0,0-271-80.46,255.27,255.27,0,0,0-39,15.86l.1.19a254.84,254.84,0,0,1,39-15.84A252.58,252.58,0,0,1,563,147.86l.2-.09A252.08,252.08,0,0,0,529.87,95.3Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M346.85,210.45a46,46,0,0,1,27.41,20.35l.21-.12a46.33,46.33,0,0,0-83.7,10.73l.21.07A46.18,46.18,0,0,1,346.85,210.45Z"\n      transform="translate(1.26 81.28)" />\n    <path d="M308,292.37l-.13.19a46.35,46.35,0,0,0,60.66-5.6l-.15-.15A46.19,46.19,0,0,1,308,292.37Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M70.9,461.11c-1.71-2.21-3.41-4.43-5-6.62A335.38,335.38,0,0,1,48.93,80.62C54.49,71.5,60.56,62.55,67,54L67,54l-.19-.15,0,.06c-6.4,8.54-12.47,17.49-18,26.61a335,335,0,0,0,17,374.14c1.61,2.17,3.3,4.4,5,6.62a336,336,0,0,0,42.48,45.21l0,.05.16-.18,0-.05A336.26,336.26,0,0,1,70.9,461.11ZM659.81,171.44A336.66,336.66,0,0,0,552.8.05l-.06,0-.16.18.06.05A336.34,336.34,0,0,1,659.58,171.5a336.08,336.08,0,0,1-38.39,258c-4.45,7.29-9.27,14.55-14.35,21.58l0,.06.19.13,0-.06c5.07-7,9.9-14.29,14.35-21.59a336.34,336.34,0,0,0,38.42-258.15Z"\n      transform="translate(1.26 81.28)" />\n    <circle class="js-projectDisc__circle projectDisc__circle" cx="336.32" cy="336.32" r="4.29" />\n  </svg>\n\n  <div class="js-projectDisc__sounds projectDisc__sounds">\n    <div class="js-projectDisc__dot projectDisc__dot"></div>\n  </div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="projectThirdSection project__container">\n  <div class="js-projectThirdSection__pager projectThirdSection__pager project__pager font-title">3</div>\n\n  <div class="projectThirdSection__container">\n    <div class="projectThirdSection__left">\n      <div class="js-projectThirdSection__sound projectThirdSection__sound font-title">THE SOUND</div>\n    </div>\n    <div class="projectThirdSection__right">\n      <div class="js-projectThirdSection__description projectThirdSection__description project__description-global"></div>\n    </div>\n  </div>\n\n  <div class="js-projectThirdSection__disc projectThirdSection__disc"></div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="projectVideo">\n  <div class="js-projectVideo__video projectVideo__video">\n    <div class="js-projectVideo__watch projectVideo__watch font-title">WATCH ON YOUTUBE</div>\n  </div>\n  <div class="js-projectVideo__play projectVideo__play">\n    <svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"\n      y="0px" viewBox="0 0 66 66" style="enable-background:new 0 0 66 66;" xml:space="preserve">\n      <g>\n        <polygon class="js-projectVideo__icon projectVideo__icon" points="27,20.6 27,44.6 39,32.6" />\n      </g>\n    </svg>\n  </div>\n  <div class="js-projectVideo__description projectVideo__description"></div>\n  <div class="js-projectVideo__mask projectVideo__mask"></div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="projectSpeech">\n  <div class="js-projectSpeech__container projectSpeech__container">\n    <div class="js-projectSpeech__1 projectSpeech__1 font-italic"></div>\n    <div class="js-projectSpeech__2 projectSpeech__2 font-title"></div>\n    <div class="js-projectSpeech__3 projectSpeech__3 font-title"></div>\n  </div>\n  <div class="js-projectSpeech__4 projectSpeech__4 font-title"></div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="projectFourthSection">\n  <div class="js-projectFourthSection__pager projectFourthSection__pager project__pager font-title">4</div>\n\n  <div class="projectFourthSection__container">\n    <div class="projectFourthSection__left">\n      <div class="js-projectFourthSection__legacy projectFourthSection__legacy font-title">THE LEGACY</div>\n    </div>\n    <div class="projectFourthSection__right">\n      <div class="js-projectFourthSection__description projectFourthSection__description project__description-global"></div>\n    </div>\n  </div>\n\n  <div class="js-projectFourthSection__videos projectFourthSection__videos"></div>\n  <div class="js-projectFourthSection__speeches projectFourthSection__speeches"></div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="projectHeadHover">\n  <span class="js-projectHeadHover__text projectHeadHover__text font-title">\n    Discover this album\n  </span>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="project">\n  <div class="js-project__head project__head"></div>\n  <div class="js-project__content project__content">\n    <div class="js-project__firstSection project__firstSection"></div>\n    <div class="js-project__secondSection project__secondSection"></div>\n    <div class="js-project__thirdSection project__thirdSection"></div>\n    <div class="js-project__fourthSection project__fourthSection"></div>\n  </div>\n  <div class="js-project__next project__next font-title">\n    <div class="project__nextContainer">\n      <div><span>N</span><span>E</span><span>X</span><span>T</span></div>\n      <div><span>A</span><span>L</span><span>B</span><span>U</span><span>M</span></div>\n    </div>\n  </div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="sideDisc">\n\n  <div class="js-sideDisc__bg sideDisc__bg"></div>\n\n  <svg id="Calque_1" class="js-sideDisc__svg sideDisc__svg" data-name="Calque 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 672.64 672.64">\n    <path\n      d="M251.21-70.68A336.13,336.13,0,0,0,64.88,455.22q2.49,3.36,5.05,6.65a336,336,0,0,0,465.31,63.36q12.07-9,23.21-18.86A336.48,336.48,0,0,0,510.13-32.15,337.38,337.38,0,0,0,251.21-70.68ZM510-31.9a335.8,335.8,0,0,1,48.28,538.05Q547.12,516,535.06,525a335.67,335.67,0,0,1-464.9-63.3q-2.56-3.29-5-6.64A336.16,336.16,0,0,1,251.28-70.4,337.14,337.14,0,0,1,510-31.9Z"\n      transform="translate(1.26 81.28)" style="fill:none" />\n    <path\n      d="M346.85,210.45a46,46,0,0,1,27.41,20.35l.21-.12a46.33,46.33,0,0,0-83.7,10.73l.21.07A46.18,46.18,0,0,1,346.85,210.45Z"\n      transform="translate(1.26 81.28)" />\n    <path d="M308,292.37l-.13.19a46.35,46.35,0,0,0,60.66-5.6l-.15-.15A46.19,46.19,0,0,1,308,292.37Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M239.48,310.64a109.86,109.86,0,0,1-11.32-83.87l.12-.43-.21-.05-.12.42A110.79,110.79,0,0,0,306.3,362l.06-.21A109.81,109.81,0,0,1,239.48,310.64Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M413.81,177.37a111.75,111.75,0,0,1,16.83,22.08A109.82,109.82,0,0,1,442,283.32a111.18,111.18,0,0,1-8.83,22.89l.15.15a111.9,111.9,0,0,0,8.9-23,110.75,110.75,0,0,0-28.23-106.14Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M161.57,279.86a175.3,175.3,0,0,0,36.29,84.59l.16-.13a176.69,176.69,0,0,1-12.92-18.65A176,176,0,0,1,380.94,85c3.28.87,6.53,1.85,9.74,2.9l.11-.19A176.17,176.17,0,0,0,161.57,279.86Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M510.09,230.37a175.84,175.84,0,0,1-111,188.94l.08.2A176.33,176.33,0,0,0,501.53,195l-.2.08A176,176,0,0,1,510.09,230.37Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M410.19,497.53a252.58,252.58,0,0,1-306.77-138.8l-.2.09a252.81,252.81,0,0,0,307,138.92q10.8-3.37,21.16-7.68l-.08-.2Q421,494.14,410.19,497.53Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M529.87,95.3a252.81,252.81,0,0,0-271-80.46,255.27,255.27,0,0,0-39,15.86l.1.19a254.84,254.84,0,0,1,39-15.84A252.58,252.58,0,0,1,563,147.86l.2-.09A252.08,252.08,0,0,0,529.87,95.3Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M346.85,210.45a46,46,0,0,1,27.41,20.35l.21-.12a46.33,46.33,0,0,0-83.7,10.73l.21.07A46.18,46.18,0,0,1,346.85,210.45Z"\n      transform="translate(1.26 81.28)" />\n    <path d="M308,292.37l-.13.19a46.35,46.35,0,0,0,60.66-5.6l-.15-.15A46.19,46.19,0,0,1,308,292.37Z"\n      transform="translate(1.26 81.28)" />\n    <path\n      d="M70.9,461.11c-1.71-2.21-3.41-4.43-5-6.62A335.38,335.38,0,0,1,48.93,80.62C54.49,71.5,60.56,62.55,67,54L67,54l-.19-.15,0,.06c-6.4,8.54-12.47,17.49-18,26.61a335,335,0,0,0,17,374.14c1.61,2.17,3.3,4.4,5,6.62a336,336,0,0,0,42.48,45.21l0,.05.16-.18,0-.05A336.26,336.26,0,0,1,70.9,461.11ZM659.81,171.44A336.66,336.66,0,0,0,552.8.05l-.06,0-.16.18.06.05A336.34,336.34,0,0,1,659.58,171.5a336.08,336.08,0,0,1-38.39,258c-4.45,7.29-9.27,14.55-14.35,21.58l0,.06.19.13,0-.06c5.07-7,9.9-14.29,14.35-21.59a336.34,336.34,0,0,0,38.42-258.15Z"\n      transform="translate(1.26 81.28)" />\n    <circle class="js-sideDisc__circle sideDisc__circle" cx="336.32" cy="336.32" r="4.29" />\n  </svg>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="sideMenu font-title">\n  <div class="sideMenu__item js-sideMenu__birthOfTheCool sideMenu__birthOfTheCool">BIRTH OF THE COOL</div>\n  <div class="sideMenu__item js-sideMenu__milesAhead sideMenu__milesAhead">MILES TONES</div>\n  <div class="sideMenu__item js-sideMenu__kindOfBlue sideMenu__kindOfBlue">KIND OF BLUE</div>\n  <div class="sideMenu__item js-sideMenu__inASilentWay sideMenu__inASilentWay">IN A SILENT WAY</div>\n  <div class="js-sideMenu__aboutBtn sideMenu__aboutBtn">ABOUT</div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="sideAboutVideo">\n  <div class="js-sideAboutVideo__video sideAboutVideo__video">\n    <div class="js-sideAboutVideo__watch sideAboutVideo__watch font-title">WATCH ON YOUTUBE</div>\n  </div>\n  <div class="js-sideAboutVideo__play sideAboutVideo__play">\n    <svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n      x="0px" y="0px" viewBox="0 0 66 66" style="enable-background:new 0 0 66 66;" xml:space="preserve">\n      <g>\n        <polygon fill="#ffffff" class="js-sideAboutVideo__icon sideAboutVideo__icon" points="27,20.6 27,44.6 39,32.6" />\n      </g>\n    </svg>\n  </div>\n  <div class="js-sideAboutVideo__description sideAboutVideo__description"></div>\n  <div class="js-sideAboutVideo__mask sideAboutVideo__mask"></div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="sideAbout">\n  <div class="sideAbout__head">\n    <div class="js-sideAbout__title sideAbout__title font-title">ABOUT</div>\n    <div class="js-sideAbout__description1 sideAbout__description1 sideAbout__description">Four Miles is a cultural\n      website dedicated to the music of Miles Davis. An introduction to the artist’s musical universe through 4 iconics\n      albums from his discography.</div>\n  </div>\n\n  <div class="js-sideAbout__img1 sideAbout__img1"></div>\n\n  <div class="sideAbout__firstPart">\n    <div class="js-sideAbout__words sideAbout__words font-title">A FEW WORDS ABOUT MILES</div>\n    <div class="js-sideAbout__description2 sideAbout__description">Miles Dewey Davis 3rd was born on May the 26th 1926\n      and died on September the 28th, 1991. He is considered one of the most iconic musicians of the 20th century. He\n      was born in a wealthy family, his father was a dentist, and his mother a musician who played piano and violin. He\n      started taking trumpet lessons when he was 13. After high school, he made his first foray into Billy Eckstine\n      band. That is when he met <a data-id=\'dizzy\' href=\'https://fr.wikipedia.org/wiki/Dizzy_Gillespie\'\n        target=\'_blank\'>Dizzy Gillespie</a> and <a data-id=\'bird\' href=\'https://en.wikipedia.org/wiki/Charlie_Parker\'\n        target=\'_blank\'>Charlie Parker</a>, two of the most famous players of that time, and the moment his carreer\n      really started. As his popularity grew, he played with more and more band and formations, recorded his first\n      records ( «Cool Bopin», «Birth of the Cool»...) and was even invited to play in Paris in 1949, where he met all\n      the famous artists and thinkers of that time : <a data-id=\'vian\' href=\'https://en.wikipedia.org/wiki/Boris_Vian\'\n        target=\'_blank\'>Boris Vian</a>, <a data-id=\'picasso\' href=\'https://en.wikipedia.org/wiki/Pablo_Picasso\'\n        target=\'_blank\'>Picasso</a>, <a data-id=\'debeauvoir\' href=\'https://en.wikipedia.org/wiki/Simone_de_Beauvoir\'\n        target=\'_blank\'>Simone de Beauvoir</a>, <a data-id=\'Giacometti\'\n        href=\'https://en.wikipedia.org/wiki/Alberto_Giacometti\' target=\'_blank\'>Giacometti</a> and <a data-id=\'greco\'\n        href=\'https://en.wikipedia.org/wiki/Juliette_Gr%C3%A9co\' target=\'_blank\'>Juliette Greco</a>, with whom he lived\n      a short but passionate love story.</div>\n  </div>\n\n  <div class="sideAbout__secondPart">\n    <div class="js-sideAbout__illustration sideAbout__illustration">\n      <div class="js-sideAbout__img2 sideAbout__img2"></div>\n      <div class="js-sideAbout__alt1 sideAbout__alt">Miles Davis performing in Antibes, France, July 1963</div>\n    </div>\n    <div class="js-sideAbout__firstVideo sideAbout__firstVideo sideAbout__video"></div>\n  </div>\n\n  <div class="js-sideAbout__description3 sideAbout__description">In France, Miles discovered a country where he was\n    accepted and even worshiped as a musician, far away from the racism\n    he experienced in America. Coming back to his native country, he would experience a hard time reintegrating that\n    atmosphere and fell into drugs. He would overcome his addiction with the help of his father, and relaunch his\n    carreer in\n    the mid 50’s. The late fifties would be the time of his first reknown quintet, the modal jazz ti me and his famous\n    success Kind of Blue.<br><br><br>The sixties will be the time of “youth”. Miles started to integrate young talents\n    in his band, and discovered the\n    possibilities given by electric instruments used by younger generations of musicians. A new era in the career of the\n    trumpet player, with the Jazz-fusion, a mix of Jazz and Rock. Miles chose to leave the jazz “comfort” zone, to enter\n    something totally new, regardless of the opinions of critics, or even a large part of his audience.</div>\n\n  <div class="sideAbout__thirdPart">\n    <div class="js-sideAbout__secondVideo sideAbout__secondVideo sideAbout__video"></div>\n    <div class="js-sideAbout__illustration sideAbout__illustration">\n      <div class="js-sideAbout__img3 sideAbout__img3"></div>\n      <div class="js-sideAbout__alt2 sideAbout__alt">Miles Davis statue in Kielce, Poland. By Pawel Ciesla</div>\n    </div>\n  </div>\n\n  <div class="js-sideAbout__description4 sideAbout__description">In 1975, health issues would force him to leave the\n    musical scene for a while. As a creative escape, Miles started to\n    paint and draw, and made a few exhibits of his work. He came back to music in 1981 and left his mark on the music of\n    the\n    eighties, still in a “fusion spirit”, with albums mixing hip hop and jazz, rock and jazz, etc. He died in 1991 in a\n    Santa Monica hospital, after a last concert in France.\n    <br><br><br>\n    Miles Davis is still considered a legend today, not only for the incredible innovations he helped make in music, but\n    also because he launched countless artists who became jazz icons. Miles lifetime and posthumous rewards include\n    places\n    named after him (Miles Davis Way in New York, l’Allée Miles Davis in Nice, and even an asteroid : the 5892 Miles\n    Davis),\n    3 of his albums have been ranked among the 500 greatest albums of all times by the Rolling Stones Magazine.</div>\n\n  <div class="sideAbout__medias">\n    <div class="js-sideAbout__mediasTitle sideAbout__mediasTitle font-title">MEDIAS & SOURCES</div>\n\n    <div class="js-sideAbout__list sideAbout__list">\n      <div class="sideAbout__media">\n        <div class="sideAbout__subtitle font-title">VIDEO DOCUMENTARIES & INTERVIEWS</div>\n        <div class="sideAbout__item">- «The Making Of Kind Of Blue», documentary by Sony BMG Music.</div>\n        <div class="sideAbout__item">- «Miles Davis - Birth Of The Cool» documentary, by Stanley Nelson.</div>\n        <div class="sideAbout__item">- «The Miles Davis Story», documentary by Mike Dibb.</div>\n        <div class="sideAbout__item">- «Miles Electric: A Different Kind Of Blue», documentary by Murray Lerner.</div>\n        <div class="sideAbout__item">- «John McLaughlin talking about Miles & In A Silent Way», BBC Four.</div>\n        <div class="sideAbout__item">- Miles Davis Interview by Harry Reasoner</div>\n      </div>\n\n      <div class="sideAbout__media">\n        <div class="sideAbout__subtitle font-title">BIBLIOGRAPHY & ARTICLES</div>\n        <div class="sideAbout__item">- «Birth Of The Cool» Review By Roughtrade.com.</div>\n        <div class="sideAbout__item">- «The Complete Birth Of The Cool review» by Nate chinen.</div>\n        <div class="sideAbout__item">- «The Complete Birth Of The Cool review» by Jessica Nakamoto, Aesthetic Magazine.\n        </div>\n        <div class="sideAbout__item">- «Miles Davis - Kind Of Blue» 50 years anniversary book.</div>\n        <div class="sideAbout__item">- «Miles Davis - The Complete In a Silent Way Sessions» review by Dominique Leone.\n        </div>\n        <div class="sideAbout__item">- «Milestones» review by C. Michael Bailley, AllAboutJazz.com.</div>\n        <div class="sideAbout__item">- «Milestones» review by Matt Groom, Prestomusic.com.</div>\n        <div class="sideAbout__item">- «Milestones» review by Andy Hermann, Popmatters.com.</div>\n        <div class="sideAbout__item">- «In A Silent Way» review by Lester Bang, Rolling Stone Magazine.</div>\n        <div class="sideAbout__item">- Arun Gosh interview by Brian Glasser, Jazzwise.com.</div>\n        <div class="sideAbout__item">- «Miles et Juliette» comic book by Salva Rubio & Sagar - Delcourt Editions.</div>\n        <div class="sideAbout__item">- «The Miles Davis Autobiography», By Quincy Troupe - Infolio Editions.</div>\n        <div class="sideAbout__item">- Birth of the Cool / Milestones / Kind of Blue / In A Silent Way Wikipedia\n          Articles.</div>\n      </div>\n\n      <div class="sideAbout__media">\n        <div class="sideAbout__subtitle font-title">PHOTOGRAPHY CREDITS</div>\n        <div class="sideAbout__item"><a\n            href="https://commons.wikimedia.org/wiki/File:Charlie_Parker,_Tommy_Potter,_Miles_Davis,_Duke_Jordan,_Max_Roach_(Gottlieb_06851).jpg"\n            target="_blank">- Miles Davis, August 1947. By William P. Goettlieb</a></div>\n        <div class="sideAbout__item"><a\n            href="https://fr.wikipedia.org/wiki/Miles_Davis#/media/Fichier:Miles_Davis_by_Palumbo.jpg" target="_blank">-\n            Miles Davis in his New York City home, by Tom Palumbo, 1956</a></div>\n        <div class="sideAbout__item"><a href="https://commons.wikimedia.org/wiki/File:Miles-Davis-1964-Helsinki.jpg"\n            target="_blank">- Miles-Davis in Helsinki, 1964</a></div>\n        <div class="sideAbout__item"><a\n            href="https://fr.wikipedia.org/wiki/Miles_Davis#/media/Fichier:Miles_Davis-140916-0016-103WP.jpg"\n            target="_blank">- Miles Davis in 1971. By J.P Roche</a></div>\n        <div class="sideAbout__item"><a\n            href="https://fr.wikipedia.org/wiki/Miles_Davis#/media/Fichier:Miles_Davis_(Antibes_Juan-les-Pins_1963).jpg"\n            target="_blank">- Miles Davis performing in Antibes, France, July 1963</a></div>\n        <div class="sideAbout__item"><a\n            href="https://fr.wikipedia.org/wiki/Miles_Davis#/media/Fichier:Pomnik_Milesa_Davisa_Kielce_01_ssj_20060304.jpg"\n            target="_blank">- Miles Davis statue in Kielce, Poland. By Paweł Cieśla</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/Charlie_Parker#/media/File:Portrait_of_Charlie_Parker_in_1947.jpg"\n            target="_blank">- Charlie “Bird” Parker at Three Deuces, 1947. By Williap P. Gottlieb</a></div>\n        <div class="sideAbout__item"><a href="https://fr.wikipedia.org/wiki/Gil_Evans#/media/Fichier:Ryo-gil.jpg"\n            target="_blank">- Gil Evans at Sweet Basil, New York City, 1982</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/Chummy_MacGregor#/media/File:Portrait_of_jazz_musician_Chummy_MacGregor.jpg"\n            target="_blank">- Portrait of jazz musician Chummy MacGregor.</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/Johnny_Mercer#/media/File:Johnny_Mercer,_New_York,_N.Y.,_between_1946_and_1948_(William_P._Gottlieb_06121).jpg"\n            target="_blank">- Johnny Mercer, by William P. Gottlieb. 1947</a></div>\n        <div class="sideAbout__item"><a href="https://fr.wikipedia.org/wiki/Fichier:Bill_Evans.jpg" target="_blank">-\n            Bill Evans at the Montreux Jazz Festival. By Brian McMillen</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/George_Russell_(composer)#/media/File:George_Allen_Russell.jpg"\n            target="_blank">- Photo of American pianist George Allen Russell</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/John_Coltrane#/media/File:John_Coltrane_in_1963.jpg" target="_blank">-\n            John Coltrane, 1963. By Hugo van Gelderen</a></div>\n        <div class="sideAbout__item"><a\n            href="https://fr.wikipedia.org/wiki/Julian_Cannonball_Adderley#/media/Fichier:Cannonhall_Adderley_geeft_Nachtconcert_in_het_Concertgebouw,_Bestanddeelnr_912-3218.jpg"\n            target="_blank">- Julian (Cannonball) Adderley, 1961.By Bruno of Hollywood</a></div>\n        <div class="sideAbout__item"><a href="https://commons.wikimedia.org/wiki/File:John_Lewis_1977.jpg"\n            target="_blank">- John Lewis in 1977. By Verhoeff</a></div>\n        <div class="sideAbout__item"><a href="https://fr.wikipedia.org/wiki/Fichier:Dizzy_Gillespie01.JPG"\n            target="_blank">- Dizzy Gillespie in France, July 1991. By Roland Godefroy</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/Jimmy_Cobb#/media/File:19930225_jimmy_cobb_braunschweig_museum.jpg"\n            target="_blank">- Jimmy Cobb with the Nat Adderley Quintet, 1993. By Krajazz</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/Paul_Chambers#/media/File:Paul_Laurence_Dunbar_Chambers,_Jr..jpg"\n            target="_blank">- Photo of American musician Paul Chambers</a></div>\n        <div class="sideAbout__item"><a\n            href="https://fr.wikipedia.org/wiki/Wynton_Kelly#/media/Fichier:Wynton_Kelly.jpg" target="_blank">- Winton\n            Kelly, 1957</a></div>\n        <div class="sideAbout__item"><a\n            href="https://fr.wikipedia.org/wiki/Oscar_Brown#/media/Fichier:Oscar_brown_jr_1965.JPG" target="_blank">-\n            Publicity photo of Oscar Brown</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/Herbie_Hancock#/media/File:Herbie_Hancock_1976.JPG" target="_blank">-\n            Herbie Hancock, 1976</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/Ron_Carter#/media/File:Ron_Carter_Berkeley1.jpg" target="_blank">- Ron\n            Carter performing, 1980. By Bryan Mcmillen</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/Wayne_Shorter#/media/File:Wayne-Shorter_in_Amsterdam,_1980.jpg"\n            target="_blank">- Wayne Shorter, 1980. By Chris Hakkens</a></div>\n        <div class="sideAbout__item"><a href="https://en.wikipedia.org/wiki/File:Tony_Williams.jpg" target="_blank">-\n            Tony Williams, by Jack Robinson.</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/Jimi_Hendrix#/media/File:Jimi_Hendrix_experience_1968.jpg"\n            target="_blank">- Jimmy Hendrix, The Experience, 1968</a></div>\n        <div class="sideAbout__item"><a\n            href="https://en.wikipedia.org/wiki/The_Free_Spirits#/media/File:The_Free_Spirits.png" target="_blank">- The\n            Free Spirits in 1966</a></div>\n        <div class="sideAbout__item"><a href="https://commons.wikimedia.org/wiki/File:Charles-lloyd_DSC02206.jpg"\n            target="_blank">- Charles Lloyd, 2018. By Hreinn Gudlaugsson</a></div>\n        <div class="sideAbout__item"><a href="https://commons.wikimedia.org/wiki/File:John_McLaughlin_1980.jpg"\n            target="_blank">- John McLaughlin, 1980. By Bryan Mcmillen</a></div>\n        <div class="sideAbout__item"><a\n            href="https://fr.wikipedia.org/wiki/Joe_Zawinul#/media/Fichier:Joe_zawinul_2007-03-28_live_in_freiburg.jpg"\n            target="_blank">- Joe Zawinul live in Freiburg, 2007</a></div>\n      </div>\n\n    </div>\n  </div>\n\n  <div class="sideAbout__credits">\n    <div class="js-sideAbout__creditsTitle sideAbout__creditsTitle font-title">CREDITS</div>\n    <div class="js-sideAbout__creditsContainer sideAbout__creditsContainer">\n      <div class="sideAbout__credit">Website creative & Art direction: <a href="http://olouen.com"\n          target="_blank">Olivier Ouendeno</a></div>\n      <div class="sideAbout__credit">Development: <a href="http://mathis-biabiany.fr" target="_blank">Mathis\n          Biabiany</a></div>\n    </div>\n  </div>\n\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="sideContent">\n  <div class="js-sideContent__disc sideContent__disc"></div>\n  <div class="js-sideContent__menu sideContent__menu"></div>\n  <div class="js-sideContent__about sideContent__about"></div>\n</div>';
        return __p
    }
}, function (module, exports) {
    module.exports = function (obj) {
        obj || (obj = {});
        var __t, __p = "";
        with(obj) __p += '<div class="layer">\n  <div class="layer__content font-title">Please, rotate your device.</div>\n</div>';
        return __p
    }
}, function (e, t, n) {
    (function (t) {
        for (var i = n(270), r = "undefined" == typeof window ? t : window, o = ["moz", "webkit"], a = "AnimationFrame", s = r["request" + a], l = r["cancel" + a] || r["cancelRequest" + a], c = 0; !s && c < o.length; c++) s = r[o[c] + "Request" + a], l = r[o[c] + "Cancel" + a] || r[o[c] + "CancelRequest" + a];
        if (!s || !l) {
            var u = 0,
                h = 0,
                d = [];
            s = function (e) {
                if (0 === d.length) {
                    var t = i(),
                        n = Math.max(0, 1e3 / 60 - (t - u));
                    u = n + t, setTimeout((function () {
                        var e = d.slice(0);
                        d.length = 0;
                        for (var t = 0; t < e.length; t++)
                            if (!e[t].cancelled) try {
                                e[t].callback(u)
                            } catch (e) {
                                setTimeout((function () {
                                    throw e
                                }), 0)
                            }
                    }), Math.round(n))
                }
                return d.push({
                    handle: ++h,
                    callback: e,
                    cancelled: !1
                }), h
            }, l = function (e) {
                for (var t = 0; t < d.length; t++) d[t].handle === e && (d[t].cancelled = !0)
            }
        }
        e.exports = function (e) {
            return s.call(r, e)
        }, e.exports.cancel = function () {
            l.apply(r, arguments)
        }, e.exports.polyfill = function (e) {
            e || (e = r), e.requestAnimationFrame = s, e.cancelAnimationFrame = l
        }
    }).call(this, n(25))
}, , , function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i, r = n(110),
        o = (i = r) && i.__esModule ? i : {
            default: i
        };
    t.default = function (e, t) {
        for (var n in t) {
            var i = t[n];
            i.configurable = i.enumerable = !0, "value" in i && (i.writable = !0), (0, o.default)(e, n, i)
        }
        return e
    }
}, function (e, t, n) {
    n(168);
    var i = n(14).Object;
    e.exports = function (e, t, n) {
        return i.defineProperty(e, t, n)
    }
}, function (e, t, n) {
    var i = n(27);
    i(i.S + i.F * !n(16), "Object", {
        defineProperty: n(15).f
    })
}, function (e, t) {
    e.exports = function (e) {
        if ("function" != typeof e) throw TypeError(e + " is not a function!");
        return e
    }
}, function (e, t, n) {
    n(171), e.exports = n(50).Object.assign
}, function (e, t, n) {
    var i = n(172);
    i(i.S + i.F, "Object", {
        assign: n(184)
    })
}, function (e, t, n) {
    var i = n(49),
        r = n(50),
        o = n(114),
        a = n(179),
        s = n(182),
        l = function (e, t, n) {
            var c, u, h, d, p = e & l.F,
                f = e & l.G,
                m = e & l.S,
                v = e & l.P,
                g = e & l.B,
                y = f ? i : m ? i[t] || (i[t] = {}) : (i[t] || {}).prototype,
                _ = f ? r : r[t] || (r[t] = {}),
                b = _.prototype || (_.prototype = {});
            for (c in f && (n = t), n) h = ((u = !p && y && void 0 !== y[c]) ? y : n)[c], d = g && u ? s(h, i) : v && "function" == typeof h ? s(Function.call, h) : h, y && a(y, c, h, e & l.U), _[c] != h && o(_, c, d), v && b[c] != h && (b[c] = h)
        };
    i.core = r, l.F = 1, l.G = 2, l.S = 4, l.P = 8, l.B = 16, l.W = 32, l.U = 64, l.R = 128, e.exports = l
}, function (e, t, n) {
    var i = n(174),
        r = n(175),
        o = n(177),
        a = Object.defineProperty;
    t.f = n(56) ? Object.defineProperty : function (e, t, n) {
        if (i(e), t = o(t, !0), i(n), r) try {
            return a(e, t, n)
        } catch (e) {}
        if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
        return "value" in n && (e[t] = n.value), e
    }
}, function (e, t, n) {
    var i = n(55);
    e.exports = function (e) {
        if (!i(e)) throw TypeError(e + " is not an object!");
        return e
    }
}, function (e, t, n) {
    e.exports = !n(56) && !n(57)((function () {
        return 7 != Object.defineProperty(n(176)("div"), "a", {
            get: function () {
                return 7
            }
        }).a
    }))
}, function (e, t, n) {
    var i = n(55),
        r = n(49).document,
        o = i(r) && i(r.createElement);
    e.exports = function (e) {
        return o ? r.createElement(e) : {}
    }
}, function (e, t, n) {
    var i = n(55);
    e.exports = function (e, t) {
        if (!i(e)) return e;
        var n, r;
        if (t && "function" == typeof (n = e.toString) && !i(r = n.call(e))) return r;
        if ("function" == typeof (n = e.valueOf) && !i(r = n.call(e))) return r;
        if (!t && "function" == typeof (n = e.toString) && !i(r = n.call(e))) return r;
        throw TypeError("Can't convert object to primitive value")
    }
}, function (e, t) {
    e.exports = function (e, t) {
        return {
            enumerable: !(1 & e),
            configurable: !(2 & e),
            writable: !(4 & e),
            value: t
        }
    }
}, function (e, t, n) {
    var i = n(49),
        r = n(114),
        o = n(115),
        a = n(116)("src"),
        s = n(180),
        l = ("" + s).split("toString");
    n(50).inspectSource = function (e) {
        return s.call(e)
    }, (e.exports = function (e, t, n, s) {
        var c = "function" == typeof n;
        c && (o(n, "name") || r(n, "name", t)), e[t] !== n && (c && (o(n, a) || r(n, a, e[t] ? "" + e[t] : l.join(String(t)))), e === i ? e[t] = n : s ? e[t] ? e[t] = n : r(e, t, n) : (delete e[t], r(e, t, n)))
    })(Function.prototype, "toString", (function () {
        return "function" == typeof this && this[a] || s.call(this)
    }))
}, function (e, t, n) {
    e.exports = n(117)("native-function-to-string", Function.toString)
}, function (e, t) {
    e.exports = !1
}, function (e, t, n) {
    var i = n(183);
    e.exports = function (e, t, n) {
        if (i(e), void 0 === t) return e;
        switch (n) {
            case 1:
                return function (n) {
                    return e.call(t, n)
                };
            case 2:
                return function (n, i) {
                    return e.call(t, n, i)
                };
            case 3:
                return function (n, i, r) {
                    return e.call(t, n, i, r)
                }
        }
        return function () {
            return e.apply(t, arguments)
        }
    }
}, function (e, t) {
    e.exports = function (e) {
        if ("function" != typeof e) throw TypeError(e + " is not a function!");
        return e
    }
}, function (e, t, n) {
    "use strict";
    var i = n(185),
        r = n(193),
        o = n(194),
        a = n(195),
        s = n(119),
        l = Object.assign;
    e.exports = !l || n(57)((function () {
        var e = {},
            t = {},
            n = Symbol(),
            i = "abcdefghijklmnopqrst";
        return e[n] = 7, i.split("").forEach((function (e) {
            t[e] = e
        })), 7 != l({}, e)[n] || Object.keys(l({}, t)).join("") != i
    })) ? function (e, t) {
        for (var n = a(e), l = arguments.length, c = 1, u = r.f, h = o.f; l > c;)
            for (var d, p = s(arguments[c++]), f = u ? i(p).concat(u(p)) : i(p), m = f.length, v = 0; m > v;) h.call(p, d = f[v++]) && (n[d] = p[d]);
        return n
    } : l
}, function (e, t, n) {
    var i = n(186),
        r = n(192);
    e.exports = Object.keys || function (e) {
        return i(e, r)
    }
}, function (e, t, n) {
    var i = n(115),
        r = n(118),
        o = n(188)(!1),
        a = n(191)("IE_PROTO");
    e.exports = function (e, t) {
        var n, s = r(e),
            l = 0,
            c = [];
        for (n in s) n != a && i(s, n) && c.push(n);
        for (; t.length > l;) i(s, n = t[l++]) && (~o(c, n) || c.push(n));
        return c
    }
}, function (e, t) {
    var n = {}.toString;
    e.exports = function (e) {
        return n.call(e).slice(8, -1)
    }
}, function (e, t, n) {
    var i = n(118),
        r = n(189),
        o = n(190);
    e.exports = function (e) {
        return function (t, n, a) {
            var s, l = i(t),
                c = r(l.length),
                u = o(a, c);
            if (e && n != n) {
                for (; c > u;)
                    if ((s = l[u++]) != s) return !0
            } else
                for (; c > u; u++)
                    if ((e || u in l) && l[u] === n) return e || u || 0;
            return !e && -1
        }
    }
}, function (e, t, n) {
    var i = n(121),
        r = Math.min;
    e.exports = function (e) {
        return e > 0 ? r(i(e), 9007199254740991) : 0
    }
}, function (e, t, n) {
    var i = n(121),
        r = Math.max,
        o = Math.min;
    e.exports = function (e, t) {
        return (e = i(e)) < 0 ? r(e + t, 0) : o(e, t)
    }
}, function (e, t, n) {
    var i = n(117)("keys"),
        r = n(116);
    e.exports = function (e) {
        return i[e] || (i[e] = r(e))
    }
}, function (e, t) {
    e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}, function (e, t) {
    t.f = Object.getOwnPropertySymbols
}, function (e, t) {
    t.f = {}.propertyIsEnumerable
}, function (e, t, n) {
    var i = n(120);
    e.exports = function (e) {
        return Object(i(e))
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function () {
        var e = Date.now();

        function t() {}

        function n() {
            return {
                value: 1,
                defaultValue: 1,
                linearRampToValueAtTime: t,
                setValueAtTime: t,
                exponentialRampToValueAtTime: t,
                setTargetAtTime: t,
                setValueCurveAtTime: t,
                cancelScheduledValues: t
            }
        }

        function i() {
            return {
                connect: t,
                disconnect: t,
                frequencyBinCount: 0,
                smoothingTimeConstant: 0,
                fftSize: 0,
                minDecibels: 0,
                maxDecibels: 0,
                getByteTimeDomainData: t,
                getByteFrequencyData: t,
                getFloatTimeDomainData: t,
                getFloatFrequencyData: t,
                gain: n(),
                panningModel: 0,
                setPosition: t,
                setOrientation: t,
                setVelocity: t,
                distanceModel: 0,
                refDistance: 0,
                maxDistance: 0,
                rolloffFactor: 0,
                coneInnerAngle: 360,
                coneOuterAngle: 360,
                coneOuterGain: 0,
                type: 0,
                frequency: n(),
                Q: n(),
                detune: n(),
                delayTime: n(),
                buffer: 0,
                threshold: n(),
                knee: n(),
                ratio: n(),
                attack: n(),
                release: n(),
                reduction: n(),
                oversample: 0,
                curve: 0,
                sampleRate: 1,
                length: 0,
                duration: 0,
                numberOfChannels: 0,
                getChannelData: function () {
                    return []
                },
                copyFromChannel: t,
                copyToChannel: t,
                dopplerFactor: 0,
                speedOfSound: 0,
                start: t
            }
        }
        window.Uint8Array || (window.Uint8Array = window.Float32Array = Array);
        return {
            isFake: !0,
            activeSourceCount: 0,
            createAnalyser: i,
            createBuffer: i,
            createBufferSource: i,
            createMediaElementSource: i,
            createMediaStreamSource: i,
            createBiquadFilter: i,
            createChannelMerger: i,
            createChannelSplitter: i,
            createDynamicsCompressor: i,
            createConvolver: i,
            createDelay: i,
            createGain: i,
            createOscillator: i,
            createPanner: i,
            createScriptProcessor: i,
            createWaveShaper: i,
            decodeAudioData: t,
            destination: i,
            listener: i(),
            sampleRate: 44100,
            state: "",
            get currentTime() {
                return (Date.now() - e) / 1e3
            }
        }
    }
}, function (e, t, n) {
    e.exports = {
        default: n(198),
        __esModule: !0
    }
}, function (e, t, n) {
    n(199), n(210), e.exports = n(69).f("iterator")
}, function (e, t, n) {
    "use strict";
    var i = n(200)(!0);
    n(125)(String, "String", (function (e) {
        this._t = String(e), this._i = 0
    }), (function () {
        var e, t = this._t,
            n = this._i;
        return n >= t.length ? {
            value: void 0,
            done: !0
        } : (e = i(t, n), this._i += e.length, {
            value: e,
            done: !1
        })
    }))
}, function (e, t, n) {
    var i = n(60),
        r = n(61);
    e.exports = function (e) {
        return function (t, n) {
            var o, a, s = String(r(t)),
                l = i(n),
                c = s.length;
            return l < 0 || l >= c ? e ? "" : void 0 : (o = s.charCodeAt(l)) < 55296 || o > 56319 || l + 1 === c || (a = s.charCodeAt(l + 1)) < 56320 || a > 57343 ? e ? s.charAt(l) : o : e ? s.slice(l, l + 2) : a - 56320 + (o - 55296 << 10) + 65536
        }
    }
}, function (e, t, n) {
    "use strict";
    var i = n(63),
        r = n(48),
        o = n(68),
        a = {};
    n(21)(a, n(24)("iterator"), (function () {
        return this
    })), e.exports = function (e, t, n) {
        e.prototype = i(a, {
            next: r(1, n)
        }), o(e, t + " Iterator")
    }
}, function (e, t, n) {
    var i = n(15),
        r = n(28),
        o = n(64);
    e.exports = n(16) ? Object.defineProperties : function (e, t) {
        r(e);
        for (var n, a = o(t), s = a.length, l = 0; s > l;) i.f(e, n = a[l++], t[n]);
        return e
    }
}, function (e, t, n) {
    var i = n(128);
    e.exports = Object("z").propertyIsEnumerable(0) ? Object : function (e) {
        return "String" == i(e) ? e.split("") : Object(e)
    }
}, function (e, t, n) {
    var i = n(23),
        r = n(205),
        o = n(206);
    e.exports = function (e) {
        return function (t, n, a) {
            var s, l = i(t),
                c = r(l.length),
                u = o(a, c);
            if (e && n != n) {
                for (; c > u;)
                    if ((s = l[u++]) != s) return !0
            } else
                for (; c > u; u++)
                    if ((e || u in l) && l[u] === n) return e || u || 0;
            return !e && -1
        }
    }
}, function (e, t, n) {
    var i = n(60),
        r = Math.min;
    e.exports = function (e) {
        return e > 0 ? r(i(e), 9007199254740991) : 0
    }
}, function (e, t, n) {
    var i = n(60),
        r = Math.max,
        o = Math.min;
    e.exports = function (e, t) {
        return (e = i(e)) < 0 ? r(e + t, 0) : o(e, t)
    }
}, function (e, t, n) {
    var i = n(13).document;
    e.exports = i && i.documentElement
}, function (e, t, n) {
    var i = n(17),
        r = n(209),
        o = n(65)("IE_PROTO"),
        a = Object.prototype;
    e.exports = Object.getPrototypeOf || function (e) {
        return e = r(e), i(e, o) ? e[o] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? a : null
    }
}, function (e, t, n) {
    var i = n(61);
    e.exports = function (e) {
        return Object(i(e))
    }
}, function (e, t, n) {
    n(211);
    for (var i = n(13), r = n(21), o = n(62), a = n(24)("toStringTag"), s = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), l = 0; l < s.length; l++) {
        var c = s[l],
            u = i[c],
            h = u && u.prototype;
        h && !h[a] && r(h, a, c), o[c] = o.Array
    }
}, function (e, t, n) {
    "use strict";
    var i = n(212),
        r = n(213),
        o = n(62),
        a = n(23);
    e.exports = n(125)(Array, "Array", (function (e, t) {
        this._t = a(e), this._i = 0, this._k = t
    }), (function () {
        var e = this._t,
            t = this._k,
            n = this._i++;
        return !e || n >= e.length ? (this._t = void 0, r(1)) : r(0, "keys" == t ? n : "values" == t ? e[n] : [n, e[n]])
    }), "values"), o.Arguments = o.Array, i("keys"), i("values"), i("entries")
}, function (e, t) {
    e.exports = function () {}
}, function (e, t) {
    e.exports = function (e, t) {
        return {
            value: t,
            done: !!e
        }
    }
}, function (e, t, n) {
    e.exports = {
        default: n(215),
        __esModule: !0
    }
}, function (e, t, n) {
    n(216), n(221), n(222), n(223), e.exports = n(14).Symbol
}, function (e, t, n) {
    "use strict";
    var i = n(13),
        r = n(17),
        o = n(16),
        a = n(27),
        s = n(126),
        l = n(217).KEY,
        c = n(47),
        u = n(66),
        h = n(68),
        d = n(53),
        p = n(24),
        f = n(69),
        m = n(70),
        v = n(218),
        g = n(219),
        y = n(28),
        _ = n(22),
        b = n(23),
        w = n(54),
        x = n(48),
        T = n(63),
        S = n(220),
        M = n(131),
        E = n(15),
        A = n(64),
        P = M.f,
        C = E.f,
        L = S.f,
        O = i.Symbol,
        R = i.JSON,
        k = R && R.stringify,
        I = p("_hidden"),
        D = p("toPrimitive"),
        B = {}.propertyIsEnumerable,
        N = u("symbol-registry"),
        G = u("symbols"),
        j = u("op-symbols"),
        H = Object.prototype,
        F = "function" == typeof O,
        U = i.QObject,
        z = !U || !U.prototype || !U.prototype.findChild,
        V = o && c((function () {
            return 7 != T(C({}, "a", {
                get: function () {
                    return C(this, "a", {
                        value: 7
                    }).a
                }
            })).a
        })) ? function (e, t, n) {
            var i = P(H, t);
            i && delete H[t], C(e, t, n), i && e !== H && C(H, t, i)
        } : C,
        W = function (e) {
            var t = G[e] = T(O.prototype);
            return t._k = e, t
        },
        q = F && "symbol" == typeof O.iterator ? function (e) {
            return "symbol" == typeof e
        } : function (e) {
            return e instanceof O
        },
        X = function (e, t, n) {
            return e === H && X(j, t, n), y(e), t = w(t, !0), y(n), r(G, t) ? (n.enumerable ? (r(e, I) && e[I][t] && (e[I][t] = !1), n = T(n, {
                enumerable: x(0, !1)
            })) : (r(e, I) || C(e, I, x(1, {})), e[I][t] = !0), V(e, t, n)) : C(e, t, n)
        },
        Y = function (e, t) {
            y(e);
            for (var n, i = v(t = b(t)), r = 0, o = i.length; o > r;) X(e, n = i[r++], t[n]);
            return e
        },
        J = function (e) {
            var t = B.call(this, e = w(e, !0));
            return !(this === H && r(G, e) && !r(j, e)) && (!(t || !r(this, e) || !r(G, e) || r(this, I) && this[I][e]) || t)
        },
        K = function (e, t) {
            if (e = b(e), t = w(t, !0), e !== H || !r(G, t) || r(j, t)) {
                var n = P(e, t);
                return !n || !r(G, t) || r(e, I) && e[I][t] || (n.enumerable = !0), n
            }
        },
        Z = function (e) {
            for (var t, n = L(b(e)), i = [], o = 0; n.length > o;) r(G, t = n[o++]) || t == I || t == l || i.push(t);
            return i
        },
        $ = function (e) {
            for (var t, n = e === H, i = L(n ? j : b(e)), o = [], a = 0; i.length > a;) !r(G, t = i[a++]) || n && !r(H, t) || o.push(G[t]);
            return o
        };
    F || (s((O = function () {
        if (this instanceof O) throw TypeError("Symbol is not a constructor!");
        var e = d(arguments.length > 0 ? arguments[0] : void 0),
            t = function (n) {
                this === H && t.call(j, n), r(this, I) && r(this[I], e) && (this[I][e] = !1), V(this, e, x(1, n))
            };
        return o && z && V(H, e, {
            configurable: !0,
            set: t
        }), W(e)
    }).prototype, "toString", (function () {
        return this._k
    })), M.f = K, E.f = X, n(130).f = S.f = Z, n(71).f = J, n(129).f = $, o && !n(52) && s(H, "propertyIsEnumerable", J, !0), f.f = function (e) {
        return W(p(e))
    }), a(a.G + a.W + a.F * !F, {
        Symbol: O
    });
    for (var Q = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), ee = 0; Q.length > ee;) p(Q[ee++]);
    for (var te = A(p.store), ne = 0; te.length > ne;) m(te[ne++]);
    a(a.S + a.F * !F, "Symbol", {
        for: function (e) {
            return r(N, e += "") ? N[e] : N[e] = O(e)
        },
        keyFor: function (e) {
            if (!q(e)) throw TypeError(e + " is not a symbol!");
            for (var t in N)
                if (N[t] === e) return t
        },
        useSetter: function () {
            z = !0
        },
        useSimple: function () {
            z = !1
        }
    }), a(a.S + a.F * !F, "Object", {
        create: function (e, t) {
            return void 0 === t ? T(e) : Y(T(e), t)
        },
        defineProperty: X,
        defineProperties: Y,
        getOwnPropertyDescriptor: K,
        getOwnPropertyNames: Z,
        getOwnPropertySymbols: $
    }), R && a(a.S + a.F * (!F || c((function () {
        var e = O();
        return "[null]" != k([e]) || "{}" != k({
            a: e
        }) || "{}" != k(Object(e))
    }))), "JSON", {
        stringify: function (e) {
            for (var t, n, i = [e], r = 1; arguments.length > r;) i.push(arguments[r++]);
            if (n = t = i[1], (_(t) || void 0 !== e) && !q(e)) return g(t) || (t = function (e, t) {
                if ("function" == typeof n && (t = n.call(this, e, t)), !q(t)) return t
            }), i[1] = t, k.apply(R, i)
        }
    }), O.prototype[D] || n(21)(O.prototype, D, O.prototype.valueOf), h(O, "Symbol"), h(Math, "Math", !0), h(i.JSON, "JSON", !0)
}, function (e, t, n) {
    var i = n(53)("meta"),
        r = n(22),
        o = n(17),
        a = n(15).f,
        s = 0,
        l = Object.isExtensible || function () {
            return !0
        },
        c = !n(47)((function () {
            return l(Object.preventExtensions({}))
        })),
        u = function (e) {
            a(e, i, {
                value: {
                    i: "O" + ++s,
                    w: {}
                }
            })
        },
        h = e.exports = {
            KEY: i,
            NEED: !1,
            fastKey: function (e, t) {
                if (!r(e)) return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e;
                if (!o(e, i)) {
                    if (!l(e)) return "F";
                    if (!t) return "E";
                    u(e)
                }
                return e[i].i
            },
            getWeak: function (e, t) {
                if (!o(e, i)) {
                    if (!l(e)) return !0;
                    if (!t) return !1;
                    u(e)
                }
                return e[i].w
            },
            onFreeze: function (e) {
                return c && h.NEED && l(e) && !o(e, i) && u(e), e
            }
        }
}, function (e, t, n) {
    var i = n(64),
        r = n(129),
        o = n(71);
    e.exports = function (e) {
        var t = i(e),
            n = r.f;
        if (n)
            for (var a, s = n(e), l = o.f, c = 0; s.length > c;) l.call(e, a = s[c++]) && t.push(a);
        return t
    }
}, function (e, t, n) {
    var i = n(128);
    e.exports = Array.isArray || function (e) {
        return "Array" == i(e)
    }
}, function (e, t, n) {
    var i = n(23),
        r = n(130).f,
        o = {}.toString,
        a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
    e.exports.f = function (e) {
        return a && "[object Window]" == o.call(e) ? function (e) {
            try {
                return r(e)
            } catch (e) {
                return a.slice()
            }
        }(e) : r(i(e))
    }
}, function (e, t) {}, function (e, t, n) {
    n(70)("asyncIterator")
}, function (e, t, n) {
    n(70)("observable")
}, function (e, t, n) {
    e.exports = {
        default: n(225),
        __esModule: !0
    }
}, function (e, t, n) {
    n(226), e.exports = n(14).Object.setPrototypeOf
}, function (e, t, n) {
    var i = n(27);
    i(i.S, "Object", {
        setPrototypeOf: n(227).set
    })
}, function (e, t, n) {
    var i = n(22),
        r = n(28),
        o = function (e, t) {
            if (r(e), !i(t) && null !== t) throw TypeError(t + ": can't set as prototype!")
        };
    e.exports = {
        set: Object.setPrototypeOf || ("__proto__" in {} ? function (e, t, i) {
            try {
                (i = n(111)(Function.call, n(131).f(Object.prototype, "__proto__").set, 2))(e, []), t = !(e instanceof Array)
            } catch (e) {
                t = !0
            }
            return function (e, n) {
                return o(e, n), t ? e.__proto__ = n : i(e, n), e
            }
        }({}, !1) : void 0),
        check: o
    }
}, function (e, t, n) {
    e.exports = {
        default: n(229),
        __esModule: !0
    }
}, function (e, t, n) {
    n(230);
    var i = n(14).Object;
    e.exports = function (e, t) {
        return i.create(e, t)
    }
}, function (e, t, n) {
    var i = n(27);
    i(i.S, "Object", {
        create: n(63)
    })
}, function (e, t, n) {
    "use strict";
    var i, r = "object" == typeof Reflect ? Reflect : null,
        o = r && "function" == typeof r.apply ? r.apply : function (e, t, n) {
            return Function.prototype.apply.call(e, t, n)
        };
    i = r && "function" == typeof r.ownKeys ? r.ownKeys : Object.getOwnPropertySymbols ? function (e) {
        return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))
    } : function (e) {
        return Object.getOwnPropertyNames(e)
    };
    var a = Number.isNaN || function (e) {
        return e != e
    };

    function s() {
        s.init.call(this)
    }
    e.exports = s, s.EventEmitter = s, s.prototype._events = void 0, s.prototype._eventsCount = 0, s.prototype._maxListeners = void 0;
    var l = 10;

    function c(e) {
        return void 0 === e._maxListeners ? s.defaultMaxListeners : e._maxListeners
    }

    function u(e, t, n, i) {
        var r, o, a, s;
        if ("function" != typeof n) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof n);
        if (void 0 === (o = e._events) ? (o = e._events = Object.create(null), e._eventsCount = 0) : (void 0 !== o.newListener && (e.emit("newListener", t, n.listener ? n.listener : n), o = e._events), a = o[t]), void 0 === a) a = o[t] = n, ++e._eventsCount;
        else if ("function" == typeof a ? a = o[t] = i ? [n, a] : [a, n] : i ? a.unshift(n) : a.push(n), (r = c(e)) > 0 && a.length > r && !a.warned) {
            a.warned = !0;
            var l = new Error("Possible EventEmitter memory leak detected. " + a.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit");
            l.name = "MaxListenersExceededWarning", l.emitter = e, l.type = t, l.count = a.length, s = l, console && console.warn && console.warn(s)
        }
        return e
    }

    function h() {
        for (var e = [], t = 0; t < arguments.length; t++) e.push(arguments[t]);
        this.fired || (this.target.removeListener(this.type, this.wrapFn), this.fired = !0, o(this.listener, this.target, e))
    }

    function d(e, t, n) {
        var i = {
                fired: !1,
                wrapFn: void 0,
                target: e,
                type: t,
                listener: n
            },
            r = h.bind(i);
        return r.listener = n, i.wrapFn = r, r
    }

    function p(e, t, n) {
        var i = e._events;
        if (void 0 === i) return [];
        var r = i[t];
        return void 0 === r ? [] : "function" == typeof r ? n ? [r.listener || r] : [r] : n ? function (e) {
            for (var t = new Array(e.length), n = 0; n < t.length; ++n) t[n] = e[n].listener || e[n];
            return t
        }(r) : m(r, r.length)
    }

    function f(e) {
        var t = this._events;
        if (void 0 !== t) {
            var n = t[e];
            if ("function" == typeof n) return 1;
            if (void 0 !== n) return n.length
        }
        return 0
    }

    function m(e, t) {
        for (var n = new Array(t), i = 0; i < t; ++i) n[i] = e[i];
        return n
    }
    Object.defineProperty(s, "defaultMaxListeners", {
        enumerable: !0,
        get: function () {
            return l
        },
        set: function (e) {
            if ("number" != typeof e || e < 0 || a(e)) throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e + ".");
            l = e
        }
    }), s.init = function () {
        void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0
    }, s.prototype.setMaxListeners = function (e) {
        if ("number" != typeof e || e < 0 || a(e)) throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e + ".");
        return this._maxListeners = e, this
    }, s.prototype.getMaxListeners = function () {
        return c(this)
    }, s.prototype.emit = function (e) {
        for (var t = [], n = 1; n < arguments.length; n++) t.push(arguments[n]);
        var i = "error" === e,
            r = this._events;
        if (void 0 !== r) i = i && void 0 === r.error;
        else if (!i) return !1;
        if (i) {
            var a;
            if (t.length > 0 && (a = t[0]), a instanceof Error) throw a;
            var s = new Error("Unhandled error." + (a ? " (" + a.message + ")" : ""));
            throw s.context = a, s
        }
        var l = r[e];
        if (void 0 === l) return !1;
        if ("function" == typeof l) o(l, this, t);
        else {
            var c = l.length,
                u = m(l, c);
            for (n = 0; n < c; ++n) o(u[n], this, t)
        }
        return !0
    }, s.prototype.addListener = function (e, t) {
        return u(this, e, t, !1)
    }, s.prototype.on = s.prototype.addListener, s.prototype.prependListener = function (e, t) {
        return u(this, e, t, !0)
    }, s.prototype.once = function (e, t) {
        if ("function" != typeof t) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof t);
        return this.on(e, d(this, e, t)), this
    }, s.prototype.prependOnceListener = function (e, t) {
        if ("function" != typeof t) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof t);
        return this.prependListener(e, d(this, e, t)), this
    }, s.prototype.removeListener = function (e, t) {
        var n, i, r, o, a;
        if ("function" != typeof t) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof t);
        if (void 0 === (i = this._events)) return this;
        if (void 0 === (n = i[e])) return this;
        if (n === t || n.listener === t) 0 == --this._eventsCount ? this._events = Object.create(null) : (delete i[e], i.removeListener && this.emit("removeListener", e, n.listener || t));
        else if ("function" != typeof n) {
            for (r = -1, o = n.length - 1; o >= 0; o--)
                if (n[o] === t || n[o].listener === t) {
                    a = n[o].listener, r = o;
                    break
                } if (r < 0) return this;
            0 === r ? n.shift() : function (e, t) {
                for (; t + 1 < e.length; t++) e[t] = e[t + 1];
                e.pop()
            }(n, r), 1 === n.length && (i[e] = n[0]), void 0 !== i.removeListener && this.emit("removeListener", e, a || t)
        }
        return this
    }, s.prototype.off = s.prototype.removeListener, s.prototype.removeAllListeners = function (e) {
        var t, n, i;
        if (void 0 === (n = this._events)) return this;
        if (void 0 === n.removeListener) return 0 === arguments.length ? (this._events = Object.create(null), this._eventsCount = 0) : void 0 !== n[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete n[e]), this;
        if (0 === arguments.length) {
            var r, o = Object.keys(n);
            for (i = 0; i < o.length; ++i) "removeListener" !== (r = o[i]) && this.removeAllListeners(r);
            return this.removeAllListeners("removeListener"), this._events = Object.create(null), this._eventsCount = 0, this
        }
        if ("function" == typeof (t = n[e])) this.removeListener(e, t);
        else if (void 0 !== t)
            for (i = t.length - 1; i >= 0; i--) this.removeListener(e, t[i]);
        return this
    }, s.prototype.listeners = function (e) {
        return p(this, e, !0)
    }, s.prototype.rawListeners = function (e) {
        return p(this, e, !1)
    }, s.listenerCount = function (e, t) {
        return "function" == typeof e.listenerCount ? e.listenerCount(t) : f.call(e, t)
    }, s.prototype.listenerCount = f, s.prototype.eventNames = function () {
        return this._eventsCount > 0 ? i(this._events) : []
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e) {
        var t = "sono " + e.VERSION,
            n = "Supported:" + e.isSupported + " WebAudioAPI:" + e.hasWebAudio + " TouchLocked:" + e.isTouchLocked + " State:" + (e.context && e.context.state) + " Extensions:" + e.file.extensions;
        if (navigator.userAgent.indexOf("Chrome") > -1) {
            var i = ["%c ♫ " + t + " ♫ %c " + n + " ", "color: #FFFFFF; background: #379F7A", "color: #1F1C0D; background: #E0FBAC"];
            console.log.apply(console, i)
        } else window.console && window.console.log.call && console.log.call(console, t + " " + n)
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e, t) {
        var n = !1,
            i = null,
            r = null;
        void 0 !== document.hidden ? (i = "hidden", r = "visibilitychange") : void 0 !== document.mozHidden ? (i = "mozHidden", r = "mozvisibilitychange") : void 0 !== document.msHidden ? (i = "msHidden", r = "msvisibilitychange") : void 0 !== document.webkitHidden && (i = "webkitHidden", r = "webkitvisibilitychange");

        function o() {
            document[i] ? e() : t()
        }

        function a(e) {
            (n = e) ? document.addEventListener(r, o, !1): document.removeEventListener(r, o)
        }
        void 0 !== r && a(!0);
        return {
            get enabled() {
                return n
            },
            set enabled(e) {
                a(e)
            }
        }
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = b(n(29)),
        r = b(n(74)),
        o = b(n(72)),
        a = b(n(73)),
        s = b(n(51)),
        l = b(n(235)),
        c = b(n(58)),
        u = b(n(134)),
        h = b(n(124)),
        d = b(n(236)),
        p = b(n(135)),
        f = b(n(136)),
        m = b(n(133)),
        v = b(n(237)),
        g = b(n(238)),
        y = b(n(239)),
        _ = b(n(240));

    function b(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var w = function (e) {
        function t(n) {
            (0, i.default)(this, t);
            var r = (0, o.default)(this, e.call(this));
            return r.id = n.id || null, r._context = n.context || s.default, r._destination = n.destination || r._context.destination, r._effects = new c.default(r._context), r._gain = r._context.createGain(), r._config = n, r._data = null, r._fadeTimeout = null, r._isTouchLocked = !1, r._loader = null, r._loop = !1, r._offset = 0, r._playbackRate = 1, r._playWhenReady = null, r._source = null, r._wave = null, r._userData = {}, r._effects.setDestination(r._gain), r._gain.connect(r._destination), r._onEnded = r._onEnded.bind(r), r._onLoad = r._onLoad.bind(r), r._onLoadError = r._onLoadError.bind(r), r
        }
        return (0, a.default)(t, e), t.prototype.prepare = function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                n = !t && !this._source && !!this._config.deferLoad;
            if (e) {
                var i = h.default.getSrc(e),
                    r = h.default.getSupportedFile(i) || this._config.src;
                this._config = Object.assign(this._config, e, {
                    src: r
                })
            }
            return this._source && this._data && this._data.tagName ? this._source.load(this._config.src) : (this._loader = new m.default(this._config.src, n), this._loader.audioContext = this._config.asMediaElement || this._context.isFake ? null : this._context, this._loader.isTouchLocked = this._isTouchLocked, this._loader.once("loaded", this._onLoad), this._loader.once("error", this._onLoadError)), this
        }, t.prototype.load = function () {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
            return this.stop(), this._source = null, !e || h.default.containsURL(e) ? (this._loader && this._loader.destroy(), this.prepare(e, !0), this._loader.start()) : this.data = e.data || e, this
        }, t.prototype.play = function (e, t) {
            var n = this;
            return !this._source || this._isTouchLocked ? (this._playWhenReady = function () {
                n._source && n.play(e, t)
            }, this._config.deferLoad && (this._loader || this.prepare(null, !0), this._loader.start(!0)), this) : (this._playWhenReady = null, this._effects.setSource(this._source.sourceNode), this._offset && void 0 === t && (t = this._offset, this._offset = 0), this._source.play(e, t), this._source.hasOwnProperty("volume") && (this._source.volume = this._gain.gain.value), this._source.hasOwnProperty("loop") && (this._source.loop = this._loop), this.emit("play", this), this)
        }, t.prototype.pause = function () {
            return this._source && this._source.pause(), this.emit("pause", this), this
        }, t.prototype.stop = function (e) {
            return this._source && this._source.stop(e || 0), this.emit("stop", this), this
        }, t.prototype.seek = function (e) {
            return this.currentTime = e, this
        }, t.prototype.fade = function (e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
            if (!this._source) return this;
            var n = this._gain.gain;
            if (!this._context || this._context.isFake || d.default) this._fadePolyfill(e, t);
            else {
                var i = this._context.currentTime;
                n.cancelScheduledValues(i), n.setValueAtTime(n.value, i), n.linearRampToValueAtTime(e, i + t)
            }
            return this.emit("fade", this, e), this
        }, t.prototype._fadePolyfill = function (e, t) {
            var n = this;
            return window.clearTimeout(this._fadeTimeout),
                function e(t, i) {
                    n._fadeTimeout = window.setTimeout((function () {
                        n.volume = n.volume + .2 * (t - n.volume), Math.abs(n.volume - t) > .05 ? e(t, i) : n.volume = t
                    }), 1e3 * i)
                }(e, t / 10), this
        }, t.prototype.unload = function () {
            this._source && this._source.destroy(), this._loader && this._loader.destroy(), this._data = null, this._playWhenReady = null, this._source = null, this._loader = null, this._config.deferLoad = !0, this.emit("unload", this)
        }, t.prototype.reload = function () {
            return this.load(null, !0)
        }, t.prototype.destroy = function () {
            this._source && this._source.destroy(), this._effects && this._effects.destroy(), this._gain && this._gain.disconnect(), this._loader && (this._loader.off("loaded"), this._loader.off("error"), this._loader.destroy()), this._gain = null, this._context = null, this._destination = null, this._data = null, this._playWhenReady = null, this._source = null, this._effects = null, this._loader = null, this._config = null, this.emit("destroy", this), this.off()
        }, t.prototype.waveform = function (e) {
            var t = this;
            return this._wave || (this._wave = p.default.waveform()), this._data || this.once("ready", (function () {
                return t._wave(t._data, e)
            })), this._wave(this._data, e)
        }, t.prototype._createSource = function (e) {
            var t = h.default.isAudioBuffer(e);
            if (t || h.default.isMediaElement(e)) {
                var n = t ? l.default : g.default;
                this._source = new v.default(n, e, this._context, this._onEnded), this._source.singlePlay = !!this._config.singlePlay, this._source.playbackRate = this._playbackRate, this._source.currentTime = this._offset
            } else if (h.default.isMediaStream(e)) this._source = new y.default(e, this._context);
            else {
                if (!h.default.isOscillatorType(e && e.type || e)) throw new Error("Cannot detect data type: " + e);
                this._source = new _.default(e.type || e, this._context)
            }
            this._effects.setSource(this._source.sourceNode), this.emit("ready", this), this._playWhenReady && this._playWhenReady()
        }, t.prototype._onEnded = function () {
            this.emit("ended", this)
        }, t.prototype._onLoad = function (e) {
            this._data = e, this.emit("loaded", this), this._createSource(e)
        }, t.prototype._onLoadError = function (e) {
            this.listenerCount("error") ? this.emit("error", this, e) : console.error("Sound load error", this._loader.url)
        }, (0, r.default)(t, [{
            key: "context",
            get: function () {
                return this._context
            }
        }, {
            key: "currentTime",
            get: function () {
                return this._source ? this._source.currentTime : this._offset
            },
            set: function (e) {
                if (this._source) {
                    var t = this._source.playing;
                    this._source.stop(), this._source.currentTime = e, t && this.play(0, e)
                } else this._offset = e
            }
        }, {
            key: "data",
            get: function () {
                return this._data
            },
            set: function (e) {
                e && (this._data = e, this._createSource(e))
            }
        }, {
            key: "duration",
            get: function () {
                return this._source ? this._source.duration : 0
            }
        }, {
            key: "effects",
            get: function () {
                return this._effects._nodes
            },
            set: function (e) {
                this._effects.removeAll().add(e)
            }
        }, {
            key: "fx",
            get: function () {
                return this.effects
            },
            set: function (e) {
                this.effects = e
            }
        }, {
            key: "ended",
            get: function () {
                return !!this._source && this._source.ended
            }
        }, {
            key: "frequency",
            get: function () {
                return this._source ? this._source.frequency : 0
            },
            set: function (e) {
                this._source && this._source.hasOwnProperty("frequency") && (this._source.frequency = e)
            }
        }, {
            key: "gain",
            get: function () {
                return this._gain
            }
        }, {
            key: "groupVolume",
            get: function () {
                return this._source.groupVolume
            },
            set: function (e) {
                this._source && this._source.hasOwnProperty("groupVolume") && (this._source.groupVolume = e)
            }
        }, {
            key: "isTouchLocked",
            set: function (e) {
                this._isTouchLocked = e, this._loader && (this._loader.isTouchLocked = e), !e && this._playWhenReady && this._playWhenReady()
            }
        }, {
            key: "loader",
            get: function () {
                return this._loader
            }
        }, {
            key: "loop",
            get: function () {
                return this._loop
            },
            set: function (e) {
                this._loop = !!e, this._source && this._source.hasOwnProperty("loop") && this._source.loop !== this._loop && (this._source.loop = this._loop)
            }
        }, {
            key: "singlePlay",
            get: function () {
                return this._config.singlePlay
            },
            set: function (e) {
                this._config.singlePlay = e, this._source.singlePlay = e
            }
        }, {
            key: "config",
            get: function () {
                return this._config
            }
        }, {
            key: "paused",
            get: function () {
                return !!this._source && this._source.paused
            }
        }, {
            key: "playing",
            get: function () {
                return !!this._source && this._source.playing
            }
        }, {
            key: "playbackRate",
            get: function () {
                return this._playbackRate
            },
            set: function (e) {
                this._playbackRate = e, this._source && (this._source.playbackRate = e)
            }
        }, {
            key: "progress",
            get: function () {
                return this._source && this._source.progress || 0
            }
        }, {
            key: "sourceInfo",
            get: function () {
                return this._source && this._source.info ? this._source.info : {}
            }
        }, {
            key: "sourceNode",
            get: function () {
                return this._source ? this._source.sourceNode : null
            }
        }, {
            key: "volume",
            get: function () {
                return this._gain.gain.value
            },
            set: function (e) {
                if ((0, f.default)(e)) {
                    window.clearTimeout(this._fadeTimeout), e = Math.min(Math.max(e, 0), 1);
                    var t = this._gain.gain,
                        n = this._context.currentTime;
                    t.cancelScheduledValues(n), t.value = e, d.default || t.setValueAtTime(e, n), this._source && this._source.hasOwnProperty("volume") && (this._source.volume = e)
                }
            }
        }, {
            key: "userData",
            get: function () {
                return this._userData
            }
        }]), t
    }(u.default);
    t.default = w, w.__source = {
        BufferSource: l.default,
        MediaSource: g.default,
        MicrophoneSource: y.default,
        OscillatorSource: _.default
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e, t, n) {
        var i = {},
            r = !1,
            o = !1,
            a = !1,
            s = 0,
            l = 1,
            c = !1,
            u = null,
            h = 0;

        function d() {
            return !u && t && ((u = t.createBufferSource()).buffer = e), u
        }

        function p() {
            if (u) {
                u.onended = null;
                try {
                    u.disconnect(), u.stop(0)
                } catch (e) {}
                u = null
            }
            a = !1, s = 0, c = !1, h = 0
        }

        function f() {
            p(), r = !0, "function" == typeof n && n(i)
        }
        return Object.defineProperties(i, {
            play: {
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    if (c) return;
                    e = e ? t.currentTime + e : 0, n && (s = 0);
                    s && (n = s);
                    for (; n > i.duration;) n %= i.duration;
                    d(), u.onended = f, u.start(e, n), u.loop = o, u.playbackRate.value = l, h = t.currentTime - n, r = !1, a = !1, s = 0, c = !0
                }
            },
            pause: {
                value: function () {
                    var e = t.currentTime - h;
                    p(), s = e, c = !1, a = !0
                }
            },
            stop: {
                value: p
            },
            destroy: {
                value: function () {
                    p(), e = null, t = null, n = null, u = null
                }
            },
            currentTime: {
                get: function () {
                    if (s) return s;
                    if (h) {
                        for (var e = t.currentTime - h; e > i.duration;) e %= i.duration;
                        return e
                    }
                    return 0
                },
                set: function (e) {
                    s = e
                }
            },
            duration: {
                get: function () {
                    return e ? e.duration : 0
                }
            },
            ended: {
                get: function () {
                    return r
                }
            },
            loop: {
                get: function () {
                    return o
                },
                set: function (e) {
                    o = !!e, u && (u.loop = o)
                }
            },
            paused: {
                get: function () {
                    return a
                }
            },
            playbackRate: {
                get: function () {
                    return l
                },
                set: function (e) {
                    l = e, u && (u.playbackRate.value = l)
                }
            },
            playing: {
                get: function () {
                    return c
                }
            },
            progress: {
                get: function () {
                    return i.duration ? i.currentTime / i.duration : 0
                }
            },
            sourceNode: {
                get: function () {
                    return d()
                }
            }
        }), Object.freeze(i)
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = navigator && /Firefox/i.test(navigator.userAgent)
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e, t, n, i) {
        var r = n.createGain(),
            o = p(t),
            a = {},
            s = [],
            l = [],
            c = 0,
            u = !1;

        function h(e) {
            e.stop(), u || s.push(e)
        }

        function d(e) {
            if (e !== o && l.length) {
                var t = l.indexOf(e);
                l.splice(t, 1), h(e)
            }
            i()
        }

        function p(t) {
            return new e(t, n, d)
        }

        function f() {
            for (o.stop(); l.length;) h(l.pop())
        }
        return Object.defineProperties(a, {
            play: {
                value: function (e, n) {
                    var i = function () {
                        if (u || !o.playing) return o;
                        if (s.length > 0) return s.pop();
                        if (c++, t.tagName) return p(t.cloneNode());
                        return p(t)
                    }();
                    r && i.sourceNode.connect(r);
                    i !== o && l.push(i);
                    i.play(e, n)
                }
            },
            pause: {
                value: function () {
                    o.pause(), l.forEach((function (e) {
                        return e.pause()
                    }))
                }
            },
            stop: {
                value: f
            },
            load: {
                value: function (e) {
                    f(), s.length = 0, o.load(e)
                }
            },
            destroy: {
                value: function () {
                    o.destroy();
                    for (; l.length;) l.pop().destroy();
                    for (; s.length;) s.pop().destroy();
                    r.disconnect()
                }
            },
            currentTime: {
                get: function () {
                    return o.currentTime || 0
                },
                set: function (e) {
                    o.currentTime = e, l.forEach((function (t) {
                        return t.currentTime = e
                    }))
                }
            },
            duration: {
                get: function () {
                    return o.duration || 0
                }
            },
            ended: {
                get: function () {
                    return o.ended && l.every((function (e) {
                        return e.ended
                    }))
                }
            },
            info: {
                get: function () {
                    return {
                        pooled: s.length,
                        active: l.length + 1,
                        created: c + 1
                    }
                }
            },
            loop: {
                get: function () {
                    return o.loop
                },
                set: function (e) {
                    o.loop = !!e, l.forEach((function (t) {
                        return t.loop = !!e
                    }))
                }
            },
            paused: {
                get: function () {
                    return o.paused
                }
            },
            playbackRate: {
                get: function () {
                    return o.playbackRate
                },
                set: function (e) {
                    o.playbackRate = e, l.forEach((function (t) {
                        return t.playbackRate = e
                    }))
                }
            },
            playing: {
                get: function () {
                    return o.playing
                }
            },
            progress: {
                get: function () {
                    return o.progress
                }
            },
            singlePlay: {
                get: function () {
                    return u
                },
                set: function (e) {
                    u = e
                }
            },
            sourceNode: {
                get: function () {
                    return r
                }
            },
            volume: {
                get: function () {
                    return o.volume
                },
                set: function (e) {
                    o.hasOwnProperty("volume") && (o.volume = e, l.forEach((function (t) {
                        return t.volume = e
                    })))
                }
            },
            groupVolume: {
                get: function () {
                    return o.groupVolume
                },
                set: function (e) {
                    o.hasOwnProperty("groupVolume") && (o.groupVolume = e, l.forEach((function (t) {
                        return t.groupVolume = e
                    })))
                }
            }
        }), Object.freeze(a)
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e, t, n) {
        var i = {},
            r = !1,
            o = n,
            a = null,
            s = !1,
            l = !1,
            c = 1,
            u = !1,
            h = null,
            d = 1,
            p = 1;

        function f() {
            e.removeEventListener("canplaythrough", f), u && e.play()
        }

        function m() {
            if (s) return e.currentTime = 0, e.currentTime > 0 && e.load(), void e.play();
            r = !0, l = !1, u = !1, "function" == typeof o && o(i)
        }

        function v() {
            if (clearTimeout(a), e) {
                e.pause();
                try {
                    e.currentTime = 0, e.currentTime > 0 && e.load()
                } catch (e) {}
                u = !1, l = !1
            }
        }
        return Object.defineProperties(i, {
            play: {
                value: function t(n, i) {
                    clearTimeout(a), e.volume = p * d, e.playbackRate = c, i && (e.currentTime = i);
                    n ? a = setTimeout(t, n) : e.play();
                    r = !1, l = !1, u = !0, e.removeEventListener("ended", m), e.addEventListener("ended", m, !1), e.readyState < 1 && (e.removeEventListener("canplaythrough", f), e.addEventListener("canplaythrough", f, !1), e.play())
                }
            },
            pause: {
                value: function () {
                    if (clearTimeout(a), !e) return;
                    e.pause(), u = !1, l = !0
                }
            },
            stop: {
                value: v
            },
            load: {
                value: function (t) {
                    e.src = t, e.load(), r = !1, l = !1, u = !1
                }
            },
            destroy: {
                value: function () {
                    e.removeEventListener("ended", m), e.removeEventListener("canplaythrough", f), v(), e = null, t = null, o = null, h = null
                }
            },
            currentTime: {
                get: function () {
                    return e ? e.currentTime : 0
                },
                set: function (t) {
                    e && (e.currentTime = t)
                }
            },
            duration: {
                get: function () {
                    return e ? e.duration : 0
                }
            },
            ended: {
                get: function () {
                    return r
                }
            },
            loop: {
                get: function () {
                    return s
                },
                set: function (e) {
                    s = !!e
                }
            },
            paused: {
                get: function () {
                    return l
                }
            },
            playbackRate: {
                get: function () {
                    return c
                },
                set: function (t) {
                    c = t, e && (e.playbackRate = c)
                }
            },
            playing: {
                get: function () {
                    return u
                }
            },
            progress: {
                get: function () {
                    return e && e.duration ? e.currentTime / e.duration : 0
                }
            },
            sourceNode: {
                get: function () {
                    return function () {
                        !h && t && (h = t.createMediaElementSource(e));
                        return h
                    }()
                }
            },
            volume: {
                get: function () {
                    return p
                },
                set: function (t) {
                    p = t, e && (e.volume = p * d)
                }
            },
            groupVolume: {
                get: function () {
                    return d
                },
                set: function (t) {
                    d = t, e && (e.volume = p * d)
                }
            }
        }), Object.freeze(i)
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e, t) {
        var n = !1,
            i = !1,
            r = 0,
            o = !1,
            a = null,
            s = 0;

        function l() {
            return !a && t && (a = t.createMediaStreamSource(e), navigator.mozGetUserMedia && (window.mozHack = a)), a
        }

        function c() {
            if (a) {
                try {
                    a.stop(0)
                } catch (e) {}
                a = null
            }
            n = !0, i = !1, r = 0, o = !1, s = 0
        }
        var u = {
            play: function (e) {
                e = e ? t.currentTime + e : 0, l(), a.start(e), s = t.currentTime - r, n = !1, o = !0, i = !1, r = 0
            },
            pause: function () {
                var e = t.currentTime - s;
                c(), r = e, o = !1, i = !0
            },
            stop: c,
            destroy: function () {
                c(), t = null, a = null, e = null, window.mozHack = null
            },
            duration: 0,
            progress: 0
        };
        return Object.defineProperties(u, {
            currentTime: {
                get: function () {
                    return r || (s ? t.currentTime - s : 0)
                },
                set: function (e) {
                    r = e
                }
            },
            ended: {
                get: function () {
                    return n
                }
            },
            paused: {
                get: function () {
                    return i
                }
            },
            playing: {
                get: function () {
                    return o
                }
            },
            sourceNode: {
                get: function () {
                    return l()
                }
            }
        }), Object.freeze(u)
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e, t) {
        var n, i = !1,
            r = !1,
            o = 0,
            a = !1,
            s = null,
            l = 0,
            c = 200;

        function u() {
            return !s && t && ((s = t.createOscillator()).type = e, s.frequency.value = c), s
        }

        function h() {
            if (s) {
                try {
                    s.stop(0)
                } catch (e) {}
                s = null
            }
            i = !0, r = !1, o = 0, a = !1, l = 0
        }
        return n = {
            play: function (e) {
                (e = e || 0) && (e = t.currentTime + e);
                u(), s.start(e), l = o ? t.currentTime - o : t.currentTime;
                i = !1, a = !0, r = !1, o = 0
            },
            pause: function () {
                var e = t.currentTime - l;
                h(), o = e, a = !1, r = !0
            },
            stop: h,
            destroy: function () {
                h(), t = null, s = null
            }
        }, Object.defineProperties(n, {
            currentTime: {
                get: function () {
                    return o || (l ? t.currentTime - l : 0)
                },
                set: function (e) {
                    o = e
                }
            },
            duration: {
                value: 0
            },
            ended: {
                get: function () {
                    return i
                }
            },
            frequency: {
                get: function () {
                    return c
                },
                set: function (e) {
                    c = e, s && (s.frequency.value = e)
                }
            },
            paused: {
                get: function () {
                    return r
                }
            },
            playing: {
                get: function () {
                    return a
                }
            },
            progress: {
                value: 0
            },
            sourceNode: {
                get: function () {
                    return u()
                }
            }
        }), Object.freeze(n)
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e, t) {
        var n = new o.default(e, t),
            i = n.sounds,
            r = 1,
            a = !1,
            s = void 0;

        function l() {
            i.length && (s = i.slice(0).sort((function (e, t) {
                return t.duration - e.duration
            }))[0])
        }
        var c = n.add;
        n.add = function (e) {
            return c(e), l(), n
        };
        var u = n.remove;
        return n.remove = function (e) {
            return u(e), l(), n
        }, Object.defineProperties(n, {
            currentTime: {
                get: function () {
                    return s ? s.currentTime : 0
                },
                set: function (e) {
                    this.stop(), this.play(0, e)
                }
            },
            duration: {
                get: function () {
                    return s ? s.duration : 0
                }
            },
            loop: {
                get: function () {
                    return a
                },
                set: function (e) {
                    a = !!e, i.forEach((function (e) {
                        e.loop = a
                    }))
                }
            },
            paused: {
                get: function () {
                    return !!s && s.paused
                }
            },
            progress: {
                get: function () {
                    return s ? s.progress : 0
                }
            },
            playbackRate: {
                get: function () {
                    return r
                },
                set: function (e) {
                    r = e, i.forEach((function (e) {
                        e.playbackRate = r
                    }))
                }
            },
            playing: {
                get: function () {
                    return !!s && s.playing
                }
            }
        }), n
    };
    var i, r = n(132),
        o = (i = r) && i.__esModule ? i : {
            default: i
        }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function (e, t) {
        var n = i.default;

        function o() {
            e && "suspended" === e.state ? e.resume().then((function () {
                (0, r.default)(e), a()
            })) : a()
        }

        function a() {
            document.body.removeEventListener("touchstart", o), document.body.removeEventListener("touchend", o), t()
        }

        function s() {
            document.body.addEventListener("touchstart", o, !1), document.body.addEventListener("touchend", o, !1)
        }
        n && ("loading" === document.readyState ? document.addEventListener("DOMContentLoaded", s) : s());
        return n
    };
    var i = o(n(123)),
        r = o(n(122));

    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = u(n(29)),
        r = u(n(74)),
        o = u(n(72)),
        a = u(n(73)),
        s = u(n(244)),
        l = u(n(136)),
        c = u(n(11));

    function u(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function h(e, t) {
        return Math.floor(1200 * Math.log(e / function (e) {
            return 440 * Math.pow(2, (e - 69) / 12)
        }(t)) * Math.LOG2E)
    }
    var d = function (e) {
        function t() {
            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                r = n.fftSize,
                a = void 0 === r ? 2048 : r,
                s = n.minDecibels,
                l = void 0 === s ? -100 : s,
                u = n.maxDecibels,
                h = void 0 === u ? -30 : u,
                d = n.smoothing,
                p = void 0 === d ? .9 : d,
                f = n.useFloats,
                m = void 0 !== f && f;
            (0, i.default)(this, t);
            var v = (0, o.default)(this, e.call(this, c.default.context.createAnalyser()));
            return v._useFloats = !!m, v._waveform = null, v._frequencies = null, v._node.fftSize = a, v.update({
                minDecibels: l,
                maxDecibels: h,
                smoothing: p
            }), v
        }
        return (0, a.default)(t, e), t.prototype.update = function (e) {
            var t = e.minDecibels,
                n = e.maxDecibels,
                i = e.smoothing;
            (0, l.default)(i) && (this._node.smoothingTimeConstant = i), (0, l.default)(t) && (this._node.minDecibels = t), (0, l.default)(n) && (this._node.maxDecibels = n)
        }, t.prototype.getWaveform = function () {
            var e = this._useFloats && this._node.getFloatTimeDomainData;
            return this._waveform || (this._waveform = this._createArray(e, this._node.fftSize)), e ? this._node.getFloatTimeDomainData(this._waveform) : this._node.getByteTimeDomainData(this._waveform), this._waveform
        }, t.prototype.getFrequencies = function () {
            var e = this._useFloats && this._node.getFloatFrequencyData;
            return this._frequencies || (this._frequencies = this._createArray(e, this._node.frequencyBinCount)), e ? this._node.getFloatFrequencyData(this._frequencies) : this._node.getByteFrequencyData(this._frequencies), this._frequencies
        }, t.prototype.getAmplitude = function (e) {
            this._amplitudeWorker || this._createAmplitudeAnalyser(), this._amplitudeCallback = e || this._amplitudeCallback;
            var t = new Float32Array(this._node.fftSize);
            t.set(this.getFrequencies(!0)), this._amplitudeWorker.postMessage({
                sum: 0,
                length: t.byteLength,
                numSamples: this._node.fftSize / 2,
                b: t.buffer
            }, [t.buffer])
        }, t.prototype.getPitch = function (e) {
            this._pitchWorker || this._createPitchAnalyser(), this._pitchCallback = e || this._pitchCallback;
            var t = new Float32Array(this._node.fftSize);
            t.set(this.getWaveform(!0)), this._pitchWorker.postMessage({
                sampleRate: c.default.context.sampleRate,
                b: t.buffer
            }, [t.buffer])
        }, t.prototype._createArray = function (e, t) {
            return e ? new Float32Array(t) : new Uint8Array(t)
        }, t.prototype._createAmplitudeAnalyser = function () {
            var e = this,
                t = new Blob(["onmessage = function(e) {\n                var data = e.data;\n                var f = new Float32Array(data.b);\n                for (var i = 0; i < f.length; i++) {\n                    data.sum += f[i];\n                }\n                data.sum /= f.length;\n                postMessage(Math.max(1.0 - (data.sum / data.numSamples * -1.0), 0));\n            };"]),
                n = URL.createObjectURL(t);
            this._amplitudeWorker = new Worker(n), this._amplitudeWorker.onmessage = function (t) {
                e._amplitudeCallback && e._amplitudeCallback(t.data)
            }
        }, t.prototype._createPitchAnalyser = function () {
            var e = this,
                t = new Blob(["onmessage = function(e) {\n                var data = e.data;\n                var sampleRate = data.sampleRate;\n                var buf = new Float32Array(data.b);\n                var SIZE = buf.length;\n                var MAX_SAMPLES = Math.floor(SIZE / 2);\n                var bestOffset = -1;\n                var bestCorrel = 0;\n                var rms = 0;\n                var foundGoodCorrelation = false;\n                var correls = new Array(MAX_SAMPLES);\n                for (var i = 0; i < SIZE; i++) {\n                    var val = buf[i];\n                    rms += val * val;\n                }\n                rms = Math.sqrt(rms / SIZE);\n                if (rms < 0.01) {\n                    postMessage(-1);\n                } else {\n                    var lastCorrelation = 1;\n                    for (var offset = 0; offset < MAX_SAMPLES; offset++) {\n                        var correl = 0;\n                        for (var i = 0; i < MAX_SAMPLES; i++) {\n                            correl += Math.abs(buf[i] - buf[i + offset]);\n                        }\n                        correl = 1 - correl / MAX_SAMPLES;\n                        correls[offset] = correl;\n                        if (correl > 0.9 && correl > lastCorrelation) {\n                            foundGoodCorrelation = true;\n                            if (correl > bestCorrel) {\n                                bestCorrel = correl;\n                                bestOffset = offset;\n                            }\n                        } else if (foundGoodCorrelation) {\n                            var shift = (correls[bestOffset + 1] - correls[bestOffset - 1]) / correls[bestOffset];\n                            postMessage(sampleRate / (bestOffset + 8 * shift));\n                        }\n                        lastCorrelation = correl;\n                    }\n                    if (bestCorrel > 0.01) {\n                        postMessage(sampleRate / bestOffset);\n                    } else {\n                        postMessage(-1);\n                    }\n                }\n            };"]),
                n = URL.createObjectURL(t);
            this._pitchWorker = new Worker(n);
            var i = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"],
                r = {
                    hertz: 0,
                    note: "",
                    noteIndex: 0,
                    detuneCents: 0,
                    detune: ""
                };
            this._pitchWorker.onmessage = function (t) {
                if (e._pitchCallback) {
                    var n, o, a = t.data;
                    if (-1 !== a) {
                        var s = (n = a, o = Math.log(n / 440) * Math.LOG2E * 12, Math.round(o) + 69),
                            l = h(a, s);
                        r.hertz = a, r.noteIndex = s % 12, r.note = i[s % 12], r.detuneCents = l, r.detune = 0 === l ? "" : l < 0 ? "flat" : "sharp"
                    }
                    e._pitchCallback(r)
                }
            }
        }, (0, r.default)(t, [{
            key: "frequencyBinCount",
            get: function () {
                return this._node.frequencyBinCount
            }
        }, {
            key: "maxDecibels",
            get: function () {
                return this._node.maxDecibels
            },
            set: function (e) {
                (0, l.default)(e) && (this._node.maxDecibels = e)
            }
        }, {
            key: "minDecibels",
            get: function () {
                return this._node.minDecibels
            },
            set: function (e) {
                (0, l.default)(e) && (this._node.minDecibels = e)
            }
        }, {
            key: "smoothing",
            get: function () {
                return this._node.smoothingTimeConstant
            },
            set: function (e) {
                (0, l.default)(e) && (this._node.smoothingTimeConstant = e)
            }
        }]), t
    }(s.default);
    t.default = c.default.register("analyser", (function (e) {
        return new d(e)
    }))
}, function (e, t, n) {
    "use strict";
    t.__esModule = !0;
    var i = a(n(29)),
        r = a(n(74)),
        o = a(n(51));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function () {
        function e(t) {
            (0, i.default)(this, e), this._node = this._in = this._out = t
        }
        return e.prototype.connect = function (e) {
            this._node.connect(e._in || e)
        }, e.prototype.disconnect = function () {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            this._node.disconnect(t)
        }, e.prototype.update = function () {
            throw new Error("update must be overridden")
        }, (0, r.default)(e, [{
            key: "context",
            get: function () {
                return o.default
            }
        }, {
            key: "numberOfInputs",
            get: function () {
                return 1
            }
        }, {
            key: "numberOfOutputs",
            get: function () {
                return 1
            }
        }, {
            key: "channelCount",
            get: function () {
                return 1
            }
        }, {
            key: "channelCountMode",
            get: function () {
                return "max"
            }
        }, {
            key: "channelInterpretation",
            get: function () {
                return "speakers"
            }
        }]), e
    }();
    t.default = s
}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {}, function (e, t, n) {
    (function (t) {
        (function () {
            var n, i, r, o, a, s;
            "undefined" != typeof performance && null !== performance && performance.now ? e.exports = function () {
                return performance.now()
            } : null != t && t.hrtime ? (e.exports = function () {
                return (n() - a) / 1e6
            }, i = t.hrtime, o = (n = function () {
                var e;
                return 1e9 * (e = i())[0] + e[1]
            })(), s = 1e9 * t.uptime(), a = o - s) : Date.now ? (e.exports = function () {
                return Date.now() - r
            }, r = Date.now()) : (e.exports = function () {
                return (new Date).getTime() - r
            }, r = (new Date).getTime())
        }).call(this)
    }).call(this, n(271))
}, function (e, t) {
    var n, i, r = e.exports = {};

    function o() {
        throw new Error("setTimeout has not been defined")
    }

    function a() {
        throw new Error("clearTimeout has not been defined")
    }

    function s(e) {
        if (n === setTimeout) return setTimeout(e, 0);
        if ((n === o || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0);
        try {
            return n(e, 0)
        } catch (t) {
            try {
                return n.call(null, e, 0)
            } catch (t) {
                return n.call(this, e, 0)
            }
        }
    }! function () {
        try {
            n = "function" == typeof setTimeout ? setTimeout : o
        } catch (e) {
            n = o
        }
        try {
            i = "function" == typeof clearTimeout ? clearTimeout : a
        } catch (e) {
            i = a
        }
    }();
    var l, c = [],
        u = !1,
        h = -1;

    function d() {
        u && l && (u = !1, l.length ? c = l.concat(c) : h = -1, c.length && p())
    }

    function p() {
        if (!u) {
            var e = s(d);
            u = !0;
            for (var t = c.length; t;) {
                for (l = c, c = []; ++h < t;) l && l[h].run();
                h = -1, t = c.length
            }
            l = null, u = !1,
                function (e) {
                    if (i === clearTimeout) return clearTimeout(e);
                    if ((i === a || !i) && clearTimeout) return i = clearTimeout, clearTimeout(e);
                    try {
                        i(e)
                    } catch (t) {
                        try {
                            return i.call(null, e)
                        } catch (t) {
                            return i.call(this, e)
                        }
                    }
                }(e)
        }
    }

    function f(e, t) {
        this.fun = e, this.array = t
    }

    function m() {}
    r.nextTick = function (e) {
        var t = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
        c.push(new f(e, t)), 1 !== c.length || u || s(p)
    }, f.prototype.run = function () {
        this.fun.apply(null, this.array)
    }, r.title = "browser", r.browser = !0, r.env = {}, r.argv = [], r.version = "", r.versions = {}, r.on = m, r.addListener = m, r.once = m, r.off = m, r.removeListener = m, r.removeAllListeners = m, r.emit = m, r.prependListener = m, r.prependOnceListener = m, r.listeners = function (e) {
        return []
    }, r.binding = function (e) {
        throw new Error("process.binding is not supported")
    }, r.cwd = function () {
        return "/"
    }, r.chdir = function (e) {
        throw new Error("process.chdir is not supported")
    }, r.umask = function () {
        return 0
    }
}, , function (e, t, n) {
    "use strict";
    n.r(t);
    var i = n(3),
        o = n.n(i),
        a = n(4),
        s = n.n(a),
        l = n(9),
        c = n.n(l),
        u = n(6),
        h = n(7),
        d = n(37),
        p = n.n(d),
        f = n(109),
        m = n(11),
        v = n.n(m),
        y = (n(243), function () {
            function e() {
                o()(this, e), this._sounds = []
            }
            return s()(e, [{
                key: "createSound",
                value: function (e) {
                    var t = e.id,
                        n = e.url,
                        i = e.loop,
                        r = void 0 !== i && i,
                        o = e.useAnalyser,
                        a = void 0 !== o && o,
                        s = v.a.create({
                            url: n,
                            loop: r
                        });
                    return s.id = t, a && (s.analyser = s.effects.add(v.a.analyser())), this._sounds.push(s), s
                }
            }, {
                key: "getSound",
                value: function (e) {
                    for (var t = 0; t < this._sounds.length; t++)
                        if (this._sounds[t].id === e) return this._sounds[t];
                    return null
                }
            }, {
                key: "getAmplitude",
                value: function (e) {
                    return this.getSound(e).analyser.getWaveform()
                }
            }, {
                key: "getAverageAmplitude",
                value: function (e, t) {
                    for (var n = this.getSound(e).analyser.getWaveform(), i = t || [0, 1], r = 0, o = Math.floor(n.length * i[0]), a = Math.floor(o + n.length * (i[1] - i[0])), s = o; s < a; s++) r += n[s];
                    return r / a
                }
            }, {
                key: "playSound",
                value: function (e) {
                    for (var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = t.loop, i = void 0 !== n && n, r = t.volume, o = void 0 === r ? 1 : r, a = t.delay, s = void 0 === a ? 0 : a, l = t.onEnded, c = void 0 !== l && l, u = t.removeEventListener, h = void 0 === u || u, d = 0; d < this._sounds.length; d++) this._sounds[d].id === e && (i && (this._sounds[d].loop = !0), this._sounds[d].volume = o, c ? this._sounds[d].once("ended", (function (e) {
                        h && e.off(), c()
                    })).play() : this._sounds[d].play(s))
                }
            }, {
                key: "fadeSound",
                value: function (e) {
                    for (var t = this, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = n.loop, r = void 0 !== i && i, o = n.volume, a = void 0 === o ? 1 : o, s = n.duration, l = void 0 === s ? 3 : s, c = n.delay, u = void 0 === c ? 0 : c, h = function (n) {
                            t._sounds[n].id === e && (r && (t._sounds[n].loop = !0), gsap.killTweensOf(t._sounds[n]), gsap.fromTo(t._sounds[n], {
                                volume: 0
                            }, {
                                volume: a,
                                delay: u,
                                duration: l,
                                ease: "Power2.easeIn",
                                onStart: function () {
                                    t._sounds[n].play()
                                }
                            }))
                        }, d = 0; d < this._sounds.length; d++) h(d)
                }
            }, {
                key: "pauseAll",
                value: function () {
                    v.a.pauseAll()
                }
            }, {
                key: "stopAll",
                value: function () {
                    v.a.stopAll()
                }
            }, {
                key: "fadeOut",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.duration,
                        n = void 0 === t ? 1.5 : t;
                    v.a.fade(0, n)
                }
            }, {
                key: "fadeIn",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.volume,
                        n = void 0 === t ? 1 : t,
                        i = e.duration,
                        r = void 0 === i ? 1.5 : i;
                    v.a.fade(n, r)
                }
            }, {
                key: "enablePlayInBackground",
                value: function () {
                    v.a.playInBackground = !0
                }
            }, {
                key: "removeEventListener",
                value: function (e) {
                    this.getSound("crackling").removeAllListeners()
                }
            }, {
                key: "volume",
                get: function () {
                    return v.a.volume
                },
                set: function (e) {
                    v.a.volume = e
                }
            }]), e
        }());
    window.AudioController = new y;
    var _, w, x, T, S = window.AudioController,
        M = (n(75), n(0)),
        E = n(42),
        A = n(43),
        P = n(46),
        C = n(2),
        L = n.n(C),
        O = [{
            id: "birth-of-the-cool",
            title: "Birth of the cool",
            line1: "BIRTH",
            line2: "OF THE",
            line3: " COOL",
            mention1: "For me, music and life",
            mention2: "...are all about style. - M.D",
            date: 1957,
            label: "CAPITOL",
            producer: "WALTER RIVERS & PETE RUGOLO",
            description: "Even if this album was released in 1957,  <i class='font-italic'>Birth of the Cool</i> is one of the first albums recorded by Miles Davis. Originally, it was recorded in 1949, 8 years before its release. In the late 40’s, Miles Davis was already a famous trumpet player of the bebop period. He really launched his trumpetist career by joining the band of <a data-id='bird' href='https://en.wikipedia.org/wiki/Charlie_Parker' target='_blank'>Charlie “Bird” Parker</a> (one of the greatest bebop soloist ever) in 1945. The collaboration only lasted for a few years (Mostly because the band leader Bird was a drug addict) and in 1948, Miles Davis, in collaboration with the great pianist and composer <a data-id='gil' href='https://en.wikipedia.org/wiki/Gil_Evans' target='_blank'>Gil Evans</a>, decided to distance himself from the principles of bebop which, even if it was fashionable at the time, was more and more judged way too complex. Together, Davis and Evans started to work on a new type of jazz which was to be known as the “Cool Jazz”, and <i class='font-italic'>Birth of the Cool</i> was, indeed, a cornerstone record of this period. The record was innovative in many ways: in addition to being a new step in jazz music, Miles decided to work with quite an unconventional band : a nonet. As its name suggests, this album was mostly “slow”.  The recording process lasted 15 months in total. Among the twelve songs recorded, only 6 were released at first. Unfortunately It was a commercial failure at the beginning. The transition from bebop to Cool Jazz was hard to make, and people didn’t understand this new style of jazz. Miles waited 8 years to eventually see his work published as one album : <i class='font-italic'>Birth of the Cool</i>.",
            description2: "<i class='font-italic'>Birth of the Cool</i> contains 12 songs in total. The first release contained 11, and a twelfth song (“Darn That Dream”) was added in 1972. Some of them are re-interpretations of jazz standards, like “Moon dreams”, which was originally a 1942 song from <a data-id='chummy' href='https://en.wikipedia.org/wiki/Chummy_MacGregor' target='_blank'>Chummy MacGregor</a> and <a data-id='mercer' href='https://en.wikipedia.org/wiki/Johnny_Mercer' target='_blank'>Johnny Mercer</a>. It’s a “short songs” record, all trakcs are more or less 3 minutes long.  The songs were recorded in 3 sessions in total, in January 1949, April 1949 and March 1950). The album was characterized by a use of paired instrumentation: trumpet and alto saxophone, trombone and French horn… Even if its purpose was to take a new step in jazz, some tracks undeniably show a bebop influence.",
            description3: "As the first stone record of the cool jazz era, <i class='font-italic'>Birth of the Cool</i> inspired many musicians, even decades after its release. Many of the nonet members like <a data-id='gerry' href='https://en.wikipedia.org/wiki/Gerry_Mulligan' target='_blank'>Gerry Mulligan</a> or <a data-id='lewis' href='https://en.wikipedia.org/wiki/John_Lewis_(pianist)' target='_blank'>John Lewis</a> made successful careers. <i class='font-italic'>Birth of the Cool</i> was inducted into the <a data-id='grammy' href='https://www.grammy.com/grammys/awards/hall-of-fame' target='_blank'>Grammy Hall of Fame</a> in 1982.  In 1998, Capitol released a Complete Edition, that included live sessions recorded in September 1948. In 2019, the documentary filmmaker <a data-id='stanley' href='https://en.wikipedia.org/wiki/Stanley_Nelson_Jr.' target='_blank'>Stanley Nelson Jr.</a> chose the name of this album as a title of a biopic documentary he directed about  Miles Davis.",
            band: [{
                artist: "Miles Davis",
                role: "Trumpet"
            }, {
                artist: "Lee Konitz",
                role: "Alto saxophone"
            }, {
                artist: "Kai Winding",
                role: "Trombone"
            }, {
                artist: "Junior Collins",
                role: "French horn"
            }, {
                artist: "Bill Barber",
                role: "Tuba"
            }, {
                artist: "Gerry Mulligan",
                role: "Baritone saxophone"
            }, {
                artist: "Joe Shulman",
                role: "Bass"
            }, {
                artist: "Max Roach",
                role: "Drums"
            }, {
                artist: "J.J Johnson",
                role: "Trombone"
            }, {
                artist: "John Lewis",
                role: "Piano"
            }, {
                artist: "Nelson Boyd",
                role: "Bass"
            }, {
                artist: "Kenny Clarke",
                role: "Drums"
            }, {
                artist: "Gunther Schuller",
                role: "French Horn"
            }, {
                artist: "Al McKibbon",
                role: "Bass"
            }, {
                artist: "Kenny Hagood",
                role: "Vocal"
            }],
            expression: {
                expressionText: "PLAY WHAT YOU KNOW. AND THEN PLAY ABOVE THAT.",
                img: "images/albums/birth-of-the-cool/expression.jpg"
            },
            sounds: [{
                title: "Boplicity",
                id: "birth-of-the-cool-boplicity"
            }, {
                title: "Israel",
                id: "birth-of-the-cool-israel"
            }, {
                title: "Moon Dreams",
                id: "birth-of-the-cool-moon-dreams"
            }],
            videos: [{
                text: "Birth of The Cool Tribute feat.Winton Marsalis - Jazz at Lincoln Center Orchestra",
                url: "videos/albums/birth-of-the-cool/video01.mp4",
                link: "https://www.youtube.com/watch?v=qQ__lmCOSeg"
            }, {
                text: "Enrico Mianulli Cool Jazz Orchestra playing «Venus de Milo» from Birth Of The Cool",
                url: "videos/albums/birth-of-the-cool/video02.mp4",
                link: "https://www.youtube.com/watch?v=N6jNszDN-S0"
            }, {
                text: "Stanley Nelson talking about the «Miles Davis: Birth of the Cool» documentary.",
                url: "videos/albums/birth-of-the-cool/video03.mp4",
                link: "https://www.youtube.com/watch?v=bjXzYu_0B1s"
            }],
            speeches: [{
                first_speech: "Birth of the Cool remains one of the defining, pivotal moments in jazz.",
                second_speech: "STEPHEN THOMAS ERLEWINE",
                third_speech: "MUSIC CRITIC",
                fourth_speech: "BIRTH"
            }, {
                first_speech: "A modern-jazz touchstone that opened the door to the sleek introspection and sophisticated aplomb of 1950s cool jazz.",
                second_speech: "Nate Chinen",
                third_speech: "MUSIC JOURNALIST",
                fourth_speech: "OF THE"
            }, {
                first_speech: "The impact this style brought about to the industry as a whole has hardly aged in the many years following the original debut.",
                second_speech: "Jessica Nakamoto",
                third_speech: "MUSIC JOURNALIST",
                fourth_speech: "COOL"
            }],
            background_color: {
                r: 71,
                g: 8,
                b: 37
            },
            text_color: {
                r: 221,
                g: 110,
                b: 111
            },
            subtitle_color: {
                r: 251,
                g: 196,
                b: 197
            }
        }, {
            id: "miles-tones",
            title: "Miles tones",
            line1: "MILES",
            line2: " TONES",
            line3: "",
            mention1: "Sometimes you have to play a long time",
            mention2: "...to be able to play like yourself. - M.D",
            date: 1958,
            label: "COLUMBIA RECORDS",
            producer: "GEORGE AVAKIAN",
            description: "The late 50’s were the first years of what was to be called the “modal jazz” and <i class='font-italic'>Milestones</i> is Miles Davis’s first album during this musical period. After his bebop, Cool and Hard bop periods, Miles was aspiring to  more simplicity in his compositions. The works and publications of composer <a data-id='russell' href='https://en.wikipedia.org/wiki/George_Russell_(composer)' target='_blank'>George Russell</a> around the modal approach were a turning point in Miles’s work. In essence, modal jazz makes use of musical modes often modulating between them instead of relying on one tonal center. For the recording of <i class='font-italic'>Milestones</i>, Miles Davis invited famous saxophone player <a data-id='cannonball' href='https://fr.wikipedia.org/wiki/Julian_Cannonball_Adderley' target='_blank'>Julian Cannonball Adderley</a> to join his band alongside tenor saxophone <a data-id='coltrane' href='https://en.wikipedia.org/wiki/John_Coltrane' target='_blank'>John Coltrane</a>. More than a simple play on words, <i class='font-italic'>Milestones</i> is definitely a key step, not only in Miles Davis’s musical carreer, but in jazz in general. For him, this first modal record opened the path to famous creations, including <i class='font-italic'>Kind of Blue</i>, maybe the most successful jazz album of all times.",
            description2: "The original album is composed of 6 songs, that last between 5 and 13 min. The inclusion of Julian Adderley as alto sax created a lovable chemistry between what Miles called a “blues voice” and Coltrane’s free and harmonious style. The “main” track was originally titled “Miles”, and was renamed “Milestones” later. On this album, Miles also had to play the piano part on one of the tracks, Sid’s ahead. This was the result of a slight altercation between him and the pianist <a data-id='red' href='https://en.wikipedia.org/wiki/Red_Garland' target='_blank'>Red Garland</a>, who was tired of Miles’s direction on his work. Most of the tracks are cover versions of famous jazz Standards (“Straight, No Chasers”, originally from <a data-id='monk' href='https://en.wikipedia.org/wiki/Thelonious_Monk' target='_blank'>Thelonious Monk</a>, “Two Bass Hit” from <a data-id='lewis' href='https://en.wikipedia.org/wiki/John_Lewis_(pianist)' target='_blank'>John Lewis</a> & <a data-id='dizzy' href='https://en.wikipedia.org/wiki/Dizzy_Gillespie' target='_blank'>Dizzy Gillespie</a>…)",
            description3: "Since it represents Miles Davis’s first steps into modal jazz, some critics often talk about <i class='font-italic'>Milestones</i> as a “premice work” that led to Davis’s greatest jazz album <i class='font-italic'>Kind of Blue</i> (which he recorded a year after). <i class='font-italic'>Milestones</i> is also the only record of that specific sextet, since Red Garland and Philly Joe Jones left the band after the recording. Yet, this short-lived band was granted with a Grammy Hall Of fame Award in 2004. In 2009, Columbia released a new edition of the record that  included 3 alternate takes.",
            band: [{
                artist: "Miles Davis",
                role: "Trumpet"
            }, {
                artist: "John Coltrane",
                role: "Tenor saxophone"
            }, {
                artist: "Julian Adderley",
                role: "Alto Saxophone"
            }, {
                artist: "Red Garland",
                role: "Piano"
            }, {
                artist: "Paul Chambers",
                role: "Double Bass"
            }, {
                artist: "Philly Joe Jones",
                role: "Drums"
            }],
            expression: {
                expressionText: "DO NOT FEAR MISTAKES. THERE ARE NONE.",
                img: "images/albums/miles-tones/expression.jpg"
            },
            sounds: [{
                title: "Milestones",
                id: "miles-tones-milestones"
            }, {
                title: "Straight No Chaser",
                id: "miles-tones-straight-no-chaser"
            }, {
                title: "Sid's Ahead",
                id: "miles-tones-sids-ahead"
            }],
            videos: [{
                text: 'SFJAZZ Collective performing  "Milestones" at the SFJAZZ Center on May 6, 2016.',
                url: "videos/albums/miles-tones/video01.mp4",
                link: "https://www.youtube.com/watch?v=2xdx6OM7_4o"
            }, {
                text: 'Diogo Peixoto & Group perform "Milestones" (Miles Davis) at CIAEI on 18th May 2017',
                url: "videos/albums/miles-tones/video02.mp4",
                link: "https://www.youtube.com/watch?v=DTrlSLnKlgY"
            }, {
                text: "Maiko Jazz Violin playing Milestones. ",
                url: "videos/albums/miles-tones/video03.mp4",
                link: "https://www.youtube.com/watch?v=dPadIdCAsEg"
            }],
            speeches: [{
                first_speech: "Milestones remains an elusive and enigmatic masterpiece.",
                second_speech: "C. MICHAEL BAILEY",
                third_speech: "JAZZ CRITIC",
                fourth_speech: "MILES"
            }, {
                first_speech: "Milestones is as close to a perfect jazz album as any I can think of, offering the best of everything I want out of fifties bop.",
                second_speech: "MATT GROOM",
                third_speech: "JAZZ CRITIC",
                fourth_speech: "TONES"
            }, {
                first_speech: "Milestones may not be Davis' most definitive work - but it still ranks as one of his best.",
                second_speech: "ANDY HERMANN",
                third_speech: "JAZZ CRITIC",
                fourth_speech: ""
            }],
            background_color: {
                r: 92,
                g: 48,
                b: 31
            },
            text_color: {
                r: 233,
                g: 156,
                b: 104
            },
            subtitle_color: {
                r: 254,
                g: 210,
                b: 180
            }
        }, {
            id: "kind-of-blue",
            title: "Kind of blue",
            line1: "KIND",
            line2: "    OF",
            line3: " BLUE",
            mention1: "Good music is good",
            mention2: "...no matter what kind of music it is. - M.D",
            date: 1959,
            label: "COLUMBIA RECORDS",
            producer: "IRVING TOWNSEND, TEO MACERO",
            description: "In 1959, Miles Davis was in the first years of the modal jazz period. The album Milestones was a first step, and he kept on this path with the following record: <i class='font-italic'>Kind of Blue</i>. It was performed by a band of incredibles artists who became jazz legends, such as  <a data-id='cannonball' href='https://fr.wikipedia.org/wiki/Julian_Cannonball_Adderley' target='_blank'>Julian Cannonball Adderley</a> and <a data-id='coltrane' href='https://en.wikipedia.org/wiki/John_Coltrane' target='_blank'>John Coltrane</a> (alto and tenor saxophone), the drummer <a data-id='cobb' href='https://en.wikipedia.org/wiki/Jimmy_Cobb' target='_blank'>Jimmy Cobb</a>, <a data-id='chambers' href='https://en.wikipedia.org/wiki/Paul_Chambers' target='_blank'>Paul Chambers</a> at the double bass, <a data-id='billevans' href='https://en.wikipedia.org/wiki/Bill_Evans' target='_blank'>Bill evans</a> and <a data-id='kelly' href='https://en.wikipedia.org/wiki/Wynton_Kelly' target='_blank'>Winton Kelly</a> for the piano part. But when Miles and his band recorded <i class='font-italic'>Kind of Blue</i> at that time, even themthelves couldn’t imagine they were gaving birth to a legend: <i class='font-italic'>Kind of Blue</i> became the most sold jazz album ever, and it is still considered by many critics as the greatest jazz record ever made. <i class='font-italic'>Kind of Blue</i> is mostly characterized by a notion of spontaneity, which gives the record its unique beauty: when arriving at the studio for the first session, players were only given a few intructions by Miles, and were mostly invited to improvise; the modal approach offered a great level of liberty and space to the musicians. With only two recording sessions and five tracks, the masterpiece was born. Decades after its publishing, the record continues to influence many musicians in jazz, symphonic or even rock.",
            description2: "<i class='font-italic'>Kind of Blue</i> was recorded in two sessions, in March and April 1959. According to the musicians, there were only a few rehearsals before the recording, mostly based on improvisation. Most of the tracks last  approximately 10 minutes (except “Blue in Green” which is  about 6 min). On of the most famous titles of this record remains “So What”, the first track of the record, and definitely the one that sets the enigmatic, unexpected and cool mood of this album. Tracks like “Blue in Green” and “Flamenco Sketches” bring a more romantic & quiet spirit. And between them, the essential “All Blues”, a nostalgic piece dedicated to the blues moods that nurrished Miles’s Childhood, that will have its vocal version later, by the american singer <a data-id='brown' href='https://en.wikipedia.org/wiki/Oscar_Brown' target='_blank'>Oscar Brown</a>. ",
            description3: "When it comes to the impact of <i class='font-italic'>Kind of Blue</i>, it’s quite hard to know where to start. It is the most sold jazz album in history, with over 4 million sales. It did more than just paving the way for modal jazz and by doing so, creating a new musical language. Its impact on music in general is beyond imagination. More than a mythic jazz record <i class='font-italic'>Kind of Blue</i> is clearly considered cultural patrimony. It has been added to the National Recording Registry of the American Library of Congress in 2002. It was ranked 12 of the 500 greatest records by the magazine Rolling Stones. For its 50th birthday, the record was recognized as National Treasure by the United States House of Representatives. Columbia also edited a 50-year box edition, including a blue vinyl. The 5 titles of the record obviously became standards that were reinterpreted by many jazz artists through history.",
            band: [{
                artist: "Miles Davis",
                role: "Trumpet"
            }, {
                artist: "John Coltrane",
                role: "Tenor saxophone"
            }, {
                artist: "Julian Adderley",
                role: "Alto saxophone"
            }, {
                artist: "Bill Evans",
                role: "Piano"
            }, {
                artist: "Wynton Kelly",
                role: "Piano"
            }, {
                artist: "Paul Chambers",
                role: "Double Bass"
            }, {
                artist: "Jimmy Cobb",
                role: "Drums"
            }],
            expression: {
                expressionText: "DON'T PLAY WHAT'S THERE. PLAY WHAT'S NOT THERE.",
                img: "images/albums/kind-of-blue/expression.jpg"
            },
            sounds: [{
                title: "So What",
                id: "kind-of-blue-so-what"
            }, {
                title: "All Blues",
                id: "kind-of-blue-all-blues"
            }, {
                title: "Flamenco Sketches",
                id: "kind-of-blue-flamenco-sketches"
            }],
            videos: [{
                text: "Marcus Miller playing «So What» (Master of All Trades DVD)",
                url: "videos/albums/kind-of-blue/video01.mp4",
                link: "https://www.youtube.com/watch?v=2A2J9yxpSjI"
            }, {
                text: "Jimmy Cobb's So What Band playing «Blue in Green».Bridgestone Music Festival 2009",
                url: "videos/albums/kind-of-blue/video02.mp4",
                link: "https://www.youtube.com/watch?v=x91QlOB4iZ0"
            }, {
                text: "SF Jazz Collective (featuring Sean Jones) playing «So What».",
                url: "videos/albums/kind-of-blue/video03.mp4",
                link: "https://www.youtube.com/watch?v=xakwGW9IBsI"
            }],
            speeches: [{
                first_speech: "It's not just a cornerstone record for Jazz. It's a cornerstone record for music.",
                second_speech: "HERBIE HANCOCK",
                third_speech: "JAZZ PIANIST & COMPOSER",
                fourth_speech: "KIND"
            }, {
                first_speech: "Kind of Blue is like the Bible. You just have one in your house.",
                second_speech: "Q TIP",
                third_speech: "HIP-HOP ARTIST",
                fourth_speech: "OF"
            }, {
                first_speech: "How do you go into the studio with minimum stuff and come out with… eternity?",
                second_speech: "CARLOS SANTANA",
                third_speech: "GUITARIST & COMPOSER",
                fourth_speech: "BLUE"
            }],
            background_color: {
                r: 3,
                g: 8,
                b: 66
            },
            text_color: {
                r: 61,
                g: 144,
                b: 229
            },
            subtitle_color: {
                r: 175,
                g: 211,
                b: 249
            }
        }, {
            id: "in-a-silent-way",
            title: "In a silent way",
            line1: "IN A",
            line2: "SILENT",
            line3: "  WAY",
            mention1: "Always look ahead",
            mention2: "... but never look back. -MD",
            date: 1969,
            label: "COLUMBIA RECORDS",
            producer: "TEO MACERO",
            description: "Between 1963 and 1968, Miles was performing with his second greatest quintet, which was fully composed of players younger than him, who became famous in the jazz scene (<a data-id='herbie' href='https://en.wikipedia.org/wiki/Herbie_Hancock' target='_blank'>Herbie Hancock</a>, <a data-id='ron' href='https://en.wikipedia.org/wiki/Ron_Carter' target='_blank'>Ron Carter</a>, <a data-id='wayne' href='https://en.wikipedia.org/wiki/Wayne_Shorter' target='_blank'>Wayne Shorter</a> & <a data-id='williams' href='https://en.wikipedia.org/wiki/Tony_Williams_(drummer)' target='_blank'>Tony Williams</a>). It is with this quintet that he started working with an all new composant : electricity. The last two albums recorded by the band, <i class='font-italic'>Miles in the Sky</i>, and <i class='font-italic'>Filles de Kilimanjaro</i> were the first ones to include electric piano and guitar. Miles was, at that point, very interested by the new possibilities given by those kind of instruments. Especially the sound modulations that electric devices could bring into the musical creation. His meeting with his second wife and musical muse, the singer <a href='https://en.wikipedia.org/wiki/Betty_Davis' target='_blank'>Betty Davis</a> was also an incredible influence in this electric path. She introduced him to the sound of rock legends like <a data-id='hendrix' href='https://en.wikipedia.org/wiki/Jimi_Hendrix' target='_blank'>Jimi Hendrix</a>. In that period, Miles Davis experienced a real change, both in his lifestyle and his music. Dropping his fancy italian suits for a younger, rock style, Miles also evolved slowly but surely towards a new musical style, “Jazz-fusion”, a mix-up of Jazz and rock music, popularized in the mid-60’s with bands like <a data-id='freespirits' href='https://en.wikipedia.org/wiki/The_Free_Spirits' target='_blank'>The Free Spirits</a> or <a data-id='lloyd' href='https://en.wikipedia.org/wiki/Charles_Lloyd_(jazz_musician)' target='_blank'>Charles Lloyd Quartert</a>. It is in that new musical era that he gave birth to his first jazz-rock album, <i class='font-italic'>In A Silent Way</i>. Miles recorded it with a band composed of both old and new players (including guitarist <a data-id='mclaughlin' href='https://en.wikipedia.org/wiki/John_McLaughlin_(musician)' target='_blank'>John Mc Laughlin</a> and piano player <a data-id='zawinul' href='https://en.wikipedia.org/wiki/Joe_Zawinul' target='_blank'>Joe Zawinul</a>). 10 years after the successful <i class='font-italic'>Kind of Blue</i>, Miles Davis was making a musical bold move again, choosing to leave his good old “jazz security blanket” to embrace something new, wild and audacious. As a fusion result, <i class='font-italic'>In A Silent Way</i> was neither Jazz nor Rock. But if it got a controversial reception from critics who didn’t understand it at first, it is still considered as one of Miles Davis’s most influential albums ever.",
            description2: "One session. That is all it took to record all the material of <i class='font-italic'>In A Silent Way</i>. One single session of 3 hours on February 18, 1969. The original album is composed of only two long mixed tracks (approximately 20 mins each). The electric instruments give the album a kind of elusive reach, the trumpet’s leader surfing over electric guitar and piano in a bewitching way. A recording tale says that for the main notes of the first track, John Mc Laughlin was experiencing difficulties satisfying Miles Davis. In the end, the leader gave him a simple and strange instruction : “Why don’t you play it like you never played guitar?”. As a result, John obtained a kind of slow, hesitant, shy and ethereal guitar sound that made the track unforgettable.",
            description3: "As a piooner album, the electric sound and quite unexpected structure of <i class='font-italic'>In A Silent Way</i> provoked divided reactions among jazz critics. As some of Miles fellows players of that time used to say: “It’s neither jazz nor rock, then it shouldn’t be criticized as one or the other”. But today, it is clearly considered as one of Miles Davis’s biggest musical achievement. In 2001, an anthology was released by Legacy Records, called <i class='font-italic'>In A Silent Way - The complete sessions</i> with both the all tracks of the unique recording session, and some taken from previous “electric” albums. <i class='font-italic'>In A Silent Way</i> got Miles in the path of Jazz Rock, and led him to the album known as <i class='font-italic'>Bi***es Brew</i>, a psychedelic, tortuous and haunting production, and his second biggest commercial success (with <i class='font-italic'>Kind of Blue</i>).",
            band: [{
                artist: "Miles Davis",
                role: "Trumpet"
            }, {
                artist: "Wayne Shorter",
                role: "Soprano saxophone"
            }, {
                artist: "John McLaughlin",
                role: "guitar"
            }, {
                artist: "Chick Corea",
                role: "Electric piano"
            }, {
                artist: "Herbie Hancock",
                role: "Electric piano"
            }, {
                artist: "Joe Zawinul",
                role: "Electric piano & organ"
            }, {
                artist: "Dave Holland",
                role: "Bass"
            }, {
                artist: "Tony Williams",
                role: "Drums"
            }],
            expression: {
                expressionText: "IN MUSIC SILENCE IS MORE IMPORTANT THAN SOUND.",
                img: "images/albums/in-a-silent-way/expression.jpg"
            },
            sounds: [{
                title: "In A Silent Way",
                id: "in-a-silent-way-inasilentway"
            }, {
                title: "Mademoiselle Mabry",
                id: "in-a-silent-way-mademoiselle-mabry"
            }, {
                title: "Shhh / Peaceful",
                id: "in-a-silent-way-peaceful"
            }],
            videos: [{
                text: "Pharoah Sanders - « in a Silent Way». Internationales Jazz Festival Viersen, Germany, 2004",
                url: "videos/albums/in-a-silent-way/video01.mp4",
                link: "https://www.youtube.com/watch?v=efM2bx1Pza8"
            }, {
                text: '"Shhh / Peaceful" from Miles Davis - SFJAZZ Collective',
                url: "videos/albums/in-a-silent-way/video02.mp4",
                link: "https://www.youtube.com/watch?v=fN_SlZ1dLcM"
            }, {
                text: "Miles Ahead Group performs the «In A Silent Way / It's About That Time».",
                url: "videos/albums/in-a-silent-way/video03.mp4",
                link: "https://www.youtube.com/watch?v=2e0HoCBLCoY"
            }],
            speeches: [{
                first_speech: "This is the kind of album that gives you faith in the future of music. It is not rock and roll, but it’s nothing stereotyped as jazz either.",
                second_speech: "LESTER BANGS",
                third_speech: "MUSIC CRITIC",
                fourth_speech: "IN A"
            }, {
                first_speech: "In a Silent Way is a foreboding and deeply meditative record that has an almost spiritual quality.",
                second_speech: "TREVOR MACLAREN",
                third_speech: "MUSIC CRITIC",
                fourth_speech: "SILENT"
            }, {
                first_speech: "I bought In a Silent Way as a present for someone and then liked it so much that I couldn’t bring myself to give it to them.",
                second_speech: "ARUN GOSH",
                third_speech: "CLARINETTIST",
                fourth_speech: "WAY"
            }],
            background_color: {
                r: 5,
                g: 49,
                b: 59
            },
            text_color: {
                r: 79,
                g: 185,
                b: 180
            },
            subtitle_color: {
                r: 185,
                g: 240,
                b: 238
            }
        }],
        R = n(1),
        k = n(5),
        I = n(137),
        D = n.n(I),
        B = (n(245), Object(k.a)()(_ = Object(k.b)()(_ = Object(k.e)()(_ = Object(k.d)()((w = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onCircleMouseenter", (function () {
                    n._params.hoverNeedsUpdate = !0, gsap.killTweensOf(n._params.circle, {
                        opacity: !0
                    }), gsap.to(n._params.circle, {
                        opacity: .6,
                        duration: .25,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            n._params.hoverNeedsUpdate = !1
                        }
                    })
                })), L()(this, "_onCircleMouseleave", (function () {
                    n._params.hoverNeedsUpdate = !0, gsap.killTweensOf(n._params.circle, {
                        opacity: !0
                    }), gsap.to(n._params.circle, {
                        opacity: 1,
                        duration: .25,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            n._params.hoverNeedsUpdate = !1
                        }
                    })
                })), L()(this, "_onCircleClick", (function () {
                    n._onCallbackCircleClick()
                })), L()(this, "_onScroll", (function () {
                    n._rect = n.el.getBoundingClientRect(), n._scrollLimit = n._rect.top + n.el.offsetHeight
                })), this.el = t.parent.appendChild(Object(R.a)(D()())), this._onCallbackCircleClick = t.onClick, this._ui = {
                    circle: this.el.querySelector(".js-disc__circle"),
                    svg: this.el.querySelector(".js-disc__svg"),
                    start: this.el.querySelector(".js-disc__start"),
                    arrow: this.el.querySelector(".js-disc__arrow")
                }, this._baseRadius = 0, this._finalRadius = 1, this._closeRadius = .2, this._scrollLimit = 0, this._params = {
                    angle: 0,
                    angleTg: 0,
                    angleAdd: 0,
                    showAngle: -45,
                    opacity: 0,
                    color: {
                        r: 0,
                        g: 0,
                        b: 0
                    },
                    circle: {
                        radius: this._baseRadius,
                        opacity: 1
                    },
                    start: {
                        opacity: 0,
                        scale: 0,
                        color: {
                            r: 255,
                            g: 255,
                            b: 255
                        }
                    },
                    arrow: {
                        opacity: 0,
                        scale: 0,
                        color: {
                            r: 255,
                            g: 255,
                            b: 255
                        }
                    },
                    deactivating: !1,
                    showNeedsUpdate: !1,
                    openNeedsUpdate: !1,
                    hoverNeedsUpdate: !1,
                    colorNeedsUpdate: !1
                }, this.addEvents(), this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onResize.add(this._onResize), Signals.onScroll.add(this._onScroll), this._ui.circle.addEventListener("mouseenter", this._onCircleMouseenter), this._ui.circle.addEventListener("mouseleave", this._onCircleMouseleave), this._ui.circle.addEventListener("click", this._onCircleClick)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._params.showNeedsUpdate = !0, this.el.style.display = "block", gsap.killTweensOf(this._params), gsap.fromTo(this._params, {
                        showAngle: -45,
                        opacity: 0
                    }, {
                        duration: 3,
                        showAngle: 0,
                        ease: "Power4.easeOut",
                        delay: i,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    }), gsap.to(this._params, {
                        duration: 2,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i,
                        onStart: function () {},
                        onComplete: function () {}
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this.el.style.display = "none"
                }
            }, {
                key: "activate",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.duration,
                        n = void 0 === t ? 1 : t;
                    e.delay;
                    this._params.deactivating = !1, gsap.killTweensOf(this._params, {
                        angleAdd: !0
                    }), gsap.to(this._params, {
                        angleAdd: 1,
                        duration: n,
                        ease: "Power4.easeOut"
                    })
                }
            }, {
                key: "deactivate",
                value: function () {
                    this._params.deactivating = !1
                }
            }, {
                key: "open",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.duration,
                        i = void 0 === n ? 1.5 : n,
                        r = t.delay,
                        o = void 0 === r ? 0 : r;
                    this._params.openNeedsUpdate = !0, gsap.killTweensOf(this._params.circle), gsap.to(this._params.circle, {
                        radius: this._finalRadius,
                        duration: i,
                        delay: o,
                        ease: "Power4.easeOut"
                    }), gsap.killTweensOf(this._params.arrow), gsap.to(this._params.arrow, {
                        scale: 1,
                        duration: i,
                        ease: "Power4.easeOut",
                        delay: o
                    }), gsap.to(this._params.arrow, {
                        opacity: 1,
                        duration: i,
                        ease: "Power2.easeOut",
                        delay: o + 1
                    }), gsap.killTweensOf(this._params.start), gsap.to(this._params.start, {
                        scale: 1,
                        duration: i,
                        ease: "Power4.easeOut",
                        delay: o
                    }), gsap.to(this._params.start, {
                        opacity: 1,
                        duration: i,
                        ease: "Power2.easeOut",
                        delay: o + 1,
                        onComplete: function () {
                            e._params.openNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "close",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.duration,
                        i = void 0 === n ? 1.5 : n,
                        r = t.delay,
                        o = void 0 === r ? 0 : r,
                        a = t.onComplete,
                        s = void 0 === a ? function () {} : a;
                    this._params.openNeedsUpdate = !0, gsap.killTweensOf(this._params.circle), gsap.to(this._params.circle, {
                        radius: this._closeRadius,
                        duration: i,
                        delay: o,
                        ease: "Power4.easeOut"
                    }), gsap.killTweensOf(this._params.arrow), gsap.to(this._params.arrow, {
                        scale: 0,
                        duration: i,
                        ease: "Power4.easeOut"
                    }), gsap.to(this._params.arrow, {
                        opacity: 0,
                        duration: i - 1,
                        ease: "Power2.easeOut",
                        delay: o
                    }), gsap.killTweensOf(this._params.start), gsap.to(this._params.start, {
                        opacity: 0,
                        duration: i - 1,
                        ease: "Power2.easeOut"
                    }), gsap.to(this._params.start, {
                        scale: 0,
                        duration: i,
                        ease: "Power4.easeOut",
                        delay: o,
                        onComplete: function () {
                            e._params.openNeedsUpdate = !1, s()
                        }
                    })
                }
            }, {
                key: "enable",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.color,
                        n = void 0 === t ? null : t,
                        i = e.duration,
                        r = void 0 === i ? .25 : i;
                    e.delay;
                    gsap.killTweensOf(this._params, {
                        angleAdd: !0
                    }), gsap.to(this._params, {
                        angleAdd: 1,
                        duration: r,
                        ease: "Power4.easeOut"
                    }), n && (gsap.killTweensOf(this._params.color), gsap.to(this._params.color, {
                        r: n.r,
                        g: n.g,
                        b: n.b,
                        duration: r,
                        ease: "Power2.easeOut"
                    }))
                }
            }, {
                key: "disable",
                value: function () {}
            }, {
                key: "_delayedDeactivate",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.duration,
                        n = void 0 === t ? 1 : t,
                        i = e.delay,
                        r = void 0 === i ? 0 : i;
                    this._params.deactivating = !0, gsap.killTweensOf(this._params, {
                        angleAdd: !0
                    }), gsap.to(this._params, {
                        angleAdd: 0,
                        duration: n,
                        delay: r,
                        ease: "Power4.easeOut"
                    })
                }
            }, {
                key: "updateColor",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.color,
                        i = void 0 === n ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : n,
                        r = t.duration,
                        o = void 0 === r ? .25 : r,
                        a = t.delay,
                        s = void 0 === a ? 0 : a;
                    this._params.colorNeedsUpdate = !0, gsap.killTweensOf(this._params.color), gsap.to(this._params.color, {
                        r: i.r,
                        g: i.g,
                        b: i.b,
                        duration: o,
                        ease: "Power2.easeOut",
                        delay: s,
                        onComplete: function () {
                            e._params.colorNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "_onResize",
                value: function (e, t) {
                    this.resize(e, t)
                }
            }, {
                key: "resize",
                value: function (e, t) {
                    this._updateCSS()
                }
            }, {
                key: "setText",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n,
                        r = t.text,
                        o = void 0 === r ? "" : r,
                        a = t.onComplete,
                        s = void 0 === a ? function () {} : a;
                    clearTimeout(this._timeout), this._timeout = setTimeout((function () {
                        e._ui.start.textContent = o, s()
                    }), 1e3 * i)
                }
            }, {
                key: "update",
                value: function () {
                    (this._params.showNeedsUpdate || this._params.openNeedsUpdate || this._params.hoverNeedsUpdate || this._params.colorNeedsUpdate) && this._updateCSS(), (this._params.showNeedsUpdate || this.active() || this.enabled() && this._scrollLimit >= 0) && this._updateRotation()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this.el.style.opacity = this._params.opacity;
                    var e = this._params.color.r,
                        t = this._params.color.g,
                        n = this._params.color.b,
                        i = this._params.start.color.r,
                        r = this._params.start.color.g,
                        o = this._params.start.color.b;
                    this._ui.svg.style.fill = "rgb(".concat(e, ", ").concat(t, ", ").concat(n, ")"), this._ui.start.style.color = "rgb(".concat(i, ", ").concat(r, ", ").concat(o, ")"), this._ui.start.style.opacity = this._params.start.opacity, Object(R.c)(this._ui.start, "translate3d(-50%, -50%, 0) scale(".concat(this._params.start.scale, ")")), this._ui.arrow.style.color = "rgb(".concat(i, ", ").concat(r, ", ").concat(o, ")"), this._ui.arrow.style.opacity = this._params.arrow.opacity, Object(R.c)(this._ui.arrow, "scale(".concat(this._params.start.scale, ")")), this._ui.circle.setAttribute("r", 16 * this._params.circle.radius), this._ui.circle.style.opacity = this._params.circle.opacity
                }
            }, {
                key: "_updateRotation",
                value: function () {
                    this._params.angleTg += this._params.angleAdd, this._params.angle += .05 * (this._params.angleTg - this._params.angle);
                    var e = (this._params.angle + this._params.showAngle) % 360;
                    Object(R.c)(this.el, "rotate(".concat(e, "deg)"));
                    var t = this._params.color.r,
                        n = this._params.color.g,
                        i = this._params.color.b;
                    this._ui.svg.style.fill = "rgb(".concat(t, ", ").concat(n, ", ").concat(i, ")")
                }
            }]), e
        }(), c()(w.prototype, "_onResize", [u.a], Object.getOwnPropertyDescriptor(w.prototype, "_onResize"), w.prototype), _ = w)) || _) || _) || _) || _),
        N = n(138),
        G = n.n(N),
        j = (n(246), Object(k.a)()(x = Object(k.e)()(x = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onStartApplication", (function () {
                    n.activate()
                })), this.el = t.parent.appendChild(Object(R.a)(G()())), this._ui = {
                    letters: this.el.querySelectorAll(".js-homeTitle__letter")
                }, this._params = {
                    color: {
                        r: 0,
                        g: 0,
                        b: 0
                    },
                    letters: [],
                    activeNeedsUpdate: !1,
                    showNeedsUpdate: !1
                };
                for (var i = 0; i < this._ui.letters.length; i++) this._params.letters.push({
                    y: 100
                });
                this.addEvents(), this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onStartApplication.add(this._onStartApplication)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    if (console.log("show"), this._params.showNeedsUpdate = !0, this.el.style.display = "block", window.global.introPassed) {
                        var r = this._params.letters[0];
                        gsap.killTweensOf(r), gsap.fromTo(r, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i
                        });
                        var o = this._params.letters[1];
                        gsap.killTweensOf(o), gsap.fromTo(o, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + .1
                        });
                        var a = this._params.letters[2];
                        gsap.killTweensOf(a), gsap.fromTo(a, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + .2
                        });
                        var s = this._params.letters[3];
                        gsap.killTweensOf(s), gsap.fromTo(s, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + .3
                        });
                        var l = this._params.letters[4];
                        gsap.killTweensOf(l), gsap.fromTo(l, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + .4
                        });
                        var c = this._params.letters[6];
                        gsap.killTweensOf(c), gsap.fromTo(c, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + .5
                        });
                        var u = this._params.letters[7];
                        gsap.killTweensOf(u), gsap.fromTo(u, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + .6
                        });
                        var h = this._params.letters[8];
                        gsap.killTweensOf(h), gsap.fromTo(h, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + .7
                        });
                        var d = this._params.letters[9];
                        gsap.killTweensOf(d), gsap.fromTo(d, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + .8
                        });
                        var p = this._params.letters[10];
                        gsap.killTweensOf(p), gsap.fromTo(p, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + .9,
                            onComplete: function () {
                                e._params.showNeedsUpdate = !1
                            }
                        })
                    } else {
                        var f = this._params.letters[0];
                        gsap.killTweensOf(f), gsap.fromTo(f, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i
                        });
                        var m = this._params.letters[1];
                        gsap.killTweensOf(m), gsap.fromTo(m, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + .4
                        });
                        var v = this._params.letters[2];
                        gsap.killTweensOf(v), gsap.fromTo(v, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + .8
                        });
                        var g = this._params.letters[9];
                        gsap.killTweensOf(g), gsap.fromTo(g, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + 1.9
                        });
                        var y = this._params.letters[10];
                        gsap.killTweensOf(y), gsap.fromTo(y, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + 2.8
                        });
                        var _ = this._params.letters[6];
                        gsap.killTweensOf(_), gsap.fromTo(_, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + 4.2
                        });
                        var b = this._params.letters[7];
                        gsap.killTweensOf(b), gsap.fromTo(b, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + 4.6
                        });
                        var w = this._params.letters[8];
                        gsap.killTweensOf(w), gsap.fromTo(w, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + 5
                        });
                        var x = this._params.letters[3];
                        gsap.killTweensOf(x), gsap.fromTo(x, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + 6.4
                        });
                        var T = this._params.letters[4];
                        gsap.killTweensOf(T), gsap.fromTo(T, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 2,
                            ease: "Power4.easeOut",
                            delay: i + 7.3,
                            onComplete: function () {
                                e._params.showNeedsUpdate = !1
                            }
                        })
                    }
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    console.log("hide"), this._params.showNeedsUpdate = !0;
                    var r = this._params.letters[0];
                    gsap.killTweensOf(r), gsap.to(r, {
                        y: -100,
                        duration: 1,
                        ease: "Power4.easeOut",
                        delay: i
                    });
                    var o = this._params.letters[1];
                    gsap.killTweensOf(o), gsap.to(o, {
                        y: -100,
                        duration: 1,
                        ease: "Power4.easeOut",
                        delay: i + .1
                    });
                    var a = this._params.letters[2];
                    gsap.killTweensOf(a), gsap.to(a, {
                        y: -100,
                        duration: 1,
                        ease: "Power4.easeOut",
                        delay: i + .2
                    });
                    var s = this._params.letters[3];
                    gsap.killTweensOf(s), gsap.to(s, {
                        y: -100,
                        duration: 1,
                        ease: "Power4.easeOut",
                        delay: i + .3
                    });
                    var l = this._params.letters[4];
                    gsap.killTweensOf(l), gsap.to(l, {
                        y: -100,
                        duration: 1,
                        ease: "Power4.easeOut",
                        delay: i + .4
                    });
                    var c = this._params.letters[6];
                    gsap.killTweensOf(c), gsap.to(c, {
                        y: -100,
                        duration: 1,
                        ease: "Power4.easeOut",
                        delay: i + .5
                    });
                    var u = this._params.letters[7];
                    gsap.killTweensOf(u), gsap.to(u, {
                        y: -100,
                        duration: 1,
                        ease: "Power4.easeOut",
                        delay: i + .6
                    });
                    var h = this._params.letters[8];
                    gsap.killTweensOf(h), gsap.to(h, {
                        y: -100,
                        duration: 1,
                        ease: "Power4.easeOut",
                        delay: i + .7
                    });
                    var d = this._params.letters[9];
                    gsap.killTweensOf(d), gsap.to(d, {
                        y: -100,
                        duration: 1,
                        ease: "Power4.easeOut",
                        delay: i + .8
                    });
                    var p = this._params.letters[10];
                    gsap.killTweensOf(p), gsap.to(p, {
                        y: -100,
                        duration: 1,
                        ease: "Power4.easeOut",
                        delay: i + .9,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "activate",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._params.activeNeedsUpdate = !0, gsap.killTweensOf(this._params.color), gsap.to(this._params.color, {
                        duration: 2,
                        delay: i,
                        r: 255,
                        g: 255,
                        b: 255,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.activeNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "deactivate",
                value: function () {}
            }, {
                key: "resize",
                value: function (e) {
                    this.el.style.fontSize = "".concat(e, "rem")
                }
            }, {
                key: "update",
                value: function () {
                    (this._params.showNeedsUpdate || this._params.activeNeedsUpdate) && this._updateCSS()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    var e = Math.floor(this._params.color.r),
                        t = Math.floor(this._params.color.g),
                        n = Math.floor(this._params.color.b);
                    this.el.style.color = "rgb(".concat(e, ", ").concat(t, ", ").concat(n, ")");
                    for (var i = 0; i < this._params.letters.length; i++) {
                        var r = this._ui.letters[i],
                            o = this._params.letters[i].y;
                        Object(R.c)(r, "translate3d(0, ".concat(o, "%, 0)"))
                    }
                }
            }]), e
        }()) || x) || x),
        H = n(139),
        F = n.n(H),
        U = (n(247), Object(k.a)()(T = Object(k.e)()(T = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onChangeIndex", (function (e) {
                    var t = parseInt(n._ui.first.textContent, 10),
                        i = e + 1;
                    n._ui.second.textContent = i, gsap.killTweensOf(n._params.first), gsap.killTweensOf(n._params.second), n._params.stateNeedsUpdate = !0, i === t + 1 || t === O.length && 1 === i ? (gsap.fromTo(n._params.first, {
                        y: 0
                    }, {
                        duration: 1,
                        y: -100,
                        ease: "Power4.easeOut"
                    }), gsap.fromTo(n._params.second, {
                        y: 100
                    }, {
                        duration: 1,
                        y: 0,
                        ease: "Power4.easeOut",
                        onComplete: function () {
                            n._ui.first.textContent = i, gsap.set(n._params.first, {
                                y: 0
                            }), gsap.set(n._params.second, {
                                y: 100
                            }), n._updateCSS(), n._params.stateNeedsUpdate = !1
                        }
                    })) : (i === t - 1 || i === O.length && 1 === t) && (gsap.fromTo(n._params.first, {
                        y: 0
                    }, {
                        duration: 1,
                        y: 100,
                        ease: "Power4.easeOut"
                    }), gsap.fromTo(n._params.second, {
                        y: -100
                    }, {
                        duration: 1,
                        y: 0,
                        ease: "Power4.easeOut",
                        onComplete: function () {
                            n._ui.first.textContent = i, gsap.set(n._params.first, {
                                y: 0
                            }), gsap.set(n._params.second, {
                                y: 100
                            }), n._updateCSS(), n._params.stateNeedsUpdate = !1
                        }
                    }));
                    var r = O[window.global.index].text_color;
                    clearTimeout(n._timeout), n._timeout = setTimeout((function () {
                        n._ui.lastLetter.style.color = "rgb(".concat(r.r, ", ").concat(r.g, ", ").concat(r.b, ")")
                    }), 1e3)
                })), this.el = t.parent.appendChild(Object(R.a)(F()())), this._ui = {
                    first: this.el.querySelector(".js-homePager__numberFirst"),
                    second: this.el.querySelector(".js-homePager__numberSecond"),
                    lastLetter: this.el.querySelector(".js-homePager__lastLetter")
                }, this._params = {
                    opacity: 0,
                    first: {
                        y: 0
                    },
                    second: {
                        y: 100
                    },
                    showNeedsUpdate: !1,
                    stateNeedsUpdate: !1
                };
                var i = O[window.global.index].text_color;
                this._ui.lastLetter.style.color = "rgb(".concat(i.r, ", ").concat(i.g, ", ").concat(i.b, ")"), this.addEvents(), this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onChangeIndex.add(this._onChangeIndex)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    console.log("SHOW"), this._params.showNeedsUpdate = !0, this.el.style.display = "block", gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        duration: .25,
                        ease: "Power2.easeOut",
                        opacity: 1,
                        delay: i,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    console.log("HIDE"), this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        duration: 1,
                        ease: "Power2.easeOut",
                        opacity: 0,
                        delay: i,
                        onComplete: function () {
                            e.el.style.display = "none", e._params.showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "update",
                value: function () {
                    (this._params.showNeedsUpdate || this._params.stateNeedsUpdate) && this._updateCSS()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this.el.style.opacity = this._params.opacity;
                    var e = this._params.first.y,
                        t = this._params.second.y;
                    Object(R.c)(this._ui.first, "translate3d(0, ".concat(e, "%, 0)")), Object(R.c)(this._ui.second, "translate3d(0, ".concat(t, "%, 0)"))
                }
            }]), e
        }()) || T) || T);
    var z, V, W, q, X, Y, J, K, Z, $, Q, ee, te, ne, ie, re, oe, ae, se, le, ce, ue, he, de, pe, fe, me, ve, ge, ye, _e, be, we, xe, Te, Se, Me, Ee = function (e, t) {
            return (e % t + t) % t
        },
        Ae = n(140),
        Pe = n.n(Ae),
        Ce = (n(248), Object(k.a)()(z = Object(k.e)()((V = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onTouchstart", (function (e) {
                    n._touches.xPrevious = e.targetTouches[0].clientX, n._touches.yPrevious = e.targetTouches[0].clientY, n._moved = !1
                })), L()(this, "_onTouchmove", (function (e) {
                    n._touches.x = e.targetTouches[0].clientX, n._touches.y = e.targetTouches[0].clientY;
                    var t = n._touches.yPrevious - n._touches.y;
                    if (console.log(t), window.global.page === h.b && window.global.introPassed && !n._moved)
                        if (window.global.enableTransition && t > 100) {
                            var i = Ee(window.global.index + 1, O.length);
                            window.global.goToIndex(i), n._moved = !0
                        } else if (window.global.enableTransition && t < -100) {
                        var r = Ee(window.global.index - 1, O.length);
                        window.global.goToIndex(r), n._moved = !0
                    }
                })), L()(this, "_onScrollWheel", (function (e) {
                    if (window.global.page === h.b && window.global.introPassed)
                        if (window.global.enableTransition && e.deltaY > 0) {
                            var t = Ee(window.global.index + 1, O.length);
                            window.global.goToIndex(t)
                        } else if (window.global.enableTransition && e.deltaY < 0) {
                        var n = Ee(window.global.index - 1, O.length);
                        window.global.goToIndex(n)
                    }
                })), L()(this, "_onStartApplication", (function () {
                    n.activate()
                })), L()(this, "_onChangeIndex", (function () {
                    var e = O[window.global.index].text_color;
                    n._disc.updateColor({
                        color: e,
                        delay: 1
                    }), n._disc.close({
                        onComplete: function () {
                            n._disc.open({
                                delay: 1
                            })
                        }
                    })
                })), this.el = t.parent.appendChild(Object(R.a)(Pe()())), this._ui = {
                    title: this.el.querySelector(".js-home__title"),
                    subtitle: this.el.querySelector(".js-home__subtitle"),
                    button: this.el.querySelector(".js-home__button"),
                    disc: this.el.querySelector(".js-home__disc")
                }, this._homeTitle = new j({
                    parent: this._ui.title
                }), M.a.MOBILE || (this._homePager = new U({
                    parent: this.el
                })), this._disc = new B({
                    parent: this._ui.disc,
                    onClick: function () {
                        window.global.introPassed ? M.a.router.navigateTo(h.d, {
                            id: O[window.global.index].id
                        }) : (Signals.onStartApplication.dispatch(), n._disc.close(), window.global.introPassed = !0)
                    }
                }), this._touches = {
                    x: 0,
                    y: 0,
                    xPrevious: 0,
                    yPrevious: 0
                }, this._moved = !1, this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    M.a.DESKTOP ? (Signals.onScrollWheel.add(this._onScrollWheel), Signals.onResize.add(this._onResize), Signals.onWindowTouchstart.add(this._onTouchstart), Signals.onWindowTouchmove.add(this._onTouchmove)) : (Signals.onWindowTouchstart.add(this._onTouchstart), Signals.onWindowTouchmove.add(this._onTouchmove)), Signals.onStartApplication.add(this._onStartApplication), Signals.onChangeIndex.add(this._onChangeIndex)
                }
            }, {
                key: "show",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this.el.style.display = "block", window.global.introPassed || AudioController.fadeSound("intro", {
                        duration: .25,
                        delay: 1
                    }), this._homeTitle.show({
                        delay: window.global.introPassed ? .25 : 1
                    }), this._disc.show({
                        delay: window.global.introPassed ? 0 : 9.5
                    }), this._disc.open({
                        delay: window.global.introPassed ? 0 : 11
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this._homeTitle.hide({
                        delay: 0
                    }), M.a.MOBILE || this._homePager.hide({
                        delay: 0
                    }), this._disc.close({
                        delay: 0
                    })
                }
            }, {
                key: "activate",
                value: function () {
                    var e = this;
                    this.visible() ? (this._disc.enable({
                        color: O[window.global.index].text_color
                    }), this._disc.setText({
                        delay: 1,
                        text: "DISCOVER",
                        onComplete: function () {
                            e._disc.open({
                                delay: .5
                            })
                        }
                    }), M.a.MOBILE || this._homePager.show({
                        delay: .25
                    })) : this._disc.enable({
                        color: O[window.global.index].text_color
                    })
                }
            }, {
                key: "updatePage",
                value: function (e) {
                    e === h.b && window.global.introPassed ? (this._homeTitle.activate(), this.activate()) : e === h.d && (this._disc.enable({
                        color: O[window.global.index].text_color
                    }), this.deactivate())
                }
            }, {
                key: "_onResize",
                value: function (e, t) {
                    var n = M.a.MOBILE ? 4 : window.innerWidth / 1950 * 10.4;
                    this._homeTitle.resize(n)
                }
            }, {
                key: "resize",
                value: function (e, t) {}
            }, {
                key: "update",
                value: function () {
                    window.global.page !== h.b && window.global.page !== h.d || (this._homeTitle.update(), M.a.MOBILE || this._homePager.update(), this._disc.update())
                }
            }]), e
        }(), c()(V.prototype, "_onResize", [u.a], Object.getOwnPropertyDescriptor(V.prototype, "_onResize"), V.prototype), z = V)) || z) || z),
        Le = n(141),
        Oe = n.n(Le),
        Re = (n(249), Object(k.e)()(W = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onScroll", (function () {
                    n.hide()
                })), this.el = t.parent.appendChild(Object(R.a)(Oe()())), this._ui = {
                    line: this.el.querySelector(".js-shellScroll__line"),
                    bg: this.el.querySelector(".js-shellScroll__bg")
                }, this._params = {
                    opacity: 0,
                    bg: {
                        y: -1
                    },
                    showNeedsUpdate: !1
                }, this.addEvents(), this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onScroll.add(this._onScroll)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this.el.style.display = "block", this._params.showNeedsUpdate = !0, this._params.bg.y = 0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        duration: 1,
                        opacity: 1,
                        delay: i,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    }), this._startInterval()
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.killTweensOf(this._params.bg), gsap.to(this._params, {
                        duration: 1,
                        opacity: 0,
                        delay: i,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1, e.el.style.display = "none"
                        }
                    })
                }
            }, {
                key: "_startInterval",
                value: function () {
                    var e = this;
                    gsap.killTweensOf(this._params.bg), gsap.fromTo(this._params.bg, {
                        y: 0
                    }, {
                        duration: 1.5,
                        y: 1,
                        ease: "Power4.easeOut",
                        onComplete: function () {
                            e._startInterval()
                        }
                    })
                }
            }, {
                key: "update",
                value: function () {
                    (this._params.showNeedsUpdate || this.visible()) && this._updateCSS()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this.el.style.opacity = this._params.opacity;
                    var e = 225 * this._params.bg.y - 100;
                    Object(R.c)(this._ui.bg, "translate3d(0, ".concat(e, "%, 0)"))
                }
            }]), e
        }()) || W),
        ke = n(142),
        Ie = n.n(ke),
        De = (n(250), Object(k.a)(!0)(q = Object(k.c)()(q = Object(k.e)()(q = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onClick", (function () {
                    n.active() ? n.deactivate() : n.activate()
                })), L()(this, "_onMouseenter", (function () {
                    n.focus()
                })), L()(this, "_onMouseleave", (function () {
                    n.blur()
                })), this.el = t.parent.appendChild(Object(R.a)(Ie()())), this._ui = {
                    bar1: this.el.querySelector(".js-shellsound__bar1"),
                    bar2: this.el.querySelector(".js-shellsound__bar2"),
                    bar3: this.el.querySelector(".js-shellsound__bar3")
                }, this._params = {
                    opacity: 0,
                    time: 0,
                    bar1: {
                        s: 0,
                        sTg: 0
                    },
                    bar2: {
                        s: 0,
                        sTg: 0
                    },
                    bar3: {
                        s: 0,
                        sTg: 0
                    },
                    showNeedsUpdate: !1,
                    activeNeedsUpdate: !1,
                    focusNeedsUpdate: !1
                }, this.addEvents(), this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    this.el.parentNode.addEventListener("click", this._onClick), this.el.parentNode.addEventListener("mouseenter", this._onMouseenter), this.el.parentNode.addEventListener("mouseleave", this._onMouseleave)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this.el.style.display = "block", this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        duration: 1,
                        opacity: 1,
                        delay: i,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        duration: 1,
                        opacity: 0,
                        delay: i,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1, e.el.style.display = "none"
                        }
                    })
                }
            }, {
                key: "activate",
                value: function () {
                    var e = this;
                    window.global.sound = !0, AudioController.fadeIn({
                        volume: .5
                    }), this._params.activeNeedsUpdate = !0, clearTimeout(this._timeout), this._timeout = setTimeout((function () {
                        e._params.activeNeedsUpdate = !1
                    }), 3e3)
                }
            }, {
                key: "deactivate",
                value: function () {
                    var e = this;
                    window.global.sound = !1, AudioController.fadeOut(), this._params.bar1.sTg = .2, this._params.bar2.sTg = .2, this._params.bar3.sTg = .2, this._params.activeNeedsUpdate = !0, clearTimeout(this._timeout), this._timeout = setTimeout((function () {
                        e._params.activeNeedsUpdate = !1
                    }), 3e3)
                }
            }, {
                key: "focus",
                value: function () {
                    var e = this;
                    this._params.focusNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        duration: .6,
                        opacity: .5,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.focusNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "blur",
                value: function () {
                    var e = this;
                    this._params.focusNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        duration: .6,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.focusNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "update",
                value: function () {
                    (this._params.showNeedsUpdate || this._params.focusNeedsUpdate) && this._updateCSS(), (this.active() || this._params.activeNeedsUpdate) && this._updateSound()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this.el.style.opacity = this._params.opacity
                }
            }, {
                key: "_updateSound",
                value: function () {
                    this._params.time += .05, this.active() && this._params.time >= 1 && (this._params.bar1.sTg = Math.random(), this._params.bar2.sTg = Math.random(), this._params.bar3.sTg = Math.random(), this._params.time = 0), this._params.bar1.s += .05 * (this._params.bar1.sTg - this._params.bar1.s), this._params.bar2.s += .05 * (this._params.bar2.sTg - this._params.bar2.s), this._params.bar3.s += .05 * (this._params.bar3.sTg - this._params.bar3.s), Object(R.c)(this._ui.bar1, "scale(1, ".concat(this._params.bar1.s, ")")), Object(R.c)(this._ui.bar2, "scale(1, ".concat(this._params.bar2.s, ")")), Object(R.c)(this._ui.bar3, "scale(1, ".concat(this._params.bar3.s, ")"))
                }
            }]), e
        }()) || q) || q) || q),
        Be = n(143),
        Ne = n.n(Be),
        Ge = (n(251), Object(k.a)()(X = Object(k.e)()((Y = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onPreviousClick", (function () {
                    if (window.global.enableTransition) {
                        var e = Ee(window.global.index - 1, O.length);
                        window.global.goToIndex(e)
                    }
                })), L()(this, "_onNextClick", (function () {
                    if (window.global.enableTransition) {
                        var e = Ee(window.global.index + 1, O.length);
                        window.global.goToIndex(e)
                    }
                })), L()(this, "_onBackClick", (function () {
                    n._params.scrollTo.x = window.scrollX, n._params.scrollTo.y = window.scrollY, window.scrollY > 100 ? (n.removeEvents(), n._params.scrollNeedsUpdate = !0, gsap.killTweensOf(n._params.scrollTo), gsap.to(n._params.scrollTo, {
                        duration: 2,
                        y: 0,
                        ease: "Power4.easeInOut",
                        onComplete: function () {
                            M.a.router.navigateTo(h.b), n.addEvents(), n._params.scrollNeedsUpdate = !1
                        }
                    })) : window.scrollY > 0 ? (n.removeEvents(), n._params.scrollNeedsUpdate = !0, gsap.killTweensOf(n._params.scrollTo), gsap.to(n._params.scrollTo, {
                        duration: 1,
                        y: 0,
                        ease: "Power4.easeInOut",
                        onComplete: function () {
                            M.a.router.navigateTo(h.b), n.addEvents(), n._params.scrollNeedsUpdate = !1
                        }
                    })) : M.a.router.navigateTo(h.b)
                })), L()(this, "_onMenuClick", (function () {
                    M.a.router.navigateTo(h.c)
                })), this.el = t.parent.appendChild(Object(R.a)(Ne()())), this._ui = {
                    previous: this.el.querySelector(".js-shell__previous"),
                    next: this.el.querySelector(".js-shell__next"),
                    menu: this.el.querySelector(".js-shell__menu"),
                    back: this.el.querySelector(".js-shell__back"),
                    pager: this.el.querySelector(".js-shell__pager"),
                    scroll: this.el.querySelector(".js-shell__scroll"),
                    sound: this.el.querySelector(".js-shell__sound")
                }, this._params = {
                    menu: {
                        opacity: 0
                    },
                    back: {
                        opacity: 1
                    },
                    pager: {
                        opacity: 0
                    },
                    scrollTo: {
                        x: window.scrollX,
                        y: window.scrollY
                    },
                    showNeedsUpdate: !1,
                    activeNeedsUpdate: !1,
                    scrollNeedsUpdate: !1
                }, this._shellScroll = new Re({
                    parent: this._ui.scroll
                }), this._shellSound = new De({
                    parent: this._ui.sound
                }), this.addEvents(), this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    this._ui.back.addEventListener("click", this._onBackClick), this._ui.menu.addEventListener("click", this._onMenuClick), Signals.onResize.add(this._onResize)
                }
            }, {
                key: "removeEvents",
                value: function () {
                    this._ui.back.removeEventListener("click", this._onBackClick), this._ui.menu.removeEventListener("click", this._onMenuClick), Signals.onResize.remove(this._onResize)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this.el.style.display = "block", this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params.menu), gsap.killTweensOf(this._params.pager), gsap.to(this._params.menu, {
                        duration: .6,
                        opacity: 1,
                        delay: i,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    }), this._shellSound.show({
                        delay: i
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this.el.style.display = "none"
                }
            }, {
                key: "activate",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._params.activeNeedsUpdate = !0, gsap.killTweensOf(this._params.pager), gsap.to(this._params.pager, {
                        duration: 1,
                        opacity: 1,
                        delay: i,
                        ease: "Power2.easeOut"
                    }), gsap.killTweensOf(this._params.back), gsap.to(this._params.back, {
                        duration: 1,
                        opacity: 0,
                        delay: i,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.activeNeedsUpdate = !1
                        }
                    }), this._ui.previous.addEventListener("click", this._onPreviousClick), this._ui.next.addEventListener("click", this._onNextClick)
                }
            }, {
                key: "deactivate",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._params.activeNeedsUpdate = !0, gsap.killTweensOf(this._params.pager), gsap.to(this._params.pager, {
                        duration: 1,
                        opacity: 0,
                        delay: i,
                        ease: "Power2.easeOut"
                    }), gsap.killTweensOf(this._params.back), gsap.to(this._params.back, {
                        duration: 1,
                        opacity: 1,
                        delay: i,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.activeNeedsUpdate = !1
                        }
                    }), this._ui.previous.removeEventListener("click", this._onPreviousClick), this._ui.next.removeEventListener("click", this._onNextClick)
                }
            }, {
                key: "updatePage",
                value: function (e) {
                    e === h.d || e === h.a ? this._shellScroll.show({
                        delay: e === h.a ? 1 : 0
                    }) : this._shellScroll.hide()
                }
            }, {
                key: "_onResize",
                value: function (e, t) {}
            }, {
                key: "resize",
                value: function (e, t) {}
            }, {
                key: "update",
                value: function () {
                    this._shellScroll.update(), this._shellSound.update(), (this._params.showNeedsUpdate || this._params.activeNeedsUpdate) && this._updateCSS(), this._params.scrollNeedsUpdate && this._updateScroll()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this._ui.menu.style.opacity = this._params.menu.opacity, this._ui.back.style.opacity = this._params.back.opacity, this._ui.pager.style.opacity = this._params.pager.opacity
                }
            }, {
                key: "_updateScroll",
                value: function () {
                    window.scrollTo(this._params.scrollTo.x, this._params.scrollTo.y)
                }
            }]), e
        }(), c()(Y.prototype, "_onResize", [u.a], Object.getOwnPropertyDescriptor(Y.prototype, "_onResize"), Y.prototype), X = Y)) || X) || X),
        je = n(144),
        He = n.n(je),
        Fe = (n(252), Object(k.a)()(J = Object(k.e)()(J = Object(k.c)()(J = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onClick", (function () {
                    M.a.router.navigateTo(h.d, {
                        id: O[window.global.index].id
                    }), n.blur()
                })), L()(this, "_onMouseenter", (function () {
                    M.a.router.getLastRouteResolved().name !== h.d && n.focus()
                })), L()(this, "_onMouseleave", (function () {
                    M.a.router.getLastRouteResolved().name !== h.d && n.blur()
                })), L()(this, "_onResize", (function () {
                    n.resize()
                })), this.el = t.parent.appendChild(Object(R.a)(He()())), this._ui = {
                    title: this.el.querySelector(".js-projectHead__title"),
                    line1: this.el.querySelector(".js-projectHead__line1"),
                    line2: this.el.querySelector(".js-projectHead__line2"),
                    line3: this.el.querySelector(".js-projectHead__line3"),
                    letters: []
                }, this._params = {
                    opacity: 1,
                    letters: [],
                    showNeedsUpdate: !1,
                    focusNeedsUpdate: !1
                }, this._onFocus = t.onFocus || function () {}, this._onBlur = t.onBlur || function () {}, this._updateCSS(), this.resize()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    M.a.MOBILE || Signals.onResize.add(this._onResize), M.a.DESKTOP ? (this.el.addEventListener("click", this._onClick), this._ui.title.addEventListener("mouseenter", this._onMouseenter), this._ui.title.addEventListener("mouseleave", this._onMouseleave)) : (this._ui.line1.addEventListener("mouseenter", this._onClick), this._ui.line2.addEventListener("mouseenter", this._onClick), this._ui.line3.addEventListener("mouseenter", this._onClick)), this._ui.title.style.cursor = "pointer"
                }
            }, {
                key: "removeEvents",
                value: function () {
                    M.a.MOBILE || Signals.onResize.remove(this._onResize), M.a.DESKTOP ? (this.el.removeEventListener("click", this._onClick), this._ui.title.removeEventListener("mouseenter", this._onMouseenter), this._ui.title.removeEventListener("mouseleave", this._onMouseleave)) : (this._ui.line1.removeEventListener("mouseenter", this._onClick), this._ui.line2.removeEventListener("mouseenter", this._onClick), this._ui.line3.removeEventListener("mouseenter", this._onClick)), this._ui.title.style.cursor = "normal"
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n,
                        r = t.line1,
                        o = void 0 === r ? null : r,
                        a = t.line2,
                        s = void 0 === a ? null : a,
                        l = t.line3,
                        c = void 0 === l ? null : l,
                        u = t.color,
                        h = void 0 === u ? null : u;
                    if (this._params.showNeedsUpdate = !0, this.el.style.display = "block", o) {
                        this._ui.letters = [], this._params.letters = [];
                        for (var d = 0; d < o.length; d++) {
                            var p = o[d],
                                f = document.createElement("div");
                            f.classList.add("textGrid__letter"), f.classList.add("projectHead__letter"), f.textContent = p, Object(R.c)(f, "translate3d(0, ".concat(100, "%, 0)")), this._ui.line1.appendChild(f), this._ui.letters.push(f), this._params.letters.push({
                                y: 100
                            })
                        }
                    }
                    if (s)
                        for (var m = 0; m < s.length; m++) {
                            var v = s[m],
                                g = document.createElement("div");
                            g.classList.add("textGrid__letter"), g.classList.add("projectHead__letter"), g.textContent = v, Object(R.c)(g, "translate3d(0, ".concat(100, "%, 0)")), this._ui.line2.appendChild(g), this._ui.letters.push(g), this._params.letters.push({
                                y: 100
                            })
                        }
                    if (c)
                        for (var y = 0; y < c.length; y++) {
                            var _ = c[y],
                                b = document.createElement("div");
                            b.classList.add("textGrid__letter"), b.classList.add("projectHead__letter"), b.textContent = _, Object(R.c)(b, "translate3d(0, ".concat(100, "%, 0)")), this._ui.line3.appendChild(b), this._ui.letters.push(b), this._params.letters.push({
                                y: 100
                            })
                        }
                    h && (this.el.style.color = "rgb(".concat(h.r, ", ").concat(h.g, ", ").concat(h.b, ")"));
                    for (var w = 0; w < this._params.letters.length; w++) {
                        var x = this._params.letters[w];
                        gsap.killTweensOf(x), gsap.fromTo(x, {
                            y: 100
                        }, {
                            y: 0,
                            duration: 1,
                            ease: "Power4.easeOut",
                            delay: i + .1 * w,
                            onComplete: function (t) {
                                t === e._params.letters.length - 1 && (e._params.showNeedsUpdate = !1)
                            },
                            onCompleteParams: [w]
                        })
                    }
                    this.addEvents()
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n,
                        r = t.destroy,
                        o = void 0 !== r && r,
                        a = t.onComplete,
                        s = void 0 === a ? function () {} : a;
                    this._params.showNeedsUpdate = !0;
                    for (var l = 0; l < this._params.letters.length; l++) {
                        var c = this._params.letters[l];
                        gsap.killTweensOf(c), gsap.to(c, {
                            y: -100,
                            duration: 1,
                            ease: "Power4.easeOut",
                            delay: i + .075 * l,
                            onComplete: function (t) {
                                t === e._params.letters.length - 1 && (e._params.showNeedsUpdate = !1, o && e.destroy(), s())
                            },
                            onCompleteParams: [l]
                        })
                    }
                }
            }, {
                key: "deactivate",
                value: function () {}
            }, {
                key: "focus",
                value: function () {
                    var e = this;
                    this._params.focusNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        duration: .25,
                        opacity: .6,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.focusNeedsUpdate = !1
                        }
                    }), this._onFocus()
                }
            }, {
                key: "blur",
                value: function () {
                    var e = this;
                    this._params.focusNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        duration: .25,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.focusNeedsUpdate = !1
                        }
                    }), this._onBlur()
                }
            }, {
                key: "destroy",
                value: function () {
                    this.removeEvents(), this.el.remove()
                }
            }, {
                key: "resize",
                value: function () {
                    var e = window.innerWidth / 1950 * 10.4;
                    this._ui.title.style.fontSize = "".concat(e, "rem")
                }
            }, {
                key: "update",
                value: function () {
                    (this._params.showNeedsUpdate || this._params.focusNeedsUpdate) && this._updateCSS()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this.el.style.opacity = this._params.opacity;
                    for (var e = 0; e < this._ui.letters.length; e++) {
                        var t = this._ui.letters[e],
                            n = this._params.letters[e].y;
                        Object(R.c)(t, "translate3d(0, ".concat(n, "%, 0)"))
                    }
                }
            }]), e
        }()) || J) || J) || J),
        Ue = n(145),
        ze = n.n(Ue),
        Ve = (n(253), Object(k.e)()(K = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onResize", (function () {
                    n.resize()
                })), this.el = t.parent.appendChild(Object(R.a)(ze()())), this._ui = {
                    mention1: this.el.querySelector(".js-projectMentions__1"),
                    mention2: this.el.querySelector(".js-projectMentions__2")
                }, this._params = {
                    mention1: {
                        opacity: 0
                    },
                    mention2: {
                        opacity: 0
                    },
                    showNeedsUpdate: !1
                }, this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {}
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    t.line1, t.line2, t.line3, t.color;
                    this.el.style.display = "block", this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params.mention1), gsap.to(this._params.mention1, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params.mention2), gsap.to(this._params.mention2, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + .35,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    t.destroy, t.onComplete;
                    this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params.mention1), gsap.to(this._params.mention1, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params.mention2), gsap.to(this._params.mention2, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i + .35,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1, e.el.style.display = "none"
                        }
                    })
                }
            }, {
                key: "updateMentions",
                value: function () {
                    var e, t, n, i, o = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        a = o.mention1,
                        s = void 0 === a ? "" : a,
                        l = o.mention2,
                        c = void 0 === l ? "" : l,
                        u = o.color,
                        h = void 0 === u ? (t = (e = {}).r, r = void 0 === t ? 0 : t, n = e.g, g = void 0 === n ? 0 : n, i = e.b, b = void 0 === i ? 0 : i, e) : u;
                    this._ui.mention1.textContent = s, this._ui.mention2.textContent = c, this.el.style.color = "rgb(".concat(h.r, ", ").concat(h.g, ", ").concat(h.b, ")")
                }
            }, {
                key: "resize",
                value: function () {}
            }, {
                key: "update",
                value: function () {
                    this._params.showNeedsUpdate && this._updateCSS()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this._ui.mention1.style.opacity = this._params.mention1.opacity, this._ui.mention2.style.opacity = this._params.mention2.opacity
                }
            }]), e
        }()) || K),
        We = n(146),
        qe = n.n(We),
        Xe = (n(254), Object(k.e)()(Z = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onWindowMousemove", (function (e) {
                    n._params.xTg = e.clientX, n._params.yTg = e.clientY
                })), L()(this, "_onResize", (function () {
                    n.resize()
                })), this.el = t.parent.appendChild(Object(R.a)(qe()())), this._ui = {
                    img: this.el.querySelector(".js-linkHover__img")
                }, this._params = {
                    opacity: 0,
                    x: 0,
                    y: 0,
                    xTg: 0,
                    yTg: 0,
                    showNeedsUpdate: !1
                }, this._modelEl = null, this._updateCSS(), this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onWindowMousemove.add(this._onWindowMousemove)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n,
                        r = t.el,
                        o = t.src,
                        a = void 0 === o ? "" : o;
                    this.el.style.display = "block", this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params), gsap.to(this._params, {
                        duration: .25,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    }), this._modelEl = r, this._ui.img.src = a
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    t.destroy, t.onComplete;
                    this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params), gsap.to(this._params, {
                        duration: .25,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1, e.el.style.display = "none"
                        }
                    })
                }
            }, {
                key: "resize",
                value: function () {}
            }, {
                key: "update",
                value: function () {
                    this._params.showNeedsUpdate && this._updateCSS(), this.visible() && this._updatePosition()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this.el.style.opacity = this._params.opacity
                }
            }, {
                key: "_updatePosition",
                value: function () {
                    this._params.x += .1 * (this._params.xTg - this._params.x), this._params.y += .1 * (this._params.yTg - this._params.y);
                    var e = this._params.x - .5 * this._ui.img.offsetWidth,
                        t = this._params.y - .5 * this._ui.img.offsetHeight;
                    Object(R.c)(this.el, "translate3d(".concat(e, "px, ").concat(t, "px, 0)"))
                }
            }]), e
        }()) || Z),
        Ye = n(26),
        Je = n.n(Ye),
        Ke = Object(k.e)()($ = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onScroll", (function () {
                    n.visible() || (n._rect = n.el.getBoundingClientRect(), n._checkScroll())
                })), this.el = t.el, this._checkingScroll = t.checkingScroll || !1, this._wordOffset = t.wordOffset || 100, this._totalDuration = t.totalDuration || .25, this._duration = t.duration || 1, this._hideDuration = t.hideDuration || 1, this._showOffset = t.showOffset || .5, this._activeViewport = t.activeViewport || !1, this._delayOffset = t.delayOffset || .08, this._onStartCallback = t.onStart || function () {}, this._top = 0, this._hiding = !1, this.needsUpdate = !1, this._setup(), this.addEvents()
            }
            return s()(e, [{
                key: "_setup",
                value: function () {
                    Object(R.b)(this.el), this._ui = {
                        words: this.el.querySelectorAll(".js-textContainer__letter")
                    };
                    for (var e = 0; e < this._ui.words.length; e++) {
                        var t = this._ui.words[e];
                        t._y = this._wordOffset, t._opacity = 1, t._rotateX = -90, t.style.opacity = t._opacity, Object(R.c)(t, "translate3d(0,".concat(t._y, "%,0)"))
                    }
                }
            }, {
                key: "addEvents",
                value: function () {
                    this._checkingScroll && Signals.onScroll.add(this._onScroll)
                }
            }, {
                key: "show",
                value: function () {
                    for (var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = t.delay, i = void 0 === n ? 0 : n, r = t.onStart, o = void 0 === r ? function () {} : r, a = t.onComplete, s = void 0 === a ? function () {} : a, l = 0; l < this._ui.words.length; l++) {
                        var c = this._ui.words[l],
                            u = l * this._delayOffset;
                        gsap.killTweensOf(c), gsap.fromTo(c, this._duration, {
                            _y: this._wordOffset
                        }, {
                            _y: 0,
                            ease: "Power4.easeOut",
                            delay: i + u,
                            onStart: function (t) {
                                0 === t && o(), e.needsUpdate || (e.needsUpdate = !0)
                            },
                            onComplete: function (t) {
                                t === e._ui.words.length - 1 && (e.needsUpdate = !1, s())
                            },
                            onStartParams: [l],
                            onCompleteParams: [l]
                        })
                    }
                }
            }, {
                key: "hide",
                value: function () {
                    for (var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = t.delay, i = void 0 === n ? 0 : n, r = t.onComplete, o = void 0 === r ? function () {} : r, a = 0; a < this._ui.words.length; a++) {
                        var s = this._ui.words[a],
                            l = a / this._ui.words.length * this._totalDuration;
                        gsap.killTweensOf(s), gsap.to(s, this._hideDuration, {
                            _opacity: 0,
                            ease: "Power2.easeInOut",
                            delay: i + l
                        }), gsap.to(s, this._hideDuration, {
                            _y: -this._wordOffset,
                            ease: "Power4.easeInOut",
                            delay: i + l,
                            onStart: function () {
                                e.needsUpdate || (e.needsUpdate = !0)
                            },
                            onComplete: function (t) {
                                t === e._ui.words.length - 1 && (e.needsUpdate = !1, o())
                            },
                            onCompleteParams: [a]
                        })
                    }
                }
            }, {
                key: "update",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.scrolling,
                        n = void 0 !== t && t;
                    this._activeViewport && this._checkViewport(n), this.needsUpdate && this._updateWords()
                }
            }, {
                key: "_checkScroll",
                value: function () {
                    var e = this;
                    this._rect.top < window.innerHeight * this._showOffset && 0 !== this._rect.top && this.show({
                        onStart: function () {
                            e._onStartCallback()
                        }
                    })
                }
            }, {
                key: "_updateWords",
                value: function () {
                    for (var e = 0; e < this._ui.words.length; e++) {
                        var t = this._ui.words[e];
                        0 === t._y && 0 === t._rotateX ? Object(R.c)(t, "inherit") : Object(R.c)(t, "translate3d(0,".concat(t._y, "%,0)"))
                    }
                }
            }]), e
        }()) || $,
        Ze = n(147),
        $e = n.n(Ze),
        Qe = (n(255), Object(k.e)()(Q = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onScroll", (function () {
                    n._rect = n._parent.getBoundingClientRect(), n.visible() || n._checkScroll()
                })), L()(this, "_onResize", (function () {
                    n.resize()
                })), this._parent = t.parent, this.el = t.parent.appendChild(Object(R.a)($e()())), this._ui = {
                    pager: this.el.querySelector(".js-projectFirstSection__pager"),
                    record: this.el.querySelector(".js-projectFirstSection__record"),
                    date: this.el.querySelector(".js-projectFirstSection__date"),
                    label: this.el.querySelector(".js-projectFirstSection__label"),
                    producer: this.el.querySelector(".js-projectFirstSection__producer"),
                    description: this.el.querySelector(".js-projectFirstSection__description"),
                    topLine: this.el.querySelector(".js-projectFirstSection__topLine"),
                    releaseDate: this.el.querySelector(".js-projectFirstSection__releaseDate"),
                    labelGroup: this.el.querySelector(".js-projectFirstSection__labelGroup"),
                    producerGroup: this.el.querySelector(".js-projectFirstSection__producerGroup"),
                    bottomLine: this.el.querySelector(".js-projectFirstSection__bottomLine")
                }, this._params = {
                    pager: {
                        opacity: 0
                    },
                    description: {
                        opacity: 0
                    },
                    topLine: {
                        scale: 0
                    },
                    releaseDate: {
                        opacity: 0
                    },
                    labelGroup: {
                        opacity: 0
                    },
                    producerGroup: {
                        opacity: 0
                    },
                    bottomLine: {
                        scale: 0
                    },
                    showNeedsUpdate: !1
                }, this._record = new Ke({
                    el: this._ui.record
                }), this._rect = this.el.getBoundingClientRect(), this._updateCSS(), this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onScroll.add(this._onScroll), Signals.onResize.add(this._onResize)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this.el.style.visibility = "visible", this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params.pager), gsap.to(this._params.pager, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i
                    }), this._record.show({
                        delay: i
                    }), gsap.killTweensOf(this._params.description), gsap.to(this._params.description, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + .1
                    }), gsap.killTweensOf(this._params.topLine), gsap.to(this._params.topLine, {
                        duration: 1,
                        scale: 1,
                        ease: "Power4.easeOut",
                        delay: i + .25
                    }), gsap.killTweensOf(this._params.releaseDate), gsap.to(this._params.releaseDate, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + .3
                    }), this._date.show({
                        delay: i + .35
                    }), gsap.killTweensOf(this._params.labelGroup), gsap.to(this._params.labelGroup, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + .5
                    }), gsap.killTweensOf(this._params.producerGroup), gsap.to(this._params.producerGroup, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + .65
                    }), gsap.killTweensOf(this._params.bottomLine), gsap.to(this._params.bottomLine, {
                        duration: 1,
                        scale: 1,
                        ease: "Power4.easeOut",
                        delay: i + .8,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    Je()(e), this.el.style.visibility = "hidden", gsap.killTweensOf(this._params.pager), gsap.killTweensOf(this._params.description), gsap.killTweensOf(this._params.topLine), gsap.killTweensOf(this._params.releaseDate), gsap.killTweensOf(this._params.labelGroup), gsap.killTweensOf(this._params.producerGroup), gsap.killTweensOf(this._params.bottomLine), this._params.pager.opacity = 0, this._params.description.opacity = 0, this._params.topLine.scale = 0, this._params.releaseDate.opacity = 0, this._params.labelGroup.opacity = 0, this._params.producerGroup.opacity = 0, this._params.bottomLine.scale = 0, this._record.hide(), this._updateCSS()
                }
            }, {
                key: "updateContent",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.date,
                        n = void 0 === t ? "" : t,
                        i = e.label,
                        r = void 0 === i ? "" : i,
                        o = e.producer,
                        a = void 0 === o ? "" : o,
                        s = e.description,
                        l = void 0 === s ? "" : s,
                        c = e.text_color,
                        u = void 0 === c ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : c,
                        h = e.subtitle_color,
                        d = void 0 === h ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : h;
                    this._ui.date.innerHTML = n, this._ui.label.innerHTML = r, this._ui.producer.innerHTML = a, this._ui.description.innerHTML = l, this._ui.topLine.style.backgroundColor = "rgb(".concat(u.r, ", ").concat(u.g, ", ").concat(u.b, ")"), this._ui.bottomLine.style.backgroundColor = "rgb(".concat(u.r, ", ").concat(u.g, ", ").concat(u.b, ")"), this._ui.pager.style.color = "rgb(".concat(d.r, ", ").concat(d.g, ", ").concat(d.b, ")"), this._ui.record.style.color = "rgb(".concat(d.r, ", ").concat(d.g, ", ").concat(d.b, ")"), this._date = new Ke({
                        el: this._ui.date
                    })
                }
            }, {
                key: "resize",
                value: function () {}
            }, {
                key: "update",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.active;
                    this._params.showNeedsUpdate && this._updateCSS(), this._record && this._record.update(), this._date && this._date.update()
                }
            }, {
                key: "_checkScroll",
                value: function () {
                    this._rect.top < .75 * window.innerHeight && 0 !== this._rect.top && this.show()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this._ui.pager.style.opacity = this._params.pager.opacity, this._ui.description.style.opacity = this._params.description.opacity, Object(R.c)(this._ui.topLine, "scale(".concat(this._params.topLine.scale, ", 1)")), this._ui.releaseDate.style.opacity = this._params.releaseDate.opacity, this._ui.labelGroup.style.opacity = this._params.labelGroup.opacity, this._ui.producerGroup.style.opacity = this._params.producerGroup.opacity, Object(R.c)(this._ui.bottomLine, "scale(".concat(this._params.topLine.scale, ", 1)"))
                }
            }]), e
        }()) || Q),
        et = Object(k.e)()(ee = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onScroll", (function () {
                    n.visible() || (n._rect = n.el.getBoundingClientRect(), n._checkScroll())
                })), this.el = t.el, this._image = t.img, this._checkingScroll = t.checkingScroll || !1, this._onStartCallback = t.onStart || function () {}, this._limit = t.limit || .7, this._setup(), this.addEvents()
            }
            return s()(e, [{
                key: "_setup",
                value: function () {
                    this._container = document.createElement("div"), this._container.classList.add("baseImg__container"), this._container.appendChild(this._image), this.el.appendChild(this._container), this._showNeedsUpdate = !1, this._scale = 0, this._opacity = 0, this._image._scale = 1.1, this.el.style.opacity = 0, this.el.style.overflow = "hidden", this.el.style.transformOrigin = "right center", this._container.style.transformOrigin = "right center", Object(R.c)(this._image, "scale(1.1, 1.1)")
                }
            }, {
                key: "addEvents",
                value: function () {
                    this._checkingScroll && Signals.onScroll.add(this._onScroll)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n,
                        r = t.onStart,
                        o = void 0 === r ? function () {} : r;
                    this._showNeedsUpdate = !0, gsap.killTweensOf(this, {
                        _scale: !0,
                        _opacity: !0
                    }), gsap.fromTo(this, 1.5, {
                        _scale: 0
                    }, {
                        _scale: 1,
                        ease: "Power4.easeOut",
                        delay: i
                    }), gsap.to(this, 1.5, {
                        _opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i,
                        onStart: o,
                        onComplete: function () {
                            Object(R.c)(e.el, "inherit"), Object(R.c)(e._container, "inherit")
                        }
                    }), gsap.fromTo(this._image, 5, {
                        _scale: 1.1
                    }, {
                        _scale: 1,
                        ease: "Power4.easeOut",
                        delay: i,
                        onComplete: function () {
                            Object(R.c)(e.el, "inherit"), Object(R.c)(e._container, "inherit"), Object(R.c)(e._image, "inherit"), e._showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._showNeedsUpdate = !0, gsap.killTweensOf(this, {
                        _scale: !0,
                        _opacity: !0
                    }), gsap.to(this, 1.5, {
                        _scale: 0,
                        ease: "Power4.easeOut",
                        delay: i
                    }), gsap.to(this, 1.5, {
                        _opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i,
                        onComplete: function () {
                            e._showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "update",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.scrolling;
                    this._showNeedsUpdate && this._updateCSS()
                }
            }, {
                key: "_checkScroll",
                value: function () {
                    var e = this;
                    this._rect.top < .75 * window.innerHeight && 0 !== this._rect.top && this.show({
                        onStart: function () {
                            e._onStartCallback()
                        }
                    })
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    var e = this._scale,
                        t = this._opacity,
                        n = this._image._scale;
                    if (1 !== e) {
                        this.el.style.opacity = t, Object(R.c)(this.el, "scale(".concat(e, ", 1)"));
                        var i = 0 === e ? 0 : Math.min(4, 1 / e);
                        Object(R.c)(this._container, "scale(".concat(i, ", 1)"))
                    }
                    1 !== n && Object(R.c)(this._image, "scale(".concat(n, ", ").concat(n, ")"))
                }
            }]), e
        }()) || ee,
        tt = n(148),
        nt = n.n(tt),
        it = (n(256), Object(k.e)()(te = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onScroll", (function () {
                    n._rect = n._parent.getBoundingClientRect(), n.visible() || n._checkScroll()
                })), L()(this, "_onResize", (function () {
                    n.resize()
                })), this._parent = t.parent, this.el = t.parent.appendChild(Object(R.a)(nt()())), this._ui = {
                    pager: this.el.querySelector(".js-projectSecondSection__pager"),
                    band: this.el.querySelector(".js-projectSecondSection__band"),
                    list: this.el.querySelector(".js-projectSecondSection__list"),
                    expression: this.el.querySelector(".js-projectSecondSection__expression"),
                    expressionText: this.el.querySelector(".js-projectSecondSection__expressionText"),
                    expressionMilesDavis: this.el.querySelector(".js-projectSecondSection__expressionMilesDavis"),
                    expressionImg: this.el.querySelector(".js-projectSecondSection__expressionImg"),
                    subContainers: [],
                    bottomLines: []
                }, this._params = {
                    pager: {
                        opacity: 0
                    },
                    milesDavis: {
                        opacity: 0
                    },
                    subContainers: [],
                    bottomLines: [],
                    showNeedsUpdate: !1,
                    show2NeedsUpdate: !1
                }, this._band = new Ke({
                    el: this._ui.band
                }), this._rect = this.el.getBoundingClientRect(), this._updateCSS(), this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onScroll.add(this._onScroll), Signals.onResize.add(this._onResize)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this.el.style.visibility = "visible", this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params.pager), gsap.to(this._params.pager, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i
                    }), this._band.show({
                        delay: i
                    });
                    for (var r = function (t) {
                            var n = e._params.subContainers[t],
                                r = e._params.bottomLines[t];
                            gsap.killTweensOf(n), gsap.to(n, {
                                duration: 2,
                                opacity: 1,
                                ease: "Power2.easeOut",
                                delay: i + .1 * t + .65
                            }), gsap.killTweensOf(r), gsap.to(r, {
                                duration: 2,
                                scale: 1,
                                ease: "Power4.easeOut",
                                delay: i + .1 * t + .65,
                                onComplete: function (n) {
                                    t === e._params.subContainers.length - 1 && (e._params.showNeedsUpdate = !1)
                                },
                                onCompleteParams: [t]
                            }), .1
                        }, o = 0; o < this._params.subContainers.length; o++) r(o)
                }
            }, {
                key: "hide",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    Je()(e), this.el.style.visibility = "hidden", gsap.killTweensOf(this._params.pager), this._params.pager.opacity = 0, this._band.hide(), this._expressionText.hide(), this._albumImg.hide(), this._updateCSS()
                }
            }, {
                key: "updateContent",
                value: function () {
                    for (var e, t, n, i = this, r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, o = r.expression, a = void 0 === o ? (t = (e = {}).expressionText, expressionText = void 0 === t ? "" : t, n = e.expressionImg, expressionImg = void 0 === n ? "" : n, e) : o, s = r.band, l = void 0 === s ? [] : s, c = r.text_color, u = void 0 === c ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : c, h = r.subtitle_color, d = void 0 === h ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : h, p = r.background_color, f = void 0 === p ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : p; this._ui.list.firstChild;) this._ui.list.removeChild(this._ui.list.lastChild);
                    for (; this._ui.expressionText.firstChild;) this._ui.expressionText.removeChild(this._ui.expressionText.lastChild);
                    for (; this._ui.expressionImg.firstChild;) this._ui.expressionImg.removeChild(this._ui.expressionImg.lastChild);
                    this._ui.subContainers = [], this._ui.bottomLines = [], this._params.subContainers = [], this._params.bottomLines = [];
                    for (var m = 0; m < l.length; m++) {
                        var v = l[m],
                            g = document.createElement("div");
                        g.classList.add("projectSecondSection__item");
                        var y = document.createElement("div");
                        y.classList.add("projectSecondSection__subcontainer");
                        var _ = document.createElement("div");
                        _.classList.add("projectSecondSection__artist"), _.textContent = v.artist, y.appendChild(_);
                        var b = document.createElement("div");
                        b.classList.add("projectSecondSection__role"), b.classList.add("font-italic"), b.textContent = v.role, y.appendChild(b);
                        var w = document.createElement("div");
                        w.classList.add("projectSecondSection__bottomLine"), w.style.backgroundColor = "rgb(".concat(u.r, ", ").concat(u.g, ", ").concat(u.b, ")"), this._ui.pager.style.color = "rgb(".concat(d.r, ", ").concat(d.g, ", ").concat(d.b, ")"), this._ui.band.style.color = "rgb(".concat(d.r, ", ").concat(d.g, ", ").concat(d.b, ")"), this._ui.subContainers.push(y), this._params.subContainers.push({
                            opacity: 0
                        }), g.appendChild(y), this._ui.bottomLines.push(w), this._params.bottomLines.push({
                            scale: 0
                        }), g.appendChild(w), this._ui.list.appendChild(g)
                    }
                    this._ui.expressionText.textContent = a.expressionText, this._ui.expressionText.style.webkitTextFillColor = "rgba(".concat(f.r, ", ").concat(f.g, ", ").concat(f.b, ", 0)"), this._ui.expressionText.style.webkitTextStroke = "1px rgb(".concat(u.r, ", ").concat(u.g, ", ").concat(u.b, ")"), this._expressionText = new Ke({
                        el: this._ui.expressionText,
                        checkingScroll: !0,
                        delayOffset: .05,
                        duration: .75,
                        onStart: function () {
                            i._params.show2NeedsUpdate = !0, gsap.killTweensOf(i._params.milesDavis), gsap.to(i._params.milesDavis, {
                                duration: 2,
                                opacity: 1,
                                ease: "Power2.easeOut",
                                delay: 2,
                                onComplete: function () {
                                    i._params.show2NeedsUpdate = !1
                                }
                            })
                        }
                    });
                    var x = new Image;
                    x.src = a.img, this._albumImg = new et({
                        el: this._ui.expressionImg,
                        checkingScroll: !0,
                        img: x
                    })
                }
            }, {
                key: "resize",
                value: function () {}
            }, {
                key: "update",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.active;
                    (this._params.showNeedsUpdate || this._params.show2NeedsUpdate) && this._updateCSS(), this._band && this._band.update(), this._expressionText && this._expressionText.update(), this._albumImg && this._albumImg.update()
                }
            }, {
                key: "_checkScroll",
                value: function () {
                    this._rect.top < .75 * window.innerHeight && 0 !== this._rect.top && this.show()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this._ui.pager.style.opacity = this._params.pager.opacity, this._ui.expressionMilesDavis.style.opacity = this._params.milesDavis.opacity;
                    for (var e = 0; e < this._ui.subContainers.length; e++) {
                        var t = this._ui.subContainers[e],
                            n = this._ui.bottomLines[e];
                        t.style.opacity = this._params.subContainers[e].opacity, Object(R.c)(n, "scale(".concat(this._params.bottomLines[e].scale, ", 1)"))
                    }
                }
            }]), e
        }()) || te),
        rt = n(149),
        ot = n.n(rt),
        at = Object(k.a)(!1)(ne = Object(k.c)()(ne = Object(k.e)(!0)((ie = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onClick", (function () {
                    n._onClickCallback()
                })), L()(this, "_onMouseenter", (function () {
                    n.focus()
                })), L()(this, "_onMouseleave", (function () {
                    n.blur()
                })), this.el = t.parent.appendChild(Object(R.a)(ot()())), this._onClickCallback = t.onClick, this._index = t.index, 0 === this._index ? this.el.classList.add("projectDisc__sound1") : 1 === this._index ? this.el.classList.add("projectDisc__sound2") : this.el.classList.add("projectDisc__sound3"), this._ui = {
                    title: this.el.querySelector(".js-projectDisc__title"),
                    bar: this.el.querySelector(".js-projectDisc__bar"),
                    circle: this.el.querySelector(".js-projectDisc__circle"),
                    sound: this.el.querySelector(".js-projectDisc__svgSound")
                }, this._params = {
                    opacity: 1,
                    bar: {
                        scale: 1
                    },
                    color: {
                        r: 29,
                        g: 29,
                        b: 27
                    },
                    svg: {
                        opacity: 0,
                        opacityTg: 0,
                        sine: 0
                    },
                    activeNeedsUpdate: !1,
                    focusNeedsUpdate: !1,
                    colorNeedsUpdate: !1
                }, this._color = this._params.color, this._color2 = this._params.color, this.addEvents(), this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onResize.add(this._onResize), this.el.addEventListener("click", this._onClick), this.el.addEventListener("mouseenter", this._onMouseenter), this.el.addEventListener("mouseleave", this._onMouseleave)
                }
            }, {
                key: "show",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay
                }
            }, {
                key: "hide",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay
                }
            }, {
                key: "activate",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.duration,
                        i = void 0 === n ? 1 : n;
                    t.delay;
                    this._params.activeNeedsUpdate = !0, this.el.style.color = "rgb(".concat(this._color2.r, ", ").concat(this._color2.g, ", ").concat(this._color2.b, ")"), gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        opacity: 1,
                        duration: i,
                        ease: "Power2.easeOut"
                    }), gsap.killTweensOf(this._params.bar), gsap.to(this._params.bar, {
                        scale: 1,
                        duration: i,
                        ease: "Power4.easeOut",
                        onComplete: function () {
                            e._params.activeNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "deactivate",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.duration,
                        i = void 0 === n ? 1 : n;
                    t.delay;
                    this._params.activeNeedsUpdate = !0, this.el.style.color = "rgb(".concat(this._color.r, ", ").concat(this._color.g, ", ").concat(this._color.b, ")"), gsap.killTweensOf(this._params.svg), gsap.to(this._params.svg, {
                        opacity: 0,
                        opacityTg: 0,
                        duration: i,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.activeNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "focus",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.duration,
                        i = void 0 === n ? .6 : n;
                    t.delay;
                    this.active() || (this._params.focusNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        opacity: .6,
                        duration: i,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.focusNeedsUpdate = !1
                        }
                    }))
                }
            }, {
                key: "blur",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.duration,
                        i = void 0 === n ? .6 : n;
                    t.delay;
                    this.active() || (this._params.focusNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        opacity: 1,
                        duration: i,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.focusNeedsUpdate = !1
                        }
                    }))
                }
            }, {
                key: "updateColor",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.color,
                        i = void 0 === n ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : n,
                        r = t.color2,
                        o = void 0 === r ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : r,
                        a = t.duration,
                        s = void 0 === a ? .25 : a;
                    t.delay;
                    this._params.colorNeedsUpdate = !0, this._color = i, this._color2 = o, this.el.style.color = "rgb(".concat(i.r, ", ").concat(i.g, ", ").concat(i.b, ")"), gsap.killTweensOf(this._params.color), gsap.to(this._params.color, {
                        r: i.r,
                        g: i.g,
                        b: i.b,
                        duration: s,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.colorNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "updateTitle",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.title,
                        n = void 0 === t ? "" : t;
                    this._ui.title.textContent = n
                }
            }, {
                key: "_onResize",
                value: function (e, t) {
                    this.resize(e, t)
                }
            }, {
                key: "resize",
                value: function (e, t) {}
            }, {
                key: "update",
                value: function () {
                    (this._params.colorNeedsUpdate || this._params.activeNeedsUpdate || this._params.focusNeedsUpdate || this.active()) && this._updateCSS()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this.el.style.opacity = this._params.opacity;
                    var e = this.active() ? this._color2.r : this._color.r,
                        t = this.active() ? this._color2.g : this._color.g,
                        n = this.active() ? this._color2.b : this._color.b;
                    this._ui.bar.style.backgroundColor = "rgb(".concat(e, ", ").concat(t, ", ").concat(n, ")"), this._ui.circle.style.borderColor = "rgb(".concat(e, ", ").concat(t, ", ").concat(n, ")"), this._ui.sound.style.fill = "rgb(".concat(e, ", ").concat(t, ", ").concat(n, ")"), this.active() && (this._params.svg.sine = (this._params.svg.sine + .01) % 1, this._params.svg.opacity = .5 * (Math.sin(this._params.svg.sine * Math.PI * 2) + 1)), this._ui.sound.style.opacity = this._params.svg.opacity, Object(R.c)(this._ui.bar, "scale(".concat(this._params.bar.scale, ", 1)"))
                }
            }]), e
        }(), c()(ie.prototype, "_onResize", [u.a], Object.getOwnPropertyDescriptor(ie.prototype, "_onResize"), ie.prototype), ne = ie)) || ne) || ne) || ne,
        st = n(150),
        lt = n.n(st),
        ct = (n(257), Object(k.a)()(re = Object(k.e)()((oe = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onScroll", (function () {
                    n.visible() && (n._rect = n.el.getBoundingClientRect(), n._scrollLimit = n._rect.top + n.el.offsetHeight)
                })), L()(this, "_onSound1Click", (function () {
                    n._title1.active() || (n._params.dotNeedsUpdate = !0, n._title1.activate(), n._title2.deactivate(), n._title3.deactivate(), AudioController.stopAll(), AudioController.removeEventListener("crackling"), AudioController.playSound("crackling", {
                        volume: .5,
                        onEnded: function () {
                            AudioController.playSound(O[window.global.index].sounds[0].id, {
                                loop: !0
                            })
                        }
                    }))
                })), L()(this, "_onSound2Click", (function () {
                    n._title2.active() || (n._params.dotNeedsUpdate = !0, n._title1.deactivate(), n._title2.activate(), n._title3.deactivate(), AudioController.stopAll(), AudioController.removeEventListener("crackling"), AudioController.playSound("crackling", {
                        volume: .5,
                        onEnded: function () {
                            AudioController.playSound(O[window.global.index].sounds[1].id, {
                                loop: !0
                            })
                        }
                    }))
                })), L()(this, "_onSound3Click", (function () {
                    n._title3.active() || (n._params.dotNeedsUpdate = !0, n._title1.deactivate(), n._title2.deactivate(), n._title3.activate(), AudioController.stopAll(), AudioController.removeEventListener("crackling"), AudioController.playSound("crackling", {
                        volume: .5,
                        onEnded: function () {
                            AudioController.playSound(O[window.global.index].sounds[2].id, {
                                loop: !0
                            })
                        }
                    }))
                })), this.el = t.parent.appendChild(Object(R.a)(lt()())), this._onCallbackCircleClick = t.onClick, this._ui = {
                    sounds: this.el.querySelector(".js-projectDisc__sounds"),
                    dot: this.el.querySelector(".js-projectDisc__dot"),
                    svg: this.el.querySelector(".js-projectDisc__svg")
                }, window.x = .524, window.y = .338, this._scrollLimit = 0, this._index = 0, this._scrollLimit = 0, this._params = {
                    angle: 0,
                    angleTg: 0,
                    angleAdd: 0,
                    opacity: 0,
                    dot: {
                        x: 0,
                        y: 0
                    },
                    color: {
                        r: 29,
                        g: 29,
                        b: 27
                    },
                    color2: {
                        r: 29,
                        g: 29,
                        b: 27
                    },
                    deactivating: !1,
                    showNeedsUpdate: !1,
                    soundNeedsUpdate: !1,
                    colorNeedsUpdate: !1,
                    dotNeedsUpdate: !1
                }, this._title1 = new at({
                    parent: this._ui.sounds,
                    index: 0,
                    onClick: function () {
                        n._onSound1Click()
                    }
                }), this._title2 = new at({
                    parent: this._ui.sounds,
                    index: 1,
                    onClick: function () {
                        n._onSound2Click()
                    }
                }), this._title3 = new at({
                    parent: this._ui.sounds,
                    index: 2,
                    onClick: function () {
                        n._onSound3Click()
                    }
                }), this.addEvents(), this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onResize.add(this._onResize), Signals.onScroll.add(this._onScroll)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._params.showNeedsUpdate = !0, this._params.dotNeedsUpdate = !0, gsap.killTweensOf(this._params), gsap.to(this._params, {
                        duration: 2,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i,
                        onStart: function () {},
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    }), this._title1.activate()
                }
            }, {
                key: "hide",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this._params.opacity = 0, this._title1.deactivate(), this._title2.deactivate(), this._title3.deactivate(), this._updateCSS()
                }
            }, {
                key: "activate",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.duration,
                        n = void 0 === t ? 1 : t;
                    e.delay;
                    this._params.deactivating = !1, gsap.killTweensOf(this._params, {
                        angleAdd: !0
                    }), gsap.to(this._params, {
                        angleAdd: 1,
                        duration: n,
                        ease: "Power4.easeOut"
                    })
                }
            }, {
                key: "deactivate",
                value: function () {
                    this._params.deactivating = !1
                }
            }, {
                key: "_delayedDeactivate",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.duration,
                        n = void 0 === t ? 1 : t,
                        i = e.delay,
                        r = void 0 === i ? 0 : i;
                    this._params.deactivating = !0, gsap.killTweensOf(this._params, {
                        angleAdd: !0
                    }), gsap.to(this._params, {
                        angleAdd: 0,
                        duration: n,
                        delay: r,
                        ease: "Power4.easeOut"
                    })
                }
            }, {
                key: "updateColor",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.color,
                        i = void 0 === n ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : n,
                        r = t.color2,
                        o = void 0 === r ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : r,
                        a = t.duration,
                        s = void 0 === a ? .25 : a;
                    t.delay;
                    this._params.colorNeedsUpdate = !0, gsap.killTweensOf(this._params.color2), gsap.to(this._params.color2, {
                        r: o.r,
                        g: o.g,
                        b: o.b,
                        duration: s,
                        ease: "Power2.easeOut"
                    }), gsap.killTweensOf(this._params.color), gsap.to(this._params.color, {
                        r: i.r,
                        g: i.g,
                        b: i.b,
                        duration: s,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.colorNeedsUpdate = !1
                        }
                    }), this._title1.updateColor({
                        color: i,
                        color2: o
                    }), this._title2.updateColor({
                        color: i,
                        color2: o
                    }), this._title3.updateColor({
                        color: i,
                        color2: o
                    })
                }
            }, {
                key: "updateTitles",
                value: function (e) {
                    this._title1.updateTitle({
                        title: e[0].title
                    }), this._title2.updateTitle({
                        title: e[1].title
                    }), this._title3.updateTitle({
                        title: e[2].title
                    })
                }
            }, {
                key: "_onResize",
                value: function (e, t) {
                    this.resize(e, t)
                }
            }, {
                key: "resize",
                value: function (e, t) {
                    this._params.dotNeedsUpdate = !0
                }
            }, {
                key: "update",
                value: function () {
                    this._title1.update(), this._title2.update(), this._title3.update(), (this._params.showNeedsUpdate || this._params.openNeedsUpdate || this._params.hoverNeedsUpdate || this._params.colorNeedsUpdate || this._params.dotNeedsUpdate) && this._updateCSS(), this.active() && this._scrollLimit >= 0 && this._updateRotation()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this.el.style.opacity = this._params.opacity;
                    var e = this._params.color.r,
                        t = this._params.color.g,
                        n = this._params.color.b;
                    if (this._ui.svg.style.fill = "rgb(".concat(e, ", ").concat(t, ", ").concat(n, ")"), this._index = 0, this._index = this._title2.active() ? 1 : this._index, this._index = this._title3.active() ? 2 : this._index, 0 === this._index) {
                        var i = M.a.MOBILE ? .4 * this.el.offsetWidth + .5 * this._title1.el.offsetWidth - 4.5 : .5 * this.el.offsetWidth + .5 * this._title1.el.offsetWidth - 4.5,
                            r = M.a.MOBILE ? .2 * this.el.offsetHeight + .5 * this._title1.el.offsetHeight + 17.5 : .3 * this.el.offsetHeight + .5 * this._title1.el.offsetHeight + .33 * this._title1.el.offsetHeight;
                        this._params.dot.x += .03 * (i - this._params.dot.x), this._params.dot.y += .03 * (r - this._params.dot.y), Math.abs(this._params.dot.x - i) < .1 && Math.abs(this._params.dot.y - r) < .1 && (this._params.dot.x = i, this._params.dot.y = r, this._params.dotNeedsUpdate = !1), Object(R.c)(this._ui.dot, "translate3d(".concat(this._params.dot.x, "px, ").concat(this._params.dot.y, "px, 0)"))
                    } else if (1 === this._index) {
                        var o = M.a.MOBILE ? .1 * this.el.offsetWidth + .5 * this._title2.el.offsetWidth - 4.5 : .23 * this.el.offsetWidth + .5 * this._title2.el.offsetWidth - 4.5,
                            a = M.a.MOBILE ? .5 * this.el.offsetHeight + .5 * this._title2.el.offsetHeight + 17.5 : .5 * this.el.offsetHeight + .5 * this._title2.el.offsetHeight + .33 * this._title2.el.offsetHeight;
                        this._params.dot.x += .03 * (o - this._params.dot.x), this._params.dot.y += .03 * (a - this._params.dot.y), Math.abs(this._params.dot.x - o) < .1 && Math.abs(this._params.dot.y - a) < .1 && (this._params.dot.x = o, this._params.dot.y = a, this._params.dotNeedsUpdate = !1), Object(R.c)(this._ui.dot, "translate3d(".concat(this._params.dot.x, "px, ").concat(this._params.dot.y, "px, 0)"))
                    } else {
                        var s = M.a.MOBILE ? .4 * this.el.offsetWidth + .5 * this._title3.el.offsetWidth - 4.5 : .7 * this.el.offsetWidth + .5 * this._title3.el.offsetWidth - 4.5,
                            l = M.a.MOBILE ? .75 * this.el.offsetHeight + .85 * this._title3.el.offsetHeight - 4.5 : .6 * this.el.offsetHeight + .5 * this._title3.el.offsetHeight + .33 * this._title3.el.offsetHeight;
                        this._params.dot.x += .03 * (s - this._params.dot.x), this._params.dot.y += .03 * (l - this._params.dot.y), Math.abs(this._params.dot.x - s) < .1 && Math.abs(this._params.dot.y - l) < .1 && (this._params.dot.x = s, this._params.dot.y = l, this._params.dotNeedsUpdate = !1), Object(R.c)(this._ui.dot, "translate3d(".concat(this._params.dot.x, "px, ").concat(this._params.dot.y, "px, 0)"))
                    }
                }
            }, {
                key: "_updateRotation",
                value: function () {
                    this._params.angleTg += this._params.angleAdd, this._params.angle += .05 * (this._params.angleTg - this._params.angle);
                    var e = this._params.angle % 360;
                    Object(R.c)(this._ui.svg, "rotate(".concat(e, "deg)"));
                    var t = this._params.color.r,
                        n = this._params.color.g,
                        i = this._params.color.b,
                        r = this._params.color2.r,
                        o = this._params.color2.g,
                        a = this._params.color2.b;
                    this._ui.svg.style.fill = "rgb(".concat(t, ", ").concat(n, ", ").concat(i, ")"), this._ui.dot.style.background = "rgb(".concat(r, ", ").concat(o, ", ").concat(a, ")")
                }
            }]), e
        }(), c()(oe.prototype, "_onResize", [u.a], Object.getOwnPropertyDescriptor(oe.prototype, "_onResize"), oe.prototype), re = oe)) || re) || re),
        ut = n(151),
        ht = n.n(ut),
        dt = (n(258), Object(k.e)()(ae = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onScroll", (function () {
                    n._rect = n._parent.getBoundingClientRect(), n.visible() || n._checkScroll()
                })), L()(this, "_onResize", (function () {
                    n.resize()
                })), this._parent = t.parent, this.el = t.parent.appendChild(Object(R.a)(ht()())), this._ui = {
                    pager: this.el.querySelector(".js-projectThirdSection__pager"),
                    sound: this.el.querySelector(".js-projectThirdSection__sound"),
                    disc: this.el.querySelector(".js-projectThirdSection__disc"),
                    description: this.el.querySelector(".js-projectThirdSection__description")
                }, this._params = {
                    pager: {
                        opacity: 0
                    },
                    description: {
                        opacity: 0
                    },
                    subContainers: [],
                    bottomLines: [],
                    showNeedsUpdate: !1
                }, this._sound = new Ke({
                    el: this._ui.sound
                }), this._disc = new ct({
                    parent: this._ui.disc,
                    onClick: function () {}
                }), this._rect = this.el.getBoundingClientRect(), this._updateCSS(), this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onScroll.add(this._onScroll), Signals.onResize.add(this._onResize)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this.el.style.visibility = "visible", this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params.pager), gsap.to(this._params.pager, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i
                    }), this._sound.show({
                        delay: i
                    }), gsap.killTweensOf(this._params.description), gsap.to(this._params.description, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + .1,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    }), this._disc.show({
                        delay: i + .2
                    }), this._disc.activate()
                }
            }, {
                key: "hide",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    Je()(e), this.el.style.visibility = "hidden", gsap.killTweensOf(this._params.pager), gsap.killTweensOf(this._params.description), this._params.pager.opacity = 0, this._sound.hide(), this._params.description.opacity = 0, this._disc.hide(), this._updateCSS()
                }
            }, {
                key: "updateContent",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.description,
                        n = void 0 === t ? "" : t,
                        i = e.sounds,
                        r = void 0 === i ? [] : i,
                        o = e.text_color,
                        a = void 0 === o ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : o,
                        s = e.subtitle_color,
                        l = void 0 === s ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : s;
                    this._ui.description.innerHTML = n, this._disc.updateTitles(r), this._disc.updateColor({
                        color: a,
                        color2: l
                    }), this._ui.pager.style.color = "rgb(".concat(l.r, ", ").concat(l.g, ", ").concat(l.b, ")"), this._ui.sound.style.color = "rgb(".concat(l.r, ", ").concat(l.g, ", ").concat(l.b, ")")
                }
            }, {
                key: "resize",
                value: function () {}
            }, {
                key: "update",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.active;
                    this._params.showNeedsUpdate && this._updateCSS(), this._sound && this._sound.update(), this._disc && this._disc.update()
                }
            }, {
                key: "_checkScroll",
                value: function () {
                    this._rect.top < .75 * window.innerHeight && 0 !== this._rect.top && this.show()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this._ui.pager.style.opacity = this._params.pager.opacity, this._ui.description.style.opacity = this._params.description.opacity
                }
            }]), e
        }()) || ae),
        pt = n(152),
        ft = n.n(pt),
        mt = (n(259), Object(k.a)()(se = Object(k.e)()(se = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onClick", (function () {
                    window.open(n._link, "_blank")
                })), L()(this, "_onMouseenter", (function () {
                    n.activate()
                })), L()(this, "_onMouseleave", (function () {
                    n.deactivate()
                })), L()(this, "_onScroll", (function () {
                    n.visible() || (n._rect = n.el.getBoundingClientRect(), n._checkScroll())
                })), L()(this, "_onResize", (function () {
                    n.resize()
                })), this._parent = t.parent, this._checkingScroll = t.checkingScroll || !1, this.el = t.parent.appendChild(Object(R.a)(ft()())), this._ui = {
                    video: this.el.querySelector(".js-projectVideo__video"),
                    mask: this.el.querySelector(".js-projectVideo__mask"),
                    play: this.el.querySelector(".js-projectVideo__play"),
                    icon: this.el.querySelector(".js-projectVideo__icon"),
                    watch: this.el.querySelector(".js-projectVideo__watch"),
                    description: this.el.querySelector(".js-projectVideo__description")
                }, this._params = {
                    description: {
                        opacity: 0
                    },
                    watch: {
                        opacity: 0
                    },
                    mask: {
                        scale: 1
                    },
                    play: {
                        scale: 0
                    },
                    video: {
                        opacity: 1
                    },
                    icon: {
                        opacity: 0
                    },
                    showNeedsUpdate: !1,
                    activeNeedsUpdate: !1
                }, this._video = document.createElement("video"), this._video.loop = !0, this._video.muted = !0, this._video.setAttribute("playsinline", ""), this._ui.video.appendChild(this._video), this._link = "", this._updateCSS(), this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    this.el.addEventListener("click", this._onClick), this.el.addEventListener("mouseenter", this._onMouseenter), this.el.addEventListener("mouseleave", this._onMouseleave), this._checkingScroll && Signals.onScroll.add(this._onScroll), Signals.onResize.add(this._onResize)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params.mask), gsap.to(this._params.mask, {
                        duration: 2,
                        scale: 0,
                        ease: "Power4.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params.play), gsap.to(this._params.play, {
                        duration: 2,
                        scale: 1,
                        ease: "Power4.easeOut",
                        delay: i + .5
                    }), gsap.killTweensOf(this._params.description), gsap.to(this._params.description, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + 1.5
                    }), gsap.killTweensOf(this._params.icon), gsap.to(this._params.icon, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + 1.5,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    }), M.a.DESKTOP || this._video.play()
                }
            }, {
                key: "hide",
                value: function () {
                    gsap.killTweensOf(this._params.mask), gsap.killTweensOf(this._params.play), gsap.killTweensOf(this._params.description), gsap.killTweensOf(this._params.icon), this._params.mask.scale = 1, this._params.play.scale = 0, this._params.description.opacity = 0, this._params.icon.opacity = 0, this._updateCSS()
                }
            }, {
                key: "activate",
                value: function () {
                    var e = this;
                    this._video.play(), this._params.activeNeedsUpdate = !0, gsap.killTweensOf(this._params.watch), gsap.to(this._params.watch, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut"
                    }), gsap.killTweensOf(this._params.video), gsap.to(this._params.video, {
                        duration: 1,
                        opacity: .5,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.activeNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "deactivate",
                value: function () {
                    var e = this;
                    this._video.pause(), this._params.activeNeedsUpdate = !0, gsap.killTweensOf(this._params.watch), gsap.to(this._params.watch, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut"
                    }), gsap.killTweensOf(this._params.video), gsap.to(this._params.video, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.activeNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "updateContent",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.video,
                        n = void 0 === t ? {} : t,
                        i = e.background_color,
                        r = void 0 === i ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : i,
                        o = e.text_color,
                        a = void 0 === o ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : o;
                    e.subtitle_color;
                    this._video.src = n.url, this._ui.description.textContent = n.text, this._link = n.link, this._ui.mask.style.background = "rgb(".concat(r.r, ", ").concat(r.g, ", ").concat(r.b, ")"), this._ui.play.style.background = "rgb(".concat(r.r, ", ").concat(r.g, ", ").concat(r.b, ")"), this._ui.icon.style.fill = "rgb(".concat(a.r, ", ").concat(a.g, ", ").concat(a.b, ")")
                }
            }, {
                key: "resize",
                value: function () {}
            }, {
                key: "update",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.active;
                    (this._params.showNeedsUpdate || this._params.activeNeedsUpdate) && this._updateCSS()
                }
            }, {
                key: "_checkScroll",
                value: function () {
                    this._rect.top < .75 * window.innerHeight && 0 !== this._rect.top && this.show()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    Object(R.c)(this._ui.mask, "scale(".concat(this._params.mask.scale, ", 1)")), Object(R.c)(this._ui.play, "scale(".concat(this._params.play.scale, ", 1)")), this._ui.description.style.opacity = this._params.description.opacity, this._ui.icon.style.opacity = this._params.icon.opacity, this._ui.watch.style.opacity = this._params.watch.opacity, this._video.style.opacity = this._params.video.opacity
                }
            }]), e
        }()) || se) || se),
        vt = Object(k.e)()(le = function () {
            function e(t) {
                o()(this, e), this.el = t.el, this._wordOffset = t.wordOffset || 30, this._totalDuration = t.totalDuration || .25, this._duration = t.duration || 3, this._hideDuration = t.hideDuration || 3, this._showOffset = t.showOffset || .8, this._activeViewport = t.activeViewport || !1, this._delayOffset = t.delayOffset || .03, this._top = 0, this._hiding = !1, this.needsUpdate = !1, this._setup()
            }
            return s()(e, [{
                key: "_setup",
                value: function () {
                    Object(R.d)(this.el), this._ui = L()({
                        words: this.el.querySelectorAll(".js-textContainer__subWord")
                    }, "words", this.el.querySelectorAll(".js-textContainer__word"));
                    for (var e = 0; e < this._ui.words.length; e++) {
                        var t = this._ui.words[e];
                        t._y = this._wordOffset, t._opacity = 0, t._rotateX = -90, t.style.opacity = t._opacity, Object(R.c)(t, "translate3d(0,".concat(t._y, "px,0)"))
                    }
                }
            }, {
                key: "show",
                value: function () {
                    for (var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = t.delay, i = void 0 === n ? 0 : n, r = t.onStart, o = void 0 === r ? function () {} : r, a = t.onComplete, s = void 0 === a ? function () {} : a, l = 0; l < this._ui.words.length; l++) {
                        var c = this._ui.words[l],
                            u = l * this._delayOffset;
                        gsap.killTweensOf(c), gsap.fromTo(c, this._duration, {
                            _y: this._wordOffset
                        }, {
                            _y: 0,
                            ease: "Power4.easeOut",
                            delay: i + u
                        }), gsap.fromTo(c, 2 * this._duration, {
                            _opacity: 0
                        }, {
                            _opacity: 1,
                            ease: "Power2.easeOut",
                            delay: i + u,
                            onStart: function (t) {
                                0 === t && o(), e.needsUpdate || (e.needsUpdate = !0)
                            },
                            onComplete: function (t) {
                                t === e._ui.words.length - 1 && (e.needsUpdate = !1, s())
                            },
                            onStartParams: [l],
                            onCompleteParams: [l]
                        })
                    }
                }
            }, {
                key: "hide",
                value: function () {
                    for (var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = t.delay, i = void 0 === n ? 0 : n, r = t.onComplete, o = void 0 === r ? function () {} : r, a = 0; a < this._ui.words.length; a++) {
                        var s = this._ui.words[a],
                            l = a / this._ui.words.length * this._totalDuration;
                        gsap.killTweensOf(s), gsap.to(s, this._hideDuration, {
                            _opacity: 0,
                            ease: "Power2.easeInOut",
                            delay: i + l
                        }), gsap.to(s, this._hideDuration, {
                            _y: -this._wordOffset,
                            ease: "Power4.easeInOut",
                            delay: i + l,
                            onStart: function () {
                                e.needsUpdate || (e.needsUpdate = !0)
                            },
                            onComplete: function (t) {
                                t === e._ui.words.length - 1 && (e.needsUpdate = !1, o())
                            },
                            onCompleteParams: [a]
                        })
                    }
                }
            }, {
                key: "update",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.scrolling,
                        n = void 0 !== t && t;
                    this._activeViewport && this._checkViewport(n), this.needsUpdate && this._updateWords()
                }
            }, {
                key: "_checkViewport",
                value: function (e) {
                    !this.visible() && e && (this.el.getBoundingClientRect().top < .9 * window.innerHeight && this.show())
                }
            }, {
                key: "_updateWords",
                value: function () {
                    for (var e = 0; e < this._ui.words.length; e++) {
                        var t = this._ui.words[e];
                        t.style.opacity = t._opacity, 0 === t._y && 0 === t._rotateX ? Object(R.c)(t, "inherit") : Object(R.c)(t, "translate3d(0,".concat(.1 * t._y, "rem,0)"))
                    }
                }
            }]), e
        }()) || le,
        gt = n(153),
        yt = n.n(gt),
        _t = (n(260), Object(k.e)()(ce = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onScroll", (function () {
                    n._rect = n.el.getBoundingClientRect(), n.visible() || n._checkScroll()
                })), L()(this, "_onResize", (function () {
                    n.resize()
                })), this._parent = t.parent, this.el = t.parent.appendChild(Object(R.a)(yt()())), this._ui = {
                    one: this.el.querySelector(".js-projectSpeech__1"),
                    two: this.el.querySelector(".js-projectSpeech__2"),
                    three: this.el.querySelector(".js-projectSpeech__3"),
                    four: this.el.querySelector(".js-projectSpeech__4")
                }, this._params = {
                    two: {
                        opacity: 0
                    },
                    three: {
                        opacity: 0
                    },
                    showNeedsUpdate: !1
                }, this._updateCSS(), this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onScroll.add(this._onScroll), Signals.onResize.add(this._onResize)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._params.showNeedsUpdate = !0, this._wordParagraph.show({
                        delay: i
                    }), this._paragraph.show({
                        delay: i + .5
                    }), gsap.killTweensOf(this._params.two), gsap.to(this._params.two, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + 1
                    }), gsap.killTweensOf(this._params.three), gsap.to(this._params.three, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + 1.15,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    this._wordParagraph.hide(), this._paragraph.hide(), this._params.two.opacity = 0, this._params.three.opacity = 0, this._updateCSS()
                }
            }, {
                key: "updateContent",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.speech,
                        n = void 0 === t ? {} : t;
                    for (e.background_color, e.text_color, e.subtitle_color; this._ui.one.firstChild;) this._ui.one.removeChild(this._ui.one.lastChild);
                    for (; this._ui.four.firstChild;) this._ui.four.removeChild(this._ui.four.lastChild);
                    this._ui.one.textContent = n.first_speech, this._ui.two.textContent = n.second_speech, this._ui.three.textContent = n.third_speech, this._ui.four.textContent = n.fourth_speech, this._wordParagraph = new vt({
                        el: this._ui.one
                    }), this._paragraph = new Ke({
                        el: this._ui.four
                    })
                }
            }, {
                key: "resize",
                value: function () {}
            }, {
                key: "update",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.active;
                    this._paragraph && this._paragraph.update(), this._wordParagraph && this._wordParagraph.update(), this._params.showNeedsUpdate && this._updateCSS()
                }
            }, {
                key: "_checkScroll",
                value: function () {
                    this._rect.top < .75 * window.innerHeight && 0 !== this._rect.top && this.show()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this._ui.two.style.opacity = this._params.two.opacity, this._ui.three.style.opacity = this._params.three.opacity
                }
            }]), e
        }()) || ce),
        bt = n(154),
        wt = n.n(bt),
        xt = (n(261), Object(k.e)()(ue = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onScroll", (function () {
                    n._rect = n._parent.getBoundingClientRect(), n.visible() || n._checkScroll()
                })), L()(this, "_onResize", (function () {
                    n.resize()
                })), this._parent = t.parent, this.el = t.parent.appendChild(Object(R.a)(wt()())), this._ui = {
                    pager: this.el.querySelector(".js-projectFourthSection__pager"),
                    legacy: this.el.querySelector(".js-projectFourthSection__legacy"),
                    videos: this.el.querySelector(".js-projectFourthSection__videos"),
                    speeches: this.el.querySelector(".js-projectFourthSection__speeches"),
                    description: this.el.querySelector(".js-projectFourthSection__description")
                }, this._params = {
                    pager: {
                        opacity: 0
                    },
                    description: {
                        opacity: 0
                    },
                    subContainers: [],
                    bottomLines: [],
                    showNeedsUpdate: !1
                }, this._legacy = new Ke({
                    el: this._ui.legacy
                }), this._video1 = new mt({
                    parent: this._ui.videos,
                    checkingScroll: !0
                }), this._video2 = new mt({
                    parent: this._ui.videos,
                    checkingScroll: !0
                }), this._video3 = new mt({
                    parent: this._ui.videos,
                    checkingScroll: !0
                }), this._speech1 = new _t({
                    parent: this._ui.speeches
                }), this._speech2 = new _t({
                    parent: this._ui.speeches
                }), this._speech3 = new _t({
                    parent: this._ui.speeches
                }), this._rect = this.el.getBoundingClientRect(), this._updateCSS(), this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onScroll.add(this._onScroll), Signals.onResize.add(this._onResize)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this.el.style.visibility = "visible", this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params.pager), gsap.to(this._params.pager, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i
                    }), this._legacy.show({
                        delay: i
                    }), gsap.killTweensOf(this._params.description), gsap.to(this._params.description, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + .1,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay, e.destroy, e.onComplete;
                    this.el.style.visibility = "hidden", gsap.killTweensOf(this._params.pager), gsap.killTweensOf(this._params.description), this._params.pager.opacity = 0, this._params.description.opacity = 0, this._legacy.hide(), this._video1.hide(), this._video2.hide(), this._video3.hide(), this._speech1.hide(), this._speech2.hide(), this._speech3.hide(), this._updateCSS()
                }
            }, {
                key: "updateContent",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.description,
                        n = void 0 === t ? "" : t,
                        i = e.videos,
                        r = void 0 === i ? [] : i,
                        o = e.speeches,
                        a = void 0 === o ? [] : o,
                        s = e.background_color,
                        l = void 0 === s ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : s,
                        c = e.text_color,
                        u = void 0 === c ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : c,
                        h = e.subtitle_color,
                        d = void 0 === h ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : h;
                    this._ui.description.innerHTML = n, this._video1.updateContent({
                        video: r[0],
                        background_color: l,
                        text_color: u,
                        subtitle_color: d
                    }), this._video2.updateContent({
                        video: r[1],
                        background_color: l,
                        text_color: u,
                        subtitle_color: d
                    }), this._video3.updateContent({
                        video: r[2],
                        background_color: l,
                        text_color: u,
                        subtitle_color: d
                    }), this._speech1.updateContent({
                        speech: a[0],
                        background_color: l,
                        text_color: u,
                        subtitle_color: d
                    }), this._speech2.updateContent({
                        speech: a[1],
                        background_color: l,
                        text_color: u,
                        subtitle_color: d
                    }), this._speech3.updateContent({
                        speech: a[2],
                        background_color: l,
                        text_color: u,
                        subtitle_color: d
                    }), this._ui.pager.style.color = "rgb(".concat(d.r, ", ").concat(d.g, ", ").concat(d.b, ")"), this._ui.legacy.style.color = "rgb(".concat(d.r, ", ").concat(d.g, ", ").concat(d.b, ")")
                }
            }, {
                key: "resize",
                value: function () {}
            }, {
                key: "update",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.active;
                    this._params.showNeedsUpdate && this._updateCSS(), this._legacy && this._legacy.update(), this._video1.update(), this._video2.update(), this._video3.update(), this._speech1.update(), this._speech2.update(), this._speech3.update()
                }
            }, {
                key: "_checkScroll",
                value: function () {
                    this._rect.top < .75 * window.innerHeight && 0 !== this._rect.top && this.show()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this._ui.pager.style.opacity = this._params.pager.opacity, this._ui.description.style.opacity = this._params.description.opacity
                }
            }]), e
        }()) || ue),
        Tt = n(155),
        St = n.n(Tt),
        Mt = (n(262), Object(k.a)()(he = Object(k.e)()(he = Object(k.c)()((de = function () {
            function e(t) {
                o()(this, e), this.el = t.parent.appendChild(Object(R.a)(St()())), this._ui = {
                    text: this.el.querySelector(".js-projectHeadHover__text")
                }, this._params = {
                    x: 0,
                    xTg: 0,
                    y: 0,
                    yTg: 0,
                    scale: 0,
                    opacity: 0,
                    showNeedsUpdate: !1
                }, this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onWindowMousemove.add(this._onWindowMousemove)
                }
            }, {
                key: "removeEvents",
                value: function () {
                    Signals.onWindowMousemove.add(this._onWindowMousemove)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    t.line1, t.line2, t.line3, t.color;
                    this._params.showNeedsUpdate = !0, this.el.style.display = "block", gsap.killTweensOf(this._params, {
                        scale: !0
                    }), gsap.to(this._params, {
                        duration: 1,
                        scale: 1,
                        ease: "Power4.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power4.easeOut",
                        delay: i,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    }), this.addEvents()
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    t.destroy, t.onComplete;
                    this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0
                    }), gsap.to(this._params, {
                        duration: .6,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params, {
                        scale: !0
                    }), gsap.to(this._params, {
                        duration: .6,
                        scale: 0,
                        ease: "Power4.easeOut",
                        delay: i + .2,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1, e.el.style.display = "none"
                        }
                    }), this.removeEvents()
                }
            }, {
                key: "updateContent",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.text_color,
                        n = void 0 === t ? {
                            r: 0,
                            g: 0,
                            b: 0
                        } : t;
                    e.subtitle_color, e.background_color;
                    this.el.style.background = "rgba(".concat(n.r, ", ").concat(n.g, ", ").concat(n.b, ", 0.5)")
                }
            }, {
                key: "_onWindowMousemove",
                value: function (e) {
                    var t = this;
                    this._params.xTg = e.clientX, this._params.yTg = e.clientY, this._params.mouseNeedsUpdate = !0, clearTimeout(this._timeout), this._timeout = setTimeout((function () {
                        t._params.mouseNeedsUpdate = !1
                    }), 3e3)
                }
            }, {
                key: "update",
                value: function () {
                    (this._params.showNeedsUpdate || this._params.mouseNeedsUpdate) && this._updateCSS()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this._params.x += .2 * (this._params.xTg - this._params.x), this._params.y += .2 * (this._params.yTg - this._params.y);
                    var e = this._params.x,
                        t = this._params.y;
                    this._ui.text.style.opacity = this._params.opacity, Object(R.c)(this.el, "translate3d(calc(".concat(e, "px - 50%), calc(").concat(t, "px - 50%), 0) scale(").concat(this._params.scale, ")"))
                }
            }]), e
        }(), c()(de.prototype, "_onWindowMousemove", [u.a], Object.getOwnPropertyDescriptor(de.prototype, "_onWindowMousemove"), de.prototype), he = de)) || he) || he) || he),
        Et = n(156),
        At = n.n(Et),
        Pt = (n(263), Object(k.a)()(pe = Object(k.b)()(pe = Object(k.e)()((fe = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onChangeIndex", (function () {
                    n._resetContent({
                        delay: .9
                    })
                })), L()(this, "_onNextClick", (function () {
                    if (n._params.scrollTo.x = window.scrollX, n._params.scrollTo.y = window.scrollY, window.scrollY > 100) n.removeEvents(), n._params.scrollNeedsUpdate = !0, gsap.killTweensOf(n._params.scrollTo), gsap.to(n._params.scrollTo, {
                        duration: 2,
                        y: 0,
                        ease: "Power4.easeInOut",
                        onComplete: function () {
                            n.addEvents();
                            var e = Ee(window.global.index + 1, O.length);
                            window.global.goToIndex(e), setTimeout((function () {
                                M.a.router.navigateTo(h.d, {
                                    id: O[window.global.index].id
                                })
                            })), n._params.scrollNeedsUpdate = !1
                        }
                    });
                    else if (window.scrollY > 0) n.removeEvents(), n._params.scrollNeedsUpdate = !0, gsap.killTweensOf(n._params.scrollTo), gsap.to(n._params.scrollTo, {
                        duration: 1,
                        y: 0,
                        ease: "Power4.easeInOut",
                        onComplete: function () {
                            n.addEvents();
                            var e = Ee(window.global.index + 1, O.length);
                            window.global.goToIndex(e), setTimeout((function () {
                                M.a.router.navigateTo(h.d, {
                                    id: O[window.global.index].id
                                })
                            })), n._params.scrollNeedsUpdate = !1
                        }
                    });
                    else {
                        var e = Ee(window.global.index + 1, O.length);
                        window.global.goToIndex(e), setTimeout((function () {
                            M.a.router.navigateTo(h.d, {
                                id: O[window.global.index].id
                            })
                        }))
                    }
                })), this.el = t.parent.appendChild(Object(R.a)(At()())), this._ui = {
                    head: this.el.querySelector(".js-project__head"),
                    content: this.el.querySelector(".js-project__content"),
                    firstSection: this.el.querySelector(".js-project__firstSection"),
                    secondSection: this.el.querySelector(".js-project__secondSection"),
                    thirdSection: this.el.querySelector(".js-project__thirdSection"),
                    fourthSection: this.el.querySelector(".js-project__fourthSection"),
                    next: this.el.querySelector(".js-project__next"),
                    links: []
                }, this._projectHeads = [new Fe({
                    parent: this._ui.head
                })], M.a.MOBILE || (this._projectMentions = new Ve({
                    parent: this._ui.head
                })), M.a.DESKTOP && (this._linkHover = new Xe({
                    parent: this.el
                })), M.a.MOBILE || this._projectMentions.updateMentions({
                    mention1: O[window.global.index].mention1,
                    mention2: O[window.global.index].mention2,
                    color: O[window.global.index].subtitle_color
                }), M.a.DESKTOP && (this._projectHeadHover = new Mt({
                    parent: document.body
                })), this._projectFirstSection = new Qe({
                    parent: this._ui.firstSection
                }), this._projectFirstSection.updateContent({
                    date: O[window.global.index].date,
                    label: O[window.global.index].label,
                    producer: O[window.global.index].producer,
                    description: O[window.global.index].description,
                    text_color: O[window.global.index].text_color,
                    subtitle_color: O[window.global.index].subtitle_color
                }), this._projectSecondSection = new it({
                    parent: this._ui.secondSection
                }), this._projectSecondSection.updateContent({
                    band: O[window.global.index].band,
                    expression: O[window.global.index].expression,
                    text_color: O[window.global.index].text_color,
                    subtitle_color: O[window.global.index].subtitle_color
                }), this._projectThirdSection = new dt({
                    parent: this._ui.thirdSection
                }), this._projectThirdSection.updateContent({
                    description: O[window.global.index].description2,
                    sounds: O[window.global.index].sounds,
                    text_color: O[window.global.index].text_color,
                    subtitle_color: O[window.global.index].subtitle_color
                }), this._projectFourthSection = new xt({
                    parent: this._ui.fourthSection
                }), this._projectFourthSection.updateContent({
                    description: O[window.global.index].description3,
                    videos: O[window.global.index].videos,
                    speeches: O[window.global.index].speeches,
                    background_color: O[window.global.index].background_color,
                    text_color: O[window.global.index].text_color,
                    subtitle_color: O[window.global.index].subtitle_color
                }), this._params = {
                    scrollTo: {
                        x: window.scrollX,
                        y: window.scrollY
                    },
                    scrollNeedsUpdate: !1
                }, this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    this._ui.next.addEventListener("click", this._onNextClick), Signals.onResize.add(this._onResize), Signals.onChangeIndex.add(this._onChangeIndex)
                }
            }, {
                key: "removeEvents",
                value: function () {
                    this._ui.next.removeEventListener("click", this._onNextClick), Signals.onResize.remove(this._onResize), Signals.onChangeIndex.remove(this._onChangeIndex)
                }
            }, {
                key: "show",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this.el.style.display = "block", this._resetContent({
                        delay: 0
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this.el.style.display = "none"
                }
            }, {
                key: "enable",
                value: function () {
                    this.el.style.display = "block"
                }
            }, {
                key: "disable",
                value: function () {
                    this.el.style.display = "none"
                }
            }, {
                key: "activate",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this._ui.content.style.display = "block", this._ui.next.style.display = "block", this.el.style.minHeight = "250vh", M.a.MOBILE || this._projectMentions.show({
                        delay: 1.5
                    })
                }
            }, {
                key: "deactivate",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this._ui.content.style.display = "none", this._ui.next.style.display = "none", this.el.style.minHeight = "100vh", M.a.TABLET && this.el.style.removeProperty("min-height"), M.a.MOBILE || this._projectMentions.hide({
                        delay: 0
                    })
                }
            }, {
                key: "_resetContent",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    console.log("bleeeh"), this._ui.links = [];
                    for (var r = function (t) {
                            e._projectHeads[t].hide({
                                destroy: !0,
                                onComplete: function () {
                                    e._onProjectHeadHideComplete(t)
                                }
                            })
                        }, o = 0; o < this._projectHeads.length; o++) r(o);
                    var a = new Fe({
                        parent: this._ui.head,
                        onFocus: function () {
                            M.a.DESKTOP && e._projectHeadHover.show()
                        },
                        onBlur: function () {
                            M.a.DESKTOP && e._projectHeadHover.hide()
                        }
                    });
                    this._projectHeads.push(a), a.show({
                        line1: O[window.global.index].line1,
                        line2: O[window.global.index].line2,
                        line3: O[window.global.index].line3,
                        color: O[window.global.index].text_color,
                        delay: i
                    }), M.a.MOBILE || this._projectMentions.updateMentions({
                        mention1: O[window.global.index].mention1,
                        mention2: O[window.global.index].mention2,
                        color: O[window.global.index].text_color
                    }), this._projectFirstSection.hide(), this._projectFirstSection.updateContent({
                        date: O[window.global.index].date,
                        label: O[window.global.index].label,
                        producer: O[window.global.index].producer,
                        description: O[window.global.index].description,
                        text_color: O[window.global.index].text_color,
                        subtitle_color: O[window.global.index].subtitle_color
                    }), this._projectSecondSection.hide(), this._projectSecondSection.updateContent({
                        band: O[window.global.index].band,
                        expression: O[window.global.index].expression,
                        text_color: O[window.global.index].text_color,
                        subtitle_color: O[window.global.index].subtitle_color,
                        background_color: O[window.global.index].background_color
                    }), this._projectThirdSection.hide(), this._projectThirdSection.updateContent({
                        description: O[window.global.index].description2,
                        sounds: O[window.global.index].sounds,
                        text_color: O[window.global.index].text_color,
                        subtitle_color: O[window.global.index].subtitle_color
                    }), this._projectFourthSection.hide(), this._projectFourthSection.updateContent({
                        description: O[window.global.index].description3,
                        videos: O[window.global.index].videos,
                        speeches: O[window.global.index].speeches,
                        background_color: O[window.global.index].background_color,
                        text_color: O[window.global.index].text_color,
                        subtitle_color: O[window.global.index].subtitle_color
                    });
                    var s = O[window.global.index].text_color.r,
                        l = O[window.global.index].text_color.g,
                        c = O[window.global.index].text_color.b;
                    this.el.style.color = "rgb(".concat(s, ", ").concat(l, ", ").concat(c, ")"), M.a.DESKTOP && this._projectHeadHover.updateContent({
                        background_color: O[window.global.index].background_color,
                        text_color: O[window.global.index].text_color,
                        subtitle_color: O[window.global.index].subtitle_color
                    });
                    var u = (window.global.index + 1) % O.length,
                        h = O[u].text_color.r,
                        d = O[u].text_color.g,
                        p = O[u].text_color.b;
                    if (this.el.style.color = "rgb(".concat(s, ", ").concat(l, ", ").concat(c, ")"), this._ui.next.style.color = "rgb(".concat(h, ", ").concat(d, ", ").concat(p, ")"), this._ui.links = this.el.querySelectorAll("a"), M.a.DESKTOP) {
                        var f = function (t) {
                            var n = e._ui.links[t];
                            n.addEventListener("mouseenter", (function () {
                                e._linkHover.show({
                                    el: n,
                                    src: "images/hovers/".concat(n.getAttribute("data-id"), ".jpg")
                                })
                            })), n.addEventListener("mouseleave", (function () {
                                e._linkHover.hide()
                            }))
                        };
                        for (o = 0; o < this._ui.links.length; o++) f(o)
                    }
                }
            }, {
                key: "_onProjectHeadHideComplete",
                value: function (e) {
                    this._projectHeads.splice(e, 1)
                }
            }, {
                key: "_onResize",
                value: function (e, t) {}
            }, {
                key: "resize",
                value: function (e, t) {}
            }, {
                key: "update",
                value: function () {
                    if (window.global.page === h.b || window.global.page === h.d) {
                        M.a.MOBILE || this._projectMentions.update(), M.a.DESKTOP && this._linkHover.update(), M.a.DESKTOP && this._projectHeadHover.update(), this._projectFirstSection.update({
                            active: this.active
                        }), this._projectSecondSection.update({
                            active: this.active
                        }), this._projectThirdSection.update({
                            active: this.active
                        }), this._projectFourthSection.update({
                            active: this.active
                        });
                        for (var e = 0; e < this._projectHeads.length; e++) {
                            this._projectHeads[e].update()
                        }
                        this._params.scrollNeedsUpdate && this._updateScroll()
                    }
                }
            }, {
                key: "_updateScroll",
                value: function () {
                    window.scrollTo(this._params.scrollTo.x, this._params.scrollTo.y)
                }
            }]), e
        }(), c()(fe.prototype, "_onResize", [u.a], Object.getOwnPropertyDescriptor(fe.prototype, "_onResize"), fe.prototype), pe = fe)) || pe) || pe) || pe),
        Ct = n(157),
        Lt = n.n(Ct),
        Ot = (n(264), Object(k.e)()(me = function () {
            function e(t) {
                o()(this, e), this.el = t.parent.appendChild(Object(R.a)(Lt()())), this._ui = {
                    bg: this.el.querySelector(".js-sideDisc__bg"),
                    svg: this.el.querySelector(".js-sideDisc__svg")
                }, this._params = {
                    angle: 0,
                    angleTg: 0,
                    angleAdd: 0,
                    opacity: 0,
                    bg: {
                        scale: 0
                    },
                    showNeedsUpdate: !1
                }, this._updateCSS()
            }
            return s()(e, [{
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n,
                        r = t.onComplete,
                        o = void 0 === r ? function () {} : r;
                    this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params.bg), gsap.to(this._params.bg, L()({
                        duration: 2,
                        scale: 1,
                        delay: i,
                        ease: "Power4.easeOut"
                    }, "delay", i)), gsap.killTweensOf(this._params, {
                        opacity: !0,
                        angleAdd: !0
                    }), gsap.to(this._params, {
                        duration: 2,
                        opacity: .4,
                        angleAdd: 1,
                        delay: i + 1,
                        ease: "Power2.easeOut",
                        onStart: function () {},
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1, o()
                        }
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n,
                        r = t.onComplete,
                        o = void 0 === r ? function () {} : r;
                    this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params, {
                        opacity: !0,
                        angleAdd: !0
                    }), gsap.to(this._params, {
                        duration: 1,
                        opacity: 0,
                        angleAdd: 0,
                        delay: i,
                        ease: "Power2.easeOut"
                    }), gsap.killTweensOf(this._params.bg), gsap.to(this._params.bg, {
                        duration: 2,
                        scale: 0,
                        delay: i + .75,
                        ease: "Power4.easeOut",
                        onComplete: function () {
                            o(), e._params.showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "update",
                value: function () {
                    this._params.showNeedsUpdate && this._updateCSS(), this.visible() && this._updateRotation()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this._ui.svg.style.opacity = this._params.opacity, Object(R.c)(this._ui.bg, "scale(".concat(this._params.bg.scale, ", 1)"))
                }
            }, {
                key: "_updateRotation",
                value: function () {
                    this._params.angleTg += this._params.angleAdd, this._params.angle += .05 * (this._params.angleTg - this._params.angle);
                    var e = this._params.angle;
                    Object(R.c)(this._ui.svg, "translate3d(-50%, -50%, 0) rotate(".concat(e, "deg)"))
                }
            }]), e
        }()) || me),
        Rt = n(158),
        kt = n.n(Rt),
        It = (n(265), Object(k.e)()(ve = function () {
            function e(t) {
                o()(this, e), L()(this, "_onBirthOfTheCoolClick", (function () {
                    window.scrollTo(0, 0), window.global.goToIndex(0), M.a.router.navigateTo(h.d, {
                        id: "birth-of-the-cool"
                    })
                })), L()(this, "_onMilesAheadClick", (function () {
                    window.scrollTo(0, 0), window.global.goToIndex(1), M.a.router.navigateTo(h.d, {
                        id: "miles-tones"
                    })
                })), L()(this, "_onKindOfBlueClick", (function () {
                    window.scrollTo(0, 0), window.global.goToIndex(2), M.a.router.navigateTo(h.d, {
                        id: "kind-of-blue"
                    })
                })), L()(this, "_onInASilentWayClick", (function () {
                    window.scrollTo(0, 0), window.global.goToIndex(3), M.a.router.navigateTo(h.d, {
                        id: "in-a-silent-way"
                    })
                })), L()(this, "_onAboutClick", (function () {
                    M.a.router.navigateTo(h.a)
                })), this.el = t.parent.appendChild(Object(R.a)(kt()())), this._ui = {
                    birthOfTheCool: this.el.querySelector(".js-sideMenu__birthOfTheCool"),
                    milesAhead: this.el.querySelector(".js-sideMenu__milesAhead"),
                    kindOfBlue: this.el.querySelector(".js-sideMenu__kindOfBlue"),
                    inASilentWay: this.el.querySelector(".js-sideMenu__inASilentWay"),
                    aboutBtn: this.el.querySelector(".js-sideMenu__aboutBtn")
                }, this._birthOfTheCool = new Ke({
                    el: this._ui.birthOfTheCool
                }), this._milesAhead = new Ke({
                    el: this._ui.milesAhead
                }), this._kindOfBlue = new Ke({
                    el: this._ui.kindOfBlue
                }), this._inASilentWay = new Ke({
                    el: this._ui.inASilentWay
                }), this._aboutBtn = new Ke({
                    el: this._ui.aboutBtn
                }), this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    this._ui.birthOfTheCool.addEventListener("click", this._onBirthOfTheCoolClick), this._ui.milesAhead.addEventListener("click", this._onMilesAheadClick), this._ui.kindOfBlue.addEventListener("click", this._onKindOfBlueClick), this._ui.inASilentWay.addEventListener("click", this._onInASilentWayClick), this._ui.aboutBtn.addEventListener("click", this._onAboutClick)
                }
            }, {
                key: "show",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.delay,
                        n = void 0 === t ? 0 : t;
                    this.el.style.display = "block", this._birthOfTheCool.show({
                        delay: n
                    }), this._milesAhead.show({
                        delay: n
                    }), this._kindOfBlue.show({
                        delay: n
                    }), this._inASilentWay.show({
                        delay: n
                    }), this._aboutBtn.show({
                        delay: n + .15
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._birthOfTheCool.hide({
                        delay: i
                    }), this._milesAhead.hide({
                        delay: i
                    }), this._kindOfBlue.hide({
                        delay: i
                    }), this._inASilentWay.hide({
                        delay: i
                    }), this._aboutBtn.hide({
                        delay: i + .15,
                        onComplete: function () {
                            console.log("so coman"), e.el.style.display = "none"
                        }
                    })
                }
            }, {
                key: "update",
                value: function () {
                    this._birthOfTheCool.update(), this._milesAhead.update(), this._kindOfBlue.update(), this._inASilentWay.update(), this._aboutBtn.update()
                }
            }]), e
        }()) || ve),
        Dt = n(159),
        Bt = n.n(Dt),
        Nt = (n(266), Object(k.a)()(ge = Object(k.e)()(ge = function () {
            function e(t) {
                var n = this;
                o()(this, e), L()(this, "_onClick", (function () {
                    window.open(n._link, "_blank")
                })), L()(this, "_onMouseenter", (function () {
                    n.activate()
                })), L()(this, "_onMouseleave", (function () {
                    n.deactivate()
                })), L()(this, "_onScroll", (function () {
                    n.visible() || (n._rect = n.el.getBoundingClientRect(), n._checkScroll())
                })), L()(this, "_onResize", (function () {
                    n.resize()
                })), this._parent = t.parent, this._checkingScroll = t.checkingScroll || !1, this.el = t.parent.appendChild(Object(R.a)(Bt()())), this._ui = {
                    video: this.el.querySelector(".js-sideAboutVideo__video"),
                    mask: this.el.querySelector(".js-sideAboutVideo__mask"),
                    play: this.el.querySelector(".js-sideAboutVideo__play"),
                    icon: this.el.querySelector(".js-sideAboutVideo__icon"),
                    watch: this.el.querySelector(".js-sideAboutVideo__watch"),
                    description: this.el.querySelector(".js-sideAboutVideo__description")
                }, this._params = {
                    description: {
                        opacity: 0
                    },
                    watch: {
                        opacity: 0
                    },
                    mask: {
                        scale: 1
                    },
                    play: {
                        scale: 0
                    },
                    video: {
                        opacity: 1
                    },
                    icon: {
                        opacity: 0
                    },
                    showNeedsUpdate: !1,
                    activeNeedsUpdate: !1
                }, this._video = t.video, this._video.loop = !0, this._video.muted = !0, this._video.setAttribute("playsinline", ""), this._ui.video.appendChild(this._video), this._link = t.link, this._ui.description.textContent = t.text, this._updateCSS(), this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    this.el.addEventListener("click", this._onClick), this.el.addEventListener("mouseenter", this._onMouseenter), this.el.addEventListener("mouseleave", this._onMouseleave), this._checkingScroll && Signals.onScroll.add(this._onScroll), Signals.onResize.add(this._onResize)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params.mask), gsap.fromTo(this._params.mask, {
                        scale: 1
                    }, {
                        duration: 2,
                        scale: 0,
                        ease: "Power4.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params.play), gsap.fromTo(this._params.play, {
                        scale: 0
                    }, {
                        duration: 2,
                        scale: 1,
                        ease: "Power4.easeOut",
                        delay: i + .5
                    }), gsap.killTweensOf(this._params.description), gsap.fromTo(this._params.description, {
                        opacity: 0
                    }, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + 1.5
                    }), gsap.killTweensOf(this._params.icon), gsap.fromTo(this._params.icon, {
                        opacity: 0
                    }, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + 1.5,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    }), M.a.DESKTOP || this._video.play()
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    t.destroy, t.onComplete;
                    this._params.showNeedsUpdate = !0, gsap.killTweensOf(this._params.mask), gsap.to(this._params.mask, {
                        duration: 2,
                        scale: 1,
                        ease: "Power4.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params.play), gsap.to(this._params.play, {
                        duration: 2,
                        scale: 0,
                        ease: "Power4.easeOut",
                        delay: i + .1
                    }), gsap.killTweensOf(this._params.description), gsap.to(this._params.description, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i + .2
                    }), gsap.killTweensOf(this._params.icon), gsap.to(this._params.icon, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i + .3,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "activate",
                value: function () {
                    var e = this;
                    this._video.play(), this._params.activeNeedsUpdate = !0, gsap.killTweensOf(this._params.watch), gsap.to(this._params.watch, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut"
                    }), gsap.killTweensOf(this._params.video), gsap.to(this._params.video, {
                        duration: 1,
                        opacity: .5,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.activeNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "deactivate",
                value: function () {
                    var e = this;
                    this._video.pause(), this._params.activeNeedsUpdate = !0, gsap.killTweensOf(this._params.watch), gsap.to(this._params.watch, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut"
                    }), gsap.killTweensOf(this._params.video), gsap.to(this._params.video, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        onComplete: function () {
                            e._params.activeNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "resize",
                value: function () {}
            }, {
                key: "update",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.active;
                    (this._params.showNeedsUpdate || this._params.activeNeedsUpdate) && this._updateCSS()
                }
            }, {
                key: "_checkScroll",
                value: function () {
                    this._rect.top < .75 * window.innerHeight && 0 !== this._rect.top && this.show()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    Object(R.c)(this._ui.mask, "scale(".concat(this._params.mask.scale, ", 1)")), Object(R.c)(this._ui.play, "scale(".concat(this._params.play.scale, ", 1)")), this._ui.description.style.opacity = this._params.description.opacity, this._ui.icon.style.opacity = this._params.icon.opacity, this._ui.watch.style.opacity = this._params.watch.opacity, this._video.style.opacity = this._params.video.opacity
                }
            }]), e
        }()) || ge) || ge),
        Gt = n(160),
        jt = n.n(Gt),
        Ht = (n(267), Object(k.e)()((_e = function () {
            function e(t) {
                var n = this;
                if (o()(this, e), this.el = t.parent.appendChild(Object(R.a)(jt()())), this._ui = {
                        title: this.el.querySelector(".js-sideAbout__title"),
                        description1: this.el.querySelector(".js-sideAbout__description1"),
                        img1: this.el.querySelector(".js-sideAbout__img1"),
                        words: this.el.querySelector(".js-sideAbout__words"),
                        description2: this.el.querySelector(".js-sideAbout__description2"),
                        img2: this.el.querySelector(".js-sideAbout__img2"),
                        alt1: this.el.querySelector(".js-sideAbout__alt1"),
                        video1: this.el.querySelector(".js-sideAbout__firstVideo"),
                        description3: this.el.querySelector(".js-sideAbout__description3"),
                        video2: this.el.querySelector(".js-sideAbout__secondVideo"),
                        img3: this.el.querySelector(".js-sideAbout__img3"),
                        alt2: this.el.querySelector(".js-sideAbout__alt2"),
                        description4: this.el.querySelector(".js-sideAbout__description4"),
                        mediasTitle: this.el.querySelector(".js-sideAbout__mediasTitle"),
                        list: this.el.querySelector(".js-sideAbout__list"),
                        creditsTitle: this.el.querySelector(".js-sideAbout__creditsTitle"),
                        creditsContainer: this.el.querySelector(".js-sideAbout__creditsContainer"),
                        links: this.el.querySelectorAll("a")
                    }, this._title = new Ke({
                        el: this._ui.title,
                        checkingScroll: !0
                    }), this._img1 = new et({
                        el: this._ui.img1,
                        img: M.a.resources.getImage("about-1").media,
                        checkingScroll: !0
                    }), this._words = new Ke({
                        el: this._ui.words,
                        delayOffset: .04,
                        duration: .8,
                        checkingScroll: !0,
                        onStart: function () {
                            n._params.description2NeedsUpdate = !0, gsap.killTweensOf(n._params.description2), gsap.fromTo(n._params.description2, {
                                opacity: 0
                            }, {
                                delay: .8,
                                duration: 1,
                                opacity: 1,
                                ease: "Power2.easeOut",
                                onComplete: function () {
                                    n._params.description2NeedsUpdate = !1
                                }
                            })
                        }
                    }), this._img2 = new et({
                        el: this._ui.img2,
                        img: M.a.resources.getImage("about-2").media,
                        checkingScroll: !0,
                        onStart: function () {
                            n._params.description3NeedsUpdate = !0, gsap.killTweensOf(n._params.description3), gsap.fromTo(n._params.description3, {
                                opacity: 0
                            }, {
                                delay: .5,
                                duration: 1,
                                opacity: 1,
                                ease: "Power2.easeOut",
                                onComplete: function () {
                                    n._params.description3NeedsUpdate = !1
                                }
                            })
                        }
                    }), this._video1 = new Nt({
                        parent: this._ui.video1,
                        text: "Miles Davis performing «So What»",
                        video: M.a.resources.getVideo("about-video-1").media,
                        link: "https://www.youtube.com/watch?v=zqNTltOGh5c",
                        checkingScroll: !0
                    }), this._video2 = new Nt({
                        parent: this._ui.video2,
                        text: "Miles Davis Band performing «Call it Anything», Isle of Wight, 1970",
                        video: M.a.resources.getVideo("about-video-2").media,
                        link: "https://www.youtube.com/watch?v=hMYVvjoXf4o",
                        checkingScroll: !0
                    }), this._img3 = new et({
                        el: this._ui.img3,
                        img: M.a.resources.getImage("about-3").media,
                        checkingScroll: !0,
                        onStart: function () {
                            n._params.description4NeedsUpdate = !0, gsap.killTweensOf(n._params.description4), gsap.fromTo(n._params.description4, {
                                opacity: 0
                            }, {
                                delay: .5,
                                duration: 1,
                                opacity: 1,
                                ease: "Power2.easeOut",
                                onComplete: function () {
                                    n._params.description4NeedsUpdate = !1
                                }
                            })
                        }
                    }), this._mediasTitle = new Ke({
                        el: this._ui.mediasTitle,
                        delayOffset: .04,
                        duration: .8,
                        showOffset: .9,
                        checkingScroll: !0,
                        onStart: function () {
                            n._params.listNeedsUpdate = !0, gsap.killTweensOf(n._params.mediasList), gsap.fromTo(n._params.mediasList, {
                                opacity: 0
                            }, {
                                delay: .5,
                                duration: 1,
                                opacity: 1,
                                ease: "Power2.easeOut",
                                onComplete: function () {
                                    n._params.listNeedsUpdate = !1
                                }
                            })
                        }
                    }), this._creditsTitle = new Ke({
                        el: this._ui.creditsTitle,
                        checkingScroll: !0,
                        showOffset: .9,
                        onStart: function () {
                            n._params.creditsNeedsUpdate = !0, gsap.killTweensOf(n._params.creditsContainer), gsap.fromTo(n._params.creditsContainer, {
                                opacity: 0
                            }, {
                                delay: .5,
                                duration: 1,
                                opacity: 1,
                                ease: "Power2.easeOut",
                                onComplete: function () {
                                    n._params.creditsNeedsUpdate = !1
                                }
                            })
                        }
                    }), M.a.DESKTOP) {
                    this._linkHover = new Xe({
                        parent: this.el
                    });
                    for (var i = function (e) {
                            var t = n._ui.links[e];
                            t.addEventListener("mouseenter", (function () {
                                n._linkHover.show({
                                    el: t,
                                    src: "images/hovers/".concat(t.getAttribute("data-id"), ".jpg")
                                })
                            })), t.addEventListener("mouseleave", (function () {
                                n._linkHover.hide()
                            }))
                        }, r = 0; r < this._ui.links.length; r++) i(r)
                }
                this._params = {
                    description1: {
                        opacity: 0
                    },
                    description2: {
                        opacity: 0
                    },
                    description3: {
                        opacity: 0
                    },
                    description4: {
                        opacity: 0
                    },
                    alt1: {
                        opacity: 0
                    },
                    alt2: {
                        opacity: 0
                    },
                    mediasList: {
                        opacity: 0
                    },
                    creditsContainer: {
                        opacity: 0
                    },
                    showNeedsUpdate: !1,
                    description2NeedsUpdate: !1,
                    description3NeedsUpdate: !1,
                    description4NeedsUpdate: !1,
                    listNeedsUpdate: !1,
                    creditsNeedsUpdate: !1
                }, this.addEvents(), this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onResize.add(this._onResize)
                }
            }, {
                key: "show",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    console.log(i), this.el.style.display = "block", this._params.showNeedsUpdate = !0, this._title.show({
                        delay: i
                    }), gsap.killTweensOf(this._params.description1), gsap.to(this._params.description1, {
                        duration: 1,
                        opacity: 1,
                        ease: "Power2.easeOut",
                        delay: i + .25,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1
                        }
                    }), window.scrollTo(0, 0)
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._params.showNeedsUpdate = !0, this._title.hide({
                        delay: i
                    }), this._img1.hide({
                        delay: i
                    }), this._words.hide({
                        delay: i
                    }), this._img2.hide({
                        delay: i
                    }), this._video1.hide({
                        delay: i
                    }), this._video2.hide({
                        delay: i
                    }), this._img3.hide({
                        delay: i
                    }), this._mediasTitle.hide({
                        delay: i
                    }), this._creditsTitle.hide({
                        delay: i
                    }), gsap.killTweensOf(this._params.description1), gsap.to(this._params.description1, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params.description2), gsap.to(this._params.description2, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params.description3), gsap.to(this._params.description3, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params.description4), gsap.to(this._params.description4, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params.mediasList), gsap.to(this._params.mediasList, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i
                    }), gsap.killTweensOf(this._params.creditsContainer), gsap.to(this._params.creditsContainer, {
                        duration: 1,
                        opacity: 0,
                        ease: "Power2.easeOut",
                        delay: i,
                        onComplete: function () {
                            e._params.showNeedsUpdate = !1, e.el.style.display = "none"
                        }
                    })
                }
            }, {
                key: "_onResize",
                value: function () {
                    this.resize()
                }
            }, {
                key: "resize",
                value: function () {
                    var e = window.innerWidth / 1950 * 10.4;
                    this._ui.title.style.fontSize = "".concat(e, "rem")
                }
            }, {
                key: "update",
                value: function () {
                    this._title.update(), this._img1.update(), this._words.update(), this._img2.update(), this._video1.update(), this._video2.update(), this._img3.update(), this._mediasTitle.update(), this._creditsTitle.update(), M.a.DESKTOP && this._linkHover.update(), (this._params.showNeedsUpdate || this._params.description2NeedsUpdate || this._params.description3NeedsUpdate || this._params.description4NeedsUpdate || this._params.listNeedsUpdate || this._params.creditsNeedsUpdate) && this._updateCSS()
                }
            }, {
                key: "_updateCSS",
                value: function () {
                    this._ui.description1.style.opacity = this._params.description1.opacity, this._ui.description2.style.opacity = this._params.description2.opacity, this._ui.description3.style.opacity = this._params.description3.opacity, this._ui.description4.style.opacity = this._params.description4.opacity, this._ui.list.style.opacity = this._params.mediasList.opacity, this._ui.creditsContainer.style.opacity = this._params.creditsContainer.opacity
                }
            }]), e
        }(), c()(_e.prototype, "_onResize", [u.a], Object.getOwnPropertyDescriptor(_e.prototype, "_onResize"), _e.prototype), ye = _e)) || ye),
        Ft = n(161),
        Ut = n.n(Ft),
        zt = (n(268), Object(k.e)()((we = function () {
            function e(t) {
                o()(this, e), this.el = t.parent.appendChild(Object(R.a)(Ut()())), this._ui = {
                    disc: this.el.querySelector(".js-sideContent__disc"),
                    menu: this.el.querySelector(".js-sideContent__menu"),
                    about: this.el.querySelector(".js-sideContent__about")
                }, this._sideDisc = new Ot({
                    parent: this._ui.disc
                }), this._sideMenu = new It({
                    parent: this._ui.menu
                }), this._sideAbout = new Ht({
                    parent: this._ui.about
                }), this._params = {
                    menu: {
                        opacity: 0
                    },
                    pager: {
                        opacity: 0
                    },
                    showNeedsUpdate: !1,
                    activeNeedsUpdate: !1
                }, this.addEvents(), this._updateCSS()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onResize.add(this._onResize)
                }
            }, {
                key: "show",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.delay,
                        n = void 0 === t ? 0 : t,
                        i = e.onComplete,
                        r = void 0 === i ? function () {} : i;
                    this.el.style.display = "block", this._sideDisc.show({
                        delay: n,
                        onComplete: r
                    })
                }
            }, {
                key: "hide",
                value: function () {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.delay,
                        i = void 0 === n ? 0 : n;
                    this._sideDisc.hide({
                        delay: i,
                        onComplete: function () {
                            e.el.style.display = "none"
                        }
                    }), this._sideMenu.hide({
                        delay: i
                    }), this._sideAbout.hide({
                        delay: i
                    })
                }
            }, {
                key: "activate",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this._params.activeNeedsUpdate = !0
                }
            }, {
                key: "deactivate",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this._params.activeNeedsUpdate = !0
                }
            }, {
                key: "updatePage",
                value: function (e) {
                    switch (e) {
                        case h.c:
                            this._sideMenu.show({
                                delay: .75
                            }), this._sideAbout.hide();
                            break;
                        case h.a:
                            this._sideMenu.hide(), this._sideAbout.show({
                                delay: .75
                            })
                    }
                }
            }, {
                key: "_onResize",
                value: function (e, t) {}
            }, {
                key: "resize",
                value: function (e, t) {}
            }, {
                key: "update",
                value: function () {
                    this._sideDisc.update(), this._sideMenu.update(), this._sideAbout.update(), this._params.showNeedsUpdate && this._updateCSS()
                }
            }, {
                key: "_updateCSS",
                value: function () {}
            }]), e
        }(), c()(we.prototype, "_onResize", [u.a], Object.getOwnPropertyDescriptor(we.prototype, "_onResize"), we.prototype), be = we)) || be),
        Vt = n(162),
        Wt = n.n(Vt),
        qt = (n(269), Object(k.e)()((Te = function () {
            function e(t) {
                o()(this, e), this.el = t.parent.appendChild(Object(R.a)(Wt()())), this._ui = {}, this.addEvents()
            }
            return s()(e, [{
                key: "addEvents",
                value: function () {
                    Signals.onResize.add(this._onResize)
                }
            }, {
                key: "show",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this.el.style.display = "block"
                }
            }, {
                key: "hide",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.delay;
                    this.el.style.display = "none"
                }
            }, {
                key: "_onResize",
                value: function (e, t) {
                    window.innerWidth > window.innerHeight ? this.show() : this.hide()
                }
            }, {
                key: "resize",
                value: function (e, t) {}
            }]), e
        }(), c()(Te.prototype, "_onResize", [u.a], Object.getOwnPropertyDescriptor(Te.prototype, "_onResize"), Te.prototype), xe = Te)) || xe),
        Xt = (Se = function () {
            function e() {
                var t = this;
                o()(this, e), L()(this, "_onStartApplication", (function () {
                    t._updateBackgroundColorFromIndex(), AudioController.playSound(O[window.global.index].sounds[0].id, {
                        loop: !0
                    }), t._project.show({
                        delay: 0
                    }), t._shell.show()
                })), L()(this, "_onChangeIndex", (function () {
                    t._updateBackgroundColorFromIndex({
                        delay: 1
                    })
                })), console.info("desktop application initializing"), this.el = document.getElementById("application"), this._setupDOMClasses(), this._params = {
                    bg: {
                        r: 255,
                        g: 255,
                        b: 255
                    },
                    backgroundNeedsUpdate: !1
                }, window.global = {
                    index: 0,
                    transitionDelay: 3,
                    enableTransition: !0,
                    introPassed: !1,
                    currentId: !1,
                    sound: !0,
                    page: null,
                    goToIndex: function (e) {
                        e !== window.global.index && (window.global.index = e, Signals.onChangeIndex.dispatch(e), window.global.enableTransition = !1, AudioController.stopAll(), AudioController.removeEventListener("crackling"), AudioController.playSound("crackling", {
                            volume: .5,
                            onEnded: function () {
                                AudioController.playSound(O[window.global.index].sounds[0].id, {
                                    loop: !0
                                })
                            }
                        }), clearTimeout(t._timeout), t._timeout = setTimeout((function () {
                            window.global.enableTransition = !0
                        }), 1e3 * window.global.transitionDelay))
                    },
                    setOverflow: function (e) {
                        "hidden" === e && M.a.TABLET ? document.body.style.position = "fixed" : M.a.MOBILE ? document.body.style.position = "relative" : document.body.style.position = "inherit", document.documentElement.style.overflow = e, document.body.style.overflow = e
                    }
                }, this._views = [], this._shell = this._setupShell(), this._home = this._setupHome(), this._project = this._setupProject(), this._sideContent = this._setupSideContent(), M.a.MOBILE && (this._layer = new qt({
                    parent: this.el
                })), this._views.push(this._home), this.addEvents()
            }
            return s()(e, [{
                key: "_setupDOMClasses",
                value: function () {
                    M.a.MOBILE ? document.documentElement.classList.add("mobile") : M.a.TABLET ? document.documentElement.classList.add("tablet") : M.a.DESKTOP && document.documentElement.classList.add("desktop"), M.a.IOS && document.documentElement.classList.add("ios"), M.a.ANDROID && document.documentElement.classList.add("android"), M.a.IS_IE && document.documentElement.classList.add("ie"), M.a.IS_SAFARI && document.documentElement.classList.add("safari"), M.a.IS_CHROME && document.documentElement.classList.add("chrome"), M.a.IS_FF && document.documentElement.classList.add("firefox")
                }
            }, {
                key: "_setupHome",
                value: function () {
                    return new Ce({
                        parent: this.el
                    })
                }
            }, {
                key: "_setupShell",
                value: function () {
                    return new Ge({
                        parent: this.el
                    })
                }
            }, {
                key: "_setupProject",
                value: function () {
                    return new Pt({
                        parent: this.el
                    })
                }
            }, {
                key: "_setupSideContent",
                value: function () {
                    return new zt({
                        parent: this.el
                    })
                }
            }, {
                key: "addEvents",
                value: function () {
                    window.addEventListener("resize", this._onResize), M.a.DESKTOP ? (M.a.IS_FF ? window.addEventListener("wheel", this._onScrollWheel) : (window.addEventListener("mousewheel", this._onScrollWheel), window.addEventListener("DOMMouseScroll", this._onScrollWheel)), window.addEventListener("mousemove", this._onWindowMousemove), window.addEventListener("mousedown", this._onWindowMousedown), window.addEventListener("mouseup", this._onWindowMouseup), window.addEventListener("touchstart", this._onWindowTouchstart), window.addEventListener("touchmove", this._onWindowTouchmove), window.addEventListener("touchend", this._onWindowTouchend)) : (window.addEventListener("touchstart", this._onWindowTouchstart), window.addEventListener("touchmove", this._onWindowTouchmove), window.addEventListener("touchend", this._onWindowTouchend)), window.addEventListener("scroll", this._onScroll), Signals.onStartApplication.add(this._onStartApplication), Signals.onChangeIndex.add(this._onChangeIndex), this._onResize()
                }
            }, {
                key: "_updateBackgroundColorFromIndex",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = e.index,
                        n = void 0 === t ? window.global.index : t,
                        i = e.duration,
                        r = void 0 === i ? 1 : i,
                        o = e.delay,
                        a = void 0 === o ? 0 : o,
                        s = O[n].background_color.r,
                        l = O[n].background_color.g,
                        c = O[n].background_color.b;
                    this._updateBackgroundColor({
                        duration: r,
                        delay: a,
                        color: {
                            r: s,
                            g: l,
                            b: c
                        }
                    })
                }
            }, {
                key: "_updateBackgroundColor",
                value: function (e) {
                    var t = this;
                    this._params.backgroundNeedsUpdate = !0;
                    var n = e.duration,
                        i = e.delay,
                        r = e.color.r,
                        o = e.color.g,
                        a = e.color.b;
                    gsap.killTweensOf(this._params.bg), gsap.to(this._params.bg, {
                        duration: n,
                        delay: i,
                        ease: "Power2.easeOut",
                        r: r,
                        g: o,
                        b: a,
                        onComplete: function () {
                            t._params.backgroundNeedsUpdate = !1
                        }
                    })
                }
            }, {
                key: "start",
                value: function () {}
            }, {
                key: "updatePage",
                value: function (e) {
                    switch (e) {
                        case h.b:
                            window.global.sound && (AudioController.volume = .5), window.scrollTo(0, 0), window.global.setOverflow("hidden"), this._shell.activate(), this._home.show(), this._project.deactivate(), this._project.enable(), this._sideContent.hide();
                            break;
                        case h.d:
                            window.global.sound && (AudioController.volume = .5);
                            for (var t = 0; t < O.length; t++) {
                                var n = O[t];
                                M.a.router.getLastRouteResolved().params.id === n.id && window.global.goToIndex(t)
                            }
                            window.global.setOverflow("visible"), window.global.introPassed = !0, O[window.global.index].sounds[0].id !== window.global.currentId && (AudioController.stopAll(), AudioController.playSound(O[window.global.index].sounds[0].id, {
                                delay: .75,
                                loop: !0
                            }), window.global.currentId = O[window.global.index].sounds[0].id), this._shell.show(), this._shell.deactivate(), this._home.hide(), this._project.show(), this._project.activate(), this._project.enable(), this._sideContent.hide(), this._updateBackgroundColorFromIndex();
                            break;
                        case h.c:
                            window.global.sound && (AudioController.volume = .1), window.global.setOverflow("hidden"), window.global.introPassed = !0, this._sideContent.show(), this._project.disable(), this._project.deactivate(), this._shell.show(), this._shell.deactivate(), this._updateBackgroundColorFromIndex();
                            break;
                        case h.a:
                            window.global.sound && (AudioController.volume = .1), window.global.setOverflow("visible"), window.global.introPassed = !0, this._sideContent.show(), this._project.disable(), this._project.deactivate(), this._shell.show(), this._shell.deactivate(), this._updateBackgroundColorFromIndex()
                    }
                    this._home.updatePage(e), this._shell.updatePage(e), this._sideContent.updatePage(e), window.global.page = e
                }
            }, {
                key: "_onResize",
                value: function () {
                    if (!M.a.MOBILE) {
                        var e = window.innerWidth,
                            t = 62.5;
                        e > 1600 && (t = 62.5 + .0175 * (e - 1600)), document.documentElement.style.fontSize = "".concat(t, "%")
                    }
                    Signals.onResize.dispatch(window.innerWidth, window.innerHeight)
                }
            }, {
                key: "_onScroll",
                value: function (e) {
                    Signals.onScroll.dispatch(e)
                }
            }, {
                key: "_onScrollWheel",
                value: function (e) {
                    Signals.onScrollWheel.dispatch(e)
                }
            }, {
                key: "_onWindowMousemove",
                value: function (e) {
                    Signals.onWindowMousemove.dispatch(e)
                }
            }, {
                key: "_onWindowMousedown",
                value: function (e) {
                    Signals.onWindowMousedown.dispatch(e)
                }
            }, {
                key: "_onWindowMouseup",
                value: function (e) {
                    Signals.onWindowMouseup.dispatch(e)
                }
            }, {
                key: "_onWindowTouchstart",
                value: function (e) {
                    Signals.onWindowTouchstart.dispatch(e)
                }
            }, {
                key: "_onWindowTouchmove",
                value: function (e) {
                    Signals.onWindowTouchmove.dispatch(e)
                }
            }, {
                key: "_onWindowTouchend",
                value: function (e) {
                    Signals.onWindowTouchend.dispatch(e)
                }
            }, {
                key: "update",
                value: function () {
                    this._home.update(), this._shell.update(), this._project.update(), this._sideContent.update(), this._params.backgroundNeedsUpdate && this._updateBackground()
                }
            }, {
                key: "_updateBackground",
                value: function () {
                    var e = this._params.bg.r,
                        t = this._params.bg.g,
                        n = this._params.bg.b;
                    document.documentElement.style.backgroundColor = "rgba(".concat(e, ", ").concat(t, ", ").concat(n, ", 1)")
                }
            }]), e
        }(), c()(Se.prototype, "_onResize", [u.a], Object.getOwnPropertyDescriptor(Se.prototype, "_onResize"), Se.prototype), c()(Se.prototype, "_onScroll", [u.a], Object.getOwnPropertyDescriptor(Se.prototype, "_onScroll"), Se.prototype), c()(Se.prototype, "_onScrollWheel", [u.a], Object.getOwnPropertyDescriptor(Se.prototype, "_onScrollWheel"), Se.prototype), c()(Se.prototype, "_onWindowMousemove", [u.a], Object.getOwnPropertyDescriptor(Se.prototype, "_onWindowMousemove"), Se.prototype), c()(Se.prototype, "_onWindowMousedown", [u.a], Object.getOwnPropertyDescriptor(Se.prototype, "_onWindowMousedown"), Se.prototype), c()(Se.prototype, "_onWindowMouseup", [u.a], Object.getOwnPropertyDescriptor(Se.prototype, "_onWindowMouseup"), Se.prototype), c()(Se.prototype, "_onWindowTouchstart", [u.a], Object.getOwnPropertyDescriptor(Se.prototype, "_onWindowTouchstart"), Se.prototype), c()(Se.prototype, "_onWindowTouchmove", [u.a], Object.getOwnPropertyDescriptor(Se.prototype, "_onWindowTouchmove"), Se.prototype), c()(Se.prototype, "_onWindowTouchend", [u.a], Object.getOwnPropertyDescriptor(Se.prototype, "_onWindowTouchend"), Se.prototype), Se),
        Yt = n(163),
        Jt = n.n(Yt),
        Kt = (n(108), Me = function () {
            function e() {
                o()(this, e), S.volume = .2, window.gsap = f.a, this._loader = this._setupLoader(), E.a.onAssetsLoaded.add(this.onAssetsLoaded)
            }
            return s()(e, [{
                key: "_setupLoader",
                value: function () {
                    var e = this;
                    return new P.a({
                        parent: document.body,
                        onHide: function () {
                            e._onLoadApplication()
                        }
                    })
                }
            }, {
                key: "_start",
                value: function () {
                    this._application = new Xt, this.update()
                }
            }, {
                key: "_onLoadApplication",
                value: function () {
                    M.a.router = new A.a({
                        updatePageCallback: this.updatePage
                    }), M.a.router.navigateTo(h.b), M.a.router.navigo.resolve(), this._application.start()
                }
            }, {
                key: "onAssetsLoaded",
                value: function () {
                    this._start()
                }
            }, {
                key: "updatePage",
                value: function (e, t) {
                    this._application && this._application.updatePage(e, t)
                }
            }, {
                key: "update",
                value: function () {
                    this._loader.update(), this._application && this._application.update(), Jt()(this.update)
                }
            }]), e
        }(), c()(Me.prototype, "onAssetsLoaded", [u.a], Object.getOwnPropertyDescriptor(Me.prototype, "onAssetsLoaded"), Me.prototype), c()(Me.prototype, "updatePage", [u.a], Object.getOwnPropertyDescriptor(Me.prototype, "updatePage"), Me.prototype), c()(Me.prototype, "update", [u.a], Object.getOwnPropertyDescriptor(Me.prototype, "update"), Me.prototype), Me);
    p()((function () {
        new Kt
    }))
}]);